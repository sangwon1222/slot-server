var ZE=Object.defineProperty;var QE=(t,e,r)=>e in t?ZE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var pe=(t,e,r)=>(QE(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();function Gd(t,e){const r=Object.create(null),i=t.split(",");for(let n=0;n<i.length;n++)r[i[n]]=!0;return e?n=>!!r[n.toLowerCase()]:n=>!!r[n]}const Ve={},Ps=[],Mr=()=>{},JE=()=>!1,Ac=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),$d=t=>t.startsWith("onUpdate:"),St=Object.assign,Wd=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},eT=Object.prototype.hasOwnProperty,Fe=(t,e)=>eT.call(t,e),ve=Array.isArray,Ds=t=>wc(t)==="[object Map]",L_=t=>wc(t)==="[object Set]",Ae=t=>typeof t=="function",lt=t=>typeof t=="string",uo=t=>typeof t=="symbol",Ye=t=>t!==null&&typeof t=="object",U_=t=>(Ye(t)||Ae(t))&&Ae(t.then)&&Ae(t.catch),z_=Object.prototype.toString,wc=t=>z_.call(t),tT=t=>wc(t).slice(8,-1),H_=t=>wc(t)==="[object Object]",jd=t=>lt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,vl=Gd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Sc=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},rT=/-(\w)/g,ii=Sc(t=>t.replace(rT,(e,r)=>r?r.toUpperCase():"")),iT=/\B([A-Z])/g,rs=Sc(t=>t.replace(iT,"-$1").toLowerCase()),Cc=Sc(t=>t.charAt(0).toUpperCase()+t.slice(1)),dh=Sc(t=>t?`on${Cc(t)}`:""),qn=(t,e)=>!Object.is(t,e),bl=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Wl=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},of=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let bp;const af=()=>bp||(bp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xd(t){if(ve(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],n=lt(i)?aT(i):Xd(i);if(n)for(const s in n)e[s]=n[s]}return e}else if(lt(t)||Ye(t))return t}const nT=/;(?![^(]*\))/g,sT=/:([^]+)/,oT=/\/\*[^]*?\*\//g;function aT(t){const e={};return t.replace(oT,"").split(nT).forEach(r=>{if(r){const i=r.split(sT);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Ws(t){let e="";if(lt(t))e=t;else if(ve(t))for(let r=0;r<t.length;r++){const i=Ws(t[r]);i&&(e+=i+" ")}else if(Ye(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const lT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cT=Gd(lT);function G_(t){return!!t||t===""}const hT=t=>lt(t)?t:t==null?"":ve(t)||Ye(t)&&(t.toString===z_||!Ae(t.toString))?JSON.stringify(t,$_,2):String(t),$_=(t,e)=>e&&e.__v_isRef?$_(t,e.value):Ds(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,n],s)=>(r[ph(i,s)+" =>"]=n,r),{})}:L_(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>ph(r))}:uo(e)?ph(e):Ye(e)&&!ve(e)&&!H_(e)?String(e):e,ph=(t,e="")=>{var r;return uo(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};let wr;class uT{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=wr,!e&&wr&&(this.index=(wr.scopes||(wr.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=wr;try{return wr=this,e()}finally{wr=r}}}on(){wr=this}off(){wr=this.parent}stop(e){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function fT(t,e=wr){e&&e.active&&e.effects.push(t)}function dT(){return wr}const Vd=t=>{const e=new Set(t);return e.w=0,e.n=0,e},W_=t=>(t.w&rn)>0,j_=t=>(t.n&rn)>0,pT=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=rn},mT=t=>{const{deps:e}=t;if(e.length){let r=0;for(let i=0;i<e.length;i++){const n=e[i];W_(n)&&!j_(n)?n.delete(t):e[r++]=n,n.w&=~rn,n.n&=~rn}e.length=r}},lf=new WeakMap;let Oo=0,rn=1;const cf=30;let Pr;const Un=Symbol(""),hf=Symbol("");class qd{constructor(e,r=null,i){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,fT(this,i)}run(){if(!this.active)return this.fn();let e=Pr,r=Ki;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Pr,Pr=this,Ki=!0,rn=1<<++Oo,Oo<=cf?pT(this):Ep(this),this.fn()}finally{Oo<=cf&&mT(this),rn=1<<--Oo,Pr=this.parent,Ki=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Pr===this?this.deferStop=!0:this.active&&(Ep(this),this.onStop&&this.onStop(),this.active=!1)}}function Ep(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let Ki=!0;const X_=[];function fo(){X_.push(Ki),Ki=!1}function po(){const t=X_.pop();Ki=t===void 0?!0:t}function Yt(t,e,r){if(Ki&&Pr){let i=lf.get(t);i||lf.set(t,i=new Map);let n=i.get(r);n||i.set(r,n=Vd()),V_(n)}}function V_(t,e){let r=!1;Oo<=cf?j_(t)||(t.n|=rn,r=!W_(t)):r=!t.has(Pr),r&&(t.add(Pr),Pr.deps.push(t))}function Ei(t,e,r,i,n,s){const o=lf.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(r==="length"&&ve(t)){const l=Number(i);o.forEach((c,h)=>{(h==="length"||!uo(h)&&h>=l)&&a.push(c)})}else switch(r!==void 0&&a.push(o.get(r)),e){case"add":ve(t)?jd(r)&&a.push(o.get("length")):(a.push(o.get(Un)),Ds(t)&&a.push(o.get(hf)));break;case"delete":ve(t)||(a.push(o.get(Un)),Ds(t)&&a.push(o.get(hf)));break;case"set":Ds(t)&&a.push(o.get(Un));break}if(a.length===1)a[0]&&uf(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);uf(Vd(l))}}function uf(t,e){const r=ve(t)?t:[...t];for(const i of r)i.computed&&Tp(i);for(const i of r)i.computed||Tp(i)}function Tp(t,e){(t!==Pr||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const xT=Gd("__proto__,__v_isRef,__isVue"),q_=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(uo)),Ap=gT();function gT(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const i=we(this);for(let s=0,o=this.length;s<o;s++)Yt(i,"get",s+"");const n=i[e](...r);return n===-1||n===!1?i[e](...r.map(we)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){fo();const i=we(this)[e].apply(this,r);return po(),i}}),t}function _T(t){const e=we(this);return Yt(e,"has",t),e.hasOwnProperty(t)}class Y_{constructor(e=!1,r=!1){this._isReadonly=e,this._shallow=r}get(e,r,i){const n=this._isReadonly,s=this._shallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return s;if(r==="__v_raw")return i===(n?s?DT:J_:s?Q_:Z_).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=ve(e);if(!n){if(o&&Fe(Ap,r))return Reflect.get(Ap,r,i);if(r==="hasOwnProperty")return _T}const a=Reflect.get(e,r,i);return(uo(r)?q_.has(r):xT(r))||(n||Yt(e,"get",r),s)?a:Dt(a)?o&&jd(r)?a:a.value:Ye(a)?n?t1(a):Lt(a):a}}class K_ extends Y_{constructor(e=!1){super(!1,e)}set(e,r,i,n){let s=e[r];if(js(s)&&Dt(s)&&!Dt(i))return!1;if(!this._shallow&&(!jl(i)&&!js(i)&&(s=we(s),i=we(i)),!ve(e)&&Dt(s)&&!Dt(i)))return s.value=i,!0;const o=ve(e)&&jd(r)?Number(r)<e.length:Fe(e,r),a=Reflect.set(e,r,i,n);return e===we(n)&&(o?qn(i,s)&&Ei(e,"set",r,i):Ei(e,"add",r,i)),a}deleteProperty(e,r){const i=Fe(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&i&&Ei(e,"delete",r,void 0),n}has(e,r){const i=Reflect.has(e,r);return(!uo(r)||!q_.has(r))&&Yt(e,"has",r),i}ownKeys(e){return Yt(e,"iterate",ve(e)?"length":Un),Reflect.ownKeys(e)}}class yT extends Y_{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const vT=new K_,bT=new yT,ET=new K_(!0),Yd=t=>t,Bc=t=>Reflect.getPrototypeOf(t);function Wa(t,e,r=!1,i=!1){t=t.__v_raw;const n=we(t),s=we(e);r||(qn(e,s)&&Yt(n,"get",e),Yt(n,"get",s));const{has:o}=Bc(n),a=i?Yd:r?Qd:la;if(o.call(n,e))return a(t.get(e));if(o.call(n,s))return a(t.get(s));t!==n&&t.get(e)}function ja(t,e=!1){const r=this.__v_raw,i=we(r),n=we(t);return e||(qn(t,n)&&Yt(i,"has",t),Yt(i,"has",n)),t===n?r.has(t):r.has(t)||r.has(n)}function Xa(t,e=!1){return t=t.__v_raw,!e&&Yt(we(t),"iterate",Un),Reflect.get(t,"size",t)}function wp(t){t=we(t);const e=we(this);return Bc(e).has.call(e,t)||(e.add(t),Ei(e,"add",t,t)),this}function Sp(t,e){e=we(e);const r=we(this),{has:i,get:n}=Bc(r);let s=i.call(r,t);s||(t=we(t),s=i.call(r,t));const o=n.call(r,t);return r.set(t,e),s?qn(e,o)&&Ei(r,"set",t,e):Ei(r,"add",t,e),this}function Cp(t){const e=we(this),{has:r,get:i}=Bc(e);let n=r.call(e,t);n||(t=we(t),n=r.call(e,t)),i&&i.call(e,t);const s=e.delete(t);return n&&Ei(e,"delete",t,void 0),s}function Bp(){const t=we(this),e=t.size!==0,r=t.clear();return e&&Ei(t,"clear",void 0,void 0),r}function Va(t,e){return function(i,n){const s=this,o=s.__v_raw,a=we(o),l=e?Yd:t?Qd:la;return!t&&Yt(a,"iterate",Un),o.forEach((c,h)=>i.call(n,l(c),l(h),s))}}function qa(t,e,r){return function(...i){const n=this.__v_raw,s=we(n),o=Ds(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...i),h=r?Yd:e?Qd:la;return!e&&Yt(s,"iterate",l?hf:Un),{next(){const{value:u,done:f}=c.next();return f?{value:u,done:f}:{value:a?[h(u[0]),h(u[1])]:h(u),done:f}},[Symbol.iterator](){return this}}}}function ki(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function TT(){const t={get(s){return Wa(this,s)},get size(){return Xa(this)},has:ja,add:wp,set:Sp,delete:Cp,clear:Bp,forEach:Va(!1,!1)},e={get(s){return Wa(this,s,!1,!0)},get size(){return Xa(this)},has:ja,add:wp,set:Sp,delete:Cp,clear:Bp,forEach:Va(!1,!0)},r={get(s){return Wa(this,s,!0)},get size(){return Xa(this,!0)},has(s){return ja.call(this,s,!0)},add:ki("add"),set:ki("set"),delete:ki("delete"),clear:ki("clear"),forEach:Va(!0,!1)},i={get(s){return Wa(this,s,!0,!0)},get size(){return Xa(this,!0)},has(s){return ja.call(this,s,!0)},add:ki("add"),set:ki("set"),delete:ki("delete"),clear:ki("clear"),forEach:Va(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=qa(s,!1,!1),r[s]=qa(s,!0,!1),e[s]=qa(s,!1,!0),i[s]=qa(s,!0,!0)}),[t,r,e,i]}const[AT,wT,ST,CT]=TT();function Kd(t,e){const r=e?t?CT:ST:t?wT:AT;return(i,n,s)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(Fe(r,n)&&n in i?r:i,n,s)}const BT={get:Kd(!1,!1)},RT={get:Kd(!1,!0)},PT={get:Kd(!0,!1)},Z_=new WeakMap,Q_=new WeakMap,J_=new WeakMap,DT=new WeakMap;function IT(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function FT(t){return t.__v_skip||!Object.isExtensible(t)?0:IT(tT(t))}function Lt(t){return js(t)?t:Zd(t,!1,vT,BT,Z_)}function e1(t){return Zd(t,!1,ET,RT,Q_)}function t1(t){return Zd(t,!0,bT,PT,J_)}function Zd(t,e,r,i,n){if(!Ye(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=n.get(t);if(s)return s;const o=FT(t);if(o===0)return t;const a=new Proxy(t,o===2?i:r);return n.set(t,a),a}function Is(t){return js(t)?Is(t.__v_raw):!!(t&&t.__v_isReactive)}function js(t){return!!(t&&t.__v_isReadonly)}function jl(t){return!!(t&&t.__v_isShallow)}function r1(t){return Is(t)||js(t)}function we(t){const e=t&&t.__v_raw;return e?we(e):t}function i1(t){return Wl(t,"__v_skip",!0),t}const la=t=>Ye(t)?Lt(t):t,Qd=t=>Ye(t)?t1(t):t;function n1(t){Ki&&Pr&&(t=we(t),V_(t.dep||(t.dep=Vd())))}function s1(t,e){t=we(t);const r=t.dep;r&&uf(r)}function Dt(t){return!!(t&&t.__v_isRef===!0)}function yi(t){return o1(t,!1)}function MT(t){return o1(t,!0)}function o1(t,e){return Dt(t)?t:new OT(t,e)}class OT{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:we(e),this._value=r?e:la(e)}get value(){return n1(this),this._value}set value(e){const r=this.__v_isShallow||jl(e)||js(e);e=r?e:we(e),qn(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:la(e),s1(this))}}function Wt(t){return Dt(t)?t.value:t}const kT={get:(t,e,r)=>Wt(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const n=t[e];return Dt(n)&&!Dt(r)?(n.value=r,!0):Reflect.set(t,e,r,i)}};function a1(t){return Is(t)?t:new Proxy(t,kT)}class NT{constructor(e,r,i,n){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new qd(e,()=>{this._dirty||(this._dirty=!0,s1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const e=we(this);return n1(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function LT(t,e,r=!1){let i,n;const s=Ae(t);return s?(i=t,n=Mr):(i=t.get,n=t.set),new NT(i,n,s||!n,r)}function Zi(t,e,r,i){let n;try{n=i?t(...i):t()}catch(s){Rc(s,e,r)}return n}function Or(t,e,r,i){if(Ae(t)){const s=Zi(t,e,r,i);return s&&U_(s)&&s.catch(o=>{Rc(o,e,r)}),s}const n=[];for(let s=0;s<t.length;s++)n.push(Or(t[s],e,r,i));return n}function Rc(t,e,r,i=!0){const n=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=r;for(;s;){const c=s.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Zi(l,null,10,[t,o,a]);return}}UT(t,r,n,i)}function UT(t,e,r,i=!0){console.error(t)}let ca=!1,ff=!1;const Rt=[];let Vr=0;const Fs=[];let pi=null,Dn=0;const l1=Promise.resolve();let Jd=null;function Ia(t){const e=Jd||l1;return t?e.then(this?t.bind(this):t):e}function zT(t){let e=Vr+1,r=Rt.length;for(;e<r;){const i=e+r>>>1,n=Rt[i],s=ha(n);s<t||s===t&&n.pre?e=i+1:r=i}return e}function e0(t){(!Rt.length||!Rt.includes(t,ca&&t.allowRecurse?Vr+1:Vr))&&(t.id==null?Rt.push(t):Rt.splice(zT(t.id),0,t),c1())}function c1(){!ca&&!ff&&(ff=!0,Jd=l1.then(u1))}function HT(t){const e=Rt.indexOf(t);e>Vr&&Rt.splice(e,1)}function GT(t){ve(t)?Fs.push(...t):(!pi||!pi.includes(t,t.allowRecurse?Dn+1:Dn))&&Fs.push(t),c1()}function Rp(t,e,r=ca?Vr+1:0){for(;r<Rt.length;r++){const i=Rt[r];if(i&&i.pre){if(t&&i.id!==t.uid)continue;Rt.splice(r,1),r--,i()}}}function h1(t){if(Fs.length){const e=[...new Set(Fs)];if(Fs.length=0,pi){pi.push(...e);return}for(pi=e,pi.sort((r,i)=>ha(r)-ha(i)),Dn=0;Dn<pi.length;Dn++)pi[Dn]();pi=null,Dn=0}}const ha=t=>t.id==null?1/0:t.id,$T=(t,e)=>{const r=ha(t)-ha(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function u1(t){ff=!1,ca=!0,Rt.sort($T);const e=Mr;try{for(Vr=0;Vr<Rt.length;Vr++){const r=Rt[Vr];r&&r.active!==!1&&Zi(r,null,14)}}finally{Vr=0,Rt.length=0,h1(),ca=!1,Jd=null,(Rt.length||Fs.length)&&u1()}}function WT(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||Ve;let n=r;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in i){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:u,trim:f}=i[h]||Ve;f&&(n=r.map(d=>lt(d)?d.trim():d)),u&&(n=r.map(of))}let a,l=i[a=dh(e)]||i[a=dh(ii(e))];!l&&s&&(l=i[a=dh(rs(e))]),l&&Or(l,t,6,n);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Or(c,t,6,n)}}function f1(t,e,r=!1){const i=e.emitsCache,n=i.get(t);if(n!==void 0)return n;const s=t.emits;let o={},a=!1;if(!Ae(t)){const l=c=>{const h=f1(c,e,!0);h&&(a=!0,St(o,h))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Ye(t)&&i.set(t,null),null):(ve(s)?s.forEach(l=>o[l]=null):St(o,s),Ye(t)&&i.set(t,o),o)}function Pc(t,e){return!t||!Ac(e)?!1:(e=e.slice(2).replace(/Once$/,""),Fe(t,e[0].toLowerCase()+e.slice(1))||Fe(t,rs(e))||Fe(t,e))}let Tt=null,Dc=null;function Xl(t){const e=Tt;return Tt=t,Dc=t&&t.type.__scopeId||null,e}function jT(t){Dc=t}function XT(){Dc=null}function d1(t,e=Tt,r){if(!e||t._n)return t;const i=(...n)=>{i._d&&zp(-1);const s=Xl(e);let o;try{o=t(...n)}finally{Xl(s),i._d&&zp(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function mh(t){const{type:e,vnode:r,proxy:i,withProxy:n,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:h,renderCache:u,data:f,setupState:d,ctx:p,inheritAttrs:m}=t;let x,y;const _=Xl(t);try{if(r.shapeFlag&4){const v=n||i,b=v;x=Wr(h.call(b,v,u,s,d,f,p)),y=l}else{const v=e;x=Wr(v.length>1?v(s,{attrs:l,slots:a,emit:c}):v(s,null)),y=e.props?l:VT(l)}}catch(v){Vo.length=0,Rc(v,t,1),x=Se(nn)}let g=x;if(y&&m!==!1){const v=Object.keys(y),{shapeFlag:b}=g;v.length&&b&7&&(o&&v.some($d)&&(y=qT(y,o)),g=Yn(g,y))}return r.dirs&&(g=Yn(g),g.dirs=g.dirs?g.dirs.concat(r.dirs):r.dirs),r.transition&&(g.transition=r.transition),x=g,Xl(_),x}const VT=t=>{let e;for(const r in t)(r==="class"||r==="style"||Ac(r))&&((e||(e={}))[r]=t[r]);return e},qT=(t,e)=>{const r={};for(const i in t)(!$d(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function YT(t,e,r){const{props:i,children:n,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?Pp(i,o,c):!!o;if(l&8){const h=e.dynamicProps;for(let u=0;u<h.length;u++){const f=h[u];if(o[f]!==i[f]&&!Pc(c,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Pp(i,o,c):!0:!!o;return!1}function Pp(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(e[s]!==t[s]&&!Pc(r,s))return!0}return!1}function KT({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const p1="components",m1=Symbol.for("v-ndc");function ZT(t){return lt(t)?QT(p1,t,!1)||t:t||m1}function QT(t,e,r=!0,i=!1){const n=Tt||xt;if(n){const s=n.type;if(t===p1){const a=GA(s,!1);if(a&&(a===e||a===ii(e)||a===Cc(ii(e))))return s}const o=Dp(n[t]||s[t],e)||Dp(n.appContext[t],e);return!o&&i?s:o}}function Dp(t,e){return t&&(t[e]||t[ii(e)]||t[Cc(ii(e))])}const JT=t=>t.__isSuspense;function eA(t,e){e&&e.pendingBranch?ve(t)?e.effects.push(...t):e.effects.push(t):GT(t)}function $o(t,e){return t0(t,null,e)}const Ya={};function Wo(t,e,r){return t0(t,e,r)}function t0(t,e,{immediate:r,deep:i,flush:n,onTrack:s,onTrigger:o}=Ve){var a;const l=dT()===((a=xt)==null?void 0:a.scope)?xt:null;let c,h=!1,u=!1;if(Dt(t)?(c=()=>t.value,h=jl(t)):Is(t)?(c=()=>t,i=!0):ve(t)?(u=!0,h=t.some(v=>Is(v)||jl(v)),c=()=>t.map(v=>{if(Dt(v))return v.value;if(Is(v))return On(v);if(Ae(v))return Zi(v,l,2)})):Ae(t)?e?c=()=>Zi(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),Or(t,l,3,[d])}:c=Mr,e&&i){const v=c;c=()=>On(v())}let f,d=v=>{f=_.onStop=()=>{Zi(v,l,4),f=_.onStop=void 0}},p;if(fa)if(d=Mr,e?r&&Or(e,l,3,[c(),u?[]:void 0,d]):c(),n==="sync"){const v=jA();p=v.__watcherHandles||(v.__watcherHandles=[])}else return Mr;let m=u?new Array(t.length).fill(Ya):Ya;const x=()=>{if(_.active)if(e){const v=_.run();(i||h||(u?v.some((b,E)=>qn(b,m[E])):qn(v,m)))&&(f&&f(),Or(e,l,3,[v,m===Ya?void 0:u&&m[0]===Ya?[]:m,d]),m=v)}else _.run()};x.allowRecurse=!!e;let y;n==="sync"?y=x:n==="post"?y=()=>zt(x,l&&l.suspense):(x.pre=!0,l&&(x.id=l.uid),y=()=>e0(x));const _=new qd(c,y);e?r?x():m=_.run():n==="post"?zt(_.run.bind(_),l&&l.suspense):_.run();const g=()=>{_.stop(),l&&l.scope&&Wd(l.scope.effects,_)};return p&&p.push(g),g}function tA(t,e,r){const i=this.proxy,n=lt(t)?t.includes(".")?x1(i,t):()=>i[t]:t.bind(i,i);let s;Ae(e)?s=e:(s=e.handler,r=e);const o=xt;Vs(this);const a=t0(n,s.bind(i),r);return o?Vs(o):zn(),a}function x1(t,e){const r=e.split(".");return()=>{let i=t;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}function On(t,e){if(!Ye(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Dt(t))On(t.value,e);else if(ve(t))for(let r=0;r<t.length;r++)On(t[r],e);else if(L_(t)||Ds(t))t.forEach(r=>{On(r,e)});else if(H_(t))for(const r in t)On(t[r],e);return t}function JL(t,e){const r=Tt;if(r===null)return t;const i=kc(r)||r.proxy,n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,c=Ve]=e[s];o&&(Ae(o)&&(o={mounted:o,updated:o}),o.deep&&On(a),n.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function xn(t,e,r,i){const n=t.dirs,s=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(fo(),Or(l,r,8,[t.el,a,t,e]),po())}}/*! #__NO_SIDE_EFFECTS__ */function vr(t,e){return Ae(t)?(()=>St({name:t.name},e,{setup:t}))():t}const jo=t=>!!t.type.__asyncLoader,g1=t=>t.type.__isKeepAlive;function _1(t,e){v1(t,"a",e)}function y1(t,e){v1(t,"da",e)}function v1(t,e,r=xt){const i=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Ic(e,i,r),r){let n=r.parent;for(;n&&n.parent;)g1(n.parent.vnode)&&rA(i,e,r,n),n=n.parent}}function rA(t,e,r,i){const n=Ic(e,t,i,!0);Fc(()=>{Wd(i[e],n)},r)}function Ic(t,e,r=xt,i=!1){if(r){const n=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(r.isUnmounted)return;fo(),Vs(r);const a=Or(e,r,t,o);return zn(),po(),a});return i?n.unshift(s):n.push(s),s}}const Ri=t=>(e,r=xt)=>(!fa||t==="sp")&&Ic(t,(...i)=>e(...i),r),iA=Ri("bm"),r0=Ri("m"),nA=Ri("bu"),sA=Ri("u"),b1=Ri("bum"),Fc=Ri("um"),oA=Ri("sp"),aA=Ri("rtg"),lA=Ri("rtc");function cA(t,e=xt){Ic("ec",t,e)}function hA(t,e,r,i){let n;const s=r&&r[i];if(ve(t)||lt(t)){n=new Array(t.length);for(let o=0,a=t.length;o<a;o++)n[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o+1,o,void 0,s&&s[o])}else if(Ye(t))if(t[Symbol.iterator])n=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);n=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];n[a]=e(t[c],c,a,s&&s[a])}}else n=[];return r&&(r[i]=n),n}function uA(t,e,r={},i,n){if(Tt.isCE||Tt.parent&&jo(Tt.parent)&&Tt.parent.isCE)return e!=="default"&&(r.name=e),Se("slot",r,i&&i());let s=t[e];s&&s._c&&(s._d=!1),Ir();const o=s&&E1(s(r)),a=s0(rr,{key:r.key||o&&o.key||`_${e}`},o||(i?i():[]),o&&t._===1?64:-2);return!n&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function E1(t){return t.some(e=>Xs(e)?!(e.type===nn||e.type===rr&&!E1(e.children)):!0)?t:null}const df=t=>t?F1(t)?kc(t)||t.proxy:df(t.parent):null,Xo=St(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>df(t.parent),$root:t=>df(t.root),$emit:t=>t.emit,$options:t=>i0(t),$forceUpdate:t=>t.f||(t.f=()=>e0(t.update)),$nextTick:t=>t.n||(t.n=Ia.bind(t.proxy)),$watch:t=>tA.bind(t)}),xh=(t,e)=>t!==Ve&&!t.__isScriptSetup&&Fe(t,e),fA={get({_:t},e){const{ctx:r,setupState:i,data:n,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return n[e];case 4:return r[e];case 3:return s[e]}else{if(xh(i,e))return o[e]=1,i[e];if(n!==Ve&&Fe(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&Fe(c,e))return o[e]=3,s[e];if(r!==Ve&&Fe(r,e))return o[e]=4,r[e];pf&&(o[e]=0)}}const h=Xo[e];let u,f;if(h)return e==="$attrs"&&Yt(t,"get",e),h(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(r!==Ve&&Fe(r,e))return o[e]=4,r[e];if(f=l.config.globalProperties,Fe(f,e))return f[e]},set({_:t},e,r){const{data:i,setupState:n,ctx:s}=t;return xh(n,e)?(n[e]=r,!0):i!==Ve&&Fe(i,e)?(i[e]=r,!0):Fe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:n,propsOptions:s}},o){let a;return!!r[o]||t!==Ve&&Fe(t,o)||xh(e,o)||(a=s[0])&&Fe(a,o)||Fe(i,o)||Fe(Xo,o)||Fe(n.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Fe(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Ip(t){return ve(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let pf=!0;function dA(t){const e=i0(t),r=t.proxy,i=t.ctx;pf=!1,e.beforeCreate&&Fp(e.beforeCreate,t,"bc");const{data:n,computed:s,methods:o,watch:a,provide:l,inject:c,created:h,beforeMount:u,mounted:f,beforeUpdate:d,updated:p,activated:m,deactivated:x,beforeDestroy:y,beforeUnmount:_,destroyed:g,unmounted:v,render:b,renderTracked:E,renderTriggered:T,errorCaptured:A,serverPrefetch:P,expose:w,inheritAttrs:B,components:I,directives:D,filters:F}=e;if(c&&pA(c,i,null),o)for(const U in o){const Z=o[U];Ae(Z)&&(i[U]=Z.bind(r))}if(n){const U=n.call(r,r);Ye(U)&&(t.data=Lt(U))}if(pf=!0,s)for(const U in s){const Z=s[U],le=Ae(Z)?Z.bind(r,r):Ae(Z.get)?Z.get.bind(r,r):Mr,H=!Ae(Z)&&Ae(Z.set)?Z.set.bind(r):Mr,O=ze({get:le,set:H});Object.defineProperty(i,U,{enumerable:!0,configurable:!0,get:()=>O.value,set:k=>O.value=k})}if(a)for(const U in a)T1(a[U],i,r,U);if(l){const U=Ae(l)?l.call(r):l;Reflect.ownKeys(U).forEach(Z=>{El(Z,U[Z])})}h&&Fp(h,t,"c");function $(U,Z){ve(Z)?Z.forEach(le=>U(le.bind(r))):Z&&U(Z.bind(r))}if($(iA,u),$(r0,f),$(nA,d),$(sA,p),$(_1,m),$(y1,x),$(cA,A),$(lA,E),$(aA,T),$(b1,_),$(Fc,v),$(oA,P),ve(w))if(w.length){const U=t.exposed||(t.exposed={});w.forEach(Z=>{Object.defineProperty(U,Z,{get:()=>r[Z],set:le=>r[Z]=le})})}else t.exposed||(t.exposed={});b&&t.render===Mr&&(t.render=b),B!=null&&(t.inheritAttrs=B),I&&(t.components=I),D&&(t.directives=D)}function pA(t,e,r=Mr){ve(t)&&(t=mf(t));for(const i in t){const n=t[i];let s;Ye(n)?"default"in n?s=gr(n.from||i,n.default,!0):s=gr(n.from||i):s=gr(n),Dt(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function Fp(t,e,r){Or(ve(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function T1(t,e,r,i){const n=i.includes(".")?x1(r,i):()=>r[i];if(lt(t)){const s=e[t];Ae(s)&&Wo(n,s)}else if(Ae(t))Wo(n,t.bind(r));else if(Ye(t))if(ve(t))t.forEach(s=>T1(s,e,r,i));else{const s=Ae(t.handler)?t.handler.bind(r):e[t.handler];Ae(s)&&Wo(n,s,t)}}function i0(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!n.length&&!r&&!i?l=e:(l={},n.length&&n.forEach(c=>Vl(l,c,o,!0)),Vl(l,e,o)),Ye(e)&&s.set(e,l),l}function Vl(t,e,r,i=!1){const{mixins:n,extends:s}=e;s&&Vl(t,s,r,!0),n&&n.forEach(o=>Vl(t,o,r,!0));for(const o in e)if(!(i&&o==="expose")){const a=mA[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const mA={data:Mp,props:Op,emits:Op,methods:ko,computed:ko,beforeCreate:Ot,created:Ot,beforeMount:Ot,mounted:Ot,beforeUpdate:Ot,updated:Ot,beforeDestroy:Ot,beforeUnmount:Ot,destroyed:Ot,unmounted:Ot,activated:Ot,deactivated:Ot,errorCaptured:Ot,serverPrefetch:Ot,components:ko,directives:ko,watch:gA,provide:Mp,inject:xA};function Mp(t,e){return e?t?function(){return St(Ae(t)?t.call(this,this):t,Ae(e)?e.call(this,this):e)}:e:t}function xA(t,e){return ko(mf(t),mf(e))}function mf(t){if(ve(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Ot(t,e){return t?[...new Set([].concat(t,e))]:e}function ko(t,e){return t?St(Object.create(null),t,e):e}function Op(t,e){return t?ve(t)&&ve(e)?[...new Set([...t,...e])]:St(Object.create(null),Ip(t),Ip(e??{})):e}function gA(t,e){if(!t)return e;if(!e)return t;const r=St(Object.create(null),t);for(const i in e)r[i]=Ot(t[i],e[i]);return r}function A1(){return{app:null,config:{isNativeTag:JE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _A=0;function yA(t,e){return function(i,n=null){Ae(i)||(i=St({},i)),n!=null&&!Ye(n)&&(n=null);const s=A1(),o=new WeakSet;let a=!1;const l=s.app={_uid:_A++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:l0,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&Ae(c.install)?(o.add(c),c.install(l,...h)):Ae(c)&&(o.add(c),c(l,...h))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,h){return h?(s.components[c]=h,l):s.components[c]},directive(c,h){return h?(s.directives[c]=h,l):s.directives[c]},mount(c,h,u){if(!a){const f=Se(i,n);return f.appContext=s,h&&e?e(f,c):t(f,c,u),a=!0,l._container=c,c.__vue_app__=l,kc(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,h){return s.provides[c]=h,l},runWithContext(c){ql=l;try{return c()}finally{ql=null}}};return l}}let ql=null;function El(t,e){if(xt){let r=xt.provides;const i=xt.parent&&xt.parent.provides;i===r&&(r=xt.provides=Object.create(i)),r[t]=e}}function gr(t,e,r=!1){const i=xt||Tt;if(i||ql){const n=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ql._context.provides;if(n&&t in n)return n[t];if(arguments.length>1)return r&&Ae(e)?e.call(i&&i.proxy):e}}function vA(t,e,r,i=!1){const n={},s={};Wl(s,Oc,1),t.propsDefaults=Object.create(null),w1(t,e,n,s);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);r?t.props=i?n:e1(n):t.type.props?t.props=n:t.props=s,t.attrs=s}function bA(t,e,r,i){const{props:n,attrs:s,vnode:{patchFlag:o}}=t,a=we(n),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let u=0;u<h.length;u++){let f=h[u];if(Pc(t.emitsOptions,f))continue;const d=e[f];if(l)if(Fe(s,f))d!==s[f]&&(s[f]=d,c=!0);else{const p=ii(f);n[p]=xf(l,a,p,d,t,!1)}else d!==s[f]&&(s[f]=d,c=!0)}}}else{w1(t,e,n,s)&&(c=!0);let h;for(const u in a)(!e||!Fe(e,u)&&((h=rs(u))===u||!Fe(e,h)))&&(l?r&&(r[u]!==void 0||r[h]!==void 0)&&(n[u]=xf(l,a,u,void 0,t,!0)):delete n[u]);if(s!==a)for(const u in s)(!e||!Fe(e,u))&&(delete s[u],c=!0)}c&&Ei(t,"set","$attrs")}function w1(t,e,r,i){const[n,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(vl(l))continue;const c=e[l];let h;n&&Fe(n,h=ii(l))?!s||!s.includes(h)?r[h]=c:(a||(a={}))[h]=c:Pc(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=we(r),c=a||Ve;for(let h=0;h<s.length;h++){const u=s[h];r[u]=xf(n,l,u,c[u],t,!Fe(c,u))}}return o}function xf(t,e,r,i,n,s){const o=t[r];if(o!=null){const a=Fe(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ae(l)){const{propsDefaults:c}=n;r in c?i=c[r]:(Vs(n),i=c[r]=l.call(null,e),zn())}else i=l}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===rs(r))&&(i=!0))}return i}function S1(t,e,r=!1){const i=e.propsCache,n=i.get(t);if(n)return n;const s=t.props,o={},a=[];let l=!1;if(!Ae(t)){const h=u=>{l=!0;const[f,d]=S1(u,e,!0);St(o,f),d&&a.push(...d)};!r&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!s&&!l)return Ye(t)&&i.set(t,Ps),Ps;if(ve(s))for(let h=0;h<s.length;h++){const u=ii(s[h]);kp(u)&&(o[u]=Ve)}else if(s)for(const h in s){const u=ii(h);if(kp(u)){const f=s[h],d=o[u]=ve(f)||Ae(f)?{type:f}:St({},f);if(d){const p=Up(Boolean,d.type),m=Up(String,d.type);d[0]=p>-1,d[1]=m<0||p<m,(p>-1||Fe(d,"default"))&&a.push(u)}}}const c=[o,a];return Ye(t)&&i.set(t,c),c}function kp(t){return t[0]!=="$"}function Np(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Lp(t,e){return Np(t)===Np(e)}function Up(t,e){return ve(e)?e.findIndex(r=>Lp(r,t)):Ae(e)&&Lp(e,t)?0:-1}const C1=t=>t[0]==="_"||t==="$stable",n0=t=>ve(t)?t.map(Wr):[Wr(t)],EA=(t,e,r)=>{if(e._n)return e;const i=d1((...n)=>n0(e(...n)),r);return i._c=!1,i},B1=(t,e,r)=>{const i=t._ctx;for(const n in t){if(C1(n))continue;const s=t[n];if(Ae(s))e[n]=EA(n,s,i);else if(s!=null){const o=n0(s);e[n]=()=>o}}},R1=(t,e)=>{const r=n0(e);t.slots.default=()=>r},TA=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=we(e),Wl(e,"_",r)):B1(e,t.slots={})}else t.slots={},e&&R1(t,e);Wl(t.slots,Oc,1)},AA=(t,e,r)=>{const{vnode:i,slots:n}=t;let s=!0,o=Ve;if(i.shapeFlag&32){const a=e._;a?r&&a===1?s=!1:(St(n,e),!r&&a===1&&delete n._):(s=!e.$stable,B1(e,n)),o=e}else e&&(R1(t,e),o={default:1});if(s)for(const a in n)!C1(a)&&o[a]==null&&delete n[a]};function gf(t,e,r,i,n=!1){if(ve(t)){t.forEach((f,d)=>gf(f,e&&(ve(e)?e[d]:e),r,i,n));return}if(jo(i)&&!n)return;const s=i.shapeFlag&4?kc(i.component)||i.component.proxy:i.el,o=n?null:s,{i:a,r:l}=t,c=e&&e.r,h=a.refs===Ve?a.refs={}:a.refs,u=a.setupState;if(c!=null&&c!==l&&(lt(c)?(h[c]=null,Fe(u,c)&&(u[c]=null)):Dt(c)&&(c.value=null)),Ae(l))Zi(l,a,12,[o,h]);else{const f=lt(l),d=Dt(l);if(f||d){const p=()=>{if(t.f){const m=f?Fe(u,l)?u[l]:h[l]:l.value;n?ve(m)&&Wd(m,s):ve(m)?m.includes(s)||m.push(s):f?(h[l]=[s],Fe(u,l)&&(u[l]=h[l])):(l.value=[s],t.k&&(h[t.k]=l.value))}else f?(h[l]=o,Fe(u,l)&&(u[l]=o)):d&&(l.value=o,t.k&&(h[t.k]=o))};o?(p.id=-1,zt(p,r)):p()}}}const zt=eA;function wA(t){return SA(t)}function SA(t,e){const r=af();r.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:h,parentNode:u,nextSibling:f,setScopeId:d=Mr,insertStaticContent:p}=t,m=(S,R,M,z=null,X=null,K=null,re=!1,J=null,ee=!!R.dynamicChildren)=>{if(S===R)return;S&&!Eo(S,R)&&(z=N(S),k(S,X,K,!0),S=null),R.patchFlag===-2&&(ee=!1,R.dynamicChildren=null);const{type:Y,ref:ae,shapeFlag:se}=R;switch(Y){case Mc:x(S,R,M,z);break;case nn:y(S,R,M,z);break;case Tl:S==null&&_(R,M,z,re);break;case rr:I(S,R,M,z,X,K,re,J,ee);break;default:se&1?b(S,R,M,z,X,K,re,J,ee):se&6?D(S,R,M,z,X,K,re,J,ee):(se&64||se&128)&&Y.process(S,R,M,z,X,K,re,J,ee,Q)}ae!=null&&X&&gf(ae,S&&S.ref,K,R||S,!R)},x=(S,R,M,z)=>{if(S==null)i(R.el=a(R.children),M,z);else{const X=R.el=S.el;R.children!==S.children&&c(X,R.children)}},y=(S,R,M,z)=>{S==null?i(R.el=l(R.children||""),M,z):R.el=S.el},_=(S,R,M,z)=>{[S.el,S.anchor]=p(S.children,R,M,z,S.el,S.anchor)},g=({el:S,anchor:R},M,z)=>{let X;for(;S&&S!==R;)X=f(S),i(S,M,z),S=X;i(R,M,z)},v=({el:S,anchor:R})=>{let M;for(;S&&S!==R;)M=f(S),n(S),S=M;n(R)},b=(S,R,M,z,X,K,re,J,ee)=>{re=re||R.type==="svg",S==null?E(R,M,z,X,K,re,J,ee):P(S,R,X,K,re,J,ee)},E=(S,R,M,z,X,K,re,J)=>{let ee,Y;const{type:ae,props:se,shapeFlag:de,transition:ye,dirs:Ee}=S;if(ee=S.el=o(S.type,K,se&&se.is,se),de&8?h(ee,S.children):de&16&&A(S.children,ee,null,z,X,K&&ae!=="foreignObject",re,J),Ee&&xn(S,null,z,"created"),T(ee,S,S.scopeId,re,z),se){for(const Ne in se)Ne!=="value"&&!vl(Ne)&&s(ee,Ne,null,se[Ne],K,S.children,z,X,ce);"value"in se&&s(ee,"value",null,se.value),(Y=se.onVnodeBeforeMount)&&Hr(Y,z,S)}Ee&&xn(S,null,z,"beforeMount");const Oe=CA(X,ye);Oe&&ye.beforeEnter(ee),i(ee,R,M),((Y=se&&se.onVnodeMounted)||Oe||Ee)&&zt(()=>{Y&&Hr(Y,z,S),Oe&&ye.enter(ee),Ee&&xn(S,null,z,"mounted")},X)},T=(S,R,M,z,X)=>{if(M&&d(S,M),z)for(let K=0;K<z.length;K++)d(S,z[K]);if(X){let K=X.subTree;if(R===K){const re=X.vnode;T(S,re,re.scopeId,re.slotScopeIds,X.parent)}}},A=(S,R,M,z,X,K,re,J,ee=0)=>{for(let Y=ee;Y<S.length;Y++){const ae=S[Y]=J?Hi(S[Y]):Wr(S[Y]);m(null,ae,R,M,z,X,K,re,J)}},P=(S,R,M,z,X,K,re)=>{const J=R.el=S.el;let{patchFlag:ee,dynamicChildren:Y,dirs:ae}=R;ee|=S.patchFlag&16;const se=S.props||Ve,de=R.props||Ve;let ye;M&&gn(M,!1),(ye=de.onVnodeBeforeUpdate)&&Hr(ye,M,R,S),ae&&xn(R,S,M,"beforeUpdate"),M&&gn(M,!0);const Ee=X&&R.type!=="foreignObject";if(Y?w(S.dynamicChildren,Y,J,M,z,Ee,K):re||Z(S,R,J,null,M,z,Ee,K,!1),ee>0){if(ee&16)B(J,R,se,de,M,z,X);else if(ee&2&&se.class!==de.class&&s(J,"class",null,de.class,X),ee&4&&s(J,"style",se.style,de.style,X),ee&8){const Oe=R.dynamicProps;for(let Ne=0;Ne<Oe.length;Ne++){const Ke=Oe[Ne],Ut=se[Ke],Zt=de[Ke];(Zt!==Ut||Ke==="value")&&s(J,Ke,Ut,Zt,X,S.children,M,z,ce)}}ee&1&&S.children!==R.children&&h(J,R.children)}else!re&&Y==null&&B(J,R,se,de,M,z,X);((ye=de.onVnodeUpdated)||ae)&&zt(()=>{ye&&Hr(ye,M,R,S),ae&&xn(R,S,M,"updated")},z)},w=(S,R,M,z,X,K,re)=>{for(let J=0;J<R.length;J++){const ee=S[J],Y=R[J],ae=ee.el&&(ee.type===rr||!Eo(ee,Y)||ee.shapeFlag&70)?u(ee.el):M;m(ee,Y,ae,null,z,X,K,re,!0)}},B=(S,R,M,z,X,K,re)=>{if(M!==z){if(M!==Ve)for(const J in M)!vl(J)&&!(J in z)&&s(S,J,M[J],null,re,R.children,X,K,ce);for(const J in z){if(vl(J))continue;const ee=z[J],Y=M[J];ee!==Y&&J!=="value"&&s(S,J,Y,ee,re,R.children,X,K,ce)}"value"in z&&s(S,"value",M.value,z.value)}},I=(S,R,M,z,X,K,re,J,ee)=>{const Y=R.el=S?S.el:a(""),ae=R.anchor=S?S.anchor:a("");let{patchFlag:se,dynamicChildren:de,slotScopeIds:ye}=R;ye&&(J=J?J.concat(ye):ye),S==null?(i(Y,M,z),i(ae,M,z),A(R.children,M,ae,X,K,re,J,ee)):se>0&&se&64&&de&&S.dynamicChildren?(w(S.dynamicChildren,de,M,X,K,re,J),(R.key!=null||X&&R===X.subTree)&&P1(S,R,!0)):Z(S,R,M,ae,X,K,re,J,ee)},D=(S,R,M,z,X,K,re,J,ee)=>{R.slotScopeIds=J,S==null?R.shapeFlag&512?X.ctx.activate(R,M,z,re,ee):F(R,M,z,X,K,re,ee):j(S,R,ee)},F=(S,R,M,z,X,K,re)=>{const J=S.component=kA(S,z,X);if(g1(S)&&(J.ctx.renderer=Q),LA(J),J.asyncDep){if(X&&X.registerDep(J,$),!S.el){const ee=J.subTree=Se(nn);y(null,ee,R,M)}return}$(J,S,R,M,X,K,re)},j=(S,R,M)=>{const z=R.component=S.component;if(YT(S,R,M))if(z.asyncDep&&!z.asyncResolved){U(z,R,M);return}else z.next=R,HT(z.update),z.update();else R.el=S.el,z.vnode=R},$=(S,R,M,z,X,K,re)=>{const J=()=>{if(S.isMounted){let{next:ae,bu:se,u:de,parent:ye,vnode:Ee}=S,Oe=ae,Ne;gn(S,!1),ae?(ae.el=Ee.el,U(S,ae,re)):ae=Ee,se&&bl(se),(Ne=ae.props&&ae.props.onVnodeBeforeUpdate)&&Hr(Ne,ye,ae,Ee),gn(S,!0);const Ke=mh(S),Ut=S.subTree;S.subTree=Ke,m(Ut,Ke,u(Ut.el),N(Ut),S,X,K),ae.el=Ke.el,Oe===null&&KT(S,Ke.el),de&&zt(de,X),(Ne=ae.props&&ae.props.onVnodeUpdated)&&zt(()=>Hr(Ne,ye,ae,Ee),X)}else{let ae;const{el:se,props:de}=R,{bm:ye,m:Ee,parent:Oe}=S,Ne=jo(R);if(gn(S,!1),ye&&bl(ye),!Ne&&(ae=de&&de.onVnodeBeforeMount)&&Hr(ae,Oe,R),gn(S,!0),se&&ue){const Ke=()=>{S.subTree=mh(S),ue(se,S.subTree,S,X,null)};Ne?R.type.__asyncLoader().then(()=>!S.isUnmounted&&Ke()):Ke()}else{const Ke=S.subTree=mh(S);m(null,Ke,M,z,S,X,K),R.el=Ke.el}if(Ee&&zt(Ee,X),!Ne&&(ae=de&&de.onVnodeMounted)){const Ke=R;zt(()=>Hr(ae,Oe,Ke),X)}(R.shapeFlag&256||Oe&&jo(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&S.a&&zt(S.a,X),S.isMounted=!0,R=M=z=null}},ee=S.effect=new qd(J,()=>e0(Y),S.scope),Y=S.update=()=>ee.run();Y.id=S.uid,gn(S,!0),Y()},U=(S,R,M)=>{R.component=S;const z=S.vnode.props;S.vnode=R,S.next=null,bA(S,R.props,z,M),AA(S,R.children,M),fo(),Rp(S),po()},Z=(S,R,M,z,X,K,re,J,ee=!1)=>{const Y=S&&S.children,ae=S?S.shapeFlag:0,se=R.children,{patchFlag:de,shapeFlag:ye}=R;if(de>0){if(de&128){H(Y,se,M,z,X,K,re,J,ee);return}else if(de&256){le(Y,se,M,z,X,K,re,J,ee);return}}ye&8?(ae&16&&ce(Y,X,K),se!==Y&&h(M,se)):ae&16?ye&16?H(Y,se,M,z,X,K,re,J,ee):ce(Y,X,K,!0):(ae&8&&h(M,""),ye&16&&A(se,M,z,X,K,re,J,ee))},le=(S,R,M,z,X,K,re,J,ee)=>{S=S||Ps,R=R||Ps;const Y=S.length,ae=R.length,se=Math.min(Y,ae);let de;for(de=0;de<se;de++){const ye=R[de]=ee?Hi(R[de]):Wr(R[de]);m(S[de],ye,M,null,X,K,re,J,ee)}Y>ae?ce(S,X,K,!0,!1,se):A(R,M,z,X,K,re,J,ee,se)},H=(S,R,M,z,X,K,re,J,ee)=>{let Y=0;const ae=R.length;let se=S.length-1,de=ae-1;for(;Y<=se&&Y<=de;){const ye=S[Y],Ee=R[Y]=ee?Hi(R[Y]):Wr(R[Y]);if(Eo(ye,Ee))m(ye,Ee,M,null,X,K,re,J,ee);else break;Y++}for(;Y<=se&&Y<=de;){const ye=S[se],Ee=R[de]=ee?Hi(R[de]):Wr(R[de]);if(Eo(ye,Ee))m(ye,Ee,M,null,X,K,re,J,ee);else break;se--,de--}if(Y>se){if(Y<=de){const ye=de+1,Ee=ye<ae?R[ye].el:z;for(;Y<=de;)m(null,R[Y]=ee?Hi(R[Y]):Wr(R[Y]),M,Ee,X,K,re,J,ee),Y++}}else if(Y>de)for(;Y<=se;)k(S[Y],X,K,!0),Y++;else{const ye=Y,Ee=Y,Oe=new Map;for(Y=Ee;Y<=de;Y++){const Ct=R[Y]=ee?Hi(R[Y]):Wr(R[Y]);Ct.key!=null&&Oe.set(Ct.key,Y)}let Ne,Ke=0;const Ut=de-Ee+1;let Zt=!1,Mi=0;const mn=new Array(Ut);for(Y=0;Y<Ut;Y++)mn[Y]=0;for(Y=ye;Y<=se;Y++){const Ct=S[Y];if(Ke>=Ut){k(Ct,X,K,!0);continue}let cr;if(Ct.key!=null)cr=Oe.get(Ct.key);else for(Ne=Ee;Ne<=de;Ne++)if(mn[Ne-Ee]===0&&Eo(Ct,R[Ne])){cr=Ne;break}cr===void 0?k(Ct,X,K,!0):(mn[cr-Ee]=Y+1,cr>=Mi?Mi=cr:Zt=!0,m(Ct,R[cr],M,null,X,K,re,J,ee),Ke++)}const bo=Zt?BA(mn):Ps;for(Ne=bo.length-1,Y=Ut-1;Y>=0;Y--){const Ct=Ee+Y,cr=R[Ct],$a=Ct+1<ae?R[Ct+1].el:z;mn[Y]===0?m(null,cr,M,$a,X,K,re,J,ee):Zt&&(Ne<0||Y!==bo[Ne]?O(cr,M,$a,2):Ne--)}}},O=(S,R,M,z,X=null)=>{const{el:K,type:re,transition:J,children:ee,shapeFlag:Y}=S;if(Y&6){O(S.component.subTree,R,M,z);return}if(Y&128){S.suspense.move(R,M,z);return}if(Y&64){re.move(S,R,M,Q);return}if(re===rr){i(K,R,M);for(let se=0;se<ee.length;se++)O(ee[se],R,M,z);i(S.anchor,R,M);return}if(re===Tl){g(S,R,M);return}if(z!==2&&Y&1&&J)if(z===0)J.beforeEnter(K),i(K,R,M),zt(()=>J.enter(K),X);else{const{leave:se,delayLeave:de,afterLeave:ye}=J,Ee=()=>i(K,R,M),Oe=()=>{se(K,()=>{Ee(),ye&&ye()})};de?de(K,Ee,Oe):Oe()}else i(K,R,M)},k=(S,R,M,z=!1,X=!1)=>{const{type:K,props:re,ref:J,children:ee,dynamicChildren:Y,shapeFlag:ae,patchFlag:se,dirs:de}=S;if(J!=null&&gf(J,null,M,S,!0),ae&256){R.ctx.deactivate(S);return}const ye=ae&1&&de,Ee=!jo(S);let Oe;if(Ee&&(Oe=re&&re.onVnodeBeforeUnmount)&&Hr(Oe,R,S),ae&6)xe(S.component,M,z);else{if(ae&128){S.suspense.unmount(M,z);return}ye&&xn(S,null,R,"beforeUnmount"),ae&64?S.type.remove(S,R,M,X,Q,z):Y&&(K!==rr||se>0&&se&64)?ce(Y,R,M,!1,!0):(K===rr&&se&384||!X&&ae&16)&&ce(ee,R,M),z&&G(S)}(Ee&&(Oe=re&&re.onVnodeUnmounted)||ye)&&zt(()=>{Oe&&Hr(Oe,R,S),ye&&xn(S,null,R,"unmounted")},M)},G=S=>{const{type:R,el:M,anchor:z,transition:X}=S;if(R===rr){L(M,z);return}if(R===Tl){v(S);return}const K=()=>{n(M),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(S.shapeFlag&1&&X&&!X.persisted){const{leave:re,delayLeave:J}=X,ee=()=>re(M,K);J?J(S.el,K,ee):ee()}else K()},L=(S,R)=>{let M;for(;S!==R;)M=f(S),n(S),S=M;n(R)},xe=(S,R,M)=>{const{bum:z,scope:X,update:K,subTree:re,um:J}=S;z&&bl(z),X.stop(),K&&(K.active=!1,k(re,S,R,M)),J&&zt(J,R),zt(()=>{S.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},ce=(S,R,M,z=!1,X=!1,K=0)=>{for(let re=K;re<S.length;re++)k(S[re],R,M,z,X)},N=S=>S.shapeFlag&6?N(S.component.subTree):S.shapeFlag&128?S.suspense.next():f(S.anchor||S.el),W=(S,R,M)=>{S==null?R._vnode&&k(R._vnode,null,null,!0):m(R._vnode||null,S,R,null,null,null,M),Rp(),h1(),R._vnode=S},Q={p:m,um:k,m:O,r:G,mt:F,mc:A,pc:Z,pbc:w,n:N,o:t};let ie,ue;return e&&([ie,ue]=e(Q)),{render:W,hydrate:ie,createApp:yA(W,ie)}}function gn({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function CA(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function P1(t,e,r=!1){const i=t.children,n=e.children;if(ve(i)&&ve(n))for(let s=0;s<i.length;s++){const o=i[s];let a=n[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[s]=Hi(n[s]),a.el=o.el),r||P1(o,a)),a.type===Mc&&(a.el=o.el)}}function BA(t){const e=t.slice(),r=[0];let i,n,s,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(n=r[r.length-1],t[n]<c){e[i]=n,r.push(i);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,t[r[a]]<c?s=a+1:o=a;c<t[r[s]]&&(s>0&&(e[i]=r[s-1]),r[s]=i)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}const RA=t=>t.__isTeleport,rr=Symbol.for("v-fgt"),Mc=Symbol.for("v-txt"),nn=Symbol.for("v-cmt"),Tl=Symbol.for("v-stc"),Vo=[];let Dr=null;function Ir(t=!1){Vo.push(Dr=t?null:[])}function PA(){Vo.pop(),Dr=Vo[Vo.length-1]||null}let ua=1;function zp(t){ua+=t}function D1(t){return t.dynamicChildren=ua>0?Dr||Ps:null,PA(),ua>0&&Dr&&Dr.push(t),t}function Wi(t,e,r,i,n,s){return D1(Qi(t,e,r,i,n,s,!0))}function s0(t,e,r,i,n){return D1(Se(t,e,r,i,n,!0))}function Xs(t){return t?t.__v_isVNode===!0:!1}function Eo(t,e){return t.type===e.type&&t.key===e.key}const Oc="__vInternal",I1=({key:t})=>t??null,Al=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?lt(t)||Dt(t)||Ae(t)?{i:Tt,r:t,k:e,f:!!r}:t:null);function Qi(t,e=null,r=null,i=0,n=null,s=t===rr?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&I1(e),ref:e&&Al(e),scopeId:Dc,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Tt};return a?(o0(l,r),s&128&&t.normalize(l)):r&&(l.shapeFlag|=lt(r)?8:16),ua>0&&!o&&Dr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Dr.push(l),l}const Se=DA;function DA(t,e=null,r=null,i=0,n=null,s=!1){if((!t||t===m1)&&(t=nn),Xs(t)){const a=Yn(t,e,!0);return r&&o0(a,r),ua>0&&!s&&Dr&&(a.shapeFlag&6?Dr[Dr.indexOf(t)]=a:Dr.push(a)),a.patchFlag|=-2,a}if($A(t)&&(t=t.__vccOpts),e){e=IA(e);let{class:a,style:l}=e;a&&!lt(a)&&(e.class=Ws(a)),Ye(l)&&(r1(l)&&!ve(l)&&(l=St({},l)),e.style=Xd(l))}const o=lt(t)?1:JT(t)?128:RA(t)?64:Ye(t)?4:Ae(t)?2:0;return Qi(t,e,r,i,n,o,s,!0)}function IA(t){return t?r1(t)||Oc in t?St({},t):t:null}function Yn(t,e,r=!1){const{props:i,ref:n,patchFlag:s,children:o}=t,a=e?Pi(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&I1(a),ref:e&&e.ref?r&&n?ve(n)?n.concat(Al(e)):[n,Al(e)]:Al(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==rr?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Yn(t.ssContent),ssFallback:t.ssFallback&&Yn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function _f(t=" ",e=0){return Se(Mc,null,t,e)}function e9(t,e){const r=Se(Tl,null,t);return r.staticCount=e,r}function FA(t="",e=!1){return e?(Ir(),s0(nn,null,t)):Se(nn,null,t)}function Wr(t){return t==null||typeof t=="boolean"?Se(nn):ve(t)?Se(rr,null,t.slice()):typeof t=="object"?Hi(t):Se(Mc,null,String(t))}function Hi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Yn(t)}function o0(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ve(e))r=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),o0(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!(Oc in e)?e._ctx=Tt:n===3&&Tt&&(Tt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ae(e)?(e={default:e,_ctx:Tt},r=32):(e=String(e),i&64?(r=16,e=[_f(e)]):r=8);t.children=e,t.shapeFlag|=r}function Pi(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=Ws([e.class,i.class]));else if(n==="style")e.style=Xd([e.style,i.style]);else if(Ac(n)){const s=e[n],o=i[n];o&&s!==o&&!(ve(s)&&s.includes(o))&&(e[n]=s?[].concat(s,o):o)}else n!==""&&(e[n]=i[n])}return e}function Hr(t,e,r,i=null){Or(t,e,7,[r,i])}const MA=A1();let OA=0;function kA(t,e,r){const i=t.type,n=(e?e.appContext:t.appContext)||MA,s={uid:OA++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new uT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:S1(i,n),emitsOptions:f1(i,n),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:i.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=WT.bind(null,s),t.ce&&t.ce(s),s}let xt=null;const NA=()=>xt||Tt;let a0,hs,Hp="__VUE_INSTANCE_SETTERS__";(hs=af()[Hp])||(hs=af()[Hp]=[]),hs.push(t=>xt=t),a0=t=>{hs.length>1?hs.forEach(e=>e(t)):hs[0](t)};const Vs=t=>{a0(t),t.scope.on()},zn=()=>{xt&&xt.scope.off(),a0(null)};function F1(t){return t.vnode.shapeFlag&4}let fa=!1;function LA(t,e=!1){fa=e;const{props:r,children:i}=t.vnode,n=F1(t);vA(t,r,n,e),TA(t,i);const s=n?UA(t,e):void 0;return fa=!1,s}function UA(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=i1(new Proxy(t.ctx,fA));const{setup:i}=r;if(i){const n=t.setupContext=i.length>1?HA(t):null;Vs(t),fo();const s=Zi(i,t,0,[t.props,n]);if(po(),zn(),U_(s)){if(s.then(zn,zn),e)return s.then(o=>{Gp(t,o,e)}).catch(o=>{Rc(o,t,0)});t.asyncDep=s}else Gp(t,s,e)}else M1(t,e)}function Gp(t,e,r){Ae(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ye(e)&&(t.setupState=a1(e)),M1(t,r)}let $p;function M1(t,e,r){const i=t.type;if(!t.render){if(!e&&$p&&!i.render){const n=i.template||i0(t).template;if(n){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=St(St({isCustomElement:s,delimiters:a},o),l);i.render=$p(n,c)}}t.render=i.render||Mr}{Vs(t),fo();try{dA(t)}finally{po(),zn()}}}function zA(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return Yt(t,"get","$attrs"),e[r]}}))}function HA(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return zA(t)},slots:t.slots,emit:t.emit,expose:e}}function kc(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(a1(i1(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Xo)return Xo[r](t)},has(e,r){return r in e||r in Xo}}))}function GA(t,e=!0){return Ae(t)?t.displayName||t.name:t.name||e&&t.__name}function $A(t){return Ae(t)&&"__vccOpts"in t}const ze=(t,e)=>LT(t,e,fa);function As(t,e,r){const i=arguments.length;return i===2?Ye(e)&&!ve(e)?Xs(e)?Se(t,null,[e]):Se(t,e):Se(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Xs(r)&&(r=[r]),Se(t,e,r))}const WA=Symbol.for("v-scx"),jA=()=>gr(WA),l0="3.3.11",XA="http://www.w3.org/2000/svg",In=typeof document<"u"?document:null,Wp=In&&In.createElement("template"),VA={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const n=e?In.createElementNS(XA,t):In.createElement(t,r?{is:r}:void 0);return t==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:t=>In.createTextNode(t),createComment:t=>In.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>In.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,n,s){const o=r?r.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===s||!(n=n.nextSibling)););else{Wp.innerHTML=i?`<svg>${t}</svg>`:t;const a=Wp.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},qA=Symbol("_vtc");function YA(t,e,r){const i=t[qA];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const KA=Symbol("_vod");function ZA(t,e,r){const i=t.style,n=lt(r);if(r&&!n){if(e&&!lt(e))for(const s in e)r[s]==null&&yf(i,s,"");for(const s in r)yf(i,s,r[s])}else{const s=i.display;n?e!==r&&(i.cssText=r):e&&t.removeAttribute("style"),KA in t&&(i.display=s)}}const jp=/\s*!important$/;function yf(t,e,r){if(ve(r))r.forEach(i=>yf(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=QA(t,e);jp.test(r)?t.setProperty(rs(i),r.replace(jp,""),"important"):t[i]=r}}const Xp=["Webkit","Moz","ms"],gh={};function QA(t,e){const r=gh[e];if(r)return r;let i=ii(e);if(i!=="filter"&&i in t)return gh[e]=i;i=Cc(i);for(let n=0;n<Xp.length;n++){const s=Xp[n]+i;if(s in t)return gh[e]=s}return e}const Vp="http://www.w3.org/1999/xlink";function JA(t,e,r,i,n){if(i&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(Vp,e.slice(6,e.length)):t.setAttributeNS(Vp,e,r);else{const s=cT(e);r==null||s&&!G_(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function e2(t,e,r,i,n,s,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,n,s),t[e]=r??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=r;const c=a==="OPTION"?t.getAttribute("value"):t.value,h=r??"";c!==h&&(t.value=h),r==null&&t.removeAttribute(e);return}let l=!1;if(r===""||r==null){const c=typeof t[e];c==="boolean"?r=G_(r):r==null&&c==="string"?(r="",l=!0):c==="number"&&(r=0,l=!0)}try{t[e]=r}catch{}l&&t.removeAttribute(e)}function _s(t,e,r,i){t.addEventListener(e,r,i)}function t2(t,e,r,i){t.removeEventListener(e,r,i)}const qp=Symbol("_vei");function r2(t,e,r,i,n=null){const s=t[qp]||(t[qp]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=i2(e);if(i){const c=s[e]=o2(i,n);_s(t,a,c,l)}else o&&(t2(t,a,o,l),s[e]=void 0)}}const Yp=/(?:Once|Passive|Capture)$/;function i2(t){let e;if(Yp.test(t)){e={};let i;for(;i=t.match(Yp);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):rs(t.slice(2)),e]}let _h=0;const n2=Promise.resolve(),s2=()=>_h||(n2.then(()=>_h=0),_h=Date.now());function o2(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Or(a2(i,r.value),e,5,[i])};return r.value=t,r.attached=s2(),r}function a2(t,e){if(ve(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const Kp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,l2=(t,e,r,i,n=!1,s,o,a,l)=>{e==="class"?YA(t,i,n):e==="style"?ZA(t,r,i):Ac(e)?$d(e)||r2(t,e,r,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):c2(t,e,i,n))?e2(t,e,i,s,o,a,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),JA(t,e,i,n))};function c2(t,e,r,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Kp(e)&&Ae(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Kp(e)&&lt(r)?!1:e in t}const Zp=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ve(e)?r=>bl(e,r):e};function h2(t){t.target.composing=!0}function Qp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const yh=Symbol("_assign"),t9={created(t,{modifiers:{lazy:e,trim:r,number:i}},n){t[yh]=Zp(n);const s=i||n.props&&n.props.type==="number";_s(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),s&&(a=of(a)),t[yh](a)}),r&&_s(t,"change",()=>{t.value=t.value.trim()}),e||(_s(t,"compositionstart",h2),_s(t,"compositionend",Qp),_s(t,"change",Qp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:i,number:n}},s){if(t[yh]=Zp(s),t.composing)return;const o=n||t.type==="number"?of(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(r||i&&t.value.trim()===a)||(t.value=a))}},u2=["ctrl","shift","alt","meta"],f2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>u2.some(r=>t[`${r}Key`]&&!e.includes(r))},r9=(t,e)=>t._withMods||(t._withMods=(r,...i)=>{for(let n=0;n<e.length;n++){const s=f2[e[n]];if(s&&s(r,e))return}return t(r,...i)}),d2={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},i9=(t,e)=>t._withKeys||(t._withKeys=r=>{if(!("key"in r))return;const i=rs(r.key);if(e.some(n=>n===i||d2[n]===i))return t(r)}),p2=St({patchProp:l2},VA);let Jp;function m2(){return Jp||(Jp=wA(p2))}const O1=(...t)=>{const e=m2().createApp(...t),{mount:r}=e;return e.mount=i=>{const n=x2(i);if(!n)return;const s=e._component;!Ae(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.innerHTML="";const o=r(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function x2(t){return lt(t)?document.querySelector(t):t}const g2="modulepreload",_2=function(t){return"/"+t},em={},To=function(e,r,i){if(!r||r.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=_2(s),s in em)return;em[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let h=n.length-1;h>=0;h--){const u=n[h];if(u.href===s&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":g2,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((h,u)=>{c.addEventListener("load",h),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ys=typeof window<"u";function y2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ue=Object.assign;function vh(t,e){const r={};for(const i in e){const n=e[i];r[i]=Ur(n)?n.map(t):t(n)}return r}const qo=()=>{},Ur=Array.isArray,v2=/\/$/,b2=t=>t.replace(v2,"");function bh(t,e,r="/"){let i,n={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),n=t(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=w2(i??e,r),{fullPath:i+(s&&"?")+s+o,path:i,query:n,hash:o}}function E2(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function tm(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function T2(t,e,r){const i=e.matched.length-1,n=r.matched.length-1;return i>-1&&i===n&&qs(e.matched[i],r.matched[n])&&k1(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function qs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function k1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!A2(t[r],e[r]))return!1;return!0}function A2(t,e){return Ur(t)?rm(t,e):Ur(e)?rm(e,t):t===e}function rm(t,e){return Ur(e)?t.length===e.length&&t.every((r,i)=>r===e[i]):t.length===1&&t[0]===e}function w2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),i=t.split("/"),n=i[i.length-1];(n===".."||n===".")&&i.push("");let s=r.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var da;(function(t){t.pop="pop",t.push="push"})(da||(da={}));var Yo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Yo||(Yo={}));function S2(t){if(!t)if(ys){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),b2(t)}const C2=/^[^#]+#/;function B2(t,e){return t.replace(C2,"#")+e}function R2(t,e){const r=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-r.left-(e.left||0),top:i.top-r.top-(e.top||0)}}const Nc=()=>({left:window.pageXOffset,top:window.pageYOffset});function P2(t){let e;if("el"in t){const r=t.el,i=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=R2(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function im(t,e){return(history.state?history.state.position-e:-1)+t}const vf=new Map;function D2(t,e){vf.set(t,e)}function I2(t){const e=vf.get(t);return vf.delete(t),e}let F2=()=>location.protocol+"//"+location.host;function N1(t,e){const{pathname:r,search:i,hash:n}=e,s=t.indexOf("#");if(s>-1){let a=n.includes(t.slice(s))?t.slice(s).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),tm(l,"")}return tm(r,t)+i+n}function M2(t,e,r,i){let n=[],s=[],o=null;const a=({state:f})=>{const d=N1(t,location),p=r.value,m=e.value;let x=0;if(f){if(r.value=d,e.value=f,o&&o===p){o=null;return}x=m?f.position-m.position:0}else i(d);n.forEach(y=>{y(r.value,p,{delta:x,type:da.pop,direction:x?x>0?Yo.forward:Yo.back:Yo.unknown})})};function l(){o=r.value}function c(f){n.push(f);const d=()=>{const p=n.indexOf(f);p>-1&&n.splice(p,1)};return s.push(d),d}function h(){const{history:f}=window;f.state&&f.replaceState(Ue({},f.state,{scroll:Nc()}),"")}function u(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:c,destroy:u}}function nm(t,e,r,i=!1,n=!1){return{back:t,current:e,forward:r,replaced:i,position:window.history.length,scroll:n?Nc():null}}function O2(t){const{history:e,location:r}=window,i={value:N1(t,r)},n={value:e.state};n.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,h){const u=t.indexOf("#"),f=u>-1?(r.host&&document.querySelector("base")?t:t.slice(u))+l:F2()+t+l;try{e[h?"replaceState":"pushState"](c,"",f),n.value=c}catch(d){console.error(d),r[h?"replace":"assign"](f)}}function o(l,c){const h=Ue({},e.state,nm(n.value.back,l,n.value.forward,!0),c,{position:n.value.position});s(l,h,!0),i.value=l}function a(l,c){const h=Ue({},n.value,e.state,{forward:l,scroll:Nc()});s(h.current,h,!0);const u=Ue({},nm(i.value,l,null),{position:h.position+1},c);s(l,u,!1),i.value=l}return{location:i,state:n,push:a,replace:o}}function k2(t){t=S2(t);const e=O2(t),r=M2(t,e.state,e.location,e.replace);function i(s,o=!0){o||r.pauseListeners(),history.go(s)}const n=Ue({location:"",base:t,go:i,createHref:B2.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function N2(t){return typeof t=="string"||t&&typeof t=="object"}function L1(t){return typeof t=="string"||typeof t=="symbol"}const Ni={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},U1=Symbol("");var sm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(sm||(sm={}));function Ys(t,e){return Ue(new Error,{type:t,[U1]:!0},e)}function ui(t,e){return t instanceof Error&&U1 in t&&(e==null||!!(t.type&e))}const om="[^/]+?",L2={sensitive:!1,strict:!1,start:!0,end:!0},U2=/[.+*?^${}()[\]/\\]/g;function z2(t,e){const r=Ue({},L2,e),i=[];let n=r.start?"^":"";const s=[];for(const c of t){const h=c.length?[]:[90];r.strict&&!c.length&&(n+="/");for(let u=0;u<c.length;u++){const f=c[u];let d=40+(r.sensitive?.25:0);if(f.type===0)u||(n+="/"),n+=f.value.replace(U2,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:m,optional:x,regexp:y}=f;s.push({name:p,repeatable:m,optional:x});const _=y||om;if(_!==om){d+=10;try{new RegExp(`(${_})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+v.message)}}let g=m?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;u||(g=x&&c.length<2?`(?:/${g})`:"/"+g),x&&(g+="?"),n+=g,d+=20,x&&(d+=-8),m&&(d+=-20),_===".*"&&(d+=-50)}h.push(d)}i.push(h)}if(r.strict&&r.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&(n+="(?:/|$)");const o=new RegExp(n,r.sensitive?"":"i");function a(c){const h=c.match(o),u={};if(!h)return null;for(let f=1;f<h.length;f++){const d=h[f]||"",p=s[f-1];u[p.name]=d&&p.repeatable?d.split("/"):d}return u}function l(c){let h="",u=!1;for(const f of t){(!u||!h.endsWith("/"))&&(h+="/"),u=!1;for(const d of f)if(d.type===0)h+=d.value;else if(d.type===1){const{value:p,repeatable:m,optional:x}=d,y=p in c?c[p]:"";if(Ur(y)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=Ur(y)?y.join("/"):y;if(!_)if(x)f.length<2&&(h.endsWith("/")?h=h.slice(0,-1):u=!0);else throw new Error(`Missing required param "${p}"`);h+=_}}return h||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function H2(t,e){let r=0;for(;r<t.length&&r<e.length;){const i=e[r]-t[r];if(i)return i;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function G2(t,e){let r=0;const i=t.score,n=e.score;for(;r<i.length&&r<n.length;){const s=H2(i[r],n[r]);if(s)return s;r++}if(Math.abs(n.length-i.length)===1){if(am(i))return 1;if(am(n))return-1}return n.length-i.length}function am(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const $2={type:0,value:""},W2=/[a-zA-Z0-9_]/;function j2(t){if(!t)return[[]];if(t==="/")return[[$2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${r})/"${c}": ${d}`)}let r=0,i=r;const n=[];let s;function o(){s&&n.push(s),s=[]}let a=0,l,c="",h="";function u(){c&&(r===0?s.push({type:0,value:c}):r===1||r===2||r===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:l==="/"?(c&&u(),o()):l===":"?(u(),r=1):f();break;case 4:f(),r=i;break;case 1:l==="("?r=2:W2.test(l)?f():(u(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:r=3:h+=l;break;case 3:u(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${c}"`),u(),o(),n}function X2(t,e,r){const i=z2(j2(t.path),r),n=Ue(i,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function V2(t,e){const r=[],i=new Map;e=hm({strict:!1,end:!0,sensitive:!1},e);function n(h){return i.get(h)}function s(h,u,f){const d=!f,p=q2(h);p.aliasOf=f&&f.record;const m=hm(e,h),x=[p];if("alias"in h){const g=typeof h.alias=="string"?[h.alias]:h.alias;for(const v of g)x.push(Ue({},p,{components:f?f.record.components:p.components,path:v,aliasOf:f?f.record:p}))}let y,_;for(const g of x){const{path:v}=g;if(u&&v[0]!=="/"){const b=u.record.path,E=b[b.length-1]==="/"?"":"/";g.path=u.record.path+(v&&E+v)}if(y=X2(g,u,m),f?f.alias.push(y):(_=_||y,_!==y&&_.alias.push(y),d&&h.name&&!cm(y)&&o(h.name)),p.children){const b=p.children;for(let E=0;E<b.length;E++)s(b[E],y,f&&f.children[E])}f=f||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return _?()=>{o(_)}:qo}function o(h){if(L1(h)){const u=i.get(h);u&&(i.delete(h),r.splice(r.indexOf(u),1),u.children.forEach(o),u.alias.forEach(o))}else{const u=r.indexOf(h);u>-1&&(r.splice(u,1),h.record.name&&i.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return r}function l(h){let u=0;for(;u<r.length&&G2(h,r[u])>=0&&(h.record.path!==r[u].record.path||!z1(h,r[u]));)u++;r.splice(u,0,h),h.record.name&&!cm(h)&&i.set(h.record.name,h)}function c(h,u){let f,d={},p,m;if("name"in h&&h.name){if(f=i.get(h.name),!f)throw Ys(1,{location:h});m=f.record.name,d=Ue(lm(u.params,f.keys.filter(_=>!_.optional).map(_=>_.name)),h.params&&lm(h.params,f.keys.map(_=>_.name))),p=f.stringify(d)}else if("path"in h)p=h.path,f=r.find(_=>_.re.test(p)),f&&(d=f.parse(p),m=f.record.name);else{if(f=u.name?i.get(u.name):r.find(_=>_.re.test(u.path)),!f)throw Ys(1,{location:h,currentLocation:u});m=f.record.name,d=Ue({},u.params,h.params),p=f.stringify(d)}const x=[];let y=f;for(;y;)x.unshift(y.record),y=y.parent;return{name:m,path:p,params:d,matched:x,meta:K2(x)}}return t.forEach(h=>s(h)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:n}}function lm(t,e){const r={};for(const i of e)i in t&&(r[i]=t[i]);return r}function q2(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Y2(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Y2(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const i in t.components)e[i]=typeof r=="object"?r[i]:r;return e}function cm(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function K2(t){return t.reduce((e,r)=>Ue(e,r.meta),{})}function hm(t,e){const r={};for(const i in t)r[i]=i in e?e[i]:t[i];return r}function z1(t,e){return e.children.some(r=>r===t||z1(t,r))}const H1=/#/g,Z2=/&/g,Q2=/\//g,J2=/=/g,ew=/\?/g,G1=/\+/g,tw=/%5B/g,rw=/%5D/g,$1=/%5E/g,iw=/%60/g,W1=/%7B/g,nw=/%7C/g,j1=/%7D/g,sw=/%20/g;function c0(t){return encodeURI(""+t).replace(nw,"|").replace(tw,"[").replace(rw,"]")}function ow(t){return c0(t).replace(W1,"{").replace(j1,"}").replace($1,"^")}function bf(t){return c0(t).replace(G1,"%2B").replace(sw,"+").replace(H1,"%23").replace(Z2,"%26").replace(iw,"`").replace(W1,"{").replace(j1,"}").replace($1,"^")}function aw(t){return bf(t).replace(J2,"%3D")}function lw(t){return c0(t).replace(H1,"%23").replace(ew,"%3F")}function cw(t){return t==null?"":lw(t).replace(Q2,"%2F")}function Yl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function hw(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<i.length;++n){const s=i[n].replace(G1," "),o=s.indexOf("="),a=Yl(o<0?s:s.slice(0,o)),l=o<0?null:Yl(s.slice(o+1));if(a in e){let c=e[a];Ur(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function um(t){let e="";for(let r in t){const i=t[r];if(r=aw(r),i==null){i!==void 0&&(e+=(e.length?"&":"")+r);continue}(Ur(i)?i.map(s=>s&&bf(s)):[i&&bf(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function uw(t){const e={};for(const r in t){const i=t[r];i!==void 0&&(e[r]=Ur(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return e}const fw=Symbol(""),fm=Symbol(""),Lc=Symbol(""),h0=Symbol(""),Ef=Symbol("");function Ao(){let t=[];function e(i){return t.push(i),()=>{const n=t.indexOf(i);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Gi(t,e,r,i,n){const s=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((o,a)=>{const l=u=>{u===!1?a(Ys(4,{from:r,to:e})):u instanceof Error?a(u):N2(u)?a(Ys(2,{from:e,to:u})):(s&&i.enterCallbacks[n]===s&&typeof u=="function"&&s.push(u),o())},c=t.call(i&&i.instances[n],e,r,l);let h=Promise.resolve(c);t.length<3&&(h=h.then(l)),h.catch(u=>a(u))})}function Eh(t,e,r,i){const n=[];for(const s of t)for(const o in s.components){let a=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(dw(a)){const c=(a.__vccOpts||a)[e];c&&n.push(Gi(c,r,i,s,o))}else{let l=a();n.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const h=y2(c)?c.default:c;s.components[o]=h;const f=(h.__vccOpts||h)[e];return f&&Gi(f,r,i,s,o)()}))}}return n}function dw(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function dm(t){const e=gr(Lc),r=gr(h0),i=ze(()=>e.resolve(Wt(t.to))),n=ze(()=>{const{matched:l}=i.value,{length:c}=l,h=l[c-1],u=r.matched;if(!h||!u.length)return-1;const f=u.findIndex(qs.bind(null,h));if(f>-1)return f;const d=pm(l[c-2]);return c>1&&pm(h)===d&&u[u.length-1].path!==d?u.findIndex(qs.bind(null,l[c-2])):f}),s=ze(()=>n.value>-1&&gw(r.params,i.value.params)),o=ze(()=>n.value>-1&&n.value===r.matched.length-1&&k1(r.params,i.value.params));function a(l={}){return xw(l)?e[Wt(t.replace)?"replace":"push"](Wt(t.to)).catch(qo):Promise.resolve()}return{route:i,href:ze(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const pw=vr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:dm,setup(t,{slots:e}){const r=Lt(dm(t)),{options:i}=gr(Lc),n=ze(()=>({[mm(t.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[mm(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&e.default(r);return t.custom?s:As("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},s)}}}),mw=pw;function xw(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function gw(t,e){for(const r in e){const i=e[r],n=t[r];if(typeof i=="string"){if(i!==n)return!1}else if(!Ur(n)||n.length!==i.length||i.some((s,o)=>s!==n[o]))return!1}return!0}function pm(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const mm=(t,e,r)=>t??e??r,_w=vr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const i=gr(Ef),n=ze(()=>t.route||i.value),s=gr(fm,0),o=ze(()=>{let c=Wt(s);const{matched:h}=n.value;let u;for(;(u=h[c])&&!u.components;)c++;return c}),a=ze(()=>n.value.matched[o.value]);El(fm,ze(()=>o.value+1)),El(fw,a),El(Ef,n);const l=yi();return Wo(()=>[l.value,a.value,t.name],([c,h,u],[f,d,p])=>{h&&(h.instances[u]=c,d&&d!==h&&c&&c===f&&(h.leaveGuards.size||(h.leaveGuards=d.leaveGuards),h.updateGuards.size||(h.updateGuards=d.updateGuards))),c&&h&&(!d||!qs(h,d)||!f)&&(h.enterCallbacks[u]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=n.value,h=t.name,u=a.value,f=u&&u.components[h];if(!f)return xm(r.default,{Component:f,route:c});const d=u.props[h],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,x=As(f,Ue({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(u.instances[h]=null)},ref:l}));return xm(r.default,{Component:x,route:c})||x}}});function xm(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const u0=_w;function yw(t){const e=V2(t.routes,t),r=t.parseQuery||hw,i=t.stringifyQuery||um,n=t.history,s=Ao(),o=Ao(),a=Ao(),l=MT(Ni);let c=Ni;ys&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=vh.bind(null,N=>""+N),u=vh.bind(null,cw),f=vh.bind(null,Yl);function d(N,W){let Q,ie;return L1(N)?(Q=e.getRecordMatcher(N),ie=W):ie=N,e.addRoute(ie,Q)}function p(N){const W=e.getRecordMatcher(N);W&&e.removeRoute(W)}function m(){return e.getRoutes().map(N=>N.record)}function x(N){return!!e.getRecordMatcher(N)}function y(N,W){if(W=Ue({},W||l.value),typeof N=="string"){const M=bh(r,N,W.path),z=e.resolve({path:M.path},W),X=n.createHref(M.fullPath);return Ue(M,z,{params:f(z.params),hash:Yl(M.hash),redirectedFrom:void 0,href:X})}let Q;if("path"in N)Q=Ue({},N,{path:bh(r,N.path,W.path).path});else{const M=Ue({},N.params);for(const z in M)M[z]==null&&delete M[z];Q=Ue({},N,{params:u(M)}),W.params=u(W.params)}const ie=e.resolve(Q,W),ue=N.hash||"";ie.params=h(f(ie.params));const S=E2(i,Ue({},N,{hash:ow(ue),path:ie.path})),R=n.createHref(S);return Ue({fullPath:S,hash:ue,query:i===um?uw(N.query):N.query||{}},ie,{redirectedFrom:void 0,href:R})}function _(N){return typeof N=="string"?bh(r,N,l.value.path):Ue({},N)}function g(N,W){if(c!==N)return Ys(8,{from:W,to:N})}function v(N){return T(N)}function b(N){return v(Ue(_(N),{replace:!0}))}function E(N){const W=N.matched[N.matched.length-1];if(W&&W.redirect){const{redirect:Q}=W;let ie=typeof Q=="function"?Q(N):Q;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=_(ie):{path:ie},ie.params={}),Ue({query:N.query,hash:N.hash,params:"path"in ie?{}:N.params},ie)}}function T(N,W){const Q=c=y(N),ie=l.value,ue=N.state,S=N.force,R=N.replace===!0,M=E(Q);if(M)return T(Ue(_(M),{state:typeof M=="object"?Ue({},ue,M.state):ue,force:S,replace:R}),W||Q);const z=Q;z.redirectedFrom=W;let X;return!S&&T2(i,ie,Q)&&(X=Ys(16,{to:z,from:ie}),O(ie,ie,!0,!1)),(X?Promise.resolve(X):w(z,ie)).catch(K=>ui(K)?ui(K,2)?K:H(K):Z(K,z,ie)).then(K=>{if(K){if(ui(K,2))return T(Ue({replace:R},_(K.to),{state:typeof K.to=="object"?Ue({},ue,K.to.state):ue,force:S}),W||z)}else K=I(z,ie,!0,R,ue);return B(z,ie,K),K})}function A(N,W){const Q=g(N,W);return Q?Promise.reject(Q):Promise.resolve()}function P(N){const W=L.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(N):N()}function w(N,W){let Q;const[ie,ue,S]=vw(N,W);Q=Eh(ie.reverse(),"beforeRouteLeave",N,W);for(const M of ie)M.leaveGuards.forEach(z=>{Q.push(Gi(z,N,W))});const R=A.bind(null,N,W);return Q.push(R),ce(Q).then(()=>{Q=[];for(const M of s.list())Q.push(Gi(M,N,W));return Q.push(R),ce(Q)}).then(()=>{Q=Eh(ue,"beforeRouteUpdate",N,W);for(const M of ue)M.updateGuards.forEach(z=>{Q.push(Gi(z,N,W))});return Q.push(R),ce(Q)}).then(()=>{Q=[];for(const M of S)if(M.beforeEnter)if(Ur(M.beforeEnter))for(const z of M.beforeEnter)Q.push(Gi(z,N,W));else Q.push(Gi(M.beforeEnter,N,W));return Q.push(R),ce(Q)}).then(()=>(N.matched.forEach(M=>M.enterCallbacks={}),Q=Eh(S,"beforeRouteEnter",N,W),Q.push(R),ce(Q))).then(()=>{Q=[];for(const M of o.list())Q.push(Gi(M,N,W));return Q.push(R),ce(Q)}).catch(M=>ui(M,8)?M:Promise.reject(M))}function B(N,W,Q){a.list().forEach(ie=>P(()=>ie(N,W,Q)))}function I(N,W,Q,ie,ue){const S=g(N,W);if(S)return S;const R=W===Ni,M=ys?history.state:{};Q&&(ie||R?n.replace(N.fullPath,Ue({scroll:R&&M&&M.scroll},ue)):n.push(N.fullPath,ue)),l.value=N,O(N,W,Q,R),H()}let D;function F(){D||(D=n.listen((N,W,Q)=>{if(!xe.listening)return;const ie=y(N),ue=E(ie);if(ue){T(Ue(ue,{replace:!0}),ie).catch(qo);return}c=ie;const S=l.value;ys&&D2(im(S.fullPath,Q.delta),Nc()),w(ie,S).catch(R=>ui(R,12)?R:ui(R,2)?(T(R.to,ie).then(M=>{ui(M,20)&&!Q.delta&&Q.type===da.pop&&n.go(-1,!1)}).catch(qo),Promise.reject()):(Q.delta&&n.go(-Q.delta,!1),Z(R,ie,S))).then(R=>{R=R||I(ie,S,!1),R&&(Q.delta&&!ui(R,8)?n.go(-Q.delta,!1):Q.type===da.pop&&ui(R,20)&&n.go(-1,!1)),B(ie,S,R)}).catch(qo)}))}let j=Ao(),$=Ao(),U;function Z(N,W,Q){H(N);const ie=$.list();return ie.length?ie.forEach(ue=>ue(N,W,Q)):console.error(N),Promise.reject(N)}function le(){return U&&l.value!==Ni?Promise.resolve():new Promise((N,W)=>{j.add([N,W])})}function H(N){return U||(U=!N,F(),j.list().forEach(([W,Q])=>N?Q(N):W()),j.reset()),N}function O(N,W,Q,ie){const{scrollBehavior:ue}=t;if(!ys||!ue)return Promise.resolve();const S=!Q&&I2(im(N.fullPath,0))||(ie||!Q)&&history.state&&history.state.scroll||null;return Ia().then(()=>ue(N,W,S)).then(R=>R&&P2(R)).catch(R=>Z(R,N,W))}const k=N=>n.go(N);let G;const L=new Set,xe={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:x,getRoutes:m,resolve:y,options:t,push:v,replace:b,go:k,back:()=>k(-1),forward:()=>k(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:$.add,isReady:le,install(N){const W=this;N.component("RouterLink",mw),N.component("RouterView",u0),N.config.globalProperties.$router=W,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Wt(l)}),ys&&!G&&l.value===Ni&&(G=!0,v(n.location).catch(ue=>{}));const Q={};for(const ue in Ni)Object.defineProperty(Q,ue,{get:()=>l.value[ue],enumerable:!0});N.provide(Lc,W),N.provide(h0,e1(Q)),N.provide(Ef,l);const ie=N.unmount;L.add(N),N.unmount=function(){L.delete(N),L.size<1&&(c=Ni,D&&D(),D=null,l.value=Ni,G=!1,U=!1),ie()}}};function ce(N){return N.reduce((W,Q)=>W.then(()=>P(Q)),Promise.resolve())}return xe}function vw(t,e){const r=[],i=[],n=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>qs(c,a))?i.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(c=>qs(c,l))||n.push(l))}return[r,i,n]}function bw(){return gr(Lc)}function Ew(){return gr(h0)}const q=Lt({userID:"",accessToken:"",refreshToken:"",currentGroupIndex:0,turnInPrize:0,prizeTurn:0,gameName:"",signedIn:!1}),Fa={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ks={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Nt={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Tw={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom"},X1={dangerouslyHTMLString:!1,multiple:!0,position:Fa.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},Aw={rtl:!1,newestOnTop:!1,toastClassName:""},V1={...X1,...Aw};({...X1,type:Nt.DEFAULT});var Le=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(Le||{}),Tf=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(Tf||{});const ww={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},Sw={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},Cw={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},Bw={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"};function q1(t){let e=ww;if(!t||typeof t=="string")switch(t){case"flip":e=Bw;break;case"zoom":e=Cw;break;case"slide":e=Sw;break}else e=t;return e}function Rw(t){return t.containerId||String(t.position)}const Uc="will-unmount";function Pw(t=Fa.TOP_RIGHT){return!!document.querySelector(".".concat(Le.CSS_NAMESPACE,"__toast-container--").concat(t))}function Dw(t=Fa.TOP_RIGHT){return"".concat(Le.CSS_NAMESPACE,"__toast-container--").concat(t)}function Iw(t,e,r=!1){const i=["".concat(Le.CSS_NAMESPACE,"__toast-container"),"".concat(Le.CSS_NAMESPACE,"__toast-container--").concat(t),r?"".concat(Le.CSS_NAMESPACE,"__toast-container--rtl"):null].filter(Boolean).join(" ");return Ms(e)?e({position:t,rtl:r,defaultClassName:i}):"".concat(i," ").concat(e||"")}function Fw(t){var e;const{position:r,containerClassName:i,rtl:n=!1,style:s={}}=t,o=Le.CSS_NAMESPACE,a=Dw(r),l=document.querySelector(".".concat(o)),c=document.querySelector(".".concat(a)),h=!!c&&!((e=c.className)!=null&&e.includes(Uc)),u=l||document.createElement("div"),f=document.createElement("div");f.className=Iw(r,i,n),f.dataset.testid="".concat(Le.CSS_NAMESPACE,"__toast-container--").concat(r),f.id=Rw(t);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const p=s[d];f.style[d]=p}return l||(u.className=Le.CSS_NAMESPACE,document.body.appendChild(u)),h||u.appendChild(f),f}function Af(t){var e,r,i;const n=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((r=t.target)==null?void 0:r.id),s=document.getElementById(n);s&&s.removeEventListener("animationend",Af,!1);try{pa[n].unmount(),(i=document.getElementById(n))==null||i.remove(),delete pa[n],delete vt[n]}catch{}}const pa=Lt({});function Mw(t,e){const r=document.getElementById(String(e));r&&(pa[r.id]=t)}function wf(t,e=!0){const r=String(t);if(!pa[r])return;const i=document.getElementById(r);i&&i.classList.add(Uc),e?(kw(t),i&&i.addEventListener("animationend",Af,!1)):Af(r),ni.items=ni.items.filter(n=>n.containerId!==t)}function Ow(t){for(const e in pa)wf(e,t);ni.items=[]}function Y1(t,e){const r=document.getElementById(t.toastId);if(r){let i=t;i={...i,...q1(i.transition)};const n=i.appendPosition?"".concat(i.exit,"--").concat(i.position):i.exit;r.className+=" ".concat(n),e&&e(r)}}function kw(t){for(const e in vt)if(e===t)for(const r of vt[e]||[])Y1(r)}function Nw(t){const e=Ma().find(r=>r.toastId===t);return e==null?void 0:e.containerId}function f0(t){return document.getElementById(t)}function Lw(t){const e=f0(t.containerId);return e&&e.classList.contains(Uc)}function gm(t){var e;const r=Xs(t.content)?we(t.content.props):null;return r??we((e=t.data)!=null?e:{})}function Uw(t){return t?ni.items.filter(e=>e.containerId===t).length>0:ni.items.length>0}function zw(){if(ni.items.length>0){const t=ni.items.shift();wl(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const vt=Lt({}),ni=Lt({items:[]});function Ma(){const t=we(vt);return Object.values(t).reduce((e,r)=>[...e,...r],[])}function Hw(t){return Ma().find(e=>e.toastId===t)}function wl(t,e={}){if(Lw(e)){const r=f0(e.containerId);r&&r.addEventListener("animationend",Sf.bind(null,t,e),!1)}else Sf(t,e)}function Sf(t,e={}){const r=f0(e.containerId);r&&r.removeEventListener("animationend",Sf.bind(null,t,e),!1);const i=vt[e.containerId]||[],n=i.length>0;if(!n&&!Pw(e.position)){const s=Fw(e),o=O1(oS,e);o.mount(s),Mw(o,s.id)}n&&(e.position=i[0].position),Ia(()=>{e.updateId?Jr.update(e):Jr.add(t,e)})}const Jr={add(t,e){const{containerId:r=""}=e;r&&(vt[r]=vt[r]||[],vt[r].find(i=>i.toastId===e.toastId)||setTimeout(()=>{var i,n;e.newestOnTop?(i=vt[r])==null||i.unshift(e):(n=vt[r])==null||n.push(e),e.onOpen&&e.onOpen(gm(e))},e.delay||0))},remove(t){if(t){const e=Nw(t);if(e){const r=vt[e];let i=r.find(n=>n.toastId===t);vt[e]=r.filter(n=>n.toastId!==t),!vt[e].length&&!Uw(e)&&wf(e,!1),zw(),Ia(()=>{i!=null&&i.onClose&&(i.onClose(gm(i)),i=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){vt[e]=vt[e]||[];const r=vt[e].find(i=>i.toastId===t.toastId);r&&setTimeout(()=>{for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const n=t[i];r[i]=n}},t.delay||0)}},clear(t,e=!0){t?wf(t,e):Ow(e)},dismissCallback(t){var e;const r=(e=t.currentTarget)==null?void 0:e.id,i=document.getElementById(r);i&&(i.removeEventListener("animationend",Jr.dismissCallback,!1),setTimeout(()=>{Jr.remove(r)}))},dismiss(t){if(t){const e=Ma();for(const r of e)if(r.toastId===t){Y1(r,i=>{i.addEventListener("animationend",Jr.dismissCallback,!1)});break}}}},K1=Lt({}),Kl=Lt({});function Z1(){return Math.random().toString(36).substring(2,9)}function Gw(t){return typeof t=="number"&&!isNaN(t)}function Cf(t){return typeof t=="string"}function Ms(t){return typeof t=="function"}function zc(...t){return Pi(...t)}function Sl(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function $w(t={}){K1["".concat(Le.CSS_NAMESPACE,"-default-options")]=t}function Ww(){return K1["".concat(Le.CSS_NAMESPACE,"-default-options")]||V1}function jw(){return document.documentElement.classList.contains("dark")?"dark":"light"}var Cl=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(Cl||{});const Q1={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Fa.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Ks.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Nt.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""}},Xw={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Nt.DEFAULT},theme:{type:String,required:!1,default:Ks.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},Vw=vr({name:"ProgressBar",props:Xw,setup(t,{attrs:e}){const r=yi(),i=ze(()=>t.hide?"true":"false"),n=ze(()=>({...e.style||{},animationDuration:"".concat(t.autoClose===!0?5e3:t.autoClose,"ms"),animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?"scaleX(".concat(t.progress,")"):"none"})),s=ze(()=>["".concat(Le.CSS_NAMESPACE,"__progress-bar"),t.controlledProgress?"".concat(Le.CSS_NAMESPACE,"__progress-bar--controlled"):"".concat(Le.CSS_NAMESPACE,"__progress-bar--animated"),"".concat(Le.CSS_NAMESPACE,"__progress-bar-theme--").concat(t.theme),"".concat(Le.CSS_NAMESPACE,"__progress-bar--").concat(t.type),t.rtl?"".concat(Le.CSS_NAMESPACE,"__progress-bar--rtl"):null].filter(Boolean).join(" ")),o=ze(()=>"".concat(s.value," ").concat((e==null?void 0:e.class)||"")),a=()=>{r.value&&(r.value.onanimationend=null,r.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),a())},c=ze(()=>t.controlledProgress?null:l),h=ze(()=>t.controlledProgress?l:null);return $o(()=>{r.value&&(a(),r.value.onanimationend=c.value,r.value.ontransitionend=h.value)}),()=>Se("div",{ref:r,role:"progressbar","aria-hidden":i.value,"aria-label":"notification timer",class:o.value,style:n.value},null)}}),qw=vr({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Ks.AUTO},type:{type:String,required:!1,default:Ks.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>Se("button",{class:"".concat(Le.CSS_NAMESPACE,"__close-button ").concat(Le.CSS_NAMESPACE,"__close-button--").concat(t.theme),type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[Se("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[Se("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),Hc=({theme:t,type:e,path:r,...i})=>Se("svg",Pi({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":"var(--toastify-icon-color-".concat(e,")")},i),[Se("path",{d:r},null)]);function Yw(t){return Se(Hc,Pi(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function Kw(t){return Se(Hc,Pi(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function Zw(t){return Se(Hc,Pi(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function Qw(t){return Se(Hc,Pi(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function Jw(){return Se("div",{class:"".concat(Le.CSS_NAMESPACE,"__spinner")},null)}const Bf={info:Kw,warning:Yw,success:Zw,error:Qw,spinner:Jw},eS=t=>t in Bf;function tS({theme:t,type:e,isLoading:r,icon:i}){let n;const s={theme:t,type:e};return r?n=Bf.spinner():i===!1?n=void 0:Sl(i)?n=we(i):Ms(i)?n=i(s):Xs(i)?n=Yn(i,s):Cf(i)||Gw(i)?n=i:eS(e)&&(n=Bf[e](s)),n}const rS=()=>{};function iS(t,e,r=Le.COLLAPSE_DURATION){const{scrollHeight:i,style:n}=t,s=r;requestAnimationFrame(()=>{n.minHeight="initial",n.height=i+"px",n.transition="all ".concat(s,"ms"),requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(e,s)})})}function nS(t){const e=yi(!1),r=yi(!1),i=yi(!1),n=yi(Cl.Enter),s=Lt({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||Le.COLLAPSE_DURATION}),o=s.done||rS,a=ze(()=>s.appendPosition?"".concat(s.enter,"--").concat(s.position):s.enter),l=ze(()=>s.appendPosition?"".concat(s.exit,"--").concat(s.position):s.exit),c=ze(()=>t.pauseOnHover?{onMouseenter:x,onMouseleave:m}:{});function h(){const _=a.value.split(" ");f().addEventListener(Tf.ENTRANCE_ANIMATION_END,m,{once:!0});const g=b=>{const E=f();b.target===E&&(E.dispatchEvent(new Event(Tf.ENTRANCE_ANIMATION_END)),E.removeEventListener("animationend",g),E.removeEventListener("animationcancel",g),n.value===Cl.Enter&&b.type!=="animationcancel"&&E.classList.remove(..._))},v=()=>{const b=f();b.classList.add(..._),b.addEventListener("animationend",g),b.addEventListener("animationcancel",g)};t.pauseOnFocusLoss&&d(),v()}function u(){if(!f())return;const _=()=>{const v=f();v.removeEventListener("animationend",_),s.collapse?iS(v,o,s.collapseDuration):o()},g=()=>{const v=f();n.value=Cl.Exit,v&&(v.className+=" ".concat(l.value),v.addEventListener("animationend",_))};r.value||(i.value?_():setTimeout(g))}function f(){return t.toastRef.value}function d(){document.hasFocus()||x(),window.addEventListener("focus",m),window.addEventListener("blur",x)}function p(){window.removeEventListener("focus",m),window.removeEventListener("blur",x)}function m(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function x(){e.value=!1}function y(_){_&&(_.stopPropagation(),_.preventDefault()),r.value=!1}return $o(u),$o(()=>{const _=Ma();r.value=_.findIndex(g=>g.toastId===s.toastId)>-1}),$o(()=>{t.isLoading!==void 0&&(t.loading.value?x():m())}),r0(h),Fc(()=>{t.pauseOnFocusLoss&&p()}),{isIn:r,isRunning:e,hideToast:y,eventHandlers:c}}const sS=vr({name:"ToastItem",inheritAttrs:!1,props:Q1,setup(t){const e=yi(),r=ze(()=>!!t.isLoading),i=ze(()=>t.progress!==void 0&&t.progress!==null),n=ze(()=>tS(t)),s=ze(()=>["".concat(Le.CSS_NAMESPACE,"__toast"),"".concat(Le.CSS_NAMESPACE,"__toast-theme--").concat(t.theme),"".concat(Le.CSS_NAMESPACE,"__toast--").concat(t.type),t.rtl?"".concat(Le.CSS_NAMESPACE,"__toast--rtl"):void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:o,isIn:a,hideToast:l,eventHandlers:c}=nS({toastRef:e,loading:r,done:()=>{Jr.remove(t.toastId)},...q1(t.transition),...t});return()=>Se("div",Pi({id:t.toastId,class:s.value,style:t.toastStyle||{},ref:e,"data-testid":"toast-item-".concat(t.toastId),onClick:h=>{t.closeOnClick&&l(),t.onClick&&t.onClick(h)}},c.value),[Se("div",{role:t.role,"data-testid":"toast-body",class:"".concat(Le.CSS_NAMESPACE,"__toast-body ").concat(t.bodyClassName||"")},[n.value!=null&&Se("div",{"data-testid":"toast-icon-".concat(t.type),class:["".concat(Le.CSS_NAMESPACE,"__toast-icon"),t.isLoading?"":"".concat(Le.CSS_NAMESPACE,"--animate-icon ").concat(Le.CSS_NAMESPACE,"__zoom-enter")].join(" ")},[Sl(n.value)?As(we(n.value),{theme:t.theme,type:t.type}):Ms(n.value)?n.value({theme:t.theme,type:t.type}):n.value]),Se("div",{"data-testid":"toast-content"},[Sl(t.content)?As(we(t.content),{toastProps:we(t),closeToast:l,data:t.data}):Ms(t.content)?t.content({toastProps:we(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?As("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&Se(qw,{theme:t.theme,closeToast:h=>{h.stopPropagation(),h.preventDefault(),l()}},null),Sl(t.closeButton)?As(we(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):Ms(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,Se(Vw,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:a.value,type:t.type,hide:t.hideProgressBar,isRunning:o.value,autoClose:t.autoClose,controlledProgress:i.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let Ko=0;function J1(){typeof window>"u"||(Ko&&window.cancelAnimationFrame(Ko),Ko=window.requestAnimationFrame(J1),Kl.lastUrl!==window.location.href&&(Kl.lastUrl=window.location.href,Jr.clear()))}const oS=vr({name:"ToastifyContainer",inheritAttrs:!1,props:Q1,setup(t){const e=ze(()=>t.containerId),r=ze(()=>vt[e.value]||[]),i=ze(()=>r.value.filter(n=>n.position===t.position));return r0(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(J1)}),Fc(()=>{typeof window<"u"&&Ko&&(window.cancelAnimationFrame(Ko),Kl.lastUrl="")}),()=>Se(rr,null,[i.value.map(n=>{const{toastId:s=""}=n;return Se(sS,Pi({key:s},n),null)})])}});let Th=!1;function ey(){const t=[];return Ma().forEach(e=>{const r=document.getElementById(e.containerId);r&&!r.classList.contains(Uc)&&t.push(e)}),t}function aS(t){const e=ey().length,r=t??0;return r>0&&e+ni.items.length>=r}function lS(t){aS(t.limit)&&!t.updateId&&ni.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function un(t,e,r={}){if(Th)return;r=zc(Ww(),{type:e},we(r)),(!r.toastId||typeof r.toastId!="string"&&typeof r.toastId!="number")&&(r.toastId=Z1()),r={...r,content:t,containerId:r.containerId||String(r.position)};const i=Number(r==null?void 0:r.progress);return i<0&&(r.progress=0),i>1&&(r.progress=1),r.theme==="auto"&&(r.theme=jw()),lS(r),Kl.lastUrl=window.location.href,r.multiple?ni.items.length?r.updateId&&wl(t,r):wl(t,r):(Th=!0,He.clearAll(void 0,!1),setTimeout(()=>{wl(t,r)},0),setTimeout(()=>{Th=!1},390)),r.toastId}const He=(t,e)=>un(t,Nt.DEFAULT,e);He.info=(t,e)=>un(t,Nt.DEFAULT,{...e,type:Nt.INFO});He.error=(t,e)=>un(t,Nt.DEFAULT,{...e,type:Nt.ERROR});He.warning=(t,e)=>un(t,Nt.DEFAULT,{...e,type:Nt.WARNING});He.warn=He.warning;He.success=(t,e)=>un(t,Nt.DEFAULT,{...e,type:Nt.SUCCESS});He.loading=(t,e)=>un(t,Nt.DEFAULT,zc(e,{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1}));He.dark=(t,e)=>un(t,Nt.DEFAULT,zc(e,{theme:Ks.DARK}));He.remove=t=>{t?Jr.dismiss(t):Jr.clear()};He.clearAll=(t,e)=>{Jr.clear(t,e)};He.isActive=t=>{let e=!1;return e=ey().findIndex(r=>r.toastId===t)>-1,e};He.update=(t,e={})=>{setTimeout(()=>{const r=Hw(t);if(r){const i=we(r),{content:n}=i,s={...i,...e,toastId:e.toastId||t,updateId:Z1()},o=s.render||n;delete s.render,un(o,s.type,s)}},0)};He.done=t=>{He.update(t,{isLoading:!1,progress:1})};He.promise=cS;function cS(t,{pending:e,error:r,success:i},n){var s,o,a;let l;const c={...n||{},autoClose:!1};e&&(l=Cf(e)?He.loading(e,c):He.loading(e.render,{...c,...e}));const h={autoClose:(s=n==null?void 0:n.autoClose)!=null?s:!0,closeOnClick:(o=n==null?void 0:n.closeOnClick)!=null?o:!0,closeButton:(a=n==null?void 0:n.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},u=(d,p,m)=>{if(p==null){He.remove(l);return}const x={type:d,...h,...n,data:m},y=Cf(p)?{render:p}:p;return l?He.update(l,{...x,...y,isLoading:!1}):He(y.render,{...x,...y,isLoading:!1}),m},f=Ms(t)?t():t;return f.then(d=>{u("success",i,d)}).catch(d=>{u("error",r,d)}),f}He.POSITION=Fa;He.THEME=Ks;He.TYPE=Nt;He.TRANSITIONS=Tw;const ty={install(t,e={}){hS(e)}};typeof window<"u"&&(window.Vue3Toastify=ty);function hS(t={}){const e=zc(V1,t);$w(e)}var is=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(is||{}),ry=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(ry||{}),Rf=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Rf||{}),_e=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(_e||{}),Yr=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Yr||{}),te=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(te||{}),Os=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Os||{}),ge=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ge||{}),Pf=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Pf||{}),vi=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(vi||{}),Ji=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Ji||{}),si=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(si||{}),zr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(zr||{}),jr=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(jr||{}),d0=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(d0||{}),pr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(pr||{}),ht=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(ht||{}),it=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(it||{}),ei=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(ei||{});const uS={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},oe={ADAPTER:uS,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Ah=/iPhone/i,_m=/iPod/i,ym=/iPad/i,vm=/\biOS-universal(?:.+)Mac\b/i,wh=/\bAndroid(?:.+)Mobile\b/i,bm=/Android/i,us=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ka=/Silk/i,fi=/Windows Phone/i,Em=/\bWindows(?:.+)ARM\b/i,Tm=/BlackBerry/i,Am=/BB10/i,wm=/Opera Mini/i,Sm=/\b(CriOS|Chrome)(?:.+)Mobile/i,Cm=/Mobile(?:.+)Firefox\b/i,Bm=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function fS(t){return function(e){return e.test(t)}}function dS(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,i=r.split("[FBAN");typeof i[1]<"u"&&(r=i[0]),i=r.split("Twitter"),typeof i[1]<"u"&&(r=i[0]);var n=fS(r),s={apple:{phone:n(Ah)&&!n(fi),ipod:n(_m),tablet:!n(Ah)&&(n(ym)||Bm(e))&&!n(fi),universal:n(vm),device:(n(Ah)||n(_m)||n(ym)||n(vm)||Bm(e))&&!n(fi)},amazon:{phone:n(us),tablet:!n(us)&&n(Ka),device:n(us)||n(Ka)},android:{phone:!n(fi)&&n(us)||!n(fi)&&n(wh),tablet:!n(fi)&&!n(us)&&!n(wh)&&(n(Ka)||n(bm)),device:!n(fi)&&(n(us)||n(Ka)||n(wh)||n(bm))||n(/\bokhttp\b/i)},windows:{phone:n(fi),tablet:n(Em),device:n(fi)||n(Em)},other:{blackberry:n(Tm),blackberry10:n(Am),opera:n(wm),firefox:n(Cm),chrome:n(Sm),device:n(Tm)||n(Am)||n(wm)||n(Cm)||n(Sm)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const bi=dS(globalThis.navigator);oe.RETINA_PREFIX=/@([0-9\.]+)x/;oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function p0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pS(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),r}var iy={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function n(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function s(l,c,h,u,f){if(typeof h!="function")throw new TypeError("The listener must be a function");var d=new n(h,u||l,f),p=r?r+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],h,u;if(this._eventsCount===0)return c;for(u in h=this._events)e.call(h,u)&&c.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},a.prototype.listeners=function(c){var h=r?r+c:c,u=this._events[h];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,d=u.length,p=new Array(d);f<d;f++)p[f]=u[f].fn;return p},a.prototype.listenerCount=function(c){var h=r?r+c:c,u=this._events[h];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,h,u,f,d,p){var m=r?r+c:c;if(!this._events[m])return!1;var x=this._events[m],y=arguments.length,_,g;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,u),!0;case 4:return x.fn.call(x.context,h,u,f),!0;case 5:return x.fn.call(x.context,h,u,f,d),!0;case 6:return x.fn.call(x.context,h,u,f,d,p),!0}for(g=1,_=new Array(y-1);g<y;g++)_[g-1]=arguments[g];x.fn.apply(x.context,_)}else{var v=x.length,b;for(g=0;g<v;g++)switch(x[g].once&&this.removeListener(c,x[g].fn,void 0,!0),y){case 1:x[g].fn.call(x[g].context);break;case 2:x[g].fn.call(x[g].context,h);break;case 3:x[g].fn.call(x[g].context,h,u);break;case 4:x[g].fn.call(x[g].context,h,u,f);break;default:if(!_)for(b=1,_=new Array(y-1);b<y;b++)_[b-1]=arguments[b];x[g].fn.apply(x[g].context,_)}}return!0},a.prototype.on=function(c,h,u){return s(this,c,h,u,!1)},a.prototype.once=function(c,h,u){return s(this,c,h,u,!0)},a.prototype.removeListener=function(c,h,u,f){var d=r?r+c:c;if(!this._events[d])return this;if(!h)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===h&&(!f||p.once)&&(!u||p.context===u)&&o(this,d);else{for(var m=0,x=[],y=p.length;m<y;m++)(p[m].fn!==h||f&&!p[m].once||u&&p[m].context!==u)&&x.push(p[m]);x.length?this._events[d]=x.length===1?x[0]:x:o(this,d)}return this},a.prototype.removeAllListeners=function(c){var h;return c?(h=r?r+c:c,this._events[h]&&o(this,h)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(iy);var mS=iy.exports;const Oa=p0(mS);var m0={exports:{}};m0.exports=Gc;m0.exports.default=Gc;function Gc(t,e,r){r=r||2;var i=e&&e.length,n=i?e[0]*r:t.length,s=ny(t,0,n,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,c,h,u,f,d;if(i&&(s=vS(t,e,s,r)),t.length>80*r){a=c=t[0],l=h=t[1];for(var p=r;p<n;p+=r)u=t[p],f=t[p+1],u<a&&(a=u),f<l&&(l=f),u>c&&(c=u),f>h&&(h=f);d=Math.max(c-a,h-l),d=d!==0?32767/d:0}return ma(s,o,r,a,l,d,0),o}function ny(t,e,r,i,n){var s,o;if(n===Ff(t,e,r,i)>0)for(s=e;s<r;s+=i)o=Rm(s,t[s],t[s+1],o);else for(s=r-i;s>=e;s-=i)o=Rm(s,t[s],t[s+1],o);return o&&$c(o,o.next)&&(ga(o),o=o.next),o}function Kn(t,e){if(!t)return t;e||(e=t);var r=t,i;do if(i=!1,!r.steiner&&($c(r,r.next)||et(r.prev,r,r.next)===0)){if(ga(r),r=e=r.prev,r===r.next)break;i=!0}else r=r.next;while(i||r!==e);return e}function ma(t,e,r,i,n,s,o){if(t){!o&&s&&wS(t,i,n,s);for(var a=t,l,c;t.prev!==t.next;){if(l=t.prev,c=t.next,s?gS(t,i,n,s):xS(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(c.i/r|0),ga(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=_S(Kn(t),e,r),ma(t,e,r,i,n,s,2)):o===2&&yS(t,e,r,i,n,s):ma(Kn(t),e,r,i,n,s,1);break}}}}function xS(t){var e=t.prev,r=t,i=t.next;if(et(e,r,i)>=0)return!1;for(var n=e.x,s=r.x,o=i.x,a=e.y,l=r.y,c=i.y,h=n<s?n<o?n:o:s<o?s:o,u=a<l?a<c?a:c:l<c?l:c,f=n>s?n>o?n:o:s>o?s:o,d=a>l?a>c?a:c:l>c?l:c,p=i.next;p!==e;){if(p.x>=h&&p.x<=f&&p.y>=u&&p.y<=d&&ws(n,a,s,l,o,c,p.x,p.y)&&et(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function gS(t,e,r,i){var n=t.prev,s=t,o=t.next;if(et(n,s,o)>=0)return!1;for(var a=n.x,l=s.x,c=o.x,h=n.y,u=s.y,f=o.y,d=a<l?a<c?a:c:l<c?l:c,p=h<u?h<f?h:f:u<f?u:f,m=a>l?a>c?a:c:l>c?l:c,x=h>u?h>f?h:f:u>f?u:f,y=Df(d,p,e,r,i),_=Df(m,x,e,r,i),g=t.prevZ,v=t.nextZ;g&&g.z>=y&&v&&v.z<=_;){if(g.x>=d&&g.x<=m&&g.y>=p&&g.y<=x&&g!==n&&g!==o&&ws(a,h,l,u,c,f,g.x,g.y)&&et(g.prev,g,g.next)>=0||(g=g.prevZ,v.x>=d&&v.x<=m&&v.y>=p&&v.y<=x&&v!==n&&v!==o&&ws(a,h,l,u,c,f,v.x,v.y)&&et(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;g&&g.z>=y;){if(g.x>=d&&g.x<=m&&g.y>=p&&g.y<=x&&g!==n&&g!==o&&ws(a,h,l,u,c,f,g.x,g.y)&&et(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;v&&v.z<=_;){if(v.x>=d&&v.x<=m&&v.y>=p&&v.y<=x&&v!==n&&v!==o&&ws(a,h,l,u,c,f,v.x,v.y)&&et(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function _S(t,e,r){var i=t;do{var n=i.prev,s=i.next.next;!$c(n,s)&&sy(n,i,i.next,s)&&xa(n,s)&&xa(s,n)&&(e.push(n.i/r|0),e.push(i.i/r|0),e.push(s.i/r|0),ga(i),ga(i.next),i=t=s),i=i.next}while(i!==t);return Kn(i)}function yS(t,e,r,i,n,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&BS(o,a)){var l=oy(o,a);o=Kn(o,o.next),l=Kn(l,l.next),ma(o,e,r,i,n,s,0),ma(l,e,r,i,n,s,0);return}a=a.next}o=o.next}while(o!==t)}function vS(t,e,r,i){var n=[],s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,c=ny(t,a,l,i,!1),c===c.next&&(c.steiner=!0),n.push(CS(c));for(n.sort(bS),s=0;s<n.length;s++)r=ES(n[s],r);return r}function bS(t,e){return t.x-e.x}function ES(t,e){var r=TS(t,e);if(!r)return e;var i=oy(r,t);return Kn(i,i.next),Kn(r,r.next)}function TS(t,e){var r=e,i=t.x,n=t.y,s=-1/0,o;do{if(n<=r.y&&n>=r.next.y&&r.next.y!==r.y){var a=r.x+(n-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===i))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,c=o.x,h=o.y,u=1/0,f;r=o;do i>=r.x&&r.x>=c&&i!==r.x&&ws(n<h?i:s,n,c,h,n<h?s:i,n,r.x,r.y)&&(f=Math.abs(n-r.y)/(i-r.x),xa(r,t)&&(f<u||f===u&&(r.x>o.x||r.x===o.x&&AS(o,r)))&&(o=r,u=f)),r=r.next;while(r!==l);return o}function AS(t,e){return et(t.prev,t,e.prev)<0&&et(e.next,t,t.next)<0}function wS(t,e,r,i){var n=t;do n.z===0&&(n.z=Df(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,SS(n)}function SS(t){var e,r,i,n,s,o,a,l,c=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,i=r,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,l--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;r=i}s.nextZ=null,c*=2}while(o>1);return t}function Df(t,e,r,i,n){return t=(t-r)*n|0,e=(e-i)*n|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function CS(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ws(t,e,r,i,n,s,o,a){return(n-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(n-o)*(i-a)}function BS(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!RS(t,e)&&(xa(t,e)&&xa(e,t)&&PS(t,e)&&(et(t.prev,t,e.prev)||et(t,e.prev,e))||$c(t,e)&&et(t.prev,t,t.next)>0&&et(e.prev,e,e.next)>0)}function et(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function $c(t,e){return t.x===e.x&&t.y===e.y}function sy(t,e,r,i){var n=Qa(et(t,e,r)),s=Qa(et(t,e,i)),o=Qa(et(r,i,t)),a=Qa(et(r,i,e));return!!(n!==s&&o!==a||n===0&&Za(t,r,e)||s===0&&Za(t,i,e)||o===0&&Za(r,t,i)||a===0&&Za(r,e,i))}function Za(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Qa(t){return t>0?1:t<0?-1:0}function RS(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&sy(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function xa(t,e){return et(t.prev,t,t.next)<0?et(t,e,t.next)>=0&&et(t,t.prev,e)>=0:et(t,e,t.prev)<0||et(t,t.next,e)<0}function PS(t,e){var r=t,i=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&n<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==t);return i}function oy(t,e){var r=new If(t.i,t.x,t.y),i=new If(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,s.next=i,i.prev=s,i}function Rm(t,e,r,i){var n=new If(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function ga(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function If(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Gc.deviation=function(t,e,r,i){var n=e&&e.length,s=n?e[0]*r:t.length,o=Math.abs(Ff(t,0,s,r));if(n)for(var a=0,l=e.length;a<l;a++){var c=e[a]*r,h=a<l-1?e[a+1]*r:t.length;o-=Math.abs(Ff(t,c,h,r))}var u=0;for(a=0;a<i.length;a+=3){var f=i[a]*r,d=i[a+1]*r,p=i[a+2]*r;u+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return o===0&&u===0?0:Math.abs((u-o)/o)};function Ff(t,e,r,i){for(var n=0,s=e,o=r-i;s<r;s+=i)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}Gc.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[n][s][o]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r};var DS=m0.exports;const IS=p0(DS);var Zl={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Zl.exports;(function(t,e){(function(r){var i=e&&!e.nodeType&&e,n=t&&!t.nodeType&&t,s=typeof Te=="object"&&Te;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,c=1,h=26,u=38,f=700,d=72,p=128,m="-",x=/^xn--/,y=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=l-c,b=Math.floor,E=String.fromCharCode,T;function A(H){throw new RangeError(g[H])}function P(H,O){for(var k=H.length,G=[];k--;)G[k]=O(H[k]);return G}function w(H,O){var k=H.split("@"),G="";k.length>1&&(G=k[0]+"@",H=k[1]),H=H.replace(_,".");var L=H.split("."),xe=P(L,O).join(".");return G+xe}function B(H){for(var O=[],k=0,G=H.length,L,xe;k<G;)L=H.charCodeAt(k++),L>=55296&&L<=56319&&k<G?(xe=H.charCodeAt(k++),(xe&64512)==56320?O.push(((L&1023)<<10)+(xe&1023)+65536):(O.push(L),k--)):O.push(L);return O}function I(H){return P(H,function(O){var k="";return O>65535&&(O-=65536,k+=E(O>>>10&1023|55296),O=56320|O&1023),k+=E(O),k}).join("")}function D(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:l}function F(H,O){return H+22+75*(H<26)-((O!=0)<<5)}function j(H,O,k){var G=0;for(H=k?b(H/f):H>>1,H+=b(H/O);H>v*h>>1;G+=l)H=b(H/v);return b(G+(v+1)*H/(H+u))}function $(H){var O=[],k=H.length,G,L=0,xe=p,ce=d,N,W,Q,ie,ue,S,R,M,z;for(N=H.lastIndexOf(m),N<0&&(N=0),W=0;W<N;++W)H.charCodeAt(W)>=128&&A("not-basic"),O.push(H.charCodeAt(W));for(Q=N>0?N+1:0;Q<k;){for(ie=L,ue=1,S=l;Q>=k&&A("invalid-input"),R=D(H.charCodeAt(Q++)),(R>=l||R>b((a-L)/ue))&&A("overflow"),L+=R*ue,M=S<=ce?c:S>=ce+h?h:S-ce,!(R<M);S+=l)z=l-M,ue>b(a/z)&&A("overflow"),ue*=z;G=O.length+1,ce=j(L-ie,G,ie==0),b(L/G)>a-xe&&A("overflow"),xe+=b(L/G),L%=G,O.splice(L++,0,xe)}return I(O)}function U(H){var O,k,G,L,xe,ce,N,W,Q,ie,ue,S=[],R,M,z,X;for(H=B(H),R=H.length,O=p,k=0,xe=d,ce=0;ce<R;++ce)ue=H[ce],ue<128&&S.push(E(ue));for(G=L=S.length,L&&S.push(m);G<R;){for(N=a,ce=0;ce<R;++ce)ue=H[ce],ue>=O&&ue<N&&(N=ue);for(M=G+1,N-O>b((a-k)/M)&&A("overflow"),k+=(N-O)*M,O=N,ce=0;ce<R;++ce)if(ue=H[ce],ue<O&&++k>a&&A("overflow"),ue==O){for(W=k,Q=l;ie=Q<=xe?c:Q>=xe+h?h:Q-xe,!(W<ie);Q+=l)X=W-ie,z=l-ie,S.push(E(F(ie+X%z,0))),W=b(X/z);S.push(E(F(W,0))),xe=j(k,M,G==L),k=0,++G}++k,++O}return S.join("")}function Z(H){return w(H,function(O){return x.test(O)?$(O.slice(4).toLowerCase()):O})}function le(H){return w(H,function(O){return y.test(O)?"xn--"+U(O):O})}if(o={version:"1.4.1",ucs2:{decode:B,encode:I},decode:$,encode:U,toASCII:le,toUnicode:Z},i&&n)if(t.exports==i)n.exports=o;else for(T in o)o.hasOwnProperty(T)&&(i[T]=o[T]);else r.punycode=o})(Te)})(Zl,Zl.exports);var FS=Zl.exports,MS=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==n||o.enumerable!==!0)return!1}return!0},Pm=typeof Symbol<"u"&&Symbol,OS=MS,kS=function(){return typeof Pm!="function"||typeof Symbol!="function"||typeof Pm("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:OS()},Dm={foo:{}},NS=Object,LS=function(){return{__proto__:Dm}.foo===Dm.foo&&!({__proto__:null}instanceof NS)},US="Function.prototype.bind called on incompatible ",zS=Object.prototype.toString,HS=Math.max,GS="[object Function]",Im=function(e,r){for(var i=[],n=0;n<e.length;n+=1)i[n]=e[n];for(var s=0;s<r.length;s+=1)i[s+e.length]=r[s];return i},$S=function(e,r){for(var i=[],n=r||0,s=0;n<e.length;n+=1,s+=1)i[s]=e[n];return i},WS=function(t,e){for(var r="",i=0;i<t.length;i+=1)r+=t[i],i+1<t.length&&(r+=e);return r},jS=function(e){var r=this;if(typeof r!="function"||zS.apply(r)!==GS)throw new TypeError(US+r);for(var i=$S(arguments,1),n,s=function(){if(this instanceof n){var h=r.apply(this,Im(i,arguments));return Object(h)===h?h:this}return r.apply(e,Im(i,arguments))},o=HS(0,r.length-i.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(n=Function("binder","return function ("+WS(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,n.prototype=new c,c.prototype=null}return n},XS=jS,x0=Function.prototype.bind||XS,VS=Function.prototype.call,qS=Object.prototype.hasOwnProperty,YS=x0,KS=YS.call(VS,qS),Re,Zs=SyntaxError,ay=Function,ks=TypeError,Sh=function(t){try{return ay('"use strict"; return ('+t+").constructor;")()}catch{}},Hn=Object.getOwnPropertyDescriptor;if(Hn)try{Hn({},"")}catch{Hn=null}var Ch=function(){throw new ks},ZS=Hn?function(){try{return arguments.callee,Ch}catch{try{return Hn(arguments,"callee").get}catch{return Ch}}}():Ch,fs=kS(),QS=LS(),dt=Object.getPrototypeOf||(QS?function(t){return t.__proto__}:null),vs={},JS=typeof Uint8Array>"u"||!dt?Re:dt(Uint8Array),Gn={"%AggregateError%":typeof AggregateError>"u"?Re:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Re:ArrayBuffer,"%ArrayIteratorPrototype%":fs&&dt?dt([][Symbol.iterator]()):Re,"%AsyncFromSyncIteratorPrototype%":Re,"%AsyncFunction%":vs,"%AsyncGenerator%":vs,"%AsyncGeneratorFunction%":vs,"%AsyncIteratorPrototype%":vs,"%Atomics%":typeof Atomics>"u"?Re:Atomics,"%BigInt%":typeof BigInt>"u"?Re:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Re:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Re:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Re:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Re:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Re:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Re:FinalizationRegistry,"%Function%":ay,"%GeneratorFunction%":vs,"%Int8Array%":typeof Int8Array>"u"?Re:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Re:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Re:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":fs&&dt?dt(dt([][Symbol.iterator]())):Re,"%JSON%":typeof JSON=="object"?JSON:Re,"%Map%":typeof Map>"u"?Re:Map,"%MapIteratorPrototype%":typeof Map>"u"||!fs||!dt?Re:dt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Re:Promise,"%Proxy%":typeof Proxy>"u"?Re:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Re:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Re:Set,"%SetIteratorPrototype%":typeof Set>"u"||!fs||!dt?Re:dt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Re:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":fs&&dt?dt(""[Symbol.iterator]()):Re,"%Symbol%":fs?Symbol:Re,"%SyntaxError%":Zs,"%ThrowTypeError%":ZS,"%TypedArray%":JS,"%TypeError%":ks,"%Uint8Array%":typeof Uint8Array>"u"?Re:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Re:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Re:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Re:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Re:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Re:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Re:WeakSet};if(dt)try{null.error}catch(t){var eC=dt(dt(t));Gn["%Error.prototype%"]=eC}var tC=function t(e){var r;if(e==="%AsyncFunction%")r=Sh("async function () {}");else if(e==="%GeneratorFunction%")r=Sh("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Sh("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&dt&&(r=dt(n.prototype))}return Gn[e]=r,r},Fm={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ka=x0,Ql=KS,rC=ka.call(Function.call,Array.prototype.concat),iC=ka.call(Function.apply,Array.prototype.splice),Mm=ka.call(Function.call,String.prototype.replace),Jl=ka.call(Function.call,String.prototype.slice),nC=ka.call(Function.call,RegExp.prototype.exec),sC=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,oC=/\\(\\)?/g,aC=function(e){var r=Jl(e,0,1),i=Jl(e,-1);if(r==="%"&&i!=="%")throw new Zs("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new Zs("invalid intrinsic syntax, expected opening `%`");var n=[];return Mm(e,sC,function(s,o,a,l){n[n.length]=a?Mm(l,oC,"$1"):o||s}),n},lC=function(e,r){var i=e,n;if(Ql(Fm,i)&&(n=Fm[i],i="%"+n[0]+"%"),Ql(Gn,i)){var s=Gn[i];if(s===vs&&(s=tC(i)),typeof s>"u"&&!r)throw new ks("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new Zs("intrinsic "+e+" does not exist!")},ns=function(e,r){if(typeof e!="string"||e.length===0)throw new ks("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ks('"allowMissing" argument must be a boolean');if(nC(/^%?[^%]*%?$/,e)===null)throw new Zs("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=aC(e),n=i.length>0?i[0]:"",s=lC("%"+n+"%",r),o=s.name,a=s.value,l=!1,c=s.alias;c&&(n=c[0],iC(i,rC([0,1],c)));for(var h=1,u=!0;h<i.length;h+=1){var f=i[h],d=Jl(f,0,1),p=Jl(f,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Zs("property names with quotes must have matching quotes");if((f==="constructor"||!u)&&(l=!0),n+="."+f,o="%"+n+"%",Ql(Gn,o))a=Gn[o];else if(a!=null){if(!(f in a)){if(!r)throw new ks("base intrinsic for "+e+" exists, but the property is not available.");return}if(Hn&&h+1>=i.length){var m=Hn(a,f);u=!!m,u&&"get"in m&&!("originalValue"in m.get)?a=m.get:a=a[f]}else u=Ql(a,f),a=a[f];u&&!l&&(Gn[o]=a)}}return a},ly={exports:{}},cC=ns,Mf=cC("%Object.defineProperty%",!0),Of=function(){if(Mf)try{return Mf({},"a",{value:1}),!0}catch{return!1}return!1};Of.hasArrayLengthDefineBug=function(){if(!Of())return null;try{return Mf([],"length",{value:1}).length!==1}catch{return!0}};var cy=Of,hC=ns,Bl=hC("%Object.getOwnPropertyDescriptor%",!0);if(Bl)try{Bl([],"length")}catch{Bl=null}var hy=Bl,uC=cy(),g0=ns,Zo=uC&&g0("%Object.defineProperty%",!0);if(Zo)try{Zo({},"a",{value:1})}catch{Zo=!1}var fC=g0("%SyntaxError%"),ds=g0("%TypeError%"),Om=hy,dC=function(e,r,i){if(!e||typeof e!="object"&&typeof e!="function")throw new ds("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new ds("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ds("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ds("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ds("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ds("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!Om&&Om(e,r);if(Zo)Zo(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:n===null&&l?l.enumerable:!n,value:i,writable:s===null&&l?l.writable:!s});else if(a||!n&&!s&&!o)e[r]=i;else throw new fC("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},uy=ns,km=dC,pC=cy(),Nm=hy,Lm=uy("%TypeError%"),mC=uy("%Math.floor%"),xC=function(e,r){if(typeof e!="function")throw new Lm("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||mC(r)!==r)throw new Lm("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,s=!0;if("length"in e&&Nm){var o=Nm(e,"length");o&&!o.configurable&&(n=!1),o&&!o.writable&&(s=!1)}return(n||s||!i)&&(pC?km(e,"length",r,!0,!0):km(e,"length",r)),e};(function(t){var e=x0,r=ns,i=xC,n=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(f){if(typeof f!="function")throw new n("a function is required");var d=a(e,o,arguments);return i(d,1+c(0,f.length-(arguments.length-1)),!0)};var h=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h})(ly);var gC=ly.exports,fy=ns,dy=gC,_C=dy(fy("String.prototype.indexOf")),yC=function(e,r){var i=fy(e,!!r);return typeof i=="function"&&_C(e,".prototype.")>-1?dy(i):i};const vC={},bC=Object.freeze(Object.defineProperty({__proto__:null,default:vC},Symbol.toStringTag,{value:"Module"})),py=pS(bC);var _0=typeof Map=="function"&&Map.prototype,Bh=Object.getOwnPropertyDescriptor&&_0?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ec=_0&&Bh&&typeof Bh.get=="function"?Bh.get:null,Um=_0&&Map.prototype.forEach,y0=typeof Set=="function"&&Set.prototype,Rh=Object.getOwnPropertyDescriptor&&y0?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,tc=y0&&Rh&&typeof Rh.get=="function"?Rh.get:null,zm=y0&&Set.prototype.forEach,EC=typeof WeakMap=="function"&&WeakMap.prototype,Qo=EC?WeakMap.prototype.has:null,TC=typeof WeakSet=="function"&&WeakSet.prototype,Jo=TC?WeakSet.prototype.has:null,AC=typeof WeakRef=="function"&&WeakRef.prototype,Hm=AC?WeakRef.prototype.deref:null,wC=Boolean.prototype.valueOf,SC=Object.prototype.toString,CC=Function.prototype.toString,BC=String.prototype.match,v0=String.prototype.slice,ji=String.prototype.replace,RC=String.prototype.toUpperCase,Gm=String.prototype.toLowerCase,my=RegExp.prototype.test,$m=Array.prototype.concat,Xr=Array.prototype.join,PC=Array.prototype.slice,Wm=Math.floor,kf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ph=Object.getOwnPropertySymbols,Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Mt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Qs||"symbol")?Symbol.toStringTag:null,xy=Object.prototype.propertyIsEnumerable,jm=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Xm(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||my.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var i=t<0?-Wm(-t):Wm(t);if(i!==t){var n=String(i),s=v0.call(e,n.length+1);return ji.call(n,r,"$&_")+"."+ji.call(ji.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ji.call(e,r,"$&_")}var Lf=py,Vm=Lf.custom,qm=_y(Vm)?Vm:null,DC=function t(e,r,i,n){var s=r||{};if($i(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if($i(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=$i(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($i(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($i(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return vy(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Xm(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?Xm(e,c):c}var h=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=h&&h>0&&typeof e=="object")return Uf(e)?"[Array]":"[Object]";var u=YC(s,i);if(typeof n>"u")n=[];else if(yy(n,e)>=0)return"[Circular]";function f(D,F,j){if(F&&(n=PC.call(n),n.push(F)),j){var $={depth:s.depth};return $i(s,"quoteStyle")&&($.quoteStyle=s.quoteStyle),t(D,$,i+1,n)}return t(D,s,i+1,n)}if(typeof e=="function"&&!Ym(e)){var d=zC(e),p=Ja(e,f);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+Xr.call(p,", ")+" }":"")}if(_y(e)){var m=Qs?ji.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Nf.call(e);return typeof e=="object"&&!Qs?wo(m):m}if(XC(e)){for(var x="<"+Gm.call(String(e.nodeName)),y=e.attributes||[],_=0;_<y.length;_++)x+=" "+y[_].name+"="+gy(IC(y[_].value),"double",s);return x+=">",e.childNodes&&e.childNodes.length&&(x+="..."),x+="</"+Gm.call(String(e.nodeName))+">",x}if(Uf(e)){if(e.length===0)return"[]";var g=Ja(e,f);return u&&!qC(g)?"["+zf(g,u)+"]":"[ "+Xr.call(g,", ")+" ]"}if(MC(e)){var v=Ja(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!xy.call(e,"cause")?"{ ["+String(e)+"] "+Xr.call($m.call("[cause]: "+f(e.cause),v),", ")+" }":v.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Xr.call(v,", ")+" }"}if(typeof e=="object"&&o){if(qm&&typeof e[qm]=="function"&&Lf)return Lf(e,{depth:h-i});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(HC(e)){var b=[];return Um&&Um.call(e,function(D,F){b.push(f(F,e,!0)+" => "+f(D,e))}),Km("Map",ec.call(e),b,u)}if(WC(e)){var E=[];return zm&&zm.call(e,function(D){E.push(f(D,e))}),Km("Set",tc.call(e),E,u)}if(GC(e))return Dh("WeakMap");if(jC(e))return Dh("WeakSet");if($C(e))return Dh("WeakRef");if(kC(e))return wo(f(Number(e)));if(LC(e))return wo(f(kf.call(e)));if(NC(e))return wo(wC.call(e));if(OC(e))return wo(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Te)return"{ [object globalThis] }";if(!FC(e)&&!Ym(e)){var T=Ja(e,f),A=jm?jm(e)===Object.prototype:e instanceof Object||e.constructor===Object,P=e instanceof Object?"":"null prototype",w=!A&&Mt&&Object(e)===e&&Mt in e?v0.call(fn(e),8,-1):P?"Object":"",B=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",I=B+(w||P?"["+Xr.call($m.call([],w||[],P||[]),": ")+"] ":"");return T.length===0?I+"{}":u?I+"{"+zf(T,u)+"}":I+"{ "+Xr.call(T,", ")+" }"}return String(e)};function gy(t,e,r){var i=(r.quoteStyle||e)==="double"?'"':"'";return i+t+i}function IC(t){return ji.call(String(t),/"/g,"&quot;")}function Uf(t){return fn(t)==="[object Array]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function FC(t){return fn(t)==="[object Date]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function Ym(t){return fn(t)==="[object RegExp]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function MC(t){return fn(t)==="[object Error]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function OC(t){return fn(t)==="[object String]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function kC(t){return fn(t)==="[object Number]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function NC(t){return fn(t)==="[object Boolean]"&&(!Mt||!(typeof t=="object"&&Mt in t))}function _y(t){if(Qs)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Nf)return!1;try{return Nf.call(t),!0}catch{}return!1}function LC(t){if(!t||typeof t!="object"||!kf)return!1;try{return kf.call(t),!0}catch{}return!1}var UC=Object.prototype.hasOwnProperty||function(t){return t in this};function $i(t,e){return UC.call(t,e)}function fn(t){return SC.call(t)}function zC(t){if(t.name)return t.name;var e=BC.call(CC.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function yy(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function HC(t){if(!ec||!t||typeof t!="object")return!1;try{ec.call(t);try{tc.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function GC(t){if(!Qo||!t||typeof t!="object")return!1;try{Qo.call(t,Qo);try{Jo.call(t,Jo)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function $C(t){if(!Hm||!t||typeof t!="object")return!1;try{return Hm.call(t),!0}catch{}return!1}function WC(t){if(!tc||!t||typeof t!="object")return!1;try{tc.call(t);try{ec.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function jC(t){if(!Jo||!t||typeof t!="object")return!1;try{Jo.call(t,Jo);try{Qo.call(t,Qo)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function XC(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function vy(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return vy(v0.call(t,0,e.maxStringLength),e)+i}var n=ji.call(ji.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,VC);return gy(n,"single",e)}function VC(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+RC.call(e.toString(16))}function wo(t){return"Object("+t+")"}function Dh(t){return t+" { ? }"}function Km(t,e,r,i){var n=i?zf(r,i):Xr.call(r,", ");return t+" ("+e+") {"+n+"}"}function qC(t){for(var e=0;e<t.length;e++)if(yy(t[e],`
`)>=0)return!1;return!0}function YC(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Xr.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Xr.call(Array(e+1),r)}}function zf(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Xr.call(t,","+r)+`
`+e.prev}function Ja(t,e){var r=Uf(t),i=[];if(r){i.length=t.length;for(var n=0;n<t.length;n++)i[n]=$i(t,n)?e(t[n],t):""}var s=typeof Ph=="function"?Ph(t):[],o;if(Qs){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)$i(t,l)&&(r&&String(Number(l))===l&&l<t.length||Qs&&o["$"+l]instanceof Symbol||(my.call(/[^\w$]/,l)?i.push(e(l,t)+": "+e(t[l],t)):i.push(l+": "+e(t[l],t))));if(typeof Ph=="function")for(var c=0;c<s.length;c++)xy.call(t,s[c])&&i.push("["+e(s[c])+"]: "+e(t[s[c]],t));return i}var b0=ns,mo=yC,KC=DC,ZC=b0("%TypeError%"),el=b0("%WeakMap%",!0),tl=b0("%Map%",!0),QC=mo("WeakMap.prototype.get",!0),JC=mo("WeakMap.prototype.set",!0),e4=mo("WeakMap.prototype.has",!0),t4=mo("Map.prototype.get",!0),r4=mo("Map.prototype.set",!0),i4=mo("Map.prototype.has",!0),E0=function(t,e){for(var r=t,i;(i=r.next)!==null;r=i)if(i.key===e)return r.next=i.next,i.next=t.next,t.next=i,i},n4=function(t,e){var r=E0(t,e);return r&&r.value},s4=function(t,e,r){var i=E0(t,e);i?i.value=r:t.next={key:e,next:t.next,value:r}},o4=function(t,e){return!!E0(t,e)},a4=function(){var e,r,i,n={assert:function(s){if(!n.has(s))throw new ZC("Side channel does not contain "+KC(s))},get:function(s){if(el&&s&&(typeof s=="object"||typeof s=="function")){if(e)return QC(e,s)}else if(tl){if(r)return t4(r,s)}else if(i)return n4(i,s)},has:function(s){if(el&&s&&(typeof s=="object"||typeof s=="function")){if(e)return e4(e,s)}else if(tl){if(r)return i4(r,s)}else if(i)return o4(i,s);return!1},set:function(s,o){el&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new el),JC(e,s,o)):tl?(r||(r=new tl),r4(r,s,o)):(i||(i={key:{},next:null}),s4(i,s,o))}};return n},l4=String.prototype.replace,c4=/%20/g,Ih={RFC1738:"RFC1738",RFC3986:"RFC3986"},T0={default:Ih.RFC3986,formatters:{RFC1738:function(t){return l4.call(t,c4,"+")},RFC3986:function(t){return String(t)}},RFC1738:Ih.RFC1738,RFC3986:Ih.RFC3986},h4=T0,Fh=Object.prototype.hasOwnProperty,Fn=Array.isArray,Gr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),u4=function(e){for(;e.length>1;){var r=e.pop(),i=r.obj[r.prop];if(Fn(i)){for(var n=[],s=0;s<i.length;++s)typeof i[s]<"u"&&n.push(i[s]);r.obj[r.prop]=n}}},by=function(e,r){for(var i=r&&r.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(i[n]=e[n]);return i},f4=function t(e,r,i){if(!r)return e;if(typeof r!="object"){if(Fn(e))e.push(r);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!Fh.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var n=e;return Fn(e)&&!Fn(r)&&(n=by(e,i)),Fn(e)&&Fn(r)?(r.forEach(function(s,o){if(Fh.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,i):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Fh.call(s,o)?s[o]=t(s[o],a,i):s[o]=a,s},n)},d4=function(e,r){return Object.keys(r).reduce(function(i,n){return i[n]=r[n],i},e)},p4=function(t,e,r){var i=t.replace(/\+/g," ");if(r==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},m4=function(e,r,i,n,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),i==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var c=o.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===h4.RFC1738&&(c===40||c===41)){a+=o.charAt(l);continue}if(c<128){a=a+Gr[c];continue}if(c<2048){a=a+(Gr[192|c>>6]+Gr[128|c&63]);continue}if(c<55296||c>=57344){a=a+(Gr[224|c>>12]+Gr[128|c>>6&63]+Gr[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|o.charCodeAt(l)&1023),a+=Gr[240|c>>18]+Gr[128|c>>12&63]+Gr[128|c>>6&63]+Gr[128|c&63]}return a},x4=function(e){for(var r=[{obj:{o:e},prop:"o"}],i=[],n=0;n<r.length;++n)for(var s=r[n],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],h=o[c];typeof h=="object"&&h!==null&&i.indexOf(h)===-1&&(r.push({obj:o,prop:c}),i.push(h))}return u4(r),e},g4=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},_4=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},y4=function(e,r){return[].concat(e,r)},v4=function(e,r){if(Fn(e)){for(var i=[],n=0;n<e.length;n+=1)i.push(r(e[n]));return i}return r(e)},Ey={arrayToObject:by,assign:d4,combine:y4,compact:x4,decode:p4,encode:m4,isBuffer:_4,isRegExp:g4,maybeMap:v4,merge:f4},Ty=a4,Rl=Ey,ea=T0,b4=Object.prototype.hasOwnProperty,Zm={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},gi=Array.isArray,E4=Array.prototype.push,Ay=function(t,e){E4.apply(t,gi(e)?e:[e])},T4=Date.prototype.toISOString,Qm=ea.default,Bt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Rl.encode,encodeValuesOnly:!1,format:Qm,formatter:ea.formatters[Qm],indices:!1,serializeDate:function(e){return T4.call(e)},skipNulls:!1,strictNullHandling:!1},A4=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Mh={},w4=function t(e,r,i,n,s,o,a,l,c,h,u,f,d,p,m,x){for(var y=e,_=x,g=0,v=!1;(_=_.get(Mh))!==void 0&&!v;){var b=_.get(e);if(g+=1,typeof b<"u"){if(b===g)throw new RangeError("Cyclic object value");v=!0}typeof _.get(Mh)>"u"&&(g=0)}if(typeof l=="function"?y=l(r,y):y instanceof Date?y=u(y):i==="comma"&&gi(y)&&(y=Rl.maybeMap(y,function($){return $ instanceof Date?u($):$})),y===null){if(s)return a&&!p?a(r,Bt.encoder,m,"key",f):r;y=""}if(A4(y)||Rl.isBuffer(y)){if(a){var E=p?r:a(r,Bt.encoder,m,"key",f);return[d(E)+"="+d(a(y,Bt.encoder,m,"value",f))]}return[d(r)+"="+d(String(y))]}var T=[];if(typeof y>"u")return T;var A;if(i==="comma"&&gi(y))p&&a&&(y=Rl.maybeMap(y,a)),A=[{value:y.length>0?y.join(",")||null:void 0}];else if(gi(l))A=l;else{var P=Object.keys(y);A=c?P.sort(c):P}for(var w=n&&gi(y)&&y.length===1?r+"[]":r,B=0;B<A.length;++B){var I=A[B],D=typeof I=="object"&&typeof I.value<"u"?I.value:y[I];if(!(o&&D===null)){var F=gi(y)?typeof i=="function"?i(w,I):w:w+(h?"."+I:"["+I+"]");x.set(e,g);var j=Ty();j.set(Mh,x),Ay(T,t(D,F,i,n,s,o,i==="comma"&&p&&gi(y)?null:a,l,c,h,u,f,d,p,m,j))}}return T},S4=function(e){if(!e)return Bt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Bt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=ea.default;if(typeof e.format<"u"){if(!b4.call(ea.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=ea.formatters[i],s=Bt.filter;return(typeof e.filter=="function"||gi(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Bt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Bt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Bt.charsetSentinel,delimiter:typeof e.delimiter>"u"?Bt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Bt.encode,encoder:typeof e.encoder=="function"?e.encoder:Bt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Bt.encodeValuesOnly,filter:s,format:i,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Bt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Bt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Bt.strictNullHandling}},C4=function(t,e){var r=t,i=S4(e),n,s;typeof i.filter=="function"?(s=i.filter,r=s("",r)):gi(i.filter)&&(s=i.filter,n=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Zm?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var l=Zm[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=l==="comma"&&e&&e.commaRoundTrip;n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var h=Ty(),u=0;u<n.length;++u){var f=n[u];i.skipNulls&&r[f]===null||Ay(o,w4(r[f],f,l,c,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,h))}var d=o.join(i.delimiter),p=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},Js=Ey,Hf=Object.prototype.hasOwnProperty,B4=Array.isArray,ft={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Js.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},R4=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},wy=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},P4="utf8=%26%2310003%3B",D4="utf8=%E2%9C%93",I4=function(e,r){var i={__proto__:null},n=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=n.split(r.delimiter,s),a=-1,l,c=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===D4?c="utf-8":o[l]===P4&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var h=o[l],u=h.indexOf("]="),f=u===-1?h.indexOf("="):u+1,d,p;f===-1?(d=r.decoder(h,ft.decoder,c,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(h.slice(0,f),ft.decoder,c,"key"),p=Js.maybeMap(wy(h.slice(f+1),r),function(m){return r.decoder(m,ft.decoder,c,"value")})),p&&r.interpretNumericEntities&&c==="iso-8859-1"&&(p=R4(p)),h.indexOf("[]=")>-1&&(p=B4(p)?[p]:p),Hf.call(i,d)?i[d]=Js.combine(i[d],p):i[d]=p}return i},F4=function(t,e,r,i){for(var n=i?e:wy(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(n);else{o=r.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(l,10);!r.parseArrays&&l===""?o={0:n}:!isNaN(c)&&a!==l&&String(c)===l&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[],o[c]=n):l!=="__proto__"&&(o[l]=n)}n=o}return n},M4=function(e,r,i,n){if(e){var s=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=i.depth>0&&o.exec(s),c=l?s.slice(0,l.index):s,h=[];if(c){if(!i.plainObjects&&Hf.call(Object.prototype,c)&&!i.allowPrototypes)return;h.push(c)}for(var u=0;i.depth>0&&(l=a.exec(s))!==null&&u<i.depth;){if(u+=1,!i.plainObjects&&Hf.call(Object.prototype,l[1].slice(1,-1))&&!i.allowPrototypes)return;h.push(l[1])}return l&&h.push("["+s.slice(l.index)+"]"),F4(h,r,i,n)}},O4=function(e){if(!e)return ft;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ft.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ft.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ft.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ft.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ft.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ft.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ft.comma,decoder:typeof e.decoder=="function"?e.decoder:ft.decoder,delimiter:typeof e.delimiter=="string"||Js.isRegExp(e.delimiter)?e.delimiter:ft.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ft.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ft.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ft.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ft.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ft.strictNullHandling}},k4=function(t,e){var r=O4(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var i=typeof t=="string"?I4(t,r):t,n=r.plainObjects?Object.create(null):{},s=Object.keys(i),o=0;o<s.length;++o){var a=s[o],l=M4(a,i[a],r,typeof t=="string");n=Js.merge(n,l,r)}return r.allowSparse===!0?n:Js.compact(n)},N4=C4,L4=k4,U4=T0,z4={formats:U4,parse:L4,stringify:N4},H4=FS;function kr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var G4=/^([a-z0-9.+-]+:)/i,$4=/:[0-9]*$/,W4=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,j4=["<",">",'"',"`"," ","\r",`
`,"	"],X4=["{","}","|","\\","^","`"].concat(j4),Gf=["'"].concat(X4),Jm=["%","/","?",";","#"].concat(Gf),ex=["/","?","#"],V4=255,tx=/^[+a-z0-9A-Z_-]{0,63}$/,q4=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Y4={javascript:!0,"javascript:":!0},$f={javascript:!0,"javascript:":!0},Ns={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Wf=z4;function Wc(t,e,r){if(t&&typeof t=="object"&&t instanceof kr)return t;var i=new kr;return i.parse(t,e,r),i}kr.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=i!==-1&&i<t.indexOf("#")?"?":"#",s=t.split(n),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(n);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=W4.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Wf.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=G4.exec(a);if(c){c=c[0];var h=c.toLowerCase();this.protocol=h,a=a.substr(c.length)}if(r||c||a.match(/^\/\/[^@/]+@[^@/]+/)){var u=a.substr(0,2)==="//";u&&!(c&&$f[c])&&(a=a.substr(2),this.slashes=!0)}if(!$f[c]&&(u||c&&!Ns[c])){for(var f=-1,d=0;d<ex.length;d++){var p=a.indexOf(ex[d]);p!==-1&&(f===-1||p<f)&&(f=p)}var m,x;f===-1?x=a.lastIndexOf("@"):x=a.lastIndexOf("@",f),x!==-1&&(m=a.slice(0,x),a=a.slice(x+1),this.auth=decodeURIComponent(m)),f=-1;for(var d=0;d<Jm.length;d++){var p=a.indexOf(Jm[d]);p!==-1&&(f===-1||p<f)&&(f=p)}f===-1&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y)for(var _=this.hostname.split(/\./),d=0,g=_.length;d<g;d++){var v=_[d];if(v&&!v.match(tx)){for(var b="",E=0,T=v.length;E<T;E++)v.charCodeAt(E)>127?b+="x":b+=v[E];if(!b.match(tx)){var A=_.slice(0,d),P=_.slice(d+1),w=v.match(q4);w&&(A.push(w[1]),P.unshift(w[2])),P.length&&(a="/"+P.join(".")+a),this.hostname=A.join(".");break}}}this.hostname.length>V4?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=H4.toASCII(this.hostname));var B=this.port?":"+this.port:"",I=this.hostname||"";this.host=I+B,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Y4[h])for(var d=0,g=Gf.length;d<g;d++){var D=Gf[d];if(a.indexOf(D)!==-1){var F=encodeURIComponent(D);F===D&&(F=escape(D)),a=a.split(D).join(F)}}var j=a.indexOf("#");j!==-1&&(this.hash=a.substr(j),a=a.slice(0,j));var $=a.indexOf("?");if($!==-1?(this.search=a.substr($),this.query=a.substr($+1),e&&(this.query=Wf.parse(this.query)),a=a.slice(0,$)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Ns[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",U=this.search||"";this.path=B+U}return this.href=this.format(),this};function K4(t){return typeof t=="string"&&(t=Wc(t)),t instanceof kr?t.format():kr.prototype.format.call(t)}kr.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,s="";this.host?n=t+this.host:this.hostname&&(n=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=Wf.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ns[e])&&n!==!1?(n="//"+(n||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):n||(n=""),i&&i.charAt(0)!=="#"&&(i="#"+i),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+n+r+o+i};function Z4(t,e){return Wc(t,!1,!0).resolve(e)}kr.prototype.resolve=function(t){return this.resolveObject(Wc(t,!1,!0)).format()};kr.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new kr;e.parse(t,!1,!0),t=e}for(var r=new kr,i=Object.keys(this),n=0;n<i.length;n++){var s=i[n];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return Ns[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ns[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var u=c[h];r[u]=t[u]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!$f[t.protocol]){for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var f=r.pathname||"",d=r.search||"";r.path=f+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=m||p||r.host&&t.pathname,y=x,_=r.pathname&&r.pathname.split("/")||[],g=t.pathname&&t.pathname.split("/")||[],v=r.protocol&&!Ns[r.protocol];if(v&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),x=x&&(g[0]===""||_[0]==="")),m)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=g;else if(g.length)_||(_=[]),_.pop(),_=_.concat(g),r.search=t.search,r.query=t.query;else if(t.search!=null){if(v){r.host=_.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=_.slice(-1)[0],T=(r.host||t.host||_.length>1)&&(E==="."||E==="..")||E==="",A=0,P=_.length;P>=0;P--)E=_[P],E==="."?_.splice(P,1):E===".."?(_.splice(P,1),A++):A&&(_.splice(P,1),A--);if(!x&&!y)for(;A--;A)_.unshift("..");x&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),T&&_.join("/").substr(-1)!=="/"&&_.push("");var w=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(v){r.hostname=w?"":_.length?_.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return x=x||r.host&&_.length,x&&!w&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};kr.prototype.parseHost=function(){var t=this.host,e=$4.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var Q4=Wc,J4=Z4,e3=K4;const t3={parse:Q4,format:e3,resolve:J4};function br(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function So(t){return t.split("?")[0].split("#")[0]}function r3(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function i3(t,e,r){return t.replace(new RegExp(r3(e),"g"),r)}function n3(t,e){let r="",i=0,n=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(n===a-1||s===1))if(n!==a-1&&s===2){if(r.length<2||i!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",i=0):(r=r.slice(0,l),i=r.length-1-r.lastIndexOf("/")),n=a,s=0;continue}}else if(r.length===2||r.length===1){r="",i=0,n=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+=`/${t.slice(n+1,a)}`:r=t.slice(n+1,a),i=a-n-1;n=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const wt={toPosix(t){return i3(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){br(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),i=/^[^/:]+:\/\//.exec(t),n=/^[^/:]+:\//.exec(t);if(r||i||n){const s=(r==null?void 0:r[0])||(i==null?void 0:i[0])||(n==null?void 0:n[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const i=So(this.toPosix(e??oe.ADAPTER.getBaseUrl())),n=So(this.toPosix(r??this.rootname(i)));return br(t),t=this.toPosix(t),t.startsWith("/")?wt.join(n,t.slice(1)):this.isAbsolute(t)?t:this.join(i,t)},normalize(t){if(t=this.toPosix(t),br(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const i=t.endsWith("/");return t=n3(t,!1),t.length>0&&i&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return br(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const i=t[r];if(br(i),i.length>0)if(e===void 0)e=i;else{const n=t[r-1]??"";this.extname(n)?e+=`/../${i}`:e+=`/${i}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(br(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let i=-1,n=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!n){i=a;break}}else n=!1;return i===-1?r?"/":this.isUrl(o)?s+t:s:r&&i===1?"//":s+t.slice(0,i)},rootname(t){br(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){br(t),e&&br(e),t=So(this.toPosix(t));let r=0,i=-1,n=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!n){r=s+1;break}}else a===-1&&(n=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=a))}return r===i?i=a:i===-1&&(i=t.length),t.slice(r,i)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!n){r=s+1;break}}else i===-1&&(n=!1,i=s+1);return i===-1?"":t.slice(r,i)},extname(t){br(t),t=So(this.toPosix(t));let e=-1,r=0,i=-1,n=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!n){r=o+1;break}continue}i===-1&&(n=!1,i=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||i===-1||s===0||s===1&&e===i-1&&e===r+1?"":t.slice(e,i)},parse(t){br(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=So(this.toPosix(t));let r=t.charCodeAt(0);const i=this.isAbsolute(t);let n;e.root=this.rootname(t),i||this.hasProtocol(t)?n=1:n=0;let s=-1,o=0,a=-1,l=!0,c=t.length-1,h=0;for(;c>=n;--c){if(r=t.charCodeAt(c),r===47){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),r===46?s===-1?s=c:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||a===-1||h===0||h===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&i?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&i?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},rx={};function ke(t,e,r=3){if(rx[e])return;let i=new Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(i=i.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(i))),rx[e]=!0}let Oh;function s3(){return typeof Oh>"u"&&(Oh=function(){var r;const e={stencil:!0,failIfMajorPerformanceCaveat:oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!oe.ADAPTER.getWebGLRenderingContext())return!1;const i=oe.ADAPTER.createCanvas();let n=i.getContext("webgl",e)||i.getContext("experimental-webgl",e);const s=!!((r=n==null?void 0:n.getContextAttributes())!=null&&r.stencil);if(n){const o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,s}catch{return!1}}()),Oh}var o3="#f0f8ff",a3="#faebd7",l3="#00ffff",c3="#7fffd4",h3="#f0ffff",u3="#f5f5dc",f3="#ffe4c4",d3="#000000",p3="#ffebcd",m3="#0000ff",x3="#8a2be2",g3="#a52a2a",_3="#deb887",y3="#5f9ea0",v3="#7fff00",b3="#d2691e",E3="#ff7f50",T3="#6495ed",A3="#fff8dc",w3="#dc143c",S3="#00ffff",C3="#00008b",B3="#008b8b",R3="#b8860b",P3="#a9a9a9",D3="#006400",I3="#a9a9a9",F3="#bdb76b",M3="#8b008b",O3="#556b2f",k3="#ff8c00",N3="#9932cc",L3="#8b0000",U3="#e9967a",z3="#8fbc8f",H3="#483d8b",G3="#2f4f4f",$3="#2f4f4f",W3="#00ced1",j3="#9400d3",X3="#ff1493",V3="#00bfff",q3="#696969",Y3="#696969",K3="#1e90ff",Z3="#b22222",Q3="#fffaf0",J3="#228b22",eB="#ff00ff",tB="#dcdcdc",rB="#f8f8ff",iB="#daa520",nB="#ffd700",sB="#808080",oB="#008000",aB="#adff2f",lB="#808080",cB="#f0fff0",hB="#ff69b4",uB="#cd5c5c",fB="#4b0082",dB="#fffff0",pB="#f0e68c",mB="#fff0f5",xB="#e6e6fa",gB="#7cfc00",_B="#fffacd",yB="#add8e6",vB="#f08080",bB="#e0ffff",EB="#fafad2",TB="#d3d3d3",AB="#90ee90",wB="#d3d3d3",SB="#ffb6c1",CB="#ffa07a",BB="#20b2aa",RB="#87cefa",PB="#778899",DB="#778899",IB="#b0c4de",FB="#ffffe0",MB="#00ff00",OB="#32cd32",kB="#faf0e6",NB="#ff00ff",LB="#800000",UB="#66cdaa",zB="#0000cd",HB="#ba55d3",GB="#9370db",$B="#3cb371",WB="#7b68ee",jB="#00fa9a",XB="#48d1cc",VB="#c71585",qB="#191970",YB="#f5fffa",KB="#ffe4e1",ZB="#ffe4b5",QB="#ffdead",JB="#000080",eR="#fdf5e6",tR="#808000",rR="#6b8e23",iR="#ffa500",nR="#ff4500",sR="#da70d6",oR="#eee8aa",aR="#98fb98",lR="#afeeee",cR="#db7093",hR="#ffefd5",uR="#ffdab9",fR="#cd853f",dR="#ffc0cb",pR="#dda0dd",mR="#b0e0e6",xR="#800080",gR="#663399",_R="#ff0000",yR="#bc8f8f",vR="#4169e1",bR="#8b4513",ER="#fa8072",TR="#f4a460",AR="#2e8b57",wR="#fff5ee",SR="#a0522d",CR="#c0c0c0",BR="#87ceeb",RR="#6a5acd",PR="#708090",DR="#708090",IR="#fffafa",FR="#00ff7f",MR="#4682b4",OR="#d2b48c",kR="#008080",NR="#d8bfd8",LR="#ff6347",UR="#40e0d0",zR="#ee82ee",HR="#f5deb3",GR="#ffffff",$R="#f5f5f5",WR="#ffff00",jR="#9acd32",XR={aliceblue:o3,antiquewhite:a3,aqua:l3,aquamarine:c3,azure:h3,beige:u3,bisque:f3,black:d3,blanchedalmond:p3,blue:m3,blueviolet:x3,brown:g3,burlywood:_3,cadetblue:y3,chartreuse:v3,chocolate:b3,coral:E3,cornflowerblue:T3,cornsilk:A3,crimson:w3,cyan:S3,darkblue:C3,darkcyan:B3,darkgoldenrod:R3,darkgray:P3,darkgreen:D3,darkgrey:I3,darkkhaki:F3,darkmagenta:M3,darkolivegreen:O3,darkorange:k3,darkorchid:N3,darkred:L3,darksalmon:U3,darkseagreen:z3,darkslateblue:H3,darkslategray:G3,darkslategrey:$3,darkturquoise:W3,darkviolet:j3,deeppink:X3,deepskyblue:V3,dimgray:q3,dimgrey:Y3,dodgerblue:K3,firebrick:Z3,floralwhite:Q3,forestgreen:J3,fuchsia:eB,gainsboro:tB,ghostwhite:rB,goldenrod:iB,gold:nB,gray:sB,green:oB,greenyellow:aB,grey:lB,honeydew:cB,hotpink:hB,indianred:uB,indigo:fB,ivory:dB,khaki:pB,lavenderblush:mB,lavender:xB,lawngreen:gB,lemonchiffon:_B,lightblue:yB,lightcoral:vB,lightcyan:bB,lightgoldenrodyellow:EB,lightgray:TB,lightgreen:AB,lightgrey:wB,lightpink:SB,lightsalmon:CB,lightseagreen:BB,lightskyblue:RB,lightslategray:PB,lightslategrey:DB,lightsteelblue:IB,lightyellow:FB,lime:MB,limegreen:OB,linen:kB,magenta:NB,maroon:LB,mediumaquamarine:UB,mediumblue:zB,mediumorchid:HB,mediumpurple:GB,mediumseagreen:$B,mediumslateblue:WB,mediumspringgreen:jB,mediumturquoise:XB,mediumvioletred:VB,midnightblue:qB,mintcream:YB,mistyrose:KB,moccasin:ZB,navajowhite:QB,navy:JB,oldlace:eR,olive:tR,olivedrab:rR,orange:iR,orangered:nR,orchid:sR,palegoldenrod:oR,palegreen:aR,paleturquoise:lR,palevioletred:cR,papayawhip:hR,peachpuff:uR,peru:fR,pink:dR,plum:pR,powderblue:mR,purple:xR,rebeccapurple:gR,red:_R,rosybrown:yR,royalblue:vR,saddlebrown:bR,salmon:ER,sandybrown:TR,seagreen:AR,seashell:wR,sienna:SR,silver:CR,skyblue:BR,slateblue:RR,slategray:PR,slategrey:DR,snow:IR,springgreen:FR,steelblue:MR,tan:OR,teal:kR,thistle:NR,tomato:LR,turquoise:UR,violet:zR,wheat:HR,white:GR,whitesmoke:$R,yellow:WR,yellowgreen:jR};function _a(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function Sy(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function A0(t){if(typeof t=="string"&&(t=XR[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,r,i]=t;t=e+e+r+r+i+i}return parseInt(t,16)}function VR(){const t=[],e=[];for(let i=0;i<32;i++)t[i]=i,e[i]=i;t[_e.NORMAL_NPM]=_e.NORMAL,t[_e.ADD_NPM]=_e.ADD,t[_e.SCREEN_NPM]=_e.SCREEN,e[_e.NORMAL]=_e.NORMAL_NPM,e[_e.ADD]=_e.ADD_NPM,e[_e.SCREEN]=_e.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const Cy=VR();function By(t,e){return Cy[e?1:0][t]}function qR(t,e,r,i){return r=r||new Float32Array(4),i||i===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function w0(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let r=t>>16&255,i=t>>8&255,n=t&255;return r=r*e+.5|0,i=i*e+.5|0,n=n*e+.5|0,(e*255<<24)+(r<<16)+(i<<8)+n}function Ry(t,e,r,i){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(i||i===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function YR(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function Py(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function rc(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function ix(t){return!(t&t-1)&&!!t}function nx(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Ls(t,e,r){const i=t.length;let n;if(e>=i||r===0)return;r=e+r>i?i-e:r;const s=i-r;for(n=e;n<s;++n)t[n]=t[n+r];t.length=s}function Ss(t){return t===0?0:t<0?-1:1}let KR=0;function Zn(){return++KR}const Dy=class{constructor(t,e,r,i){this.left=t,this.top=e,this.right=r,this.bottom=i}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let jf=Dy;jf.EMPTY=new Dy(0,0,0,0);const sx={},fr=Object.create(null),$r=Object.create(null);function ZR(){let t;for(t in fr)delete fr[t];for(t in $r)delete $r[t]}class ox{constructor(e,r,i){this._canvas=oe.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||oe.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function ax(t,e,r){for(let i=0,n=4*r*e;i<e;++i,n+=4)if(t[n+3]!==0)return!1;return!0}function lx(t,e,r,i,n){const s=4*e;for(let o=i,a=i*s+4*r;o<=n;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function QR(t){const{width:e,height:r}=t,i=t.getContext("2d",{willReadFrequently:!0});if(i===null)throw new TypeError("Failed to get canvas 2D context");const s=i.getImageData(0,0,e,r).data;let o=0,a=0,l=e-1,c=r-1;for(;a<r&&ax(s,e,a);)++a;if(a===r)return jf.EMPTY;for(;ax(s,e,c);)--c;for(;lx(s,e,o,a,c);)++o;for(;lx(s,e,l,a,c);)--l;return++l,++c,new jf(o,a,l,c)}function JR(t){const e=QR(t),{width:r,height:i}=e;let n=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");n=s.getImageData(e.left,e.top,r,i)}return{width:r,height:i,data:n}}let rl;function eP(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,rl||(rl=document.createElement("a")),rl.href=t;const r=t3.parse(rl.href),i=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!i||r.protocol!==e.protocol?"anonymous":""}function sn(t,e=1){var i;const r=(i=oe.RETINA_PREFIX)==null?void 0:i.exec(t);return r?parseFloat(r[1]):e}var ne=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ne||{});const Xf=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},cx=(t,e)=>Xf(t).priority??e,me={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Xf).forEach(e=>{e.type.forEach(r=>{var i,n;return(n=(i=this._removeHandlers)[r])==null?void 0:n.call(i,e)})}),this},add(...t){return t.map(Xf).forEach(e=>{e.type.forEach(r=>{const i=this._addHandlers,n=this._queue;i[r]?i[r](e):(n[r]=n[r]||[],n[r].push(e))})}),this},handle(t,e,r){const i=this._addHandlers,n=this._removeHandlers;if(i[t]||n[t])throw new Error(`Extension type ${t} already has a handler`);i[t]=e,n[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,i=>{e.includes(i.ref)||(e.push(i.ref),e.sort((n,s)=>cx(s,r)-cx(n,r)))},i=>{const n=e.indexOf(i.ref);n!==-1&&e.splice(n,1)})}};class Vf{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const tP=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function rP(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function iP(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const i=tP.replace(/%forloop%/gi,rP(t));if(e.shaderSource(r,i),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const kh=0,Nh=1,Lh=2,Uh=3,zh=4,Hh=5;class Di{constructor(){this.data=0,this.blendMode=_e.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<kh)}set blend(e){!!(this.data&1<<kh)!==e&&(this.data^=1<<kh)}get offsets(){return!!(this.data&1<<Nh)}set offsets(e){!!(this.data&1<<Nh)!==e&&(this.data^=1<<Nh)}get culling(){return!!(this.data&1<<Lh)}set culling(e){!!(this.data&1<<Lh)!==e&&(this.data^=1<<Lh)}get depthTest(){return!!(this.data&1<<Uh)}set depthTest(e){!!(this.data&1<<Uh)!==e&&(this.data^=1<<Uh)}get depthMask(){return!!(this.data&1<<Hh)}set depthMask(e){!!(this.data&1<<Hh)!==e&&(this.data^=1<<Hh)}get clockwiseFrontFace(){return!!(this.data&1<<zh)}set clockwiseFrontFace(e){!!(this.data&1<<zh)!==e&&(this.data^=1<<zh)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==_e.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Di;return e.depthTest=!1,e.blend=!0,e}}const qf=[];function Iy(t,e){if(!t)return null;let r="";if(typeof t=="string"){const i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(let i=qf.length-1;i>=0;--i){const n=qf[i];if(n.test&&n.test(t,r))return new n(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Nr{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,i,n,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:h}=this;this._aliasCount++;for(let u=0,f=h.length;u<f;u++)h[u][c](e,r,i,n,s,o,a,l);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Nr.prototype,{dispatch:{value:Nr.prototype.emit},run:{value:Nr.prototype.emit}});class ya{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Nr("setRealSize"),this.onUpdate=new Nr("update"),this.onError=new Nr("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Na extends ya{constructor(e,r){const{width:i,height:n}=r||{};if(!i||!n)throw new Error("BufferResource width or height invalid");super(i,n),this.data=e}upload(e,r,i){const n=e.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===zr.UNPACK);const s=r.realWidth,o=r.realHeight;return i.width===s&&i.height===o?n.texSubImage2D(r.target,0,0,0,s,o,r.format,i.type,this.data):(i.width=s,i.height=o,n.texImage2D(r.target,0,i.internalFormat,s,o,0,r.format,i.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const nP={scaleMode:vi.NEAREST,format:te.RGBA,alphaMode:zr.NPM},bs=class extends Oa{constructor(t=null,e=null){super(),e=Object.assign({},bs.defaultOptions,e);const{alphaMode:r,mipmap:i,anisotropicLevel:n,scaleMode:s,width:o,height:a,wrapMode:l,format:c,type:h,target:u,resolution:f,resourceOptions:d}=e;t&&!(t instanceof ya)&&(t=Iy(t,d),t.internal=!0),this.resolution=f||oe.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=n,this._wrapMode=l,this._scaleMode=s,this.format=c,this.type=h,this.target=u,this.alphaMode=r,this.uid=Zn(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=ix(this.realWidth)&&ix(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete $r[this.cacheId],delete fr[this.cacheId],this.cacheId=null),this.dispose(),bs.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=oe.STRICT_TEXTURE_CACHE){const i=typeof t=="string";let n=null;if(i)n=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${Zn()}`}n=t._pixiId}let s=$r[n];if(i&&r&&!s)throw new Error(`The cacheId "${n}" does not exist in BaseTextureCache.`);return s||(s=new bs(t,e),s.cacheId=n,bs.addToCache(s,n)),s}static fromBuffer(t,e,r,i){t=t||new Float32Array(e*r*4);const n=new Na(t,{width:e,height:r}),s=t instanceof Float32Array?ge.FLOAT:ge.UNSIGNED_BYTE;return new bs(n,Object.assign({},nP,i||{width:e,height:r,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),$r[e]&&$r[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),$r[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=$r[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete $r[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete $r[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let be=bs;be.defaultOptions={mipmap:si.POW2,anisotropicLevel:0,scaleMode:vi.LINEAR,wrapMode:Ji.CLAMP,alphaMode:zr.UNPACK,target:Os.TEXTURE_2D,format:te.RGBA,type:ge.UNSIGNED_BYTE};be._globalBatch=0;class Yf{constructor(){this.texArray=null,this.blend=0,this.type=Yr.TRIANGLES,this.start=0,this.size=0,this.data=null}}let sP=0,ut=class Fy{constructor(e,r=!0,i=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=r,this.id=sP++,this.disposeRunner=new Nr("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?ei.ELEMENT_ARRAY_BUFFER:ei.ARRAY_BUFFER}get index(){return this.type===ei.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Fy(e)}};class ic{constructor(e,r=0,i=!1,n=ge.FLOAT,s,o,a,l=1){this.buffer=e,this.size=r,this.normalized=i,this.type=n,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,r,i,n,s){return new ic(e,r,i,n,s)}}const oP={Float32Array,Uint32Array,Int32Array,Uint8Array};function aP(t,e){let r=0,i=0;const n={};for(let l=0;l<t.length;l++)i+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let l=0;l<t.length;l++){const c=e[l],h=t[l],u=Py(h);n[u]||(n[u]=new oP[u](s)),o=n[u];for(let f=0;f<h.length;f++){const d=(f/c|0)*i+a,p=f%c;o[d+p]=h[f]}a+=c}return new Float32Array(s)}const hx={5126:4,5123:2,5121:1};let lP=0;const cP={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class on{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=lP++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Nr("disposeGeometry"),this.refCount=0}addAttribute(e,r,i=0,n=!1,s,o,a,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof ut||(r instanceof Array&&(r=new Float32Array(r)),r=new ut(r));const c=e.split("|");if(c.length>1){for(let u=0;u<c.length;u++)this.addAttribute(c[u],r,i,n,s);return this}let h=this.buffers.indexOf(r);return h===-1&&(this.buffers.push(r),h=this.buffers.length-1),this.attributes[e]=new ic(h,i,n,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof ut||(e instanceof Array&&(e=new Uint16Array(e)),e=new ut(e)),e.type=ei.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],i=new ut;let n;for(n in this.attributes){const s=this.attributes[n],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*hx[s.type]/4),s.buffer=0}for(i.data=aP(e,r),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new on;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new ut(this.buffers[r].data.slice(0));for(const r in this.attributes){const i=this.attributes[r];e.attributes[r]=new ic(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=ei.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new on,i=[],n=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l]=n[l]||0,n[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)i[a]=new cP[Py(o.buffers[a].data)](n[a]),r.buffers[a]=new ut(i[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=ei.ELEMENT_ARRAY_BUFFER;let a=0,l=0,c=0,h=0;for(let u=0;u<o.buffers.length;u++)if(o.buffers[u]!==o.indexBuffer){h=u;break}for(const u in o.attributes){const f=o.attributes[u];(f.buffer|0)===h&&(l+=f.size*hx[f.type]/4)}for(let u=0;u<e.length;u++){const f=e[u].indexBuffer.data;for(let d=0;d<f.length;d++)r.indexBuffer.data[d+c]+=a;a+=e[u].buffers[h].data.length/l,c+=f.length}}return r}}class My extends on{constructor(e=!1){super(),this._buffer=new ut(null,e,!1),this._indexBuffer=new ut(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ge.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ge.FLOAT).addAttribute("aColor",this._buffer,4,!0,ge.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ge.FLOAT).addIndex(this._indexBuffer)}}const nc=Math.PI*2,hP=180/Math.PI,uP=Math.PI/180;var Et=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Et||{});class Me{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Me(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const il=[new Me,new Me,new Me,new Me];class Be{constructor(e=0,r=0,i=0,n=0){this.x=Number(e),this.y=Number(r),this.width=Number(i),this.height=Number(n),this.type=Et.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Be(0,0,0,0)}clone(){return new Be(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const A=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=A)return!1;const w=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>w}const i=this.left,n=this.right,s=this.top,o=this.bottom;if(n<=i||o<=s)return!1;const a=il[0].set(e.left,e.top),l=il[1].set(e.left,e.bottom),c=il[2].set(e.right,e.top),h=il[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const u=Math.sign(r.a*r.d-r.b*r.c);if(u===0||(r.apply(a,a),r.apply(l,l),r.apply(c,c),r.apply(h,h),Math.max(a.x,l.x,c.x,h.x)<=i||Math.min(a.x,l.x,c.x,h.x)>=n||Math.max(a.y,l.y,c.y,h.y)<=s||Math.min(a.y,l.y,c.y,h.y)>=o))return!1;const f=u*(l.y-a.y),d=u*(a.x-l.x),p=f*i+d*s,m=f*n+d*s,x=f*i+d*o,y=f*n+d*o;if(Math.max(p,m,x,y)<=f*a.x+d*a.y||Math.min(p,m,x,y)>=f*h.x+d*h.y)return!1;const _=u*(a.y-c.y),g=u*(c.x-a.x),v=_*i+g*s,b=_*n+g*s,E=_*i+g*o,T=_*n+g*o;return!(Math.max(v,b,E,T)<=_*a.x+g*a.y||Math.min(v,b,E,T)>=_*h.x+g*h.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(i-r,0),this.y=n,this.height=Math.max(s-n,0),this}ceil(e=1,r=.001){const i=Math.ceil((this.x+this.width-r)*e)/e,n=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=i-this.x,this.height=n-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=i-r,this.y=n,this.height=s-n,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class S0{constructor(e=0,r=0,i=0){this.x=e,this.y=r,this.radius=i,this.type=Et.CIRC}clone(){return new S0(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const i=this.radius*this.radius;let n=this.x-e,s=this.y-r;return n*=n,s*=s,n+s<=i}getBounds(){return new Be(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class C0{constructor(e=0,r=0,i=0,n=0){this.x=e,this.y=r,this.width=i,this.height=n,this.type=Et.ELIP}clone(){return new C0(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let i=(e-this.x)/this.width,n=(r-this.y)/this.height;return i*=i,n*=n,i+n<=1}getBounds(){return new Be(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Us{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const i=[];for(let n=0,s=r.length;n<s;n++)i.push(r[n].x,r[n].y);r=i}this.points=r,this.type=Et.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Us(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let i=!1;const n=this.points.length/2;for(let s=0,o=n-1;s<n;o=s++){const a=this.points[s*2],l=this.points[s*2+1],c=this.points[o*2],h=this.points[o*2+1];l>r!=h>r&&e<(c-a)*((r-l)/(h-l))+a&&(i=!i)}return i}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class B0{constructor(e=0,r=0,i=0,n=0,s=20){this.x=e,this.y=r,this.width=i,this.height=n,this.radius=s,this.type=Et.RREC}clone(){return new B0(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+i&&r<=this.y+this.height-i||e>=this.x+i&&e<=this.x+this.width-i)return!0;let n=e-(this.x+i),s=r-(this.y+i);const o=i*i;if(n*n+s*s<=o||(n=e-(this.x+this.width-i),n*n+s*s<=o)||(s=r-(this.y+this.height-i),n*n+s*s<=o)||(n=e-(this.x+i),n*n+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class qe{constructor(e=1,r=0,i=0,n=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,i,n,s,o){return this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const i=r||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(e,r){r=r||new Me;const i=e.x,n=e.y;return r.x=this.a*i+this.c*n+this.tx,r.y=this.b*i+this.d*n+this.ty,r}applyInverse(e,r){r=r||new Me;const i=1/(this.a*this.d+this.c*-this.b),n=e.x,s=e.y;return r.x=this.d*i*n+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,r.y=this.a*i*s+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),i=Math.sin(e),n=this.a,s=this.c,o=this.tx;return this.a=n*r-this.b*i,this.b=n*i+this.b*r,this.c=s*r-this.d*i,this.d=s*i+this.d*r,this.tx=o*r-this.ty*i,this.ty=o*i+this.ty*r,this}append(e){const r=this.a,i=this.b,n=this.c,s=this.d;return this.a=e.a*r+e.b*n,this.b=e.a*i+e.b*s,this.c=e.c*r+e.d*n,this.d=e.c*i+e.d*s,this.tx=e.tx*r+e.ty*n+this.tx,this.ty=e.tx*i+e.ty*s+this.ty,this}setTransform(e,r,i,n,s,o,a,l,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(i*this.a+n*this.c),this.ty=r-(i*this.b+n*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const i=this.a,n=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,i=this.b,n=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-n,s),l=Math.atan2(i,r),c=Math.abs(a+l);return c<1e-5||Math.abs(nc-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+i*i),e.scale.y=Math.sqrt(n*n+s*s),e.position.x=this.tx+(o.x*r+o.y*n),e.position.y=this.ty+(o.x*i+o.y*s),e}invert(){const e=this.a,r=this.b,i=this.c,n=this.d,s=this.tx,o=e*n-r*i;return this.a=n/o,this.b=-r/o,this.c=-i/o,this.d=e/o,this.tx=(i*this.ty-n*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new qe;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new qe}static get TEMP_MATRIX(){return new qe}}const An=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],wn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Sn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Cn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Kf=[],Oy=[],nl=Math.sign;function fP(){for(let t=0;t<16;t++){const e=[];Kf.push(e);for(let r=0;r<16;r++){const i=nl(An[t]*An[r]+Sn[t]*wn[r]),n=nl(wn[t]*An[r]+Cn[t]*wn[r]),s=nl(An[t]*Sn[r]+Sn[t]*Cn[r]),o=nl(wn[t]*Sn[r]+Cn[t]*Cn[r]);for(let a=0;a<16;a++)if(An[a]===i&&wn[a]===n&&Sn[a]===s&&Cn[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new qe;e.set(An[t],wn[t],Sn[t],Cn[t],0,0),Oy.push(e)}}fP();const Ze={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>An[t],uY:t=>wn[t],vX:t=>Sn[t],vY:t=>Cn[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Kf[t][e],sub:(t,e)=>Kf[t][Ze.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Ze.S:Ze.N:Math.abs(e)*2<=Math.abs(t)?t>0?Ze.E:Ze.W:e>0?t>0?Ze.SE:Ze.SW:t>0?Ze.NE:Ze.NW,matrixAppendRotationInv:(t,e,r=0,i=0)=>{const n=Oy[Ze.inv(e)];n.tx=r,n.ty=i,t.append(n)}};class Xi{constructor(e,r,i=0,n=0){this._x=i,this._y=n,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Xi(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const ky=class{constructor(){this.worldTransform=new qe,this.localTransform=new qe,this.position=new Xi(this.onChange,this,0,0),this.scale=new Xi(this.onChange,this,1,1),this.pivot=new Xi(this.onChange,this,0,0),this.skew=new Xi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let R0=ky;R0.IDENTITY=new ky;var dP=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,pP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function ux(t,e,r){const i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function Gh(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function Ny(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Gh(2*e);case"bvec3":return Gh(3*e);case"bvec4":return Gh(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const zs=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],mP={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},xP={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function gP(t,e){var i;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in t.uniforms){const s=e[n];if(!s){(i=t.uniforms[n])!=null&&i.group&&(t.uniforms[n].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const o=t.uniforms[n];let a=!1;for(let l=0;l<zs.length;l++)if(zs[l].test(s,o)){r.push(zs[l].code(n,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?mP:xP)[s.type].replace("location",`ud["${n}"].location`);r.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const Ly={};let ps=Ly;function _P(){if(ps===Ly||ps!=null&&ps.isContextLost()){const t=oe.ADAPTER.createCanvas();let e;oe.PREFER_ENV>=is.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),ps=e}return ps}let sl;function yP(){if(!sl){sl=pr.MEDIUM;const t=_P();t&&t.getShaderPrecisionFormat&&(sl=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?pr.HIGH:pr.MEDIUM)}return sl}function fx(t,e){const r=t.getShaderSource(e).split(`
`).map((c,h)=>`${h}: ${c}`),i=t.getShaderInfoLog(e),n=i.split(`
`),s={},o=n.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),a=[""];o.forEach(c=>{r[c-1]=`%c${r[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function vP(t,e,r,i){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||fx(t,r),t.getShaderParameter(i,t.COMPILE_STATUS)||fx(t,i),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const bP={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Uy(t){return bP[t]}let ol=null;const dx={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function zy(t,e){if(!ol){const r=Object.keys(dx);ol={};for(let i=0;i<r.length;++i){const n=r[i];ol[t[n]]=dx[n]}}return ol[e]}function px(t,e,r){if(t.substring(0,9)!=="precision"){let i=e;return e===pr.HIGH&&r!==pr.HIGH&&(i=pr.MEDIUM),`precision ${i} float;
${t}`}else if(r!==pr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Co;function EP(){if(typeof Co=="boolean")return Co;try{Co=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Co=!1}return Co}let TP=0;const al={},Es=class{constructor(t,e,r="pixi-shader",i={}){this.extra={},this.id=TP++,this.vertexSrc=t||Es.defaultVertexSrc,this.fragmentSrc=e||Es.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),al[r]?(al[r]++,r+=`-${al[r]}`):al[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=px(this.vertexSrc,Es.defaultVertexPrecision,pr.HIGH),this.fragmentSrc=px(this.fragmentSrc,Es.defaultFragmentPrecision,yP())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return pP}static get defaultFragmentSrc(){return dP}static from(t,e,r){const i=t+e;let n=sx[i];return n||(sx[i]=n=new Es(t,e,r)),n}};let Fr=Es;Fr.defaultVertexPrecision=pr.HIGH;Fr.defaultFragmentPrecision=bi.apple.device?pr.HIGH:pr.MEDIUM;let AP=0;class Lr{constructor(e,r,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=AP++,this.static=!!r,this.ubo=!!i,e instanceof ut?(this.buffer=e,this.buffer.type=ei.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new ut(new Float32Array(1)),this.buffer.type=ei.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,i){if(!this.ubo)this.uniforms[e]=new Lr(r,i);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,i){return new Lr(e,r,i)}static uboFrom(e,r){return new Lr(e,r??!0,!0)}}class ti{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Lr?this.uniformGroup=r:this.uniformGroup=new Lr(r):this.uniformGroup=new Lr({}),this.disposeRunner=new Nr("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const i in r.uniforms){const n=r.uniforms[i];if(n.group&&this.checkUniformExists(e,n))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,i){const n=Fr.from(e,r);return new ti(n,i)}}class wP{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const i=new Int32Array(e);for(let s=0;s<e;s++)i[s]=s;this.defaultGroupCache[e]=Lr.from({uSamplers:i},!0);let n=this.fragTemplate;n=n.replace(/%count%/gi,`${e}`),n=n.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Fr(this.vertexSrc,n)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new qe,default:this.defaultGroupCache[e]};return new ti(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let i=0;i<e;i++)i>0&&(r+=`
else `),i<e-1&&(r+=`if(vTextureId < ${i}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${i}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class Zf{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function SP(){return!bi.apple.device}function CP(t){let e=!0;const r=oe.ADAPTER.getNavigator();if(bi.tablet||bi.phone){if(bi.apple.device){const i=r.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)<11&&(e=!1)}if(bi.android.device){const i=r.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(e=!1)}}return e?t:4}class jc{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var BP=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,RP=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Tr=class extends jc{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=My,this.vertexSize=6,this.state=Di.for2d(),this.size=Tr.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??CP(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??SP(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return ke("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return RP}static get defaultFragmentTemplate(){return BP}setShaderGenerator({vertex:t=Tr.defaultVertexSrc,fragment:e=Tr.defaultFragmentTemplate}={}){this.shaderGenerator=new wP(t,e)}contextChange(){const t=this.renderer.gl;oe.PREFER_ENV===is.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Tr.defaultMaxTextures),this.maxTextures=iP(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Tr,r=this.size/4,i=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new Yf);for(;e.length<i;)e.push(new Zf);for(let n=0;n<this.maxTextures;n++)this._tempBoundTextures[n]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=Tr._textureArrayPool,i=this.renderer.batch,n=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++be._globalBatch,a=0,l=r[0],c=0;i.copyBoundTextures(n,e);for(let h=0;h<this._bufferSize;++h){const u=t[h];t[h]=null,u._batchEnabled!==o&&(l.count>=e&&(i.boundArray(l,n,o,e),this.buildDrawCalls(l,c,h),c=h,l=r[++a],++o),u._batchEnabled=o,u.touched=s,l.elements[l.count++]=u)}l.count>0&&(i.boundArray(l,n,o,e),this.buildDrawCalls(l,c,this._bufferSize),++a,++o);for(let h=0;h<n.length;h++)n[h]=null;be._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:i,_attributeBuffer:n,_indexBuffer:s,vertexSize:o}=this,a=Tr._drawCallPool;let l=this._dcIndex,c=this._aIndex,h=this._iIndex,u=a[l];u.start=this._iIndex,u.texArray=t;for(let f=e;f<r;++f){const d=i[f],p=d._texture.baseTexture,m=Cy[p.alphaMode?1:0][d.blendMode];i[f]=null,e<f&&u.blend!==m&&(u.size=h-u.start,e=f,u=a[++l],u.texArray=t,u.start=h),this.packInterleavedGeometry(d,n,s,c,h),c+=d.vertexData.length/2*o,h+=d.indices.length,u.blend=m}e<r&&(u.size=h-u.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=h}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;Tr.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,i=Tr._drawCallPool;let n=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:c,blend:h}=i[s];n!==o&&(n=o,this.bindAndClearTexArray(o)),this.state.blendMode=h,r.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Tr.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=rc(Math.ceil(t/8)),r=nx(e),i=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new Vf(i*this.vertexSize*4)),n}getIndexBuffer(t){const e=rc(Math.ceil(t/12)),r=nx(e),i=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n}packInterleavedGeometry(t,e,r,i,n){const{uint32View:s,float32View:o}=e,a=i/this.vertexSize,l=t.uvs,c=t.indices,h=t.vertexData,u=t._texture.baseTexture._batchLocation,f=Math.min(t.worldAlpha,1),d=f<1&&t._texture.baseTexture.alphaMode?w0(t._tintRGB,f):t._tintRGB+(f*255<<24);for(let p=0;p<h.length;p+=2)o[i++]=h[p],o[i++]=h[p+1],o[i++]=l[p],o[i++]=l[p+1],s[i++]=d,o[i++]=u;for(let p=0;p<c.length;p++)r[n++]=a+c[p]}};let Br=Tr;Br.defaultBatchSize=4096;Br.extension={name:"batch",type:ne.RendererPlugin};Br._drawCallPool=[];Br._textureArrayPool=[];me.add(Br);var PP=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,DP=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const No=class extends ti{constructor(t,e,r){const i=Fr.from(t||No.defaultVertexSrc,e||No.defaultFragmentSrc);super(i,r),this.padding=0,this.resolution=No.defaultResolution,this.multisample=No.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Di}apply(t,e,r,i,n){t.applyFilter(this,e,r,i)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return DP}static get defaultFragmentSrc(){return PP}};let At=No;At.defaultResolution=1;At.defaultMultisample=it.NONE;class Hy{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?A0(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=Sy(e),_a(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}Hy.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"background"};me.add(Hy);class Gy{constructor(e){this.renderer=e,this.emptyRenderer=new jc(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:i}=this.renderer.texture;for(let n=r-1;n>=0;--n)e[n]=i[n]||null,e[n]&&(e[n]._batchLocation=n)}boundArray(e,r,i,n){const{elements:s,ids:o,count:a}=e;let l=0;for(let c=0;c<a;c++){const h=s[c],u=h._batchLocation;if(u>=0&&u<n&&r[u]===h){o[c]=u;continue}for(;l<n;){const f=r[l];if(f&&f._batchEnabled===i&&f._batchLocation===l){l++;continue}o[c]=l,h._batchLocation=l,r[l]=h;break}}}destroy(){this.renderer=null}}Gy.extension={type:ne.RendererSystem,name:"batch"};me.add(Gy);let mx=0;class $y{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=mx++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,i=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:i,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=mx++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let i;if(oe.PREFER_ENV>=is.WEBGL2&&(i=e.getContext("webgl2",r)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}$y.extension={type:ne.RendererSystem,name:"context"};me.add($y);class IP extends Na{upload(e,r,i){const n=e.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===zr.UNPACK);const s=r.realWidth,o=r.realHeight;return i.width===s&&i.height===o?n.texSubImage2D(r.target,0,0,0,s,o,r.format,i.type,this.data):(i.width=s,i.height=o,n.texImage2D(r.target,0,i.internalFormat,s,o,0,r.format,i.type,this.data)),!0}}class Qf{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Nr("disposeFramebuffer"),this.multisample=it.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new be(null,{scaleMode:vi.NEAREST,resolution:1,mipmap:si.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new be(new IP(null,{width:this.width,height:this.height}),{scaleMode:vi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:si.OFF,format:te.DEPTH_COMPONENT,type:ge.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const n=this.colorTextures[i],s=n.resolution;n.setSize(e/s,r/s)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,r/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Wy extends be{constructor(e={}){if(typeof e=="number"){const r=arguments[0],i=arguments[1],n=arguments[2],s=arguments[3];e={width:r,height:i,scaleMode:n,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=it.NONE),super(null,e),this.mipmap=si.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Qf(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class an extends ya{constructor(e){const r=e,i=r.naturalWidth||r.videoWidth||r.width,n=r.naturalHeight||r.videoHeight||r.height;super(i,n),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,i){i===void 0&&!r.startsWith("data:")?e.crossOrigin=eP(r):i!==!1&&(e.crossOrigin=typeof i=="string"?i:"anonymous")}upload(e,r,i,n){const s=e.gl,o=r.realWidth,a=r.realHeight;if(n=n||this.source,typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement){if(!n.complete||n.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement&&n.readyState<=1&&n.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===zr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&i.width===o&&i.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,i.type,n):(i.width=o,i.height=a,s.texImage2D(r.target,0,i.internalFormat,r.format,i.type,n)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),super.update()}dispose(){this.source=null}}class jy extends an{constructor(e,r){if(r=r||{},typeof e=="string"){const i=new Image;an.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??oe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,i)=>{const n=this.source;this.url=n.src;const s=()=>{this.destroyed||(n.onload=null,n.onerror=null,this.resize(n.width,n.height),this._load=null,this.createBitmap?r(this.process()):r(this))};n.complete&&n.src?s():(n.onload=s,n.onerror=o=>{i(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,i=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:i?"cors":"no-cors"}).then(n=>n.blob()).then(n=>r(n,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===zr.UNPACK?"premultiply":"none"})).then(n=>this.destroyed?Promise.reject():(this.bitmap=n,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,i){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,i,this.bitmap),!this.preserveBitmap){let n=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Xy{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,i){const n=r.width,s=r.height;if(i){const o=e.width/2/n,a=e.height/2/s,l=e.x/n+o,c=e.y/s+a;i=Ze.add(i,Ze.NW),this.x0=l+o*Ze.uX(i),this.y0=c+a*Ze.uY(i),i=Ze.add(i,2),this.x1=l+o*Ze.uX(i),this.y1=c+a*Ze.uY(i),i=Ze.add(i,2),this.x2=l+o*Ze.uX(i),this.y2=c+a*Ze.uY(i),i=Ze.add(i,2),this.x3=l+o*Ze.uX(i),this.y3=c+a*Ze.uY(i)}else this.x0=e.x/n,this.y0=e.y/s,this.x1=(e.x+e.width)/n,this.y1=e.y/s,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/s,this.x3=e.x/n,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const xx=new Xy;function ll(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class fe extends Oa{constructor(e,r,i,n,s,o){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Be(0,0,1,1)),e instanceof fe&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=n,this.valid=!1,this._uvs=xx,this.uvMatrix=null,this.orig=i||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Me(o.x,o.y):new Me(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&fr[r.url]&&fe.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,fe.removeFromCache(this),this.textureCacheIds=null}clone(){var n;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),i=new fe(this.baseTexture,!this.noFrame&&e,r,(n=this.trim)==null?void 0:n.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=e),i}updateUvs(){this._uvs===xx&&(this._uvs=new Xy),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},i=oe.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let s=null;if(n)s=e;else if(e instanceof be){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Zn()}`,be.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Zn()}`}s=e._pixiId}let o=fr[s];if(n&&i&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof be)?(r.resolution||(r.resolution=sn(e)),o=new fe(new be(e,r)),o.baseTexture.cacheId=s,be.addToCache(o.baseTexture,s),fe.addToCache(o,s)):!o&&e instanceof be&&(o=new fe(e),fe.addToCache(o,s)),o}static fromURL(e,r){const i=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),n=fe.from(e,Object.assign({resourceOptions:i},r),!1),s=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):s.load().then(()=>Promise.resolve(n))}static fromBuffer(e,r,i,n){return new fe(be.fromBuffer(e,r,i,n))}static fromLoader(e,r,i,n){const s=new be(e,Object.assign({scaleMode:be.defaultOptions.scaleMode,resolution:sn(r)},n)),{resource:o}=s;o instanceof jy&&(o.url=r);const a=new fe(s);return i||(i=r),be.addToCache(a.baseTexture,i),fe.addToCache(a,i),i!==r&&(be.addToCache(a.baseTexture,r),fe.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),fr[r]&&fr[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),fr[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=fr[e];if(r){const i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete fr[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)fr[e.textureCacheIds[r]]===e&&delete fr[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:i,width:n,height:s}=e,o=r+n>this.baseTexture.width,a=i+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",c=`X: ${r} + ${n} = ${r+n} > ${this.baseTexture.width}`,h=`Y: ${i} + ${s} = ${i+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${l} ${h}`)}this.valid=n&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return fe._EMPTY||(fe._EMPTY=new fe(new be),ll(fe._EMPTY),ll(fe._EMPTY.baseTexture)),fe._EMPTY}static get WHITE(){if(!fe._WHITE){const e=oe.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),fe._WHITE=new fe(be.from(e)),ll(fe._WHITE),ll(fe._WHITE.baseTexture)}return fe._WHITE}}class ln extends fe{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,i=!0){const n=this.baseTexture.resolution,s=Math.round(e*n)/n,o=Math.round(r*n)/n;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,i&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new ln(new Wy(e))}}class Vy{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,i=it.NONE){const n=new Wy(Object.assign({width:e,height:r,resolution:1,multisample:i},this.textureOptions));return new ln(n)}getOptimalTexture(e,r,i=1,n=it.NONE){let s;e=Math.ceil(e*i-1e-6),r=Math.ceil(r*i-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=rc(e),r=rc(r),s=((e&65535)<<16|r&65535)>>>0,n>1&&(s+=n*4294967296)):s=n>1?-n:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,n)),o.filterPoolKey=s,o.setResolution(i),o}getFilterTexture(e,r,i){const n=this.getOptimalTexture(e.width,e.height,r||e.resolution,i||it.NONE);return n.filterFrame=e.filterFrame,n}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}Vy.SCREEN_KEY=-1;class FP extends on{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class qy extends on{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ut(this.vertices),this.uvBuffer=new ut(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+r.width/e.width,this.uvs[3]=n,this.uvs[4]=i+r.width/e.width,this.uvs[5]=n+r.height/e.height,this.uvs[6]=i,this.uvs[7]=n+r.height/e.height,i=r.x,n=r.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+r.width,this.vertices[3]=n,this.vertices[4]=i+r.width,this.vertices[5]=n+r.height,this.vertices[6]=i,this.vertices[7]=n+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class MP{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=it.NONE,this.sourceFrame=new Be,this.destinationFrame=new Be,this.bindingSourceFrame=new Be,this.bindingDestinationFrame=new Be,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const cl=[new Me,new Me,new Me,new Me],$h=new qe;class Yy{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Vy,this.statePool=[],this.quad=new FP,this.quadUv=new qy,this.tempRect=new Be,this.activeState={},this.globalUniforms=new Lr({outputFrame:new Be,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const i=this.renderer,n=this.defaultFilterStack,s=this.statePool.pop()||new MP,o=this.renderer.renderTexture;let a=r[0].resolution,l=r[0].multisample,c=r[0].padding,h=r[0].autoFit,u=r[0].legacy??!0;for(let p=1;p<r.length;p++){const m=r[p];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),c=this.useMaxPadding?Math.max(c,m.padding):c+m.padding,h=h&&m.autoFit,u=u||(m.legacy??!0)}n.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),n.push(s),s.resolution=a,s.multisample=l,s.legacy=u,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);const f=this.tempRect.copyFrom(o.sourceFrame);i.projection.transform&&this.transformAABB($h.copyFrom(i.projection.transform).invert(),f),h?(s.sourceFrame.fit(f),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(f)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:i.resolution,o.sourceFrame,o.destinationFrame,i.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const d=this.tempRect;d.x=0,d.y=0,d.width=s.sourceFrame.width,d.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=i.projection.transform,i.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,d),i.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),i=r.filters;this.activeState=r;const n=this.globalUniforms.uniforms;n.outputFrame=r.sourceFrame,n.resolution=r.resolution;const s=n.inputSize,o=n.inputPixel,a=n.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const c=n.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,r.renderTexture,l.renderTexture,jr.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let c=r.renderTexture,h=this.getOptimalFilterTexture(c.width,c.height,r.resolution);h.filterFrame=c.filterFrame;let u=0;for(u=0;u<i.length-1;++u){u===1&&r.multisample>1&&(h=this.getOptimalFilterTexture(c.width,c.height,r.resolution),h.filterFrame=c.filterFrame),i[u].apply(this,c,h,jr.CLEAR,r);const f=c;c=h,h=f}i[u].apply(this,c,l.renderTexture,jr.BLEND,r),u>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(h)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=jr.CLEAR){const{renderTexture:i,state:n}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=n.stateId&1||this.forceClear;(r===jr.CLEAR||r===jr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,i,n){const s=this.renderer;s.state.set(e.state),this.bindAndClear(i,n),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Yr.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Yr.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:i,destinationFrame:n}=this.activeState,{orig:s}=r._texture,o=e.set(n.width,0,0,n.height,i.x,i.y),a=r.worldTransform.copyTo(qe.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,i=1,n=it.NONE){return this.texturePool.getOptimalTexture(e,r,i,n)}getFilterTexture(e,r,i){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,i||it.NONE);return n.filterFrame=e.filterFrame,n}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const i=cl[0],n=cl[1],s=cl[2],o=cl[3];i.set(r.left,r.top),n.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(i,i),e.apply(n,n),e.apply(s,s),e.apply(o,o);const a=Math.min(i.x,n.x,s.x,o.x),l=Math.min(i.y,n.y,s.y,o.y),c=Math.max(i.x,n.x,s.x,o.x),h=Math.max(i.y,n.y,s.y,o.y);r.x=a,r.y=l,r.width=c-a,r.height=h-l}roundFrame(e,r,i,n,s){if(!(e.width<=0||e.height<=0||i.width<=0||i.height<=0)){if(s){const{a:o,b:a,c:l,d:c}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?$h.copyFrom(s):$h.identity(),s.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}Yy.extension={type:ne.RendererSystem,name:"filter"};me.add(Yy);class OP{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=it.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const kP=new Be;class Ky{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Qf(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Be,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;oe.PREFER_ENV===is.WEBGL_LEGACY&&(r=null,i=null),r?e.drawBuffers=n=>r.drawBuffersWEBGL(n):(this.hasMRT=!1,e.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,i=0){const{gl:n}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==i&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=i),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,i)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>i,a=r.height>>i,l=o/r.width;this.setViewport(r.x*l,r.y*l,o,a)}else{const o=e.width>>i,a=e.height>>i;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,i,n){const s=this.viewport;e=Math.round(e),r=Math.round(r),i=Math.round(i),n=Math.round(n),(s.width!==i||s.height!==n||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=i,s.height=n,this.gl.viewport(e,r,i,n))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,i,n,s=Rf.COLOR|Rf.DEPTH){const{gl:o}=this;o.clearColor(e,r,i,n),o.clear(s)}initFramebuffer(e){const{gl:r}=this,i=new OP(r.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i}resizeFramebuffer(e){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID];i.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const n=e.colorTextures;let s=n.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=n[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&i.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:i}=this,n=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;i.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&this.canMultisampleFramebuffer(e)?n.msaaBuffer=n.msaaBuffer||i.createRenderbuffer():n.msaaBuffer&&(i.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const c=s[l],h=c.parentTextureArray||c;this.renderer.texture.bind(h,0),l===0&&n.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,n.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,h._glTextures[this.CONTEXT_UID].texture,r),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(n.stencil=n.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,n.stencil),n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,i.DEPTH24_STENCIL8,e.width,e.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,n.stencil)):n.stencil&&(i.deleteRenderbuffer(n.stencil),n.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let i=it.NONE;if(e<=1||r===null)return i;for(let n=0;n<r.length;n++)if(r[n]<=e){i=r[n];break}return i===1&&(i=it.NONE),i}blit(e,r,i){const{current:n,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!n)return;const l=n.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const h=n.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new Qf(n.width,n.height),l.blitFramebuffer.addColorTexture(0,h)),e=l.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==n.width||e.height!==n.height)&&(e.width=n.width,e.height=n.height,e.dirtyId++,e.dirtySize++)}r||(r=kP,r.width=n.width,r.height=n.height),i||(i=r);const c=r.width===i.width&&r.height===i.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,i.left,i.top,i.right,i.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,r){const i=e.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(!i)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(n.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&n.deleteRenderbuffer(i.msaaBuffer),i.stencil&&n.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<r.length;i++)this.disposeFramebuffer(r[i],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const i=e.width,n=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,i,n):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,i,n),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Be}destroy(){this.renderer=null}}Ky.extension={type:ne.RendererSystem,name:"framebuffer"};me.add(Ky);const Wh={5126:4,5123:2,5121:1};class Zy{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let i=this.renderer.context.extensions.vertexArrayObject;oe.PREFER_ENV===is.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=()=>i.createVertexArrayOES(),e.bindVertexArray=n=>i.bindVertexArrayOES(n),e.deleteVertexArray=n=>i.deleteVertexArrayOES(n)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=(n,s)=>i.vertexAttribDivisorANGLE(n,s),e.drawElementsInstanced=(n,s,o,a,l)=>i.drawElementsInstancedANGLE(n,s,o,a,l),e.drawArraysInstanced=(n,s,o,a)=>i.drawArraysInstancedANGLE(n,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:i}=this;let n=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;n||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=n={},s=!0);const o=n[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let i=0;i<e.buffers.length;i++){const n=e.buffers[i];r.update(n)}}checkCompatibility(e,r){const i=e.attributes,n=r.attributeData;for(const s in n)if(!i[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const i=e.attributes,n=r.attributeData,s=["g",e.id];for(const o in i)n[o]&&s.push(o,n[o].location);return s.join("-")}initGeometryVao(e,r,i=!0){const n=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const l=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let h=c[l];if(h)return c[a.id]=h,h;const u=e.buffers,f=e.attributes,d={},p={};for(const m in u)d[m]=0,p[m]=0;for(const m in f)!f[m].size&&a.attributeData[m]?f[m].size=a.attributeData[m].size:f[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),d[f[m].buffer]+=f[m].size*Wh[f[m].type];for(const m in f){const x=f[m],y=x.size;x.stride===void 0&&(d[x.buffer]===y*Wh[x.type]?x.stride=0:x.stride=d[x.buffer]),x.start===void 0&&(x.start=p[x.buffer],p[x.buffer]+=y*Wh[x.type])}h=n.createVertexArray(),n.bindVertexArray(h);for(let m=0;m<u.length;m++){const x=u[m];o.bind(x),i&&x._glBuffers[s].refCount++}return this.activateVao(e,a),c[a.id]=h,c[l]=h,n.bindVertexArray(null),o.unbind(ei.ARRAY_BUFFER),h}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const i=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!i){if(o)for(let l=0;l<s.length;l++){const c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(s[l],r))}if(!r){for(const l in i)if(l[0]==="g"){const c=i[l];this._activeVao===c&&this.unbind(),n.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let i=0;i<r.length;i++)this.disposeGeometry(this.managedGeometries[r[i]],e)}activateVao(e,r){const i=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const c in a){const h=a[c],u=o[h.buffer],f=u._glBuffers[n];if(r.attributeData[c]){l!==f&&(s.bind(u),l=f);const d=r.attributeData[c].location;if(i.enableVertexAttribArray(d),i.vertexAttribPointer(d,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)i.vertexAttribDivisor(d,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,i,n){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(i||0)*a,n||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,i,r||o.getSize(),n||1):s.drawArrays(e,i,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}Zy.extension={type:ne.RendererSystem,name:"geometry"};me.add(Zy);const gx=new qe;class Qy{constructor(e,r){this._texture=e,this.mapCoord=new qe,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const i=this.mapCoord;for(let n=0;n<e.length;n+=2){const s=e[n],o=e[n+1];r[n]=s*i.a+o*i.c+i.tx,r[n+1]=s*i.b+o*i.d+i.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const i=r._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const n=r.orig,s=r.trim;s&&(gx.set(n.width/s.width,0,0,n.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(gx));const o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(r._frame.x+l+c)/o.width,a[1]=(r._frame.y+l+c)/o.height,a[2]=(r._frame.x+r._frame.width-l+c)/o.width,a[3]=(r._frame.y+r._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var NP=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,LP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class UP extends At{constructor(e,r,i){let n=null;typeof e!="string"&&r===void 0&&i===void 0&&(n=e,e=void 0,r=void 0,i=void 0),super(e||LP,r||NP,i),this.maskSprite=n,this.maskMatrix=new qe}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,i,n){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Qy(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,i,n))}}class zP{constructor(e=null){this.type=ht.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=At.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=ht.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class Jy{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let i=r;if(!i.isMaskData){const s=this.maskDataPool.pop()||new zP;s.pooled=!0,s.maskObject=r,i=s}const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i._colorMask=n?n._colorMask:15,i.autoDetect&&this.detect(i),i._target=e,i.type!==ht.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case ht.SCISSOR:this.renderer.scissor.push(i);break;case ht.STENCIL:this.renderer.stencil.push(i);break;case ht.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case ht.COLOR:this.pushColorMask(i);break}i.type===ht.SPRITE&&this.maskStack.push(i)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case ht.SCISSOR:this.renderer.scissor.pop(r);break;case ht.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case ht.SPRITE:this.popSpriteMask(r);break;case ht.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const i=this.maskStack[this.maskStack.length-1];i.type===ht.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=ht.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=ht.SCISSOR:e.type=ht.STENCIL:e.type=ht.COLOR}pushSpriteMask(e){const{maskObject:r}=e,i=e._target;let n=e._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex],n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new UP]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const h=o.current;a=e.resolution||h.resolution,l=e.multisample??h.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;n[0].resolution=a,n[0].multisample=l,n[0].maskSprite=r;const c=i.filterArea;i.filterArea=r.getBounds(!0),s.filter.push(i,n),i.filterArea=c,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,i=e._colorMask=r&e.colorMask;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}popColorMask(e){const r=e._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}destroy(){this.renderer=null}}Jy.extension={type:ne.RendererSystem,name:"mask"};me.add(Jy);class ev{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,i=this.getStackLength();this.maskStack=e;const n=this.getStackLength();n!==i&&(n===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const _x=new qe,yx=[],Pl=class extends ev{constructor(t){super(t),this.glConst=oe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:i}=this,n=i.renderTexture,s=r.getBounds(!0,yx.pop()??new Be);this.roundFrameToPixels(s,n.current?n.current.resolution:i.resolution,n.sourceFrame,n.destinationFrame,i.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:i,d:n}=t;return(Math.abs(r)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(n)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Pl.isMatrixRotated(e.worldTransform)||Pl.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,i,n){Pl.isMatrixRotated(n)||(n=n?_x.copyFrom(n):_x.identity(),n.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.renderer.filter.transformAABB(n,t),t.fit(i),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&yx.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let tv=Pl;tv.extension={type:ne.RendererSystem,name:"scissor"};me.add(tv);class rv extends ev{constructor(e){super(e),this.glConst=oe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:i}=this.renderer,n=e._stencilCounter;n===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,n,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,i.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,n=i?i._colorMask:15;n!==0&&(i._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,n!==0&&(i._colorMask=n,r.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}rv.extension={type:ne.RendererSystem,name:"stencil"};me.add(rv);class iv{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return ke("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return ke("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return ke("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}iv.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"_plugin"};me.add(iv);class nv{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new qe,this.transform=null}update(e,r,i,n){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,n),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,i,n){const s=this.projectionMatrix,o=n?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}nv.extension={type:ne.RendererSystem,name:"projection"};me.add(nv);const HP=new R0;class sv{constructor(e){this.renderer=e,this._tempMatrix=new qe}generateTexture(e,r){const{region:i,...n}=r||{},s=i||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=ln.create({width:s.width,height:s.height,...n});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=HP,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}sv.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"textureGenerator"};me.add(sv);const _n=new Be,Bo=new Be;class ov{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Be,this.destinationFrame=new Be,this.viewportFrame=new Be}bind(e=null,r,i){const n=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(_n.width=e.frame.width,_n.height=e.frame.height,r=_n),i||(Bo.x=e.frame.x,Bo.y=e.frame.y,Bo.width=r.width,Bo.height=r.height,i=Bo),o=s.framebuffer):(a=n.resolution,r||(_n.width=n._view.screen.width,_n.height=n._view.screen.height,r=_n),i||(i=_n,i.width=r.width,i.height=r.height));const l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,e||(l.y=n.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(i,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(i)}clear(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const i=this.destinationFrame,n=this.current?this.current.baseTexture:this.renderer._view.screen,s=i.width!==n.width||i.height!==n.height;if(s){let{x:o,y:a,width:l,height:c}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}ov.extension={type:ne.RendererSystem,name:"renderTexture"};me.add(ov);class GP{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function $P(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const s=e.getActiveAttrib(t,n);if(s.name.startsWith("gl_"))continue;const o=zy(e,s.type),a={type:o,name:s.name,size:Uy(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function WP(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<i;n++){const s=e.getActiveUniform(t,n),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=zy(e,s.type);r[o]={name:o,index:n,type:l,size:s.size,isArray:a,value:Ny(l,s.size)}}return r}function jP(t,e){var l;const r=ux(t,t.VERTEX_SHADER,e.vertexSrc),i=ux(t,t.FRAGMENT_SHADER,e.fragmentSrc),n=t.createProgram();t.attachShader(n,r),t.attachShader(n,i);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(n,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||vP(t,n,r,i),e.attributeData=$P(n,t),e.uniformData=WP(n,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,u)=>h>u?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(n,h,c[h]);t.linkProgram(n)}t.deleteShader(r),t.deleteShader(i);const o={};for(const c in e.uniformData){const h=e.uniformData[c];o[c]={location:t.getUniformLocation(n,c),value:Ny(h.type,h.size)}}return new GP(n,o)}function XP(t,e,r,i,n){r.buffer.update(n)}const VP={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},av={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function qP(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,i=0,n=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=av[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,i%r!==0&&i<16){const a=i%r%16;i+=a,n+=a}i+r>16?(n=Math.ceil(n/16)*16,o.offset=n,n+=r,i=r):(o.offset=n,i+=r,n+=r)}return n=Math.ceil(n/16)*16,{uboElements:e,size:n}}function YP(t,e){const r=[];for(const i in t)e[i]&&r.push(e[i]);return r.sort((i,n)=>i.index-n.index),r}function KP(t,e){if(!t.autoManage)return{size:0,syncFunc:XP};const r=YP(t.uniforms,e),{uboElements:i,size:n}=qP(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<i.length;o++){const a=i[o],l=t.uniforms[a.data.name],c=a.data.name;let h=!1;for(let u=0;u<zs.length;u++){const f=zs[u];if(f.codeUbo&&f.test(a.data,l)){s.push(`offset = ${a.offset/4};`,zs[u].codeUbo(a.data.name,l)),h=!0;break}}if(!h)if(a.data.size>1){const u=Uy(a.data.type),f=Math.max(av[a.data.type]/16,1),d=u/f,p=(4-d%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*f}; i++)
                {
                    for(var j = 0; j < ${d}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const u=VP[a.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${u};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let ZP=0;const hl={textureCount:0,uboCount:0};class lv{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=ZP++}systemCheck(){if(!EP())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const i=e.program,n=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(n.program)),r||(hl.textureCount=0,hl.uboCount=0,this.syncUniformGroup(e.uniformGroup,hl)),n}setUniforms(e){const r=this.shader.program,i=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(i.uniformData,e,this.renderer)}syncUniformGroup(e,r){const i=this.getGlProgram();(!e.static||e.dirtyId!==i.uniformDirtyGroups[e.id])&&(i.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,r))}syncUniforms(e,r,i){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,i)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=gP(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const i=this.getGlProgram();if(!e.static||e.dirtyId!==0||!i.uniformGroups[e.id]){e.dirtyId=0;const n=i.uniformGroups[e.id]||this.createSyncBufferGroup(e,i,r);e.buffer.update(),n(i.uniformData,e.uniforms,this.renderer,hl,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,i.uniformBufferBindings[r])}createSyncBufferGroup(e,r,i){const{gl:n}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,i);r.uniformBufferBindings[i]=this.shader.uniformBindCount,n.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=KP(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,i){const n=e.uniforms,s=[`${i}-`];for(const o in n)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,i=e.program,n=jP(r,i);return i.glPrograms[this.renderer.CONTEXT_UID]=n,n}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}lv.extension={type:ne.RendererSystem,name:"shader"};me.add(lv);class cv{constructor(e){this.renderer=e}run(e){const r=this.renderer;r.emitWithCustomOptions(r.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}cv.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"startup"};me.add(cv);function QP(t,e=[]){return e[_e.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD]=[t.ONE,t.ONE],e[_e.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.NONE]=[0,0],e[_e.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[_e.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[_e.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[_e.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[_e.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[_e.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[_e.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const JP=0,eD=1,tD=2,rD=3,iD=4,nD=5,Jf=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=_e.NONE,this._blendEq=!1,this.map=[],this.map[JP]=this.setBlend,this.map[eD]=this.setOffset,this.map[tD]=this.setCullFace,this.map[rD]=this.setDepthTest,this.map[iD]=this.setFrontFace,this.map[nD]=this.setDepthMask,this.checks=[],this.defaultState=new Di,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=QP(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Jf.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Jf.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let hv=Jf;hv.extension={type:ne.RendererSystem,name:"state"};me.add(hv);class sD extends Oa{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(n=>e.systems[n]),i=[...r,...Object.keys(e.systems).filter(n=>!r.includes(n))];for(const n of i)this.addSystem(e.systems[n],n)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Nr(r)})}addSystem(e,r){const i=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=i,this._systemsHash[r]=i;for(const n in this.runners)this.runners[n].add(i);return this}emitWithCustomOptions(e,r){const i=Object.keys(this._systemsHash);e.items.forEach(n=>{const s=i.find(o=>this._systemsHash[o]===n);n[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Dl=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Dl.defaultMaxIdle,this.checkCountMax=Dl.defaultCheckCountMax,this.mode=Dl.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==d0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let i=0;i<e.length;i++){const n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){let i=0;for(let n=0;n<e.length;n++)e[n]!==null&&(e[i++]=e[n]);e.length=i}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let i=t.children.length-1;i>=0;i--)this.unload(t.children[i])}destroy(){this.renderer=null}};let Rr=Dl;Rr.defaultMode=d0.AUTO;Rr.defaultMaxIdle=60*60;Rr.defaultCheckCountMax=60*10;Rr.extension={type:ne.RendererSystem,name:"textureGC"};me.add(Rr);class jh{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ge.UNSIGNED_BYTE,this.internalFormat=te.RGBA,this.samplerType=0}}function oD(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ge.UNSIGNED_BYTE]:{[te.RGBA]:t.RGBA8,[te.RGB]:t.RGB8,[te.RG]:t.RG8,[te.RED]:t.R8,[te.RGBA_INTEGER]:t.RGBA8UI,[te.RGB_INTEGER]:t.RGB8UI,[te.RG_INTEGER]:t.RG8UI,[te.RED_INTEGER]:t.R8UI,[te.ALPHA]:t.ALPHA,[te.LUMINANCE]:t.LUMINANCE,[te.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ge.BYTE]:{[te.RGBA]:t.RGBA8_SNORM,[te.RGB]:t.RGB8_SNORM,[te.RG]:t.RG8_SNORM,[te.RED]:t.R8_SNORM,[te.RGBA_INTEGER]:t.RGBA8I,[te.RGB_INTEGER]:t.RGB8I,[te.RG_INTEGER]:t.RG8I,[te.RED_INTEGER]:t.R8I},[ge.UNSIGNED_SHORT]:{[te.RGBA_INTEGER]:t.RGBA16UI,[te.RGB_INTEGER]:t.RGB16UI,[te.RG_INTEGER]:t.RG16UI,[te.RED_INTEGER]:t.R16UI,[te.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ge.SHORT]:{[te.RGBA_INTEGER]:t.RGBA16I,[te.RGB_INTEGER]:t.RGB16I,[te.RG_INTEGER]:t.RG16I,[te.RED_INTEGER]:t.R16I},[ge.UNSIGNED_INT]:{[te.RGBA_INTEGER]:t.RGBA32UI,[te.RGB_INTEGER]:t.RGB32UI,[te.RG_INTEGER]:t.RG32UI,[te.RED_INTEGER]:t.R32UI,[te.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ge.INT]:{[te.RGBA_INTEGER]:t.RGBA32I,[te.RGB_INTEGER]:t.RGB32I,[te.RG_INTEGER]:t.RG32I,[te.RED_INTEGER]:t.R32I},[ge.FLOAT]:{[te.RGBA]:t.RGBA32F,[te.RGB]:t.RGB32F,[te.RG]:t.RG32F,[te.RED]:t.R32F,[te.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ge.HALF_FLOAT]:{[te.RGBA]:t.RGBA16F,[te.RGB]:t.RGB16F,[te.RG]:t.RG16F,[te.RED]:t.R16F},[ge.UNSIGNED_SHORT_5_6_5]:{[te.RGB]:t.RGB565},[ge.UNSIGNED_SHORT_4_4_4_4]:{[te.RGBA]:t.RGBA4},[ge.UNSIGNED_SHORT_5_5_5_1]:{[te.RGBA]:t.RGB5_A1},[ge.UNSIGNED_INT_2_10_10_10_REV]:{[te.RGBA]:t.RGB10_A2,[te.RGBA_INTEGER]:t.RGB10_A2UI},[ge.UNSIGNED_INT_10F_11F_11F_REV]:{[te.RGB]:t.R11F_G11F_B10F},[ge.UNSIGNED_INT_5_9_9_9_REV]:{[te.RGB]:t.RGB9_E5},[ge.UNSIGNED_INT_24_8]:{[te.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ge.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[te.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ge.UNSIGNED_BYTE]:{[te.RGBA]:t.RGBA,[te.RGB]:t.RGB,[te.ALPHA]:t.ALPHA,[te.LUMINANCE]:t.LUMINANCE,[te.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ge.UNSIGNED_SHORT_5_6_5]:{[te.RGB]:t.RGB},[ge.UNSIGNED_SHORT_4_4_4_4]:{[te.RGBA]:t.RGBA},[ge.UNSIGNED_SHORT_5_5_5_1]:{[te.RGBA]:t.RGBA}},e}class uv{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new be,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=oD(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};const i=new jh(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new jh(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let n=0;n<this.boundTextures.length;n++)this.bind(null,n)}bind(e,r=0){const{gl:i}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),this.updateTexture(e)):n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(let n=0;n<i.length;n++)i[n]===e&&(this.currentLocation!==n&&(r.activeTexture(r.TEXTURE0+n),this.currentLocation=n),r.bindTexture(e.target,this.emptyTextures[e.target].texture),i[n]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:i,CONTEXT_UID:n}=this;if(i)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[n].samplerType!==Pf.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new jh(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var i;r.internalFormat=((i=this.internalFormats[e.type])==null?void 0:i[e.format])??e.format,this.webGLVersion===2&&e.type===ge.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var n;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const i=this.renderer;if(this.initTextureType(e,r),(n=e.resource)!=null&&n.upload(i,e,r))r.samplerType!==Pf.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=i.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:i}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const n=this.managedTextures.indexOf(e);n!==-1&&Ls(this.managedTextures,n,1)}}updateTextureStyle(e){var i;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===si.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Ji.CLAMP:r.wrapMode=e.wrapMode,(i=e.resource)!=null&&i.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const i=this.gl;if(r.mipmap&&e.mipmap!==si.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,r.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===vi.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const n=this.renderer.context.extensions.anisotropicFiltering;if(n&&e.anisotropicLevel>0&&e.scaleMode===vi.LINEAR){const s=Math.min(e.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===vi.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===vi.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}}uv.extension={type:ne.RendererSystem,name:"texture"};me.add(uv);class fv{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glTransformFeedbacks[i]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,n)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:i,renderer:n}=this;r&&n.shader.bind(r),i.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:i,CONTEXT_UID:n}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[n]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(i.buffer.update(a),a._glBuffers[n].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[n].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const i=e._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a,r))}i&&(r||n.deleteTransformFeedback(i),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}fv.extension={type:ne.RendererSystem,name:"transformFeedback"};me.add(fv);class dv{constructor(e){this.renderer=e}init(e){this.screen=new Be(0,0,e.width,e.height),this.element=e.view||oe.ADAPTER.createCanvas(),this.resolution=e.resolution||oe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const i=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=i,this.screen.height=n,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${n}px`),this.renderer.emit("resize",i,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}dv.extension={type:[ne.RendererSystem,ne.CanvasRendererSystem],name:"_view"};me.add(dv);oe.PREFER_ENV=is.WEBGL2;oe.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(oe,{WRAP_MODE:{get(){return be.defaultOptions.wrapMode},set(t){ke("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),be.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return be.defaultOptions.scaleMode},set(t){ke("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),be.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return be.defaultOptions.mipmap},set(t){ke("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),be.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return be.defaultOptions.anisotropicLevel},set(t){ke("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),be.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return ke("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),At.defaultResolution},set(t){At.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return ke("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),At.defaultMultisample},set(t){At.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Br.defaultMaxTextures},set(t){ke("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Br.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Br.defaultBatchSize},set(t){ke("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Br.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Br.canUploadSameBuffer},set(t){ke("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Br.canUploadSameBuffer=t}},GC_MODE:{get(){return Rr.defaultMode},set(t){ke("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Rr.defaultMode=t}},GC_MAX_IDLE:{get(){return Rr.defaultMaxIdle},set(t){ke("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Rr.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Rr.defaultCheckCountMax},set(t){ke("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Rr.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Fr.defaultVertexPrecision},set(t){ke("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Fr.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Fr.defaultFragmentPrecision},set(t){ke("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Fr.defaultFragmentPrecision=t}}});var eo=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(eo||{});class Xh{constructor(e,r=null,i=0,n=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=i,this.once=n}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Jt=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Xh(null,null,1/0),this.deltaMS=1/Jt.targetFPMS,this.elapsedMS=1/Jt.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=eo.NORMAL){return this._addListener(new Xh(t,e,r))}addOnce(t,e,r=eo.NORMAL){return this._addListener(new Xh(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Jt.targetFPMS;const r=this._head;let i=r.next;for(;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Jt.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Jt._shared){const t=Jt._shared=new Jt;t.autoStart=!0,t._protected=!0}return Jt._shared}static get system(){if(!Jt._system){const t=Jt._system=new Jt;t.autoStart=!0,t._protected=!0}return Jt._system}};let Gt=Jt;Gt.targetFPMS=.06;Object.defineProperties(oe,{TARGET_FPMS:{get(){return Gt.targetFPMS},set(t){ke("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Gt.targetFPMS=t}}});class pv{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,eo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Gt.shared:new Gt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}pv.extension=ne.Application;me.add(pv);const mv=[];me.handleByList(ne.Renderer,mv);function aD(t){for(const e of mv)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var lD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,cD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const hD=lD,xv=cD;class gv{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{const i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}r>=it.HIGH?this.multisample=it.HIGH:r>=it.MEDIUM?this.multisample=it.MEDIUM:r>=it.LOW?this.multisample=it.LOW:this.multisample=it.NONE}destroy(){}}gv.extension={type:ne.RendererSystem,name:"_multisample"};me.add(gv);class uD{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class _v{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);r.bindBuffer(e.type,n.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:i,CONTEXT_UID:n}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[n]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,i){const{gl:n,CONTEXT_UID:s}=this;i=i||0;const o=e._glBuffers[s]||this.createGLBuffer(e);n.bindBufferRange(n.UNIFORM_BUFFER,r||0,o.buffer,i*256,256)}update(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);if(e._updateID!==n.updateID)if(n.updateID=e._updateID,r.bindBuffer(e.type,n.buffer),n.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;n.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const i=e._glBuffers[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this),i&&(r||n.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let i=0;i<r.length;i++)this.dispose(this.managedBuffers[r[i]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:i}=this;return e._glBuffers[r]=new uD(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}_v.extension={type:ne.RendererSystem,name:"buffer"};me.add(_v);class yv{constructor(e){this.renderer=e}render(e,r){const i=this.renderer;let n,s,o,a;if(r&&(n=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!n,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=o,!i.context.isLost){if(n||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}i.renderTexture.bind(n),i.batch.currentRenderer.start(),(s??i.background.clearBeforeRender)&&i.renderTexture.clear(),e.render(i),i.batch.currentRenderer.flush(),n&&(r.blit&&i.framebuffer.blit(),n.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}yv.extension={type:ne.RendererSystem,name:"objectRenderer"};me.add(yv);const ed=class extends sD{constructor(t){super(),this.type=ry.WEBGL,t=Object.assign({},oe.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Lr({projectionMatrix:new qe},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:ed.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(ke("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const r={hello:t.hello,_plugin:ed.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(r)}static test(t){return t!=null&&t.forceCanvas?!1:s3()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return ke("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return ke("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return ke("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return ke("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){ke("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return ke("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){ke("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return ke("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let xo=ed;xo.extension={type:ne.Renderer,priority:1};xo.__plugins={};xo.__systems={};me.handleByMap(ne.RendererPlugin,xo.__plugins);me.handleByMap(ne.RendererSystem,xo.__systems);me.add(xo);class vv extends ya{constructor(e,r){const{width:i,height:n}=r||{};super(i,n),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new be;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let i=0;i<this.length;i++)e[i]&&(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof ya?this.addResourceAt(e[i],i):this.addResourceAt(Iy(e[i],r),i))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(i=>i.resource).filter(i=>i).map(i=>i.load());return this._load=Promise.all(r).then(()=>{const{realWidth:i,realHeight:n}=this.items[0];return this.resize(i,n),Promise.resolve(this)}),this._load}}class fD extends vv{constructor(e,r){const{width:i,height:n}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:i,height:n}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Os.TEXTURE_2D_ARRAY}upload(e,r,i){const{length:n,itemDirtyIds:s,items:o}=this,{gl:a}=e;i.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,r.format,i.type,null);for(let l=0;l<n;l++){const c=o[l];s[l]<c.dirtyId&&(s[l]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,c.resource.width,c.resource.height,1,r.format,i.type,c.resource.source))}return!0}}class dD extends an{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Lo=class extends vv{constructor(t,e){const{width:r,height:i,autoLoad:n,linkBaseTexture:s}=e||{};if(t&&t.length!==Lo.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:i});for(let o=0;o<Lo.SIDES;o++)this.items[o].target=Os.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),n!==!1&&this.load()}bind(t){super.bind(t),t.target=Os.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Os.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const i=this.itemDirtyIds;for(let n=0;n<Lo.SIDES;n++){const s=this.items[n];(i[n]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),i[n]=s.dirtyId):i[n]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),i[n]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Lo.SIDES}};let bv=Lo;bv.SIDES=6;class Cs extends an{constructor(e,r){r=r||{};let i,n;typeof e=="string"?(i=Cs.EMPTY,n=e):(i=e,n=null),super(i),this.url=n,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const i=await oe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const n=await i.blob();if(this.destroyed)return;const s=await createImageBitmap(n,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===zr.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(i){if(this.destroyed)return;r(i),this.onError.emit(i)}}),this._load)}upload(e,r,i){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,i)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Cs._EMPTY=Cs._EMPTY??oe.ADAPTER.createCanvas(0,0),Cs._EMPTY}}const Il=class extends an{constructor(t,e){e=e||{},super(oe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},Il.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;an.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=e*this.scale,n=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/r*e,n=this._overrideHeight||this._overrideWidth/e*r),i=Math.round(i),n=Math.round(n);const s=this.source;s.width=i,s.height=n,s._pixiId=`canvas_${Zn()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,i,n),this._resolve(),this._resolve=null}}static getSize(t){const e=Il.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Il.SVG_XML.test(t)}};let va=Il;va.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;va.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const td=class extends an{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const i=t[0].src||t[0];an.crossOrigin(r,i,e.crossorigin);for(let n=0;n<t.length;++n){const s=document.createElement("source");let{src:o,mime:a}=t[n];o=o||t[n];const l=o.split("?").shift().toLowerCase(),c=l.slice(l.lastIndexOf(".")+1);a=a||td.MIME_TYPES[c]||`video/${c}`,s.src=o,s.type=a,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Gt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Gt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Gt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Gt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Gt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Gt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||td.TYPES.includes(e)}};let P0=td;P0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];P0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};qf.push(Cs,jy,dD,P0,va,Na,bv,fD);class sc{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Be.EMPTY:(e=e||new Be(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:i,b:n,c:s,d:o,tx:a,ty:l}=e,c=i*r.x+s*r.y+a,h=n*r.x+o*r.y+l;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let r=this.minX,i=this.minY,n=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,this.minX=r,this.minY=i,this.maxX=n,this.maxY=s}addFrame(e,r,i,n,s){this.addFrameMatrix(e.worldTransform,r,i,n,s)}addFrameMatrix(e,r,i,n,s){const o=e.a,a=e.b,l=e.c,c=e.d,h=e.tx,u=e.ty;let f=this.minX,d=this.minY,p=this.maxX,m=this.maxY,x=o*r+l*i+h,y=a*r+c*i+u;f=x<f?x:f,d=y<d?y:d,p=x>p?x:p,m=y>m?y:m,x=o*n+l*i+h,y=a*n+c*i+u,f=x<f?x:f,d=y<d?y:d,p=x>p?x:p,m=y>m?y:m,x=o*r+l*s+h,y=a*r+c*s+u,f=x<f?x:f,d=y<d?y:d,p=x>p?x:p,m=y>m?y:m,x=o*n+l*s+h,y=a*n+c*s+u,f=x<f?x:f,d=y<d?y:d,p=x>p?x:p,m=y>m?y:m,this.minX=f,this.minY=d,this.maxX=p,this.maxY=m}addVertexData(e,r,i){let n=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=r;l<i;l+=2){const c=e[l],h=e[l+1];n=c<n?c:n,s=h<s?h:s,o=c>o?c:o,a=h>a?h:a}this.minX=n,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,i,n){this.addVerticesMatrix(e.worldTransform,r,i,n)}addVerticesMatrix(e,r,i,n,s=0,o=s){const a=e.a,l=e.b,c=e.c,h=e.d,u=e.tx,f=e.ty;let d=this.minX,p=this.minY,m=this.maxX,x=this.maxY;for(let y=i;y<n;y+=2){const _=r[y],g=r[y+1],v=a*_+c*g+u,b=h*g+l*_+f;d=Math.min(d,v-s),m=Math.max(m,v+s),p=Math.min(p,b-o),x=Math.max(x,b+o)}this.minX=d,this.minY=p,this.maxX=m,this.maxY=x}addBounds(e){const r=this.minX,i=this.minY,n=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<i?e.minY:i,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const i=e.minX>r.minX?e.minX:r.minX,n=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(i<=s&&n<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=i<a?i:a,this.minY=n<l?n:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const i=e.minX>r.x?e.minX:r.x,n=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(i<=s&&n<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=i<a?i:a,this.minY=n<l?n:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,i,n,s,o){e-=s,r-=o,i+=s,n+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>n?this.maxY:n}}class rt extends Oa{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new R0,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new sc,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let i=0;i<r.length;++i){const n=r[i];Object.defineProperty(rt.prototype,n,Object.getOwnPropertyDescriptor(e,n))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Be),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Be),e=this._localBoundsRect),this._localBounds||(this._localBounds=new sc);const r=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const n=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=i,this.transform=r,this._bounds=n,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,i,n){return r&&(e=r.toGlobal(e,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,i=1,n=1,s=0,o=0,a=0,l=0,c=0){return this.position.x=e,this.position.y=r,this.scale.x=i||1,this.scale.y=n||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new pD),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*hP}set angle(e){this.transform.rotation=e*uP}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class pD extends rt{constructor(){super(...arguments),this.sortDirty=null}}rt.prototype.displayObjectUpdateTransform=rt.prototype.updateTransform;const mD=new qe;function xD(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const rd=class extends rt{constructor(){super(),this.children=[],this.sortableChildren=rd.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);Ls(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,Ls(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Ls(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,i=e,n=i-r;let s;if(n>0&&n<=i){s=this.children.splice(r,n);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(n===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const i=this.children[e];i._lastSortedIndex=e,!t&&i.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(xD),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let i=0,n=this.children.length;i<n;++i){const s=this.children[i];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,i;this.cullArea?(r=this.cullArea,i=this.worldTransform):this._render!==rd.prototype._render&&(r=this.getBounds(!0));const n=t.projection.transform;if(n&&(i?(i=mD.copyFrom(i),i.prepend(n)):i=n),r&&e.intersects(r,i))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,i=this.children.length;r<i;++r)this.children[r].render(t)}}renderAdvanced(t){var n,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const i=e&&((n=this._enabledFilters)==null?void 0:n.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==ht.NONE));if(i&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}i&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let i=0;i<r.length;++i)r[i].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let Ge=rd;Ge.defaultSortableChildren=!1;Ge.prototype.containerUpdateTransform=Ge.prototype.updateTransform;Object.defineProperties(oe,{SORTABLE_CHILDREN:{get(){return Ge.defaultSortableChildren},set(t){ke("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Ge.defaultSortableChildren=t}}});const Ro=new Me,gD=new Uint16Array([0,1,2,0,2,3]);class pt extends Ge{constructor(e){super(),this._anchor=new Xi(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=_e.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||fe.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=gD,this.pluginName="batch",this.isSprite=!0,this._roundPixels=oe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ss(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ss(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,i=r.a,n=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,c=this.vertexData,h=e.trim,u=e.orig,f=this._anchor;let d=0,p=0,m=0,x=0;if(h?(p=h.x-f._x*u.width,d=p+h.width,x=h.y-f._y*u.height,m=x+h.height):(p=-f._x*u.width,d=p+u.width,x=-f._y*u.height,m=x+u.height),c[0]=i*p+s*x+a,c[1]=o*x+n*p+l,c[2]=i*d+s*x+a,c[3]=o*x+n*d+l,c[4]=i*d+s*m+a,c[5]=o*m+n*d+l,c[6]=i*p+s*m+a,c[7]=o*m+n*p+l,this._roundPixels){const y=oe.RESOLUTION;for(let _=0;_<c.length;++_)c[_]=Math.round(c[_]*y)/y}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,i=e.orig,n=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,c=s.d,h=s.tx,u=s.ty,f=-n._x*i.width,d=f+i.width,p=-n._y*i.height,m=p+i.height;r[0]=o*f+l*p+h,r[1]=c*p+a*f+u,r[2]=o*d+l*p+h,r[3]=c*p+a*d+u,r[4]=o*d+l*m+h,r[5]=c*m+a*d+u,r[6]=o*f+l*m+h,r[7]=c*m+a*f+u}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new sc),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Be),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ro);const r=this._texture.orig.width,i=this._texture.orig.height,n=-r*this.anchor.x;let s=0;return Ro.x>=n&&Ro.x<n+r&&(s=-i*this.anchor.y,Ro.y>=s&&Ro.y<s+i)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const i=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!i)}this._texture=null}static from(e,r){const i=e instanceof fe?e:fe.from(e,r);return new pt(i)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Ss(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Ss(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||fe.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Ev=new qe;rt.prototype._cacheAsBitmap=!1;rt.prototype._cacheData=null;rt.prototype._cacheAsBitmapResolution=null;rt.prototype._cacheAsBitmapMultisample=null;class _D{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(rt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new _D),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});rt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};rt.prototype._initCachedDisplayObject=function(e){var f,d;if((f=this._cacheData)!=null&&f.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const i=this.getLocalBounds(null,!0).clone();if((d=this.filters)!=null&&d.length){const p=this.filters[0].padding;i.pad(p)}i.ceil(oe.RESOLUTION);const n=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=ln.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),c=`cacheAsBitmap_${Zn()}`;this._cacheData.textureCacheId=c,be.addToCache(l.baseTexture,c),fe.addToCache(l,c);const h=this.transform.localTransform.copyTo(Ev).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(n,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new pt(l);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(i.x/i.width),u.anchor.y=-(i.y/i.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=u.containsPoint.bind(u)};rt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};rt.prototype._initCachedDisplayObjectCanvas=function(e){var h;if((h=this._cacheData)!=null&&h.sprite)return;const r=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;const n=e.canvasContext.activeContext,s=e._projTransform;r.ceil(oe.RESOLUTION);const o=ln.create({width:r.width,height:r.height}),a=`cacheAsBitmap_${Zn()}`;this._cacheData.textureCacheId=a,be.addToCache(o.baseTexture,a),fe.addToCache(o,a);const l=Ev;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=r.x,l.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=n,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;const c=new pt(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(r.x/r.width),c.anchor.y=-(r.y/r.height),c.alpha=i,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};rt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};rt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};rt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,be.removeFromCache(this._cacheData.textureCacheId),fe.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};rt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};rt.prototype.name=null;Ge.prototype.getChildByName=function(e,r){for(let i=0,n=this.children.length;i<n;i++)if(this.children[i].name===e)return this.children[i];if(r)for(let i=0,n=this.children.length;i<n;i++){const s=this.children[i];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};rt.prototype.getGlobalPosition=function(e=new Me,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};var yD=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class vD extends At{constructor(e=1){super(hD,yD,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const bD={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},ED=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function TD(t){const e=bD[t],r=e.length;let i=ED,n="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),n+=l,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}const AD=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function wD(t,e){const r=Math.ceil(t/2);let i=AD,n="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),n+=a,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}class id extends At{constructor(e,r=8,i=4,n=At.defaultResolution,s=5){const o=wD(s,e),a=TD(s);super(o,a),this.horizontal=e,this.resolution=n,this._quality=0,this.quality=i,this.blur=r}apply(e,r,i,n){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/r.width):this.uniforms.strength=1/i.height*(i.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,i,n);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,l=s;this.state.blend=!1,e.applyFilter(this,a,l,jr.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,jr.BLIT),this.uniforms.uSampler=l;const h=l;l=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,i,n),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class SD extends At{constructor(e=8,r=4,i=At.defaultResolution,n=5){super(),this.blurXFilter=new id(!0,e,r,i,n),this.blurYFilter=new id(!1,e,r,i,n),this.resolution=i,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,i,n){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,jr.CLEAR),this.blurYFilter.apply(e,a,i,n),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,i,n):this.blurXFilter.apply(e,r,i,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var CD=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class nd extends At{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(xv,CD,e),this.alpha=1}_loadMatrix(e,r=!1){let i=e;r&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(e,r,i){return e[0]=r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],e[1]=r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],e[2]=r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],e[3]=r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],e[4]=r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],e[5]=r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],e[6]=r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],e[7]=r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],e[8]=r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],e[9]=r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],e[10]=r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],e[11]=r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],e[12]=r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],e[13]=r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],e[14]=r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],e[15]=r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],e[16]=r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],e[17]=r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],e[18]=r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],e[19]=r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)}tint(e,r){const i=e>>16&255,n=e>>8&255,s=e&255,o=[i/255,0,0,0,0,0,n/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const i=Math.cos(e),n=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=i+(1-i)*o,c=o*(1-i)-a*n,h=o*(1-i)+a*n,u=o*(1-i)+a*n,f=i+o*(1-i),d=o*(1-i)-a*n,p=o*(1-i)-a*n,m=o*(1-i)+a*n,x=i+o*(1-i),y=[l,c,h,0,0,u,f,d,0,0,p,m,x,0,0,0,0,0,1,0];this._loadMatrix(y,r)}contrast(e,r){const i=(e||0)+1,n=-.5*(i-1),s=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const i=e*2/3+1,n=(i-1)*-.5,s=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,i,n,s){e=e||.2,r=r||.15,i=i||16770432,n=n||3375104;const o=(i>>16&255)/255,a=(i>>8&255)/255,l=(i&255)/255,c=(n>>16&255)/255,h=(n>>8&255)/255,u=(n&255)/255,f=[.3,.59,.11,0,0,o,a,l,e,0,c,h,u,r,0,o-c,a-h,l-u,0,0];this._loadMatrix(f,s)}night(e,r){e=e||.1;const i=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(i,r)}predator(e,r){const i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}nd.prototype.grayscale=nd.prototype.greyscale;var BD=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,RD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class PD extends At{constructor(e,r){const i=new qe;e.renderable=!1,super(RD,BD,{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,r==null&&(r=20),this.scale=new Me(r,r)}apply(e,r,i,n){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,i,n)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var DD=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,ID=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class FD extends At{constructor(){super(ID,DD)}}var MD=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class OD extends At{constructor(e=.5,r=Math.random()){super(xv,MD,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const vx={AlphaFilter:vD,BlurFilter:SD,BlurFilterPass:id,ColorMatrixFilter:nd,DisplacementFilter:PD,FXAAFilter:FD,NoiseFilter:OD};Object.entries(vx).forEach(([t,e])=>{Object.defineProperty(vx,t,{get(){return ke("7.1.0",`filters.${t} has moved to ${t}`),e}})});class La{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=La.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Me,this.page=new Me,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,i,n,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class oc extends La{constructor(){super(...arguments),this.client=new Me,this.movement=new Me,this.offset=new Me,this.global=new Me,this.screen=new Me}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,i,n,s,o,a,l,c,h,u,f,d,p,m){throw new Error("Method not implemented.")}}class Ar extends oc{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class to extends oc{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}to.DOM_DELTA_PIXEL=0;to.DOM_DELTA_LINE=1;to.DOM_DELTA_PAGE=2;const kD=2048,ND=new Me,Vh=new Me;class LD{constructor(e){this.dispatch=new Oa,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((i,n)=>i.priority-n.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let i=0,n=r.length;i<n;i++)r[i].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){const i=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,ND.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let n=0,s=i.length-1;n<s;n++)if(e.currentTarget=i[n],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let n=i.length-2;n>=0;n--)if(e.currentTarget=i[n],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,i=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const n=i.children;if(n)for(let s=0;s<n.length;s++)this.all(e,r,n[s]);e.currentTarget=i,this.notifyTarget(e,r)}propagationPath(e){const r=[e];for(let i=0;i<kD&&e!==this.rootTarget;i++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestRecursive(e,r,i,n,s){if(!e||!e.visible||s(e,i))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],c=this.hitTestRecursive(l,r||l.interactive,i,n,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;return(c.length>0||e.interactive)&&c.push(e),c}}}return r&&n(e,i)?e.interactive?[e]:[]:null}hitPruneFn(e,r){var i;if(e.hitArea&&(e.worldTransform.applyInverse(r,Vh),!e.hitArea.contains(Vh.x,Vh.y)))return!0;if(e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;if(n&&!((i=n.containsPoint)!=null&&i.call(n,r)))return!0}return!1}hitTestFn(e,r){return e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const i=`on${r}`;(o=(s=e.currentTarget)[i])==null||o.call(s,e);const n=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,n),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Ar)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const n=r.button===2;this.dispatchEvent(r,n?"rightdown":"mousedown")}const i=this.trackingData(e.pointerId);i.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var a,l;if(!(e instanceof Ar)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen",n=this.trackingData(e.pointerId),s=this.findMountedTarget(n.overTargets);if(((a=n.overTargets)==null?void 0:a.length)>0&&s!==r.target){const c=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,c,s);if(this.dispatchEvent(h,"pointerout"),i&&this.dispatchEvent(h,"mouseout"),!r.composedPath().includes(s)){const u=this.createPointerEvent(e,"pointerleave",s);for(u.eventPhase=u.AT_TARGET;u.target&&!r.composedPath().includes(u.target);)u.currentTarget=u.target,this.notifyTarget(u),i&&this.notifyTarget(u,"mouseleave"),u.target=u.target.parent;this.freeEvent(u)}this.freeEvent(h)}if(s!==r.target){const c=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(r,c);this.dispatchEvent(h,"pointerover"),i&&this.dispatchEvent(h,"mouseover");let u=s==null?void 0:s.parent;for(;u&&u!==this.rootTarget.parent&&u!==r.target;)u=u.parent;if(!u||u===this.rootTarget.parent){const d=this.clonePointerEvent(r,"pointerenter");for(d.eventPhase=d.AT_TARGET;d.target&&d.target!==s&&d.target!==this.rootTarget.parent;)d.currentTarget=d.target,this.notifyTarget(d),i&&this.notifyTarget(d,"mouseenter"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(h)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](r,"pointermove"),this.all(r,"globalpointermove"),r.pointerType==="touch"&&(this[o](r,"touchmove"),this.all(r,"globaltouchmove")),i&&(this[o](r,"mousemove"),this.all(r,"globalmousemove"),this.cursor=(l=r.target)==null?void 0:l.cursor),n.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Ar)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),i=this.createPointerEvent(e),n=i.pointerType==="mouse"||i.pointerType==="pen";this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover"),i.pointerType==="mouse"&&(this.cursor=(o=i.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(i,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),n&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Ar)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const i=e.pointerType==="mouse"||e.pointerType==="pen",n=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",n);this.dispatchEvent(s),i&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",n);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Ar)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),i=this.createPointerEvent(e);if(this.dispatchEvent(i,"pointerup"),i.pointerType==="touch")this.dispatchEvent(i,"touchend");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const a=i.button===2;this.dispatchEvent(i,a?"rightup":"mouseup")}const n=this.trackingData(e.pointerId),s=this.findMountedTarget(n.pressTargetsByButton[e.button]);let o=s;if(s&&!i.composedPath().includes(s)){let a=s;for(;a&&!i.composedPath().includes(a);){if(i.currentTarget=a,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch")this.notifyTarget(i,"touchendoutside");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const l=i.button===2;this.notifyTarget(i,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete n.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(i,"click");a.target=o,a.path=null,n.clicksByButton[e.button]||(n.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=n.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(i)}mapPointerUpOutside(e){if(!(e instanceof Ar)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),i=this.findMountedTarget(r.pressTargetsByButton[e.button]),n=this.createPointerEvent(e);if(i){let s=i;for(;s;)n.currentTarget=s,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch"?this.notifyTarget(n,"touchendoutside"):(n.pointerType==="mouse"||n.pointerType==="pen")&&this.notifyTarget(n,n.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(n)}mapWheel(e){if(!(e instanceof to)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let i=1;i<e.length&&e[i].parent===r;i++)r=e[i];return r}createPointerEvent(e,r,i){const n=this.allocateEvent(Ar);return this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=i??this.hitTest(n.global.x,n.global.y),typeof r=="string"&&(n.type=r),n}createWheelEvent(e){const r=this.allocateEvent(to);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const i=this.allocateEvent(Ar);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=r??i.type,i}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Ar&&r instanceof Ar&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof oc&&r instanceof oc&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const i=e.currentTarget._events[r];if(i)if("fn"in i)i.once&&e.currentTarget.removeListener(r,i.fn,void 0,!0),i.fn.call(i.context,e);else for(let n=0,s=i.length;n<s&&!e.propagationImmediatelyStopped;n++)i[n].once&&e.currentTarget.removeListener(r,i[n].fn,void 0,!0),i[n].fn.call(i[n].context,e)}}const UD=1,zD={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class Tv{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new LD(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Ar(null),this.rootWheelEvent=new to(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const i=this.cursorStyles[e];if(i)switch(typeof i){case"string":r&&(this.domElement.style.cursor=i);break;case"function":i(e);break;case"object":r&&Object.assign(this.domElement.style,i);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let i=0,n=r.length;i<n;i++){const s=r[i],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const r=this.normalizeToPointerData(e);for(let i=0,n=r.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,r[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const i=r!==this.domElement?"outside":"",n=this.normalizeToPointerData(e);for(let s=0,o=n.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,n[s]);a.type+=i,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const r=this.normalizeToPointerData(e);for(let i=0,n=r.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,r[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,i){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(r-n.left)*(this.domElement.width/n.width)*s,e.y=(i-n.top)*(this.domElement.height/n.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let i=0,n=e.changedTouches.length;i<n;i++){const s=e.changedTouches[i];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const i=e;typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=UD),typeof i.pressure>"u"&&(i.pressure=.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),i.isNormalized=!0,r.push(i)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=zD[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}}Tv.extension={name:"events",type:[ne.RendererSystem,ne.CanvasRendererSystem]};me.add(Tv);const HD={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const i=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,n=typeof e=="function"?void 0:e;t=i?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,n)},removeEventListener(t,e,r){const i=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,n=typeof e=="function"?void 0:e;t=i?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,n)},dispatchEvent(t){if(!(t instanceof La))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};rt.mixin(HD);const GD={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};rt.mixin(GD);const $D=9,ul=100,WD=0,jD=0,bx=2,Ex=1,XD=-1e3,VD=-1e3,qD=2;class Av{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(bi.tablet||bi.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${ul}px`,r.style.height=`${ul}px`,r.style.position="absolute",r.style.top=`${WD}px`,r.style.left=`${jD}px`,r.style.zIndex=bx.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${Ex}px`,e.style.height=`${Ex}px`,e.style.position="absolute",e.style.top=`${XD}px`,e.style.left=`${VD}px`,e.style.zIndex=qD.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let i=0;i<r.length;i++)this.updateAccessibleObjects(r[i])}update(){const e=performance.now();if(bi.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:i,width:n,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,c=n/o*l,h=s/a*l;let u=this.div;u.style.left=`${r}px`,u.style.top=`${i}px`,u.style.width=`${o}px`,u.style.height=`${a}px`;for(let f=0;f<this.children.length;f++){const d=this.children[f];if(d.renderId!==this.renderId)d._accessibleActive=!1,Ls(this.children,f,1),this.div.removeChild(d._accessibleDiv),this.pool.push(d._accessibleDiv),d._accessibleDiv=null,f--;else{u=d._accessibleDiv;let p=d.hitArea;const m=d.worldTransform;d.hitArea?(u.style.left=`${(m.tx+p.x*m.a)*c}px`,u.style.top=`${(m.ty+p.y*m.d)*h}px`,u.style.width=`${p.width*m.a*c}px`,u.style.height=`${p.height*m.d*h}px`):(p=d.getBounds(),this.capHitArea(p),u.style.left=`${p.x*c}px`,u.style.top=`${p.y*h}px`,u.style.width=`${p.width*c}px`,u.style.height=`${p.height*h}px`,u.title!==d.accessibleTitle&&d.accessibleTitle!==null&&(u.title=d.accessibleTitle),u.getAttribute("aria-label")!==d.accessibleHint&&d.accessibleHint!==null&&u.setAttribute("aria-label",d.accessibleHint)),(d.accessibleTitle!==u.title||d.tabIndex!==u.tabIndex)&&(u.title=d.accessibleTitle,u.tabIndex=d.tabIndex,this.debug&&this.updateDebugHTML(u))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:i}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>i&&(e.height=i-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${ul}px`,r.style.height=`${ul}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=bx.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:i}=e.target,n=this.renderer.events.rootBoundary,s=Object.assign(new La(n),{target:i});n.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>n.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===$D&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Av.extension={name:"accessibility",type:[ne.RendererPlugin,ne.CanvasRendererPlugin]};me.add(Av);const sd=class{constructor(t){this.stage=new Ge,t=Object.assign({forceCanvas:!1},t),this.renderer=aD(t),sd._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=sd._plugins.slice(0);r.reverse(),r.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let D0=sd;D0._plugins=[];me.handleByList(ne.Application,D0._plugins);class wv{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,i;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,i=globalThis.innerHeight;else{const{clientWidth:n,clientHeight:s}=this._resizeTo;r=n,i=s}this.renderer.resize(r,i),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}wv.extension=ne.Application;me.add(wv);const Tx={loader:ne.LoadParser,resolver:ne.ResolveParser,cache:ne.CacheParser,detection:ne.DetectionParser};me.handle(ne.Asset,t=>{const e=t.ref;Object.entries(Tx).filter(([r])=>!!e[r]).forEach(([r,i])=>me.add(Object.assign(e[r],{extension:e[r].extension??i})))},t=>{const e=t.ref;Object.keys(Tx).filter(r=>!!e[r]).forEach(r=>me.remove(e[r]))});class YD{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<r;i++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Sv(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Xc(t,e){const r=t.split("?")[0],i=wt.extname(r).toLowerCase();return Array.isArray(e)?e.includes(i):i===e}const Ti=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),od=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function Cv(t,e,r,i,n){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?Cv(t.replace(i[r],a),e,r+1,i,n):n.push(t.replace(i[r],a))}}function KD(t){const e=/\{(.*?)\}/g,r=t.match(e),i=[];if(r){const n=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");n.push(o)}),Cv(t,n,0,r,i)}else i.push(t);return i}const ac=t=>!Array.isArray(t);class ZD{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const i=Ti(e);let n;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(r)){n=l.getCacheableAssets(i,r);break}}n||(n={},i.forEach(a=>{n[a]=r}));const s=Object.keys(n),o={cacheKeys:s,keys:i};if(i.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,n[a])}),r instanceof fe){const a=r;i.forEach(l=>{a.baseTexture!==fe.EMPTY.baseTexture&&be.addToCache(a.baseTexture,l),fe.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Po=new ZD;class QD{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,r){const i={promise:null,parser:null};return i.promise=(async()=>{var s,o;let n=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,r,this))){n=await l.load(e,r,this),i.parser=l;break}}if(!i.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,n,r,this))&&(n=await l.parse(n,r,this)||n,i.parser=l)}return n})(),i}async load(e,r){let i=0;const n={},s=ac(e),o=Ti(e,c=>({src:c})),a=o.length,l=o.map(async c=>{const h=wt.toAbsolute(c.src);if(!n[c.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,c)),n[c.src]=await this.promiseCache[h].promise,r&&r(++i/a)}catch(u){throw delete this.promiseCache[h],delete n[c.src],new Error(`[Loader.load] Failed to load ${h}.
${u}`)}});return await Promise.all(l),s?n[o[0].src]:n}async unload(e){const i=Ti(e,n=>({src:n})).map(async n=>{var a,l;const s=wt.toAbsolute(n.src),o=this.promiseCache[s];if(o){const c=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,c,n,this),delete this.promiseCache[s]}});await Promise.all(i)}get parsers(){return this._parsers}}var li=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(li||{});const JD={extension:{type:ne.LoadParser,priority:li.Low},test(t){return wt.extname(t).toLowerCase()===".json"},async load(t){return await(await oe.ADAPTER.fetch(t)).json()}};me.add(JD);const eI={extension:{type:ne.LoadParser,priority:li.Low},test(t){return wt.extname(t).toLowerCase()===".txt"},async load(t){return await(await oe.ADAPTER.fetch(t)).text()}};me.add(eI);const tI=["normal","bold","100","200","300","400","500","600","700","800","900"],rI=[".ttf",".otf",".woff",".woff2"],iI=["font/ttf","font/otf","font/woff","font/woff2"];function nI(t){const e=wt.extname(t);return wt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const sI={extension:{type:ne.LoadParser,priority:li.Low},test(t){return Sv(t,iI)||Xc(t,rI)},async load(t,e){var i,n,s;const r=oe.ADAPTER.getFontFaceSet();if(r){const o=[],a=((i=e.data)==null?void 0:i.family)??nI(t),l=((s=(n=e.data)==null?void 0:n.weights)==null?void 0:s.filter(h=>tI.includes(h)))??["normal"],c=e.data??{};for(let h=0;h<l.length;h++){const u=l[h],f=new FontFace(a,`url(${encodeURI(t)})`,{...c,weight:u});await f.load(),r.add(f),o.push(f)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>oe.ADAPTER.getFontFaceSet().delete(e))}};me.add(sI);let Ax=0,qh;const oI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",aI={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${oI}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},lI={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let Yh;class cI{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([aI.code],{type:"application/javascript"})),i=new Worker(r);i.addEventListener("message",n=>{i.terminate(),URL.revokeObjectURL(r),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){qh===void 0&&(qh=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<qh&&(Yh||(Yh=URL.createObjectURL(new Blob([lI.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(Yh),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const i=new Promise((n,s)=>{this.queue.push({id:e,arguments:r,resolve:n,reject:s})});return this.next(),i}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),i=r.id;this.resolveHash[Ax]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:Ax++,id:i})}}const wx=new cI;function Vc(t,e,r){const i=new fe(t);return i.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),i}const hI=[".jpeg",".jpg",".png",".webp",".avif"],uI=["image/jpeg","image/png","image/webp","image/avif"];async function fI(t){const e=await oe.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const ba={extension:{type:ne.LoadParser,priority:li.High},config:{preferWorkers:!0},test(t){return Sv(t,uI)||Xc(t,hI)},async load(t,e,r){let i=null;globalThis.createImageBitmap?this.config.preferWorkers&&await wx.isImageBitmapSupported()?i=await wx.loadImageBitmap(t):i=await fI(t):i=await new Promise(s=>{i=new Image,i.crossOrigin="anonymous",i.src=t,i.complete?s(i):i.onload=()=>{s(i)}});const n=new be(i,{resolution:sn(t),...e.data});return n.resource.src=t,Vc(n,r,t)},unload(t){t.destroy(!0)}};me.add(ba);const dI={extension:{type:ne.LoadParser,priority:li.High},test(t){return wt.extname(t).toLowerCase()===".svg"},async testParse(t){return va.test(t)},async parse(t,e,r){var o,a,l;const i=new va(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),n=new be(i,{resolution:sn(t),...e==null?void 0:e.data});n.resource.src=t;const s=Vc(n,r,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await i.load(),s},async load(t,e){return(await oe.ADAPTER.fetch(t)).text()},unload:ba.unload};me.add(dI);class pI{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(r[i])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const i=[];Array.isArray(r)?r.forEach(n=>{if(typeof n.name=="string"){const s=this._createBundleAssetId(e,n.name);i.push(s),this.add([n.name,s],n.srcs,n.data)}else{const s=n.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{i.push(o)}),this.add([...n.name,...s],n.srcs)}}):Object.keys(r).forEach(n=>{i.push(this._createBundleAssetId(e,n)),this.add([n,this._createBundleAssetId(e,n)],r[n])}),this._bundles[e]=i}add(e,r,i){const n=Ti(e);n.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=KD(r):r=[r]);const s=r.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let c=0;c<this._parsers.length;c++){const h=this._parsers[c];if(h.test(o)){a=h.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=n),(this._basePath||this._rootPath)&&(a.src=wt.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??i,a});n.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=ac(e);e=Ti(e);const i={};return e.forEach(n=>{const s=this._bundles[n];if(s){const o=this.resolve(s),a={};for(const l in o){const c=o[l];a[this._extractAssetIdFromBundle(n,l)]=c}i[n]=a}}),r?i[e[0]]:i}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const i={};for(const n in r)i[n]=r[n].src;return i}return r.src}resolve(e){const r=ac(e);e=Ti(e);const i={};return e.forEach(n=>{if(!this._resolverHash[n])if(this._assetMap[n]){let s=this._assetMap[n];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(c=>{const h=s.filter(u=>u[l]?u[l]===c:!1);h.length&&(s=h)})}),this._resolverHash[n]=s[0]??a}else{let s=n;(this._basePath||this._rootPath)&&(s=wt.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[n]={src:s}}i[n]=this._resolverHash[n]}),r?i[e[0]]:i}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const i=e[0],n=this._preferredOrder.find(s=>s.params.format.includes(i.format));if(n)return n}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class mI{constructor(){this._detections=[],this._initialized=!1,this.resolver=new pI,this.loader=new QD,this.cache=Po,this._backgroundLoader=new YD(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,i=typeof r=="number"?[r]:r;let n=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;n=typeof l=="string"?[l]:l;for(const c of this._detections)await c.test()||(n=await c.remove(n))}else for(const l of this._detections)await l.test()&&(n=await l.add(n));this.resolver.prefer({params:{format:n,resolution:i}})}add(e,r,i){this.resolver.add(e,r,i)}async load(e,r){this._initialized||await this.init();const i=ac(e),n=Ti(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(n),o=await this._mapLoadToResolve(s,r);return i?o[n[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let i=!1;typeof e=="string"&&(i=!0,e=[e]);const n=this.resolver.resolveBundle(e),s={},o=Object.keys(n);let a=0,l=0;const c=()=>{r==null||r(++a/l)},h=o.map(u=>{const f=n[u];return l+=Object.keys(f).length,this._mapLoadToResolve(f,c).then(d=>{s[u]=d})});return await Promise.all(h),i?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(i=>{this._backgroundLoader.add(Object.values(i))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Po.get(e);const r={};for(let i=0;i<e.length;i++)r[i]=Po.get(e[i]);return r}async _mapLoadToResolve(e,r){const i=Object.values(e),n=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(i,r);this._backgroundLoader.active=!0;const o={};return i.forEach((a,l)=>{const c=s[a.src],h=[a.src];a.alias&&h.push(...a.alias),o[n[l]]=c,Po.set(h,c)}),o}async unload(e){this._initialized||await this.init();const r=Ti(e).map(n=>typeof n!="string"?n.src:n),i=this.resolver.resolve(r);await this._unloadFromResolved(i)}async unloadBundle(e){this._initialized||await this.init(),e=Ti(e);const r=this.resolver.resolveBundle(e),i=Object.keys(r).map(n=>this._unloadFromResolved(r[n]));await Promise.all(i)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(i=>{Po.remove(i.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return ba.config.preferWorkers}set preferWorkers(e){ba.config.preferWorkers=e}}const Kr=new mI;me.handleByList(ne.LoadParser,Kr.loader.parsers).handleByList(ne.ResolveParser,Kr.resolver.parsers).handleByList(ne.CacheParser,Kr.cache.parsers).handleByList(ne.DetectionParser,Kr.detections);const xI={extension:ne.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof fe),getCacheableAssets:(t,e)=>{const r={};return t.forEach(i=>{e.forEach((n,s)=>{r[i+(s===0?"":s+1)]=n})}),r}};me.add(xI);const gI={extension:{type:ne.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await oe.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};me.add(gI);const _I={extension:{type:ne.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await oe.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};me.add(_I);const Sx=["png","jpg","jpeg"],yI={extension:{type:ne.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Sx],remove:async t=>t.filter(e=>!Sx.includes(e))};me.add(yI);const vI={extension:ne.ResolveParser,test:ba.test,parse:t=>{var e;return{resolution:parseFloat(((e=oe.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};me.add(vI);var er=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(er||{});const lc={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let di,Ts;function Cx(){Ts={s3tc:di.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:di.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:di.getExtension("WEBGL_compressed_texture_etc"),etc1:di.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:di.getExtension("WEBGL_compressed_texture_pvrtc")||di.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:di.getExtension("WEBGL_compressed_texture_atc"),astc:di.getExtension("WEBGL_compressed_texture_astc")}}const bI={extension:{type:ne.DetectionParser,priority:2},test:async()=>{const e=oe.ADAPTER.createCanvas().getContext("webgl");return e?(di=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Ts||Cx();const e=[];for(const r in Ts)Ts[r]&&e.push(r);return[...e,...t]},remove:async t=>(Ts||Cx(),t.filter(e=>!(e in Ts)))};me.add(bI);class EI extends Na{constructor(e,r={width:1,height:1,autoLoad:!0}){let i,n;typeof e=="string"?(i=e,n=new Uint8Array):(i=null,n=e),super(n,r),this.origin=i,this.buffer=n?new Vf(n):null,this.origin&&r.autoLoad!==!1&&this.load(),n!=null&&n.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const i=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(i),this.buffer=new Vf(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),this}}class $n extends EI{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=$n._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||$n._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,i){const n=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:c,levelHeight:h,levelBuffer:u}=this._levelBuffers[o];n.compressedTexImage2D(n.TEXTURE_2D,l,this.format,c,h,0,u)}return!0}onBlobLoaded(){this._levelBuffers=$n._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,i,n,s,o,a){const l=new Array(i);let c=e.byteOffset,h=o,u=a,f=h+n-1&~(n-1),d=u+s-1&~(s-1),p=f*d*lc[r];for(let m=0;m<i;m++)l[m]={levelID:m,levelWidth:i>1?h:f,levelHeight:i>1?u:d,levelBuffer:new Uint8Array(e.buffer,c,p)},c+=p,h=h>>1||1,u=u>>1||1,f=h+n-1&~(n-1),d=u+s-1&~(s-1),p=f*d*lc[r];return l}}const Kh=4,fl=124,TI=32,Bx=20,AI=542327876,dl={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},wI={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},pl={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},SI=1,CI=2,BI=4,RI=64,PI=512,DI=131072,II=827611204,FI=861165636,MI=894720068,OI=808540228,kI=4,NI={[II]:er.COMPRESSED_RGBA_S3TC_DXT1_EXT,[FI]:er.COMPRESSED_RGBA_S3TC_DXT3_EXT,[MI]:er.COMPRESSED_RGBA_S3TC_DXT5_EXT},LI={70:er.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:er.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:er.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:er.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:er.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:er.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:er.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:er.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:er.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function UI(t){const e=new Uint32Array(t);if(e[0]!==AI)throw new Error("Invalid DDS file magic word");const i=new Uint32Array(t,0,fl/Uint32Array.BYTES_PER_ELEMENT),n=i[dl.HEIGHT],s=i[dl.WIDTH],o=i[dl.MIPMAP_COUNT],a=new Uint32Array(t,dl.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,TI/Uint32Array.BYTES_PER_ELEMENT),l=a[SI];if(l&BI){const c=a[wI.FOURCC];if(c!==OI){const g=NI[c],v=Kh+fl,b=new Uint8Array(t,v);return[new $n(b,{format:g,width:s,height:n,levels:o})]}const h=Kh+fl,u=new Uint32Array(e.buffer,h,Bx/Uint32Array.BYTES_PER_ELEMENT),f=u[pl.DXGI_FORMAT],d=u[pl.RESOURCE_DIMENSION],p=u[pl.MISC_FLAG],m=u[pl.ARRAY_SIZE],x=LI[f];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${f}`);if(p===kI)throw new Error("DDSParser does not support cubemap textures");if(d===6)throw new Error("DDSParser does not supported 3D texture data");const y=new Array,_=Kh+fl+Bx;if(m===1)y.push(new Uint8Array(t,_));else{const g=lc[x];let v=0,b=s,E=n;for(let A=0;A<o;A++){const P=Math.max(1,b+3&-4),w=Math.max(1,E+3&-4),B=P*w*g;v+=B,b=b>>>1,E=E>>>1}let T=_;for(let A=0;A<m;A++)y.push(new Uint8Array(t,T,v)),T+=v}return y.map(g=>new $n(g,{format:x,width:s,height:n,levels:o}))}throw l&RI?new Error("DDSParser does not support uncompressed texture data."):l&PI?new Error("DDSParser does not supported YUV uncompressed texture data."):l&DI?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&CI?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const Rx=[171,75,84,88,32,49,49,187,13,10,26,10],zI=67305985,Er={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},ad=64,Px={[ge.UNSIGNED_BYTE]:1,[ge.UNSIGNED_SHORT]:2,[ge.INT]:4,[ge.UNSIGNED_INT]:4,[ge.FLOAT]:4,[ge.HALF_FLOAT]:8},HI={[te.RGBA]:4,[te.RGB]:3,[te.RG]:2,[te.RED]:1,[te.LUMINANCE]:1,[te.LUMINANCE_ALPHA]:2,[te.ALPHA]:1},GI={[ge.UNSIGNED_SHORT_4_4_4_4]:2,[ge.UNSIGNED_SHORT_5_5_5_1]:2,[ge.UNSIGNED_SHORT_5_6_5]:2};function $I(t,e,r=!1){const i=new DataView(e);if(!WI(t,i))return null;const n=i.getUint32(Er.ENDIANNESS,!0)===zI,s=i.getUint32(Er.GL_TYPE,n),o=i.getUint32(Er.GL_FORMAT,n),a=i.getUint32(Er.GL_INTERNAL_FORMAT,n),l=i.getUint32(Er.PIXEL_WIDTH,n),c=i.getUint32(Er.PIXEL_HEIGHT,n)||1,h=i.getUint32(Er.PIXEL_DEPTH,n)||1,u=i.getUint32(Er.NUMBER_OF_ARRAY_ELEMENTS,n)||1,f=i.getUint32(Er.NUMBER_OF_FACES,n),d=i.getUint32(Er.NUMBER_OF_MIPMAP_LEVELS,n),p=i.getUint32(Er.BYTES_OF_KEY_VALUE_DATA,n);if(c===0||h!==1)throw new Error("Only 2D textures are supported");if(f!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(u!==1)throw new Error("WebGL does not support array textures");const m=4,x=4,y=l+3&-4,_=c+3&-4,g=new Array(u);let v=l*c;s===0&&(v=y*_);let b;if(s!==0?Px[s]?b=Px[s]*HI[o]:b=GI[s]:b=lc[a],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const E=r?XI(i,p,n):null;let A=v*b,P=l,w=c,B=y,I=_,D=ad+p;for(let F=0;F<d;F++){const j=i.getUint32(D,n);let $=D+4;for(let U=0;U<u;U++){let Z=g[U];Z||(Z=g[U]=new Array(d)),Z[F]={levelID:F,levelWidth:d>1||s!==0?P:B,levelHeight:d>1||s!==0?w:I,levelBuffer:new Uint8Array(e,$,A)},$+=A}D+=j+4,D=D%4!==0?D+4-D%4:D,P=P>>1||1,w=w>>1||1,B=P+m-1&~(m-1),I=w+x-1&~(x-1),A=B*I*b}return s!==0?{uncompressed:g.map(F=>{let j=F[0].levelBuffer,$=!1;return s===ge.FLOAT?j=new Float32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4):s===ge.UNSIGNED_INT?($=!0,j=new Uint32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)):s===ge.INT&&($=!0,j=new Int32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)),{resource:new Na(j,{width:F[0].levelWidth,height:F[0].levelHeight}),type:s,format:$?jI(o):o}}),kvData:E}:{compressed:g.map(F=>new $n(null,{format:a,width:l,height:c,levels:d,levelBuffers:F})),kvData:E}}function WI(t,e){for(let r=0;r<Rx.length;r++)if(e.getUint8(r)!==Rx[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function jI(t){switch(t){case te.RGBA:return te.RGBA_INTEGER;case te.RGB:return te.RGB_INTEGER;case te.RG:return te.RG_INTEGER;case te.RED:return te.RED_INTEGER;default:return t}}function XI(t,e,r){const i=new Map;let n=0;for(;n<e;){const s=t.getUint32(ad+n,r),o=ad+n+4,a=3-(s+3)%4;if(s===0||s>e-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),h=new DataView(t.buffer,o+l+1,s-l-1);i.set(c,h),n+=4+s+a}return i}const VI={extension:{type:ne.LoadParser,priority:li.High},test(t){return Xc(t,".dds")},async load(t,e,r){const n=await(await oe.ADAPTER.fetch(t)).arrayBuffer(),o=UI(n).map(a=>{const l=new be(a,{mipmap:si.OFF,alphaMode:zr.NO_PREMULTIPLIED_ALPHA,resolution:sn(t),...e.data});return Vc(l,r,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};me.add(VI);const qI={extension:{type:ne.LoadParser,priority:li.High},test(t){return Xc(t,".ktx")},async load(t,e,r){const n=await(await oe.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=$I(t,n),l=s??o,c={mipmap:si.OFF,alphaMode:zr.NO_PREMULTIPLIED_ALPHA,resolution:sn(t),...e.data},h=l.map(u=>{l===o&&Object.assign(c,{type:u.type,format:u.format});const f=new be(u,c);return f.ktxKeyValueData=a,Vc(f,r,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};me.add(qI);const YI={extension:ne.ResolveParser,test:t=>{const r=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:t=>{var i,n;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((i=oe.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((n=oe.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:t.split(".").pop(),src:t}}};me.add(YI);const KI=new Be,ZI=4,ld=class{constructor(t){this.renderer=t}async image(t,e,r){const i=new Image;return i.src=await this.base64(t,e,r),i}async base64(t,e,r){const i=this.canvas(t);if(i.toDataURL!==void 0)return i.toDataURL(e,r);if(i.convertToBlob!==void 0){const n=await i.convertToBlob({type:e,quality:r});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(n)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:i,height:n,flipY:s}=this._rawPixels(t,e);let o=new ox(i,n,1);const a=o.context.getImageData(0,0,i,n);if(ld.arrayPostDivide(r,a.data),o.context.putImageData(a,0,0),s){const l=new ox(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-n),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:r}=this._rawPixels(t,e);return ld.arrayPostDivide(r,r),r}_rawPixels(t,e){const r=this.renderer;let i,n=!1,s,o=!1;if(t)if(t instanceof ln)s=t;else{const u=r.context.webGLVersion>=2?r.multisample:it.NONE;if(s=this.renderer.generateTexture(t,{multisample:u}),u!==it.NONE){const f=ln.create({width:s.width,height:s.height});r.framebuffer.bind(s.framebuffer),r.framebuffer.blit(f.framebuffer),r.framebuffer.bind(null),s.destroy(!0),s=f}o=!0}s?(i=s.baseTexture.resolution,e=e??s.frame,n=!1,r.renderTexture.bind(s)):(i=r.resolution,e||(e=KI,e.width=r.width,e.height=r.height),n=!0,r.renderTexture.bind(null));const a=Math.round(e.width*i),l=Math.round(e.height*i),c=new Uint8Array(ZI*a*l),h=r.gl;return h.readPixels(Math.round(e.x*i),Math.round(e.y*i),a,l,h.RGBA,h.UNSIGNED_BYTE,c),o&&s.destroy(!0),{pixels:c,width:a,height:l,flipY:n}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let r=0;r<t.length;r+=4){const i=e[r+3]=t[r+3];i!==0?(e[r]=Math.round(Math.min(t[r]*255/i,255)),e[r+1]=Math.round(Math.min(t[r+1]*255/i,255)),e[r+2]=Math.round(Math.min(t[r+2]*255/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}}};let Bv=ld;Bv.extension={name:"extract",type:ne.RendererSystem};me.add(Bv);const cc={build(t){const e=t.points;let r,i,n,s,o,a;if(t.type===Et.CIRC){const p=t.shape;r=p.x,i=p.y,o=a=p.radius,n=s=0}else if(t.type===Et.ELIP){const p=t.shape;r=p.x,i=p.y,o=p.width,a=p.height,n=s=0}else{const p=t.shape,m=p.width/2,x=p.height/2;r=p.x+m,i=p.y+x,o=a=Math.max(0,Math.min(p.radius,Math.min(m,x))),n=m-o,s=x-a}if(!(o>=0&&a>=0&&n>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),c=l*8+(n?4:0)+(s?4:0);if(e.length=c,c===0)return;if(l===0){e.length=8,e[0]=e[6]=r+n,e[1]=e[3]=i+s,e[2]=e[4]=r-n,e[5]=e[7]=i-s;return}let h=0,u=l*4+(n?2:0)+2,f=u,d=c;{const p=n+o,m=s,x=r+p,y=r-p,_=i+m;if(e[h++]=x,e[h++]=_,e[--u]=_,e[--u]=y,s){const g=i-m;e[f++]=y,e[f++]=g,e[--d]=g,e[--d]=x}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),x=n+Math.cos(m)*o,y=s+Math.sin(m)*a,_=r+x,g=r-x,v=i+y,b=i-y;e[h++]=_,e[h++]=v,e[--u]=v,e[--u]=g,e[f++]=g,e[f++]=b,e[--d]=b,e[--d]=_}{const p=n,m=s+a,x=r+p,y=r-p,_=i+m,g=i-m;e[h++]=x,e[h++]=_,e[--d]=g,e[--d]=x,n&&(e[h++]=y,e[h++]=_,e[--d]=g,e[--d]=y)}},triangulate(t,e){const r=t.points,i=e.points,n=e.indices;if(r.length===0)return;let s=i.length/2;const o=s;let a,l;if(t.type!==Et.RREC){const h=t.shape;a=h.x,l=h.y}else{const h=t.shape;a=h.x+h.width/2,l=h.y+h.height/2}const c=t.matrix;i.push(t.matrix?c.a*a+c.c*l+c.tx:a,t.matrix?c.b*a+c.d*l+c.ty:l),s++,i.push(r[0],r[1]);for(let h=2;h<r.length;h+=2)i.push(r[h],r[h+1]),n.push(s++,o,s);n.push(o+1,o,s)}};function Dx(t,e=!1){const r=t.length;if(r<6)return;let i=0;for(let n=0,s=t[r-2],o=t[r-1];n<r;n+=2){const a=t[n],l=t[n+1];i+=(a-s)*(l+o),s=a,o=l}if(!e&&i>0||e&&i<=0){const n=r/2;for(let s=n+n%2;s<r;s+=2){const o=r-s-2,a=r-s-1,l=s,c=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[c]]=[t[c],t[a]]}}}const Rv={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const i=t.holes,n=e.points,s=e.indices;if(r.length>=6){Dx(r,!1);const o=[];for(let c=0;c<i.length;c++){const h=i[c];Dx(h.points,!0),o.push(r.length/2),r=r.concat(h.points)}const a=IS(r,o,2);if(!a)return;const l=n.length/2;for(let c=0;c<a.length;c+=3)s.push(a[c]+l),s.push(a[c+1]+l),s.push(a[c+2]+l);for(let c=0;c<r.length;c++)n.push(r[c])}}},QI={build(t){const e=t.shape,r=e.x,i=e.y,n=e.width,s=e.height,o=t.points;o.length=0,n>=0&&s>=0&&o.push(r,i,r+n,i,r+n,i+s,r,i+s)},triangulate(t,e){const r=t.points,i=e.points;if(r.length===0)return;const n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},JI={build(t){cc.build(t)},triangulate(t,e){cc.triangulate(t,e)}};var Cr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Cr||{}),kn=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(kn||{});const ro={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class Ix{static curveTo(e,r,i,n,s,o){const a=o[o.length-2],c=o[o.length-1]-r,h=a-e,u=n-r,f=i-e,d=Math.abs(c*f-h*u);if(d<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const p=c*c+h*h,m=u*u+f*f,x=c*u+h*f,y=s*Math.sqrt(p)/d,_=s*Math.sqrt(m)/d,g=y*x/p,v=_*x/m,b=y*f+_*h,E=y*u+_*c,T=h*(_+g),A=c*(_+g),P=f*(y+v),w=u*(y+v),B=Math.atan2(A-E,T-b),I=Math.atan2(w-E,P-b);return{cx:b+e,cy:E+r,radius:s,startAngle:B,endAngle:I,anticlockwise:h*u>f*c}}static arc(e,r,i,n,s,o,a,l,c){const h=a-o,u=ro._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/nc)*40),f=h/(u*2),d=f*2,p=Math.cos(f),m=Math.sin(f),x=u-1,y=x%1/x;for(let _=0;_<=x;++_){const g=_+y*_,v=f+o+d*g,b=Math.cos(v),E=-Math.sin(v);c.push((p*b+m*E)*s+i,(p*-E+m*b)*s+n)}}}class e8{constructor(){this.reset()}begin(e,r,i){this.reset(),this.style=e,this.start=r,this.attribStart=i}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class I0{static curveLength(e,r,i,n,s,o,a,l){let h=0,u=0,f=0,d=0,p=0,m=0,x=0,y=0,_=0,g=0,v=0,b=e,E=r;for(let T=1;T<=10;++T)u=T/10,f=u*u,d=f*u,p=1-u,m=p*p,x=m*p,y=x*e+3*m*u*i+3*p*f*s+d*a,_=x*r+3*m*u*n+3*p*f*o+d*l,g=b-y,v=E-_,b=y,E=_,h+=Math.sqrt(g*g+v*v);return h}static curveTo(e,r,i,n,s,o,a){const l=a[a.length-2],c=a[a.length-1];a.length-=2;const h=ro._segmentsCount(I0.curveLength(l,c,e,r,i,n,s,o));let u=0,f=0,d=0,p=0,m=0;a.push(l,c);for(let x=1,y=0;x<=h;++x)y=x/h,u=1-y,f=u*u,d=f*u,p=y*y,m=p*y,a.push(d*l+3*f*y*e+3*u*p*i+m*s,d*c+3*f*y*r+3*u*p*n+m*o)}}function Fx(t,e,r,i,n,s,o,a){const l=t-r*n,c=e-i*n,h=t+r*s,u=e+i*s;let f,d;o?(f=i,d=-r):(f=-i,d=r);const p=l+f,m=c+d,x=h+f,y=u+d;return a.push(p,m,x,y),2}function yn(t,e,r,i,n,s,o,a){const l=r-t,c=i-e;let h=Math.atan2(l,c),u=Math.atan2(n-t,s-e);a&&h<u?h+=Math.PI*2:!a&&h>u&&(u+=Math.PI*2);let f=h;const d=u-h,p=Math.abs(d),m=Math.sqrt(l*l+c*c),x=(15*p*Math.sqrt(m)/Math.PI>>0)+1,y=d/x;if(f+=y,a){o.push(t,e,r,i);for(let _=1,g=f;_<x;_++,g+=y)o.push(t,e,t+Math.sin(g)*m,e+Math.cos(g)*m);o.push(t,e,n,s)}else{o.push(r,i,t,e);for(let _=1,g=f;_<x;_++,g+=y)o.push(t+Math.sin(g)*m,e+Math.cos(g)*m,t,e);o.push(n,s,t,e)}return x*2}function t8(t,e){const r=t.shape;let i=t.points||r.points.slice();const n=e.closePointEps;if(i.length===0)return;const s=t.lineStyle,o=new Me(i[0],i[1]),a=new Me(i[i.length-2],i[i.length-1]),l=r.type!==Et.POLY||r.closeStroke,c=Math.abs(o.x-a.x)<n&&Math.abs(o.y-a.y)<n;if(l){i=i.slice(),c&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));const U=(o.x+a.x)*.5,Z=(a.y+o.y)*.5;i.unshift(U,Z),i.push(U,Z)}const h=e.points,u=i.length/2;let f=i.length;const d=h.length/2,p=s.width/2,m=p*p,x=s.miterLimit*s.miterLimit;let y=i[0],_=i[1],g=i[2],v=i[3],b=0,E=0,T=-(_-v),A=y-g,P=0,w=0,B=Math.sqrt(T*T+A*A);T/=B,A/=B,T*=p,A*=p;const I=s.alignment,D=(1-I)*2,F=I*2;l||(s.cap===kn.ROUND?f+=yn(y-T*(D-F)*.5,_-A*(D-F)*.5,y-T*D,_-A*D,y+T*F,_+A*F,h,!0)+2:s.cap===kn.SQUARE&&(f+=Fx(y,_,T,A,D,F,!0,h))),h.push(y-T*D,_-A*D,y+T*F,_+A*F);for(let U=1;U<u-1;++U){y=i[(U-1)*2],_=i[(U-1)*2+1],g=i[U*2],v=i[U*2+1],b=i[(U+1)*2],E=i[(U+1)*2+1],T=-(_-v),A=y-g,B=Math.sqrt(T*T+A*A),T/=B,A/=B,T*=p,A*=p,P=-(v-E),w=g-b,B=Math.sqrt(P*P+w*w),P/=B,w/=B,P*=p,w*=p;const Z=g-y,le=_-v,H=g-b,O=E-v,k=Z*H+le*O,G=le*H-O*Z,L=G<0;if(Math.abs(G)<.001*Math.abs(k)){h.push(g-T*D,v-A*D,g+T*F,v+A*F),k>=0&&(s.join===Cr.ROUND?f+=yn(g,v,g-T*D,v-A*D,g-P*D,v-w*D,h,!1)+4:f+=2,h.push(g-P*F,v-w*F,g+P*D,v+w*D));continue}const xe=(-T+y)*(-A+v)-(-T+g)*(-A+_),ce=(-P+b)*(-w+v)-(-P+g)*(-w+E),N=(Z*ce-H*xe)/G,W=(O*xe-le*ce)/G,Q=(N-g)*(N-g)+(W-v)*(W-v),ie=g+(N-g)*D,ue=v+(W-v)*D,S=g-(N-g)*F,R=v-(W-v)*F,M=Math.min(Z*Z+le*le,H*H+O*O),z=L?D:F,X=M+z*z*m,K=Q<=X;let re=s.join;if(re===Cr.MITER&&Q/m>x&&(re=Cr.BEVEL),K)switch(re){case Cr.MITER:{h.push(ie,ue,S,R);break}case Cr.BEVEL:{L?h.push(ie,ue,g+T*F,v+A*F,ie,ue,g+P*F,v+w*F):h.push(g-T*D,v-A*D,S,R,g-P*D,v-w*D,S,R),f+=2;break}case Cr.ROUND:{L?(h.push(ie,ue,g+T*F,v+A*F),f+=yn(g,v,g+T*F,v+A*F,g+P*F,v+w*F,h,!0)+4,h.push(ie,ue,g+P*F,v+w*F)):(h.push(g-T*D,v-A*D,S,R),f+=yn(g,v,g-T*D,v-A*D,g-P*D,v-w*D,h,!1)+4,h.push(g-P*D,v-w*D,S,R));break}}else{switch(h.push(g-T*D,v-A*D,g+T*F,v+A*F),re){case Cr.MITER:{L?h.push(S,R,S,R):h.push(ie,ue,ie,ue),f+=2;break}case Cr.ROUND:{L?f+=yn(g,v,g+T*F,v+A*F,g+P*F,v+w*F,h,!0)+2:f+=yn(g,v,g-T*D,v-A*D,g-P*D,v-w*D,h,!1)+2;break}}h.push(g-P*D,v-w*D,g+P*F,v+w*F),f+=2}}y=i[(u-2)*2],_=i[(u-2)*2+1],g=i[(u-1)*2],v=i[(u-1)*2+1],T=-(_-v),A=y-g,B=Math.sqrt(T*T+A*A),T/=B,A/=B,T*=p,A*=p,h.push(g-T*D,v-A*D,g+T*F,v+A*F),l||(s.cap===kn.ROUND?f+=yn(g-T*(D-F)*.5,v-A*(D-F)*.5,g-T*D,v-A*D,g+T*F,v+A*F,h,!1)+2:s.cap===kn.SQUARE&&(f+=Fx(g,v,T,A,D,F,!1,h)));const j=e.indices,$=ro.epsilon*ro.epsilon;for(let U=d;U<f+d-2;++U)y=h[U*2],_=h[U*2+1],g=h[(U+1)*2],v=h[(U+1)*2+1],b=h[(U+2)*2],E=h[(U+2)*2+1],!(Math.abs(y*(v-E)+g*(E-_)+b*(_-v))<$)&&j.push(U,U+1,U+2)}function r8(t,e){let r=0;const i=t.shape,n=t.points||i.points,s=i.type!==Et.POLY||i.closeStroke;if(n.length===0)return;const o=e.points,a=e.indices,l=n.length/2,c=o.length/2;let h=c;for(o.push(n[0],n[1]),r=1;r<l;r++)o.push(n[r*2],n[r*2+1]),a.push(h,h+1),h++;s&&a.push(h,c)}function Mx(t,e){t.lineStyle.native?r8(t,e):t8(t,e)}class F0{static curveLength(e,r,i,n,s,o){const a=e-2*i+s,l=r-2*n+o,c=2*i-2*e,h=2*n-2*r,u=4*(a*a+l*l),f=4*(a*c+l*h),d=c*c+h*h,p=2*Math.sqrt(u+f+d),m=Math.sqrt(u),x=2*u*m,y=2*Math.sqrt(d),_=f/m;return(x*p+m*f*(p-y)+(4*d*u-f*f)*Math.log((2*m+_+p)/(_+y)))/(4*x)}static curveTo(e,r,i,n,s){const o=s[s.length-2],a=s[s.length-1],l=ro._segmentsCount(F0.curveLength(o,a,e,r,i,n));let c=0,h=0;for(let u=1;u<=l;++u){const f=u/l;c=o+(e-o)*f,h=a+(r-a)*f,s.push(c+(e+(i-e)*f-c)*f,h+(r+(n-r)*f-h)*f)}}}const Zh={[Et.POLY]:Rv,[Et.CIRC]:cc,[Et.ELIP]:cc,[Et.RECT]:QI,[Et.RREC]:JI},Ox=[],ml=[];class hc{constructor(e,r=null,i=null,n=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=i,this.fillStyle=r,this.matrix=n,this.type=e.type}clone(){return new hc(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const ms=new Me,Pv=class extends My{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new sc,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),ml.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),Ox.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,i=null){const n=new hc(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new hc(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const i=e[r];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(t,ms):ms.copyFrom(t),i.shape.contains(ms.x,ms.y))){let n=!1;if(i.holes){for(let s=0;s<i.holes.length;s++)if(i.holes[s].shape.contains(ms.x,ms.y)){n=!0;break}}if(!n)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,i=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],i=r.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],c=l.fillStyle,h=l.lineStyle;Zh[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(c.visible||h.visible)&&this.processHoles(l.holes);for(let f=0;f<2;f++){const d=f===0?c:h;if(!d.visible)continue;const p=d.texture.baseTexture,m=this.indices.length,x=this.points.length/2;p.wrapMode=Ji.REPEAT,f===0?this.processFill(l):this.processLine(l);const y=this.points.length/2-x;y!==0&&(r&&!this._compareStyles(i,d)&&(r.end(m,x),r=null),r||(r=Ox.pop()||new e8,r.begin(d,m,x),this.batches.push(r),i=d),this.addUvs(this.points,t,d.texture,x,y,d.matrix))}}const n=this.indices.length,s=this.points.length/2;if(r&&r.end(n,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid||n&&!n.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const i=t[e];for(let n=0;n<i.size;n++){const s=i.start+n;this.indicesUint16[s]=this.indicesUint16[s]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<Pv.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++be._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),ml.push(this.drawCalls[h]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let i=ml.pop();i||(i=new Yf,i.texArray=new Zf),i.texArray.count=0,i.start=0,i.size=0,i.type=Yr.TRIANGLES;let n=0,s=null,o=0,a=!1,l=Yr.TRIANGLES,c=0;this.drawCalls.push(i);for(let h=0;h<this.batches.length;h++){const u=this.batches[h],f=8,d=u.style,p=d.texture.baseTexture;a!==!!d.native&&(a=!!d.native,l=a?Yr.LINES:Yr.TRIANGLES,s=null,n=f,t++),s!==p&&(s=p,p._batchEnabled!==t&&(n===f&&(t++,n=0,i.size>0&&(i=ml.pop(),i||(i=new Yf,i.texArray=new Zf),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=n,p.wrapMode=Ji.REPEAT,i.texArray.elements[i.texArray.count++]=p,n++)),i.size+=u.size,c+=u.size,o=p._batchLocation,this.addColors(e,d.color,d.alpha,u.attribSize,u.attribStart),this.addTextureIds(r,o,u.attribSize,u.attribStart)}be._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(t.length*3*4),s=new Float32Array(n),o=new Uint32Array(n);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=r[l],s[a++]=i[l];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?Rv.triangulate(t,this):Zh[t.type].triangulate(t,this)}processLine(t){Mx(t,this);for(let e=0;e<t.holes.length;e++)Mx(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];Zh[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const i=t[r*2],n=t[r*2+1];t[r*2]=e.a*i+e.c*n+e.tx,t[r*2+1]=e.b*i+e.d*n+e.ty}}addColors(t,e,r,i,n=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=w0(s,r);t.length=Math.max(t.length,n+i);for(let a=0;a<i;a++)t[n+a]=o}addTextureIds(t,e,r,i=0){t.length=Math.max(t.length,i+r);for(let n=0;n<r;n++)t[i+n]=e}addUvs(t,e,r,i,n,s=null){let o=0;const a=e.length,l=r.frame;for(;o<n;){let h=t[(i+o)*2],u=t[(i+o)*2+1];if(s){const f=s.a*h+s.c*u+s.tx;u=s.b*h+s.d*u+s.ty,h=f}o++,e.push(h/l.width,u/l.height)}const c=r.baseTexture;(l.width<c.width||l.height<c.height)&&this.adjustUvs(e,r,a,n)}adjustUvs(t,e,r,i){const n=e.baseTexture,s=1e-6,o=r+i*2,a=e.frame,l=a.width/n.width,c=a.height/n.height;let h=a.x/a.width,u=a.y/a.height,f=Math.floor(t[r]+s),d=Math.floor(t[r+1]+s);for(let p=r+2;p<o;p+=2)f=Math.min(f,Math.floor(t[p]+s)),d=Math.min(d,Math.floor(t[p+1]+s));h-=f,u-=d;for(let p=r;p<o;p+=2)t[p]=(t[p]+h)*l,t[p+1]=(t[p+1]+u)*c}};let Dv=Pv;Dv.BATCHABLE_SIZE=100;class qc{constructor(){this.color=16777215,this.alpha=1,this.texture=fe.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new qc;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=fe.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class M0 extends qc{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=kn.BUTT,this.join=Cr.MITER,this.miterLimit=10}clone(){const e=new M0;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const i8=new Float32Array(3),Qh={},Fl=class extends Ge{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new qc,this._lineStyle=new M0,this._matrix=null,this._holeMode=!1,this.state=Di.for2d(),this._geometry=t||new Dv,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=_e.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Fl(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r=1,i=.5,n=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:i,native:n}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:fe.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:kn.BUTT,join:Cr.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Us,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Us,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return(i!==t||n!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,i){this._initCurve();const n=this.currentPath.points;return n.length===0&&this.moveTo(0,0),F0.curveTo(t,e,r,i,n),this}bezierCurveTo(t,e,r,i,n,s){return this._initCurve(),I0.curveTo(t,e,r,i,n,s,this.currentPath.points),this}arcTo(t,e,r,i,n){this._initCurve(t,e);const s=this.currentPath.points,o=Ix.curveTo(t,e,r,i,n,s);if(o){const{cx:a,cy:l,radius:c,startAngle:h,endAngle:u,anticlockwise:f}=o;this.arc(a,l,c,h,u,f)}return this}arc(t,e,r,i,n,s=!1){if(i===n)return this;if(!s&&n<=i?n+=nc:s&&i<=n&&(i+=nc),n-i===0)return this;const a=t+Math.cos(i)*r,l=e+Math.sin(i)*r,c=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const u=Math.abs(h[h.length-2]-a),f=Math.abs(h[h.length-1]-l);u<c&&f<c||h.push(a,l)}else this.moveTo(a,l),h=this.currentPath.points;return Ix.arc(a,l,t,e,r,i,n,s,h),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:fe.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:fe.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,i){return this.drawShape(new Be(t,e,r,i))}drawRoundedRect(t,e,r,i,n){return this.drawShape(new B0(t,e,r,i,n))}drawCircle(t,e,r){return this.drawShape(new S0(t,e,r))}drawEllipse(t,e,r,i){return this.drawShape(new C0(t,e,r,i))}drawPolygon(...t){let e,r=!0;const i=t[0];i.points?(r=i.closeStroke,e=i.points):Array.isArray(t[0])?e=t[0]:e=t;const n=new Us(e);return n.closeStroke=r,this.drawShape(n),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Et.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let i=0;i<r;i++){const n=t.batches[i],s=n.style.color,o=new Float32Array(this.vertexData.buffer,n.attribStart*4*2,n.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,n.attribStart*4*2,n.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,n.start*2,n.size),c={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:_a(s),_tintRGB:s,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=c}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,i=this.tint,n=this.worldAlpha,s=e.uniforms,o=r.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(i>>16&255)/255*n,s.tint[1]=(i>>8&255)/255*n,s.tint[2]=(i&255)/255*n,s.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,r.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:r,type:i,size:n,start:s}=e,o=r.count;for(let a=0;a<o;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!Qh[r]){const{maxTextures:i}=t.plugins[r],n=new Int32Array(i);for(let a=0;a<i;a++)n[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new qe,default:Lr.from({uSamplers:n},!0)},o=t.plugins[r]._shader.program;Qh[r]=new ti(o,s)}e=Qh[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:i,maxY:n}=t.bounds;this._bounds.addFrame(this.transform,e,r,i,n)}containsPoint(t){return this.worldTransform.applyInverse(t,Fl._TEMP_POINT),this._geometry.containsPoint(Fl._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=_a(this.tint,i8);for(let e=0;e<this.batches.length;e++){const r=this.batches[e],i=r._batchRGB,n=t[0]*i[0]*255,s=t[1]*i[1]*255,o=t[2]*i[2]*255,a=(n<<16)+(s<<8)+(o|0);r._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,c=this.vertexData;let h=0;for(let u=0;u<l.length;u+=2){const f=l[u],d=l[u+1];c[h++]=r*f+n*d+o,c[h++]=s*d+i*f+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let ss=Fl;ss.curves=ro;ss._TEMP_POINT=new Me;class n8{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Jh=new Me,kx=new Us,Iv=class extends Ge{constructor(t,e,r,i=Yr.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||Di.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=oe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Yr.TRIANGLES&&e.length<Iv.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,i=e._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,l=n.d,c=n.tx,h=n.ty,u=this.vertexData;for(let f=0;f<u.length/2;f++){const d=r[f*2],p=r[f*2+1];u[f*2]=s*d+a*p+c,u[f*2+1]=o*d+l*p+h}if(this._roundPixels){const f=oe.RESOLUTION;for(let d=0;d<u.length;++d)u[d]=Math.round(u[d]*f)/f}this.vertexDirty=i}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new n8(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Jh);const e=this.geometry.getBuffer("aVertexPosition").data,r=kx.points,i=this.geometry.getIndex().data,n=i.length,s=this.drawMode===4?3:1;for(let o=0;o+2<n;o+=s){const a=i[o]*2,l=i[o+1]*2,c=i[o+2]*2;if(r[0]=e[a],r[1]=e[a+1],r[2]=e[l],r[3]=e[l+1],r[4]=e[c],r[5]=e[c+1],kx.contains(Jh.x,Jh.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let cd=Iv;cd.BATCHABLE_SIZE=100;class s8 extends on{constructor(e,r,i){super();const n=new ut(e),s=new ut(r,!0),o=new ut(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,ge.FLOAT).addAttribute("aTextureCoord",s,2,!1,ge.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var o8=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,a8=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Nx extends ti{constructor(e,r){const i={uSampler:e,alpha:1,uTextureMatrix:qe.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(i,r.uniforms),super(r.program||Fr.from(a8,o8),i),this._colorDirty=!1,this.uvMatrix=new Qy(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this.tint=r.tint,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;Ry(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class Lx{constructor(e,r,i){this.geometry=new on,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<e.length;++n){let s=e[n];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ge.FLOAT,offset:s.offset},r[n]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new ut(YR(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new ut(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=n,n+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new ut(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===ge.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===ge.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,i){for(let n=0;n<this.dynamicProperties.length;n++){const s=this.dynamicProperties[n];s.uploadFunction(e,r,i,s.type===ge.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,i){for(let n=0;n<this.staticProperties.length;n++){const s=this.staticProperties[n];s.uploadFunction(e,r,i,s.type===ge.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var l8=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,c8=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Fv extends jc{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new qe,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ge.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ti.from(c8,l8,{}),this.state=Di.for2d()}render(e){const r=e.children,i=e._maxSize,n=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>i&&!e.autoResize&&(o=i);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,c=l.alphaMode>0;this.state.blendMode=By(e.blendMode,c),s.state.set(this.state);const h=s.gl,u=e.worldTransform.copyTo(this.tempMatrix);u.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=qR(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let f=!1;for(let d=0,p=0;d<o;d+=n,p+=1){let m=o-d;m>n&&(m=n),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const x=a[p];x.uploadDynamic(r,d,m);const y=e._bufferUpdateIDs[p]||0;f=f||x._updateID<y,f&&(x._updateID=e._updateID,x.uploadStatic(r,d,m)),s.geometry.bind(x.geometry),h.drawElements(h.TRIANGLES,m*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],i=e._maxSize,n=e._batchSize,s=e._properties;for(let o=0;o<i;o+=n)r.push(new Lx(this.properties,s,n));return r}_generateOneMoreBuffer(e){const r=e._batchSize,i=e._properties;return new Lx(this.properties,i,r)}uploadVertices(e,r,i,n,s,o){let a=0,l=0,c=0,h=0;for(let u=0;u<i;++u){const f=e[r+u],d=f._texture,p=f.scale.x,m=f.scale.y,x=d.trim,y=d.orig;x?(l=x.x-f.anchor.x*y.width,a=l+x.width,h=x.y-f.anchor.y*y.height,c=h+x.height):(a=y.width*(1-f.anchor.x),l=y.width*-f.anchor.x,c=y.height*(1-f.anchor.y),h=y.height*-f.anchor.y),n[o]=l*p,n[o+1]=h*m,n[o+s]=a*p,n[o+s+1]=h*m,n[o+s*2]=a*p,n[o+s*2+1]=c*m,n[o+s*3]=l*p,n[o+s*3+1]=c*m,o+=s*4}}uploadPosition(e,r,i,n,s,o){for(let a=0;a<i;a++){const l=e[r+a].position;n[o]=l.x,n[o+1]=l.y,n[o+s]=l.x,n[o+s+1]=l.y,n[o+s*2]=l.x,n[o+s*2+1]=l.y,n[o+s*3]=l.x,n[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,r,i,n,s,o){for(let a=0;a<i;a++){const l=e[r+a].rotation;n[o]=l,n[o+s]=l,n[o+s*2]=l,n[o+s*3]=l,o+=s*4}}uploadUvs(e,r,i,n,s,o){for(let a=0;a<i;++a){const l=e[r+a]._texture._uvs;l?(n[o]=l.x0,n[o+1]=l.y0,n[o+s]=l.x1,n[o+s+1]=l.y1,n[o+s*2]=l.x2,n[o+s*2+1]=l.y2,n[o+s*3]=l.x3,n[o+s*3+1]=l.y3,o+=s*4):(n[o]=0,n[o+1]=0,n[o+s]=0,n[o+s+1]=0,n[o+s*2]=0,n[o+s*2+1]=0,n[o+s*3]=0,n[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,i,n,s,o){for(let a=0;a<i;++a){const l=e[r+a],c=l._texture.baseTexture.alphaMode>0,h=l.alpha,u=h<1&&c?w0(l._tintRGB,h):l._tintRGB+(h*255<<24);n[o]=u,n[o+s]=u,n[o+s*2]=u,n[o+s*3]=u,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Fv.extension={name:"particle",type:ne.RendererPlugin};me.add(Fv);var Yc=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Yc||{});const xl={willReadFrequently:!0},he=class{static get experimentalLetterSpacingSupported(){let t=he._experimentalLetterSpacingSupported;if(t!==void 0){const e=oe.ADAPTER.getCanvasRenderingContext2D().prototype;t=he._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,i,n,s,o,a,l){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,r,i=he._canvas){r=r??e.wordWrap;const n=e.toFontString(),s=he.measureFont(n);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=i.getContext("2d",xl);o.font=n;const l=(r?he.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let h=0;for(let p=0;p<l.length;p++){const m=he._measureText(l[p],e.letterSpacing,o);c[p]=m,h=Math.max(h,m)}let u=h+e.strokeThickness;e.dropShadow&&(u+=e.dropShadowDistance);const f=e.lineHeight||s.fontSize+e.strokeThickness;let d=Math.max(f,s.fontSize+e.strokeThickness*2)+(l.length-1)*(f+e.leading);return e.dropShadow&&(d+=e.dropShadowDistance),new he(t,e,u,d,l,c,f+e.leading,h,s)}static _measureText(t,e,r){let i=!1;he.experimentalLetterSpacingSupported&&(he.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let n=r.measureText(t).width;return n>0&&(i?n-=e:n+=(he.graphemeSegmenter(t).length-1)*e),n}static wordWrap(t,e,r=he._canvas){const i=r.getContext("2d",xl);let n=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:c}=e,h=he.collapseSpaces(c),u=he.collapseNewlines(c);let f=!h;const d=e.wordWrapWidth+l,p=he.tokenize(t);for(let m=0;m<p.length;m++){let x=p[m];if(he.isNewline(x)){if(!u){o+=he.addLine(s),f=!h,s="",n=0;continue}x=" "}if(h){const _=he.isBreakingSpace(x),g=he.isBreakingSpace(s[s.length-1]);if(_&&g)continue}const y=he.getFromCache(x,l,a,i);if(y>d)if(s!==""&&(o+=he.addLine(s),s="",n=0),he.canBreakWords(x,e.breakWords)){const _=he.wordWrapSplit(x);for(let g=0;g<_.length;g++){let v=_[g],b=v,E=1;for(;_[g+E];){const A=_[g+E];if(!he.canBreakChars(b,A,x,g,e.breakWords))v+=A;else break;b=A,E++}g+=E-1;const T=he.getFromCache(v,l,a,i);T+n>d&&(o+=he.addLine(s),f=!1,s="",n=0),s+=v,n+=T}}else{s.length>0&&(o+=he.addLine(s),s="",n=0);const _=m===p.length-1;o+=he.addLine(x,!_),f=!1,s="",n=0}else y+n>d&&(f=!1,o+=he.addLine(s),s="",n=0),(s.length>0||!he.isBreakingSpace(x)||f)&&(s+=x,n+=y)}return o+=he.addLine(s,!1),o}static addLine(t,e=!0){return t=he.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,i){let n=r[t];return typeof n!="number"&&(n=he._measureText(t,e,i)+e,r[t]=n),n}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!he.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:he._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:he._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let i=0;i<t.length;i++){const n=t[i],s=t[i+1];if(he.isBreakingSpace(n,s)||he.isNewline(n)){r!==""&&(e.push(r),r=""),e.push(n);continue}r+=n}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,i,n){return!0}static wordWrapSplit(t){return he.graphemeSegmenter(t)}static measureFont(t){if(he._fonts[t])return he._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=he._canvas,i=he._context;i.font=t;const n=he.METRICS_STRING+he.BASELINE_SYMBOL,s=Math.ceil(i.measureText(n).width);let o=Math.ceil(i.measureText(he.BASELINE_SYMBOL).width);const a=Math.ceil(he.HEIGHT_MULTIPLIER*o);if(o=o*he.BASELINE_MULTIPLIER|0,s===0||a===0)return he._fonts[t]=e,e;r.width=s,r.height=a,i.fillStyle="#f00",i.fillRect(0,0,s,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,o);const l=i.getImageData(0,0,s,a).data,c=l.length,h=s*4;let u=0,f=0,d=!1;for(u=0;u<o;++u){for(let p=0;p<h;p+=4)if(l[f+p]!==255){d=!0;break}if(!d)f+=h;else break}for(e.ascent=o-u,f=c-h,d=!1,u=a;u>o;--u){for(let p=0;p<h;p+=4)if(l[f+p]!==255){d=!0;break}if(!d)f-=h;else break}return e.descent=u-o,e.fontSize=e.ascent+e.descent,he._fonts[t]=e,e}static clearMetrics(t=""){t?delete he._fonts[t]:he._fonts={}}static get _canvas(){if(!he.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",xl);if(r!=null&&r.measureText)return he.__canvas=e,e;t=oe.ADAPTER.createCanvas()}catch{t=oe.ADAPTER.createCanvas()}t.width=t.height=10,he.__canvas=t}return he.__canvas}static get _context(){return he.__context||(he.__context=he._canvas.getContext("2d",xl)),he.__context}};let bt=he;bt.METRICS_STRING="|ÉqÅ";bt.BASELINE_SYMBOL="M";bt.BASELINE_MULTIPLIER=1.4;bt.HEIGHT_MULTIPLIER=2;bt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();bt.experimentalLetterSpacing=!1;bt._fonts={};bt._newlines=[10,13];bt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const h8=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Uo=class{constructor(t){this.styleID=0,this.reset(),tu(this,t,t)}clone(){const t={};return tu(t,this,Uo.defaultStyle),new Uo(t)}reset(){tu(this,Uo.defaultStyle,Uo.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=eu(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=eu(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){u8(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=eu(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!h8.includes(i)&&(i=`"${i}"`),e[r]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Qn=Uo;Qn.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Yc.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function Ux(t){return typeof t=="number"?Sy(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function eu(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=Ux(t[e]);return t}else return Ux(t)}function u8(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function tu(t,e,r){for(const i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}const f8={texture:!0,children:!1,baseTexture:!0},hd=class extends pt{constructor(t,e,r){let i=!1;r||(r=oe.ADAPTER.createCanvas(),i=!0),r.width=3,r.height=3;const n=fe.from(r);n.orig=new Be,n.trim=new Be,super(n),this._ownCanvas=i,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=hd.defaultResolution??oe.RESOLUTION,this._autoResolution=hd.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return bt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){ke("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),bt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,i=bt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),n=i.width,s=i.height,o=i.lines,a=i.lineHeight,l=i.lineWidths,c=i.maxLineWidth,h=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,n)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let u,f;const d=e.dropShadow?2:1;for(let p=0;p<d;++p){const m=e.dropShadow&&p===0,x=m?Math.ceil(Math.max(1,s)+e.padding*2):0,y=x*this._resolution;if(m){r.fillStyle="black",r.strokeStyle="black";const g=e.dropShadowColor,v=_a(typeof g=="number"?g:A0(g)),b=e.dropShadowBlur*this._resolution,E=e.dropShadowDistance*this._resolution;r.shadowColor=`rgba(${v[0]*255},${v[1]*255},${v[2]*255},${e.dropShadowAlpha})`,r.shadowBlur=b,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*E,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*E+y}else r.fillStyle=this._generateFillStyle(e,o,i),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let _=(a-h.fontSize)/2;a-h.fontSize<0&&(_=0);for(let g=0;g<o.length;g++)u=e.strokeThickness/2,f=e.strokeThickness/2+g*a+h.ascent+_,e.align==="right"?u+=c-l[g]:e.align==="center"&&(u+=(c-l[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[g],u+e.padding,f+e.padding-x,!0),e.fill&&this.drawLetterSpacing(o[g],u+e.padding,f+e.padding-x)}this.updateTexture()}drawLetterSpacing(t,e,r,i=!1){const s=this._style.letterSpacing;let o=!1;if(bt.experimentalLetterSpacingSupported&&(bt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let a=e;const l=bt.graphemeSegmenter(t);let c=this.context.measureText(t).width,h=0;for(let u=0;u<l.length;++u){const f=l[u];i?this.context.strokeText(f,a,r):this.context.fillText(f,a,r);let d="";for(let p=u+1;p<l.length;++p)d+=l[p];h=this.context.measureText(d).width,a+=c-h+s,c=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=JR(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,i=r.trim?0:r.padding,n=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),n.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const i=t.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let n;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,c=i.slice(),h=t.fillGradientStops.slice();if(!h.length){const u=c.length+1;for(let f=1;f<u;++f)h.push(f/u)}if(c.unshift(i[0]),h.unshift(0),c.push(i[i.length-1]),h.push(1),t.fillGradientType===Yc.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,o,a/2,l+o);const u=r.fontProperties.fontSize+t.strokeThickness;for(let f=0;f<e.length;f++){const d=r.lineHeight*(f-1)+u,p=r.lineHeight*f;let m=p;f>0&&d>p&&(m=(p+d)/2);const x=p+u,y=r.lineHeight*(f+1);let _=x;f+1<e.length&&y<x&&(_=(x+y)/2);const g=(_-m)/l;for(let v=0;v<c.length;v++){let b=0;typeof h[v]=="number"?b=h[v]:b=v/c.length;let E=Math.min(1,Math.max(0,m/l+b*g));E=Number(E.toFixed(5)),n.addColorStop(E,c[v])}}}else{n=this.context.createLinearGradient(o,l/2,a+o,l/2);const u=c.length+1;let f=1;for(let d=0;d<c.length;d++){let p;typeof h[d]=="number"?p=h[d]:p=f/u,n.addColorStop(p,c[d]),f++}}return n}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},f8,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Ss(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Ss(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Qn?this._style=t:this._style=new Qn(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Kc=hd;Kc.defaultAutoResolution=!0;class d8{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function p8(t,e){var i;let r=!1;if((i=t==null?void 0:t._textures)!=null&&i.length){for(let n=0;n<t._textures.length;n++)if(t._textures[n]instanceof fe){const s=t._textures[n].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function m8(t,e){if(t.baseTexture instanceof be){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function x8(t,e){if(t._texture&&t._texture instanceof fe){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function g8(t,e){return e instanceof Kc?(e.updateText(!0),!0):!1}function _8(t,e){if(e instanceof Qn){const r=e.toFontString();return bt.measureFont(r),!0}return!1}function y8(t,e){if(t instanceof Kc){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function v8(t,e){return t instanceof Qn?(e.includes(t)||e.push(t),!0):!1}const Mv=class{constructor(t){this.limiter=new d8(Mv.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(y8),this.registerFindHook(v8),this.registerFindHook(p8),this.registerFindHook(m8),this.registerFindHook(x8),this.registerUploadHook(g8),this.registerUploadHook(_8)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,Gt.system.addOnce(this.tick,this,eo.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Gt.system.addOnce(this.tick,this,eo.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ge)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&Gt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let uc=Mv;uc.uploadsPerFrame=4;Object.defineProperties(oe,{UPLOADS_PER_FRAME:{get(){return uc.uploadsPerFrame},set(t){ke("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),uc.uploadsPerFrame=t}}});function Ov(t,e){return e instanceof be?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function b8(t,e){if(!(e instanceof ss))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:i}=r;for(let n=0;n<i.length;n++){const{texture:s}=i[n].style;s&&Ov(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function E8(t,e){return t instanceof ss?(e.push(t),!0):!1}class kv extends uc{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(E8),this.registerUploadHook(Ov),this.registerUploadHook(b8)}}kv.extension={name:"prepare",type:ne.RendererSystem};me.add(kv);var T8=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,A8=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,w8=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,zx=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,S8=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const gl=new qe;class Nv extends jc{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new qy,this.state=Di.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=ti.from(zx,S8,r),this.shader=e.context.webGLVersion>1?ti.from(A8,T8,r):ti.from(zx,w8,r)}render(e){const r=this.renderer,i=this.quad;let n=i.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;n=i.uvs,n[0]=n[6]=-s,n[1]=n[3]=-o,n[2]=n[4]=1-s,n[5]=n[7]=1-o,i.invalidate();const a=e._texture,l=a.baseTexture,c=l.alphaMode>0,h=e.tileTransform.localTransform,u=e.uvMatrix;let f=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;f&&(l._glTextures[r.CONTEXT_UID]?f=l.wrapMode!==Ji.CLAMP:l.wrapMode===Ji.CLAMP&&(l.wrapMode=Ji.REPEAT));const d=f?this.simpleShader:this.shader,p=a.width,m=a.height,x=e._width,y=e._height;gl.set(h.a*p/x,h.b*p/y,h.c*m/x,h.d*m/y,h.tx/x,h.ty/y),gl.invert(),f?gl.prepend(u.mapCoord):(d.uniforms.uMapCoord=u.mapCoord.toArray(!0),d.uniforms.uClampFrame=u.uClampFrame,d.uniforms.uClampOffset=u.uClampOffset),d.uniforms.uTransform=gl.toArray(!0),d.uniforms.uColor=Ry(e.tint,e.worldAlpha,d.uniforms.uColor,c),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=a,r.shader.bind(d),r.geometry.bind(i),this.state.blendMode=By(e.blendMode,c),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Nv.extension={name:"tilingSprite",type:ne.RendererPlugin};me.add(Nv);const zo=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof fe?t:null,this.baseTexture=t instanceof be?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=sn(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=zo.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=zo.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const i=this._frameKeys[e],n=this._frames[i],s=n.frame;if(s){let o=null,a=null;const l=n.trimmed!==!1&&n.sourceSize?n.sourceSize:n.frame,c=new Be(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);n.rotated?o=new Be(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Be(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),n.trimmed!==!1&&n.spriteSourceSize&&(a=new Be(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new fe(this.baseTexture,o,c,a,n.rotated?2:0,n.anchor),fe.addToCache(this.textures[i],i)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const i=t[e][r];this.animations[e].push(this.textures[i])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*zo.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*zo.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Nn=zo;Nn.BATCH_SIZE=1e3;const C8=["jpg","png","jpeg","avif","webp"];function Lv(t,e,r){const i={};if(t.forEach(n=>{i[n]=e}),Object.keys(e.textures).forEach(n=>{i[n]=e.textures[n]}),!r){const n=wt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=Lv([`${n}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(i,a)})}return i}const B8={extension:ne.Asset,cache:{test:t=>t instanceof Nn,getCacheableAssets:(t,e)=>Lv(t,e,!1)},resolver:{test:t=>{const r=t.split("?")[0].split("."),i=r.pop(),n=r.pop();return i==="json"&&C8.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=oe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:ne.LoadParser,priority:li.Normal},async testParse(t,e){return wt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,h;let i=wt.dirname(e.src);i&&i.lastIndexOf("/")!==i.length-1&&(i+="/");let n=i+t.meta.image;n=od(n,e.src);const o=(await r.load([n]))[n],a=new Nn(o.baseTexture,t,e.src);await a.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const u=[];for(const d of l){if(typeof d!="string")continue;let p=i+d;(h=e.data)!=null&&h.ignoreMultiPack||(p=od(p,e.src),u.push(r.load({src:p,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(u);a.linkedSheets=f,f.forEach(d=>{d.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==d))})}return a},unload(t){t.destroy(!0)}}};me.add(B8);class fc{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Ml{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const c in a){const h=a[c].split("="),u=h[0],f=h[1].replace(/"/gm,""),d=parseFloat(f),p=isNaN(d)?f:d;l[u]=p}i[o].push(l)}const n=new fc;return i.info.forEach(s=>n.info.push({face:s.face,size:parseInt(s.size,10)})),i.common.forEach(s=>n.common.push({lineHeight:parseInt(s.lineHeight,10)})),i.page.forEach(s=>n.page.push({id:parseInt(s.id,10),file:s.file})),i.char.forEach(s=>n.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),i.kerning.forEach(s=>n.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),i.distanceField.forEach(s=>n.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),n}}class ud{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new fc,i=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let c=0;c<i.length;c++)r.info.push({face:i[c].getAttribute("face"),size:parseInt(i[c].getAttribute("size"),10)});for(let c=0;c<n.length;c++)r.common.push({lineHeight:parseInt(n[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const h=o[c];r.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)r.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<l.length;c++)r.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return r}}class fd{static test(e){return typeof e=="string"&&e.includes("<font>")?ud.test(oe.ADAPTER.parseXML(e)):!1}static parse(e){return ud.parse(oe.ADAPTER.parseXML(e))}}const ru=[Ml,ud,fd];function R8(t){for(let e=0;e<ru.length;e++)if(ru[e].test(t))return ru[e];return null}function P8(t,e,r,i,n,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,h=t.width/i-l-c*2,u=t.height/i-l-c*2,f=o.slice(),d=r.fillGradientStops.slice();if(!d.length){const p=f.length+1;for(let m=1;m<p;++m)d.push(m/p)}if(f.unshift(o[0]),d.unshift(0),f.push(o[o.length-1]),d.push(1),r.fillGradientType===Yc.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,c,h/2,u+c);let p=0;const x=(s.fontProperties.fontSize+r.strokeThickness)/u;for(let y=0;y<n.length;y++){const _=s.lineHeight*y;for(let g=0;g<f.length;g++){let v=0;typeof d[g]=="number"?v=d[g]:v=g/f.length;const b=_/u+v*x;let E=Math.max(p,b);E=Math.min(E,1),a.addColorStop(E,f[g]),p=E}}}else{a=e.createLinearGradient(c,u/2,h+c,u/2);const p=f.length+1;let m=1;for(let x=0;x<f.length;x++){let y;typeof d[x]=="number"?y=d[x]:y=m/p,a.addColorStop(y,f[x]),m++}}return a}function D8(t,e,r,i,n,s,o){const a=r.text,l=r.fontProperties;e.translate(i,n),e.scale(s,s);const c=o.strokeThickness/2,h=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=P8(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const u=o.dropShadowColor,f=_a(typeof u=="number"?u:A0(u)),d=o.dropShadowBlur*s,p=o.dropShadowDistance*s;e.shadowColor=`rgba(${f[0]*255},${f[1]*255},${f[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,c,h+r.lineHeight-l.descent),o.fill&&e.fillText(a,c,h+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Ol(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function Uv(t){return Array.from?Array.from(t):t.split("")}function I8(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,i=t.length;r<i;r++){const n=t[r];if(Array.isArray(n)){if(n.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const s=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...Uv(n))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Sr=class{constructor(t,e,r){var c;const[i]=t.info,[n]=t.common,[s]=t.page,[o]=t.distanceField,a=sn(s.file),l={};this._ownsTextures=r,this.font=i.face,this.size=i.size,this.lineHeight=n.lineHeight/a,this.chars={},this.pageTextures=l;for(let h=0;h<t.page.length;h++){const{id:u,file:f}=t.page[h];l[u]=e instanceof Array?e[h]:e[f],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[u].baseTexture.alphaMode=zr.NO_PREMULTIPLIED_ALPHA,l[u].baseTexture.mipmap=si.OFF)}for(let h=0;h<t.char.length;h++){const{id:u,page:f}=t.char[h];let{x:d,y:p,width:m,height:x,xoffset:y,yoffset:_,xadvance:g}=t.char[h];d/=a,p/=a,m/=a,x/=a,y/=a,_/=a,g/=a;const v=new Be(d+l[f].frame.x/a,p+l[f].frame.y/a,m,x);this.chars[u]={xOffset:y,yOffset:_,xAdvance:g,kerning:{},texture:new fe(l[f].baseTexture,v),page:f}}for(let h=0;h<t.kerning.length;h++){let{first:u,second:f,amount:d}=t.kerning[h];u/=a,f/=a,d/=a,this.chars[f]&&(this.chars[f].kerning[u]=d)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((c=o==null?void 0:o.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let i;if(t instanceof fc)i=t;else{const s=R8(t);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(t)}e instanceof fe&&(e=[e]);const n=new Sr(i,e,r);return Sr.available[n.font]=n,n}static uninstall(t){const e=Sr.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Sr.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:n,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},Sr.defaultOptions,r),c=I8(i),h=e instanceof Qn?e:new Qn(e),u=o,f=new fc;f.info[0]={face:h.fontFamily,size:h.fontSize},f.common[0]={lineHeight:h.fontSize};let d=0,p=0,m,x,y,_=0;const g=[];for(let b=0;b<c.length;b++){m||(m=oe.ADAPTER.createCanvas(),m.width=o,m.height=a,x=m.getContext("2d"),y=new be(m,{resolution:s,...l}),g.push(new fe(y)),f.page.push({id:g.length-1,file:""}));const E=c[b],T=bt.measureText(E,h,!1,m),A=T.width,P=Math.ceil(T.height),w=Math.ceil((h.fontStyle==="italic"?2:1)*A);if(p>=a-P*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${E}')`);--b,m=null,x=null,y=null,p=0,d=0,_=0;continue}if(_=Math.max(P+T.fontProperties.descent,_),w*s+d>=u){if(d===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${E}')`);--b,p+=_*s,p=Math.ceil(p),d=0,_=0;continue}D8(m,x,T,d,p,s,h);const B=Ol(T.text);f.char.push({id:B,page:g.length-1,x:d/s,y:p/s,width:w,height:P,xoffset:0,yoffset:0,xadvance:A-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),d+=(w+2*n)*s,d=Math.ceil(d)}for(let b=0,E=c.length;b<E;b++){const T=c[b];for(let A=0;A<E;A++){const P=c[A],w=x.measureText(T).width,B=x.measureText(P).width,D=x.measureText(T+P).width-(w+B);D&&f.kerning.push({first:Ol(T),second:Ol(P),amount:D})}}const v=new Sr(f,g,!0);return Sr.available[t]!==void 0&&Sr.uninstall(t),Sr.available[t]=v,v}};let Ht=Sr;Ht.ALPHA=[["a","z"],["A","Z"]," "];Ht.NUMERIC=[["0","9"]];Ht.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Ht.ASCII=[[" ","~"]];Ht.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Sr.ALPHANUMERIC};Ht.available={};var F8=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,M8=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Hx=[],Gx=[],$x=[],zv=class extends Ge{constructor(t,e={}){super(),this._tint=16777215;const{align:r,tint:i,maxWidth:n,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},zv.styleDefaults,e);if(!Ht.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tint=i,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=n,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Xi(()=>{this.dirty=!0},this,0,0),this._roundPixels=oe.ROUND_PIXELS,this.dirty=!0,this._resolution=oe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var w;const t=Ht.available[this._fontName],e=this.fontSize,r=e/t.size,i=new Me,n=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=Uv(a),c=this._maxWidth*t.size/e,h=t.distanceFieldType==="none"?Hx:Gx;let u=null,f=0,d=0,p=0,m=-1,x=0,y=0,_=0,g=0;for(let B=0;B<l.length;B++){const I=l[B],D=Ol(I);if(/(?:\s)/.test(I)&&(m=B,x=f,g++),I==="\r"||I===`
`){s.push(f),o.push(-1),d=Math.max(d,f),++p,++y,i.x=0,i.y+=t.lineHeight,u=null,g=0;continue}const F=t.chars[D];if(!F)continue;u&&F.kerning[u]&&(i.x+=F.kerning[u]);const j=$x.pop()||{texture:fe.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Me};j.texture=F.texture,j.line=p,j.charCode=D,j.position.x=Math.round(i.x+F.xOffset+this._letterSpacing/2),j.position.y=Math.round(i.y+F.yOffset),j.prevSpaces=g,n.push(j),f=j.position.x+Math.max(F.xAdvance-F.xOffset,F.texture.orig.width),i.x+=F.xAdvance+this._letterSpacing,_=Math.max(_,F.yOffset+F.texture.height),u=D,m!==-1&&c>0&&i.x>c&&(++y,Ls(n,1+m-y,1+B-m),B=m,m=-1,s.push(x),o.push(n.length>0?n[n.length-1].prevSpaces:0),d=Math.max(d,x),p++,i.x=0,i.y+=t.lineHeight,u=null,g=0)}const v=l[l.length-1];v!=="\r"&&v!==`
`&&(/(?:\s)/.test(v)&&(f=x),s.push(f),d=Math.max(d,f),o.push(-1));const b=[];for(let B=0;B<=p;B++){let I=0;this._align==="right"?I=d-s[B]:this._align==="center"?I=(d-s[B])/2:this._align==="justify"&&(I=o[B]<0?0:(d-s[B])/o[B]),b.push(I)}const E=n.length,T={},A=[],P=this._activePagesMeshData;h.push(...P);for(let B=0;B<E;B++){const I=n[B].texture,D=I.baseTexture.uid;if(!T[D]){let F=h.pop();if(!F){const $=new s8;let U,Z;t.distanceFieldType==="none"?(U=new Nx(fe.EMPTY),Z=_e.NORMAL):(U=new Nx(fe.EMPTY,{program:Fr.from(M8,F8),uniforms:{uFWidth:0}}),Z=_e.NORMAL_NPM);const le=new cd($,U);le.blendMode=Z,F={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:le,vertices:null,uvs:null,indices:null}}F.index=0,F.indexCount=0,F.vertexCount=0,F.uvsCount=0,F.total=0;const{_textureCache:j}=this;j[D]=j[D]||new fe(I.baseTexture),F.mesh.texture=j[D],F.mesh.tint=this._tint,A.push(F),T[D]=F}T[D].total++}for(let B=0;B<P.length;B++)A.includes(P[B])||this.removeChild(P[B].mesh);for(let B=0;B<A.length;B++)A[B].mesh.parent!==this&&this.addChild(A[B].mesh);this._activePagesMeshData=A;for(const B in T){const I=T[B],D=I.total;if(!(((w=I.indices)==null?void 0:w.length)>6*D)||I.vertices.length<cd.BATCHABLE_SIZE*2)I.vertices=new Float32Array(4*2*D),I.uvs=new Float32Array(4*2*D),I.indices=new Uint16Array(6*D);else{const F=I.total,j=I.vertices;for(let $=F*4*2;$<j.length;$++)j[$]=0}I.mesh.size=6*D}for(let B=0;B<E;B++){const I=n[B];let D=I.position.x+b[I.line]*(this._align==="justify"?I.prevSpaces:1);this._roundPixels&&(D=Math.round(D));const F=D*r,j=I.position.y*r,$=I.texture,U=T[$.baseTexture.uid],Z=$.frame,le=$._uvs,H=U.index++;U.indices[H*6+0]=0+H*4,U.indices[H*6+1]=1+H*4,U.indices[H*6+2]=2+H*4,U.indices[H*6+3]=0+H*4,U.indices[H*6+4]=2+H*4,U.indices[H*6+5]=3+H*4,U.vertices[H*8+0]=F,U.vertices[H*8+1]=j,U.vertices[H*8+2]=F+Z.width*r,U.vertices[H*8+3]=j,U.vertices[H*8+4]=F+Z.width*r,U.vertices[H*8+5]=j+Z.height*r,U.vertices[H*8+6]=F,U.vertices[H*8+7]=j+Z.height*r,U.uvs[H*8+0]=le.x0,U.uvs[H*8+1]=le.y0,U.uvs[H*8+2]=le.x1,U.uvs[H*8+3]=le.y1,U.uvs[H*8+4]=le.x2,U.uvs[H*8+5]=le.y2,U.uvs[H*8+6]=le.x3,U.uvs[H*8+7]=le.y3}this._textWidth=d*r,this._textHeight=(i.y+t.lineHeight)*r;for(const B in T){const I=T[B];if(this.anchor.x!==0||this.anchor.y!==0){let $=0;const U=this._textWidth*this.anchor.x,Z=this._textHeight*this.anchor.y;for(let le=0;le<I.total;le++)I.vertices[$++]-=U,I.vertices[$++]-=Z,I.vertices[$++]-=U,I.vertices[$++]-=Z,I.vertices[$++]-=U,I.vertices[$++]-=Z,I.vertices[$++]-=U,I.vertices[$++]-=Z}this._maxLineHeight=_*r;const D=I.mesh.geometry.getBuffer("aVertexPosition"),F=I.mesh.geometry.getBuffer("aTextureCoord"),j=I.mesh.geometry.getIndex();D.data=I.vertices,F.data=I.uvs,j.data=I.indices,D.update(),F.update(),j.update()}for(let B=0;B<n.length;B++)$x.push(n[B]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:i}=Ht.available[this._fontName];if(r!=="none"){const{a:n,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(n*n+s*s),c=Math.sqrt(o*o+a*a),h=(Math.abs(l)+Math.abs(c))/2,u=this.fontSize/i,f=t._view.resolution;for(const d of this._activePagesMeshData)d.mesh.shader.uniforms.uFWidth=h*e*u*f}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Ht.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Ht.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Ht.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,i=Ht.available[this._fontName].distanceFieldType==="none"?Hx:Gx;i.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],i.filter(n=>e[n.mesh.texture.baseTexture.uid]).forEach(n=>{n.mesh.texture=fe.EMPTY});for(const n in e)e[n].destroy(),delete e[n];this._font=null,this._textureCache=null,super.destroy(t)}};let O8=zv;O8.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const k8=[".xml",".fnt"],N8={extension:{type:ne.LoadParser,priority:li.Normal},test(t){return k8.includes(wt.extname(t).toLowerCase())},async testParse(t){return Ml.test(t)||fd.test(t)},async parse(t,e,r){const i=Ml.test(t)?Ml.parse(t):fd.parse(t),{src:n}=e,{page:s}=i,o=[];for(let c=0;c<s.length;++c){const h=s[c].file;let u=wt.join(wt.dirname(n),h);u=od(u,n),o.push(u)}const a=await r.load(o),l=o.map(c=>a[c]);return Ht.install(i,l,!0)},async load(t,e){return(await oe.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};me.add(N8);const go={backgroundColor:0,width:720,height:1280,slotIconScale:140,maskScale:{w:616,h:420},gapIconInReel:4,slotScaleAry:[.7,.7,.8,1,.8,.7],centerSlotIndex:2,stopCount:5,atlasData:["bar1","bar2","bar3","bell","cherry","orange","seven","star","target","watermelon"],emoji:{bell:"🔔",bar1:"➖",bar2:"🟰",bar3:"☰",joker:"🃏",watermelon:"🍉",orange:"🍊",seven:"7️⃣",star:"⭐",target:"🎯",cherry:"🍒"},startDelay:.25,debug:!1},Mn=class Mn{constructor(){pe(this,"mRscObject");Mn.handle=this,this.mRscObject={}}static get getHandle(){return Mn.handle?Mn.handle:new Mn}get getRscList(){return this.mRscObject}async loadRsc(e,r){var s,o;const i=(o=(s=Si.getHandle.getScene)==null?void 0:s.info)==null?void 0:o.name,n=r||i;if(!this.mRscObject[`${n}/${e}`]){Kr.add(`${n}/${e}`,e);try{this.mRscObject[`${n}/${e}`]=await Kr.load(`/rsc/${r}/img/${e}`)}catch(a){console.error(a)}}}async loadAllRsc(e){var i,n;const r=(n=(i=Si.getHandle.getScene)==null?void 0:i.info)==null?void 0:n.name;for(const s of e.img)await this.loadRsc(s,r)}async loadCommonRsc(e){for(const r of e.img)await this.loadRsc(r,"common")}getRsc(e,r){var s,o;const n=`${r?"common":(o=(s=Si.getHandle.getScene)==null?void 0:s.info)==null?void 0:o.name}/${e}`;return this.mRscObject[n]?this.mRscObject[n]:(console.error(`[${n}] 이미지 없다.`),null)}};pe(Mn,"handle");let $t=Mn;const sr=Lt({isLoading:!1,currentNav:""}),L8={img:["chevron.png","tile.png","pos-icon.png","edit-tool-bg.png"]},U8={img:["icon.png","big_number.png","reel.png","main_frame.png","bg_day.png","bg_day_tree.png","bg_night.png","bg_night_tree.png"]},Wx={common:L8,slot:U8};var z8=typeof global=="object"&&global&&global.Object===Object&&global;const Hv=z8;var H8=typeof self=="object"&&self&&self.Object===Object&&self,G8=Hv||H8||Function("return this")();const ci=G8;var $8=ci.Symbol;const oi=$8;var Gv=Object.prototype,W8=Gv.hasOwnProperty,j8=Gv.toString,Do=oi?oi.toStringTag:void 0;function X8(t){var e=W8.call(t,Do),r=t[Do];try{t[Do]=void 0;var i=!0}catch{}var n=j8.call(t);return i&&(e?t[Do]=r:delete t[Do]),n}var V8=Object.prototype,q8=V8.toString;function Y8(t){return q8.call(t)}var K8="[object Null]",Z8="[object Undefined]",jx=oi?oi.toStringTag:void 0;function _o(t){return t==null?t===void 0?Z8:K8:jx&&jx in Object(t)?X8(t):Y8(t)}function io(t){return t!=null&&typeof t=="object"}var Q8="[object Symbol]";function Zc(t){return typeof t=="symbol"||io(t)&&_o(t)==Q8}function O0(t,e){for(var r=-1,i=t==null?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}var J8=Array.isArray;const ar=J8;var eF=1/0,Xx=oi?oi.prototype:void 0,Vx=Xx?Xx.toString:void 0;function $v(t){if(typeof t=="string")return t;if(ar(t))return O0(t,$v)+"";if(Zc(t))return Vx?Vx.call(t):"";var e=t+"";return e=="0"&&1/t==-eF?"-0":e}var tF=/\s/;function rF(t){for(var e=t.length;e--&&tF.test(t.charAt(e)););return e}var iF=/^\s+/;function nF(t){return t&&t.slice(0,rF(t)+1).replace(iF,"")}function no(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var qx=0/0,sF=/^[-+]0x[0-9a-f]+$/i,oF=/^0b[01]+$/i,aF=/^0o[0-7]+$/i,lF=parseInt;function dd(t){if(typeof t=="number")return t;if(Zc(t))return qx;if(no(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=no(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=nF(t);var r=oF.test(t);return r||aF.test(t)?lF(t.slice(2),r?2:8):sF.test(t)?qx:+t}var Yx=1/0,cF=17976931348623157e292;function hF(t){if(!t)return t===0?t:0;if(t=dd(t),t===Yx||t===-Yx){var e=t<0?-1:1;return e*cF}return t===t?t:0}function uF(t){var e=hF(t),r=e%1;return e===e?r?e-r:e:0}function fF(t){return t}var dF="[object AsyncFunction]",pF="[object Function]",mF="[object GeneratorFunction]",xF="[object Proxy]";function Wv(t){if(!no(t))return!1;var e=_o(t);return e==pF||e==mF||e==dF||e==xF}var gF=ci["__core-js_shared__"];const iu=gF;var Kx=function(){var t=/[^.]+$/.exec(iu&&iu.keys&&iu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _F(t){return!!Kx&&Kx in t}var yF=Function.prototype,vF=yF.toString;function os(t){if(t!=null){try{return vF.call(t)}catch{}try{return t+""}catch{}}return""}var bF=/[\\^$.*+?()[\]{}|]/g,EF=/^\[object .+?Constructor\]$/,TF=Function.prototype,AF=Object.prototype,wF=TF.toString,SF=AF.hasOwnProperty,CF=RegExp("^"+wF.call(SF).replace(bF,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BF(t){if(!no(t)||_F(t))return!1;var e=Wv(t)?CF:EF;return e.test(os(t))}function RF(t,e){return t==null?void 0:t[e]}function yo(t,e){var r=RF(t,e);return BF(r)?r:void 0}var PF=yo(ci,"WeakMap");const pd=PF;function DF(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}function IF(t,e,r,i){for(var n=t.length,s=r+(i?1:-1);i?s--:++s<n;)if(e(t[s],s,t))return s;return-1}var FF=9007199254740991,MF=/^(?:0|[1-9]\d*)$/;function jv(t,e){var r=typeof t;return e=e??FF,!!e&&(r=="number"||r!="symbol"&&MF.test(t))&&t>-1&&t%1==0&&t<e}function Xv(t,e){return t===e||t!==t&&e!==e}var OF=9007199254740991;function k0(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=OF}function Qc(t){return t!=null&&k0(t.length)&&!Wv(t)}var kF=Object.prototype;function NF(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||kF;return t===r}function LF(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}var UF="[object Arguments]";function Zx(t){return io(t)&&_o(t)==UF}var Vv=Object.prototype,zF=Vv.hasOwnProperty,HF=Vv.propertyIsEnumerable,GF=Zx(function(){return arguments}())?Zx:function(t){return io(t)&&zF.call(t,"callee")&&!HF.call(t,"callee")};const N0=GF;function $F(){return!1}var qv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qx=qv&&typeof module=="object"&&module&&!module.nodeType&&module,WF=Qx&&Qx.exports===qv,Jx=WF?ci.Buffer:void 0,jF=Jx?Jx.isBuffer:void 0,XF=jF||$F;const md=XF;var VF="[object Arguments]",qF="[object Array]",YF="[object Boolean]",KF="[object Date]",ZF="[object Error]",QF="[object Function]",JF="[object Map]",e5="[object Number]",t5="[object Object]",r5="[object RegExp]",i5="[object Set]",n5="[object String]",s5="[object WeakMap]",o5="[object ArrayBuffer]",a5="[object DataView]",l5="[object Float32Array]",c5="[object Float64Array]",h5="[object Int8Array]",u5="[object Int16Array]",f5="[object Int32Array]",d5="[object Uint8Array]",p5="[object Uint8ClampedArray]",m5="[object Uint16Array]",x5="[object Uint32Array]",Xe={};Xe[l5]=Xe[c5]=Xe[h5]=Xe[u5]=Xe[f5]=Xe[d5]=Xe[p5]=Xe[m5]=Xe[x5]=!0;Xe[VF]=Xe[qF]=Xe[o5]=Xe[YF]=Xe[a5]=Xe[KF]=Xe[ZF]=Xe[QF]=Xe[JF]=Xe[e5]=Xe[t5]=Xe[r5]=Xe[i5]=Xe[n5]=Xe[s5]=!1;function g5(t){return io(t)&&k0(t.length)&&!!Xe[_o(t)]}function _5(t){return function(e){return t(e)}}var Yv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ta=Yv&&typeof module=="object"&&module&&!module.nodeType&&module,y5=ta&&ta.exports===Yv,nu=y5&&Hv.process,v5=function(){try{var t=ta&&ta.require&&ta.require("util").types;return t||nu&&nu.binding&&nu.binding("util")}catch{}}();const eg=v5;var tg=eg&&eg.isTypedArray,b5=tg?_5(tg):g5;const Kv=b5;var E5=Object.prototype,T5=E5.hasOwnProperty;function A5(t,e){var r=ar(t),i=!r&&N0(t),n=!r&&!i&&md(t),s=!r&&!i&&!n&&Kv(t),o=r||i||n||s,a=o?LF(t.length,String):[],l=a.length;for(var c in t)(e||T5.call(t,c))&&!(o&&(c=="length"||n&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||jv(c,l)))&&a.push(c);return a}function w5(t,e){return function(r){return t(e(r))}}var S5=w5(Object.keys,Object);const C5=S5;var B5=Object.prototype,R5=B5.hasOwnProperty;function P5(t){if(!NF(t))return C5(t);var e=[];for(var r in Object(t))R5.call(t,r)&&r!="constructor"&&e.push(r);return e}function Ua(t){return Qc(t)?A5(t):P5(t)}var D5=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I5=/^\w*$/;function L0(t,e){if(ar(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Zc(t)?!0:I5.test(t)||!D5.test(t)||e!=null&&t in Object(e)}var F5=yo(Object,"create");const Ea=F5;function M5(){this.__data__=Ea?Ea(null):{},this.size=0}function O5(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var k5="__lodash_hash_undefined__",N5=Object.prototype,L5=N5.hasOwnProperty;function U5(t){var e=this.__data__;if(Ea){var r=e[t];return r===k5?void 0:r}return L5.call(e,t)?e[t]:void 0}var z5=Object.prototype,H5=z5.hasOwnProperty;function G5(t){var e=this.__data__;return Ea?e[t]!==void 0:H5.call(e,t)}var $5="__lodash_hash_undefined__";function W5(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ea&&e===void 0?$5:e,this}function Jn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Jn.prototype.clear=M5;Jn.prototype.delete=O5;Jn.prototype.get=U5;Jn.prototype.has=G5;Jn.prototype.set=W5;function j5(){this.__data__=[],this.size=0}function Jc(t,e){for(var r=t.length;r--;)if(Xv(t[r][0],e))return r;return-1}var X5=Array.prototype,V5=X5.splice;function q5(t){var e=this.__data__,r=Jc(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():V5.call(e,r,1),--this.size,!0}function Y5(t){var e=this.__data__,r=Jc(e,t);return r<0?void 0:e[r][1]}function K5(t){return Jc(this.__data__,t)>-1}function Z5(t,e){var r=this.__data__,i=Jc(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}function Ii(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Ii.prototype.clear=j5;Ii.prototype.delete=q5;Ii.prototype.get=Y5;Ii.prototype.has=K5;Ii.prototype.set=Z5;var Q5=yo(ci,"Map");const Ta=Q5;function J5(){this.size=0,this.__data__={hash:new Jn,map:new(Ta||Ii),string:new Jn}}function eM(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function eh(t,e){var r=t.__data__;return eM(e)?r[typeof e=="string"?"string":"hash"]:r.map}function tM(t){var e=eh(this,t).delete(t);return this.size-=e?1:0,e}function rM(t){return eh(this,t).get(t)}function iM(t){return eh(this,t).has(t)}function nM(t,e){var r=eh(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}function Fi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Fi.prototype.clear=J5;Fi.prototype.delete=tM;Fi.prototype.get=rM;Fi.prototype.has=iM;Fi.prototype.set=nM;var sM="Expected a function";function U0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(sM);var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],s=r.cache;if(s.has(n))return s.get(n);var o=t.apply(this,i);return r.cache=s.set(n,o)||s,o};return r.cache=new(U0.Cache||Fi),r}U0.Cache=Fi;var oM=500;function aM(t){var e=U0(t,function(i){return r.size===oM&&r.clear(),i}),r=e.cache;return e}var lM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cM=/\\(\\)?/g,hM=aM(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(lM,function(r,i,n,s){e.push(n?s.replace(cM,"$1"):i||r)}),e});const uM=hM;function fM(t){return t==null?"":$v(t)}function Zv(t,e){return ar(t)?t:L0(t,e)?[t]:uM(fM(t))}var dM=1/0;function th(t){if(typeof t=="string"||Zc(t))return t;var e=t+"";return e=="0"&&1/t==-dM?"-0":e}function Qv(t,e){e=Zv(e,t);for(var r=0,i=e.length;t!=null&&r<i;)t=t[th(e[r++])];return r&&r==i?t:void 0}function pM(t,e,r){var i=t==null?void 0:Qv(t,e);return i===void 0?r:i}function Jv(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}var rg=oi?oi.isConcatSpreadable:void 0;function mM(t){return ar(t)||N0(t)||!!(rg&&t&&t[rg])}function eb(t,e,r,i,n){var s=-1,o=t.length;for(r||(r=mM),n||(n=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?eb(a,e-1,r,i,n):Jv(n,a):i||(n[n.length]=a)}return n}function xM(t){var e=t==null?0:t.length;return e?eb(t,1):[]}function gM(){this.__data__=new Ii,this.size=0}function _M(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function yM(t){return this.__data__.get(t)}function vM(t){return this.__data__.has(t)}var bM=200;function EM(t,e){var r=this.__data__;if(r instanceof Ii){var i=r.__data__;if(!Ta||i.length<bM-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new Fi(i)}return r.set(t,e),this.size=r.size,this}function Ai(t){var e=this.__data__=new Ii(t);this.size=e.size}Ai.prototype.clear=gM;Ai.prototype.delete=_M;Ai.prototype.get=yM;Ai.prototype.has=vM;Ai.prototype.set=EM;function tb(t,e){for(var r=-1,i=t==null?0:t.length,n=0,s=[];++r<i;){var o=t[r];e(o,r,t)&&(s[n++]=o)}return s}function TM(){return[]}var AM=Object.prototype,wM=AM.propertyIsEnumerable,ig=Object.getOwnPropertySymbols,SM=ig?function(t){return t==null?[]:(t=Object(t),tb(ig(t),function(e){return wM.call(t,e)}))}:TM;const CM=SM;function BM(t,e,r){var i=e(t);return ar(t)?i:Jv(i,r(t))}function ng(t){return BM(t,Ua,CM)}var RM=yo(ci,"DataView");const xd=RM;var PM=yo(ci,"Promise");const gd=PM;var DM=yo(ci,"Set");const _d=DM;var sg="[object Map]",IM="[object Object]",og="[object Promise]",ag="[object Set]",lg="[object WeakMap]",cg="[object DataView]",FM=os(xd),MM=os(Ta),OM=os(gd),kM=os(_d),NM=os(pd),Bn=_o;(xd&&Bn(new xd(new ArrayBuffer(1)))!=cg||Ta&&Bn(new Ta)!=sg||gd&&Bn(gd.resolve())!=og||_d&&Bn(new _d)!=ag||pd&&Bn(new pd)!=lg)&&(Bn=function(t){var e=_o(t),r=e==IM?t.constructor:void 0,i=r?os(r):"";if(i)switch(i){case FM:return cg;case MM:return sg;case OM:return og;case kM:return ag;case NM:return lg}return e});const hg=Bn;var LM=ci.Uint8Array;const ug=LM;var UM="__lodash_hash_undefined__";function zM(t){return this.__data__.set(t,UM),this}function HM(t){return this.__data__.has(t)}function dc(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Fi;++e<r;)this.add(t[e])}dc.prototype.add=dc.prototype.push=zM;dc.prototype.has=HM;function GM(t,e){for(var r=-1,i=t==null?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}function $M(t,e){return t.has(e)}var WM=1,jM=2;function rb(t,e,r,i,n,s){var o=r&WM,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var u=-1,f=!0,d=r&jM?new dc:void 0;for(s.set(t,e),s.set(e,t);++u<a;){var p=t[u],m=e[u];if(i)var x=o?i(m,p,u,e,t,s):i(p,m,u,t,e,s);if(x!==void 0){if(x)continue;f=!1;break}if(d){if(!GM(e,function(y,_){if(!$M(d,_)&&(p===y||n(p,y,r,i,s)))return d.push(_)})){f=!1;break}}else if(!(p===m||n(p,m,r,i,s))){f=!1;break}}return s.delete(t),s.delete(e),f}function XM(t){var e=-1,r=Array(t.size);return t.forEach(function(i,n){r[++e]=[n,i]}),r}function VM(t){var e=-1,r=Array(t.size);return t.forEach(function(i){r[++e]=i}),r}var qM=1,YM=2,KM="[object Boolean]",ZM="[object Date]",QM="[object Error]",JM="[object Map]",eO="[object Number]",tO="[object RegExp]",rO="[object Set]",iO="[object String]",nO="[object Symbol]",sO="[object ArrayBuffer]",oO="[object DataView]",fg=oi?oi.prototype:void 0,su=fg?fg.valueOf:void 0;function aO(t,e,r,i,n,s,o){switch(r){case oO:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case sO:return!(t.byteLength!=e.byteLength||!s(new ug(t),new ug(e)));case KM:case ZM:case eO:return Xv(+t,+e);case QM:return t.name==e.name&&t.message==e.message;case tO:case iO:return t==e+"";case JM:var a=XM;case rO:var l=i&qM;if(a||(a=VM),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;i|=YM,o.set(t,e);var h=rb(a(t),a(e),i,n,s,o);return o.delete(t),h;case nO:if(su)return su.call(t)==su.call(e)}return!1}var lO=1,cO=Object.prototype,hO=cO.hasOwnProperty;function uO(t,e,r,i,n,s){var o=r&lO,a=ng(t),l=a.length,c=ng(e),h=c.length;if(l!=h&&!o)return!1;for(var u=l;u--;){var f=a[u];if(!(o?f in e:hO.call(e,f)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var x=o;++u<l;){f=a[u];var y=t[f],_=e[f];if(i)var g=o?i(_,y,f,e,t,s):i(y,_,f,t,e,s);if(!(g===void 0?y===_||n(y,_,r,i,s):g)){m=!1;break}x||(x=f=="constructor")}if(m&&!x){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!(typeof v=="function"&&v instanceof v&&typeof b=="function"&&b instanceof b)&&(m=!1)}return s.delete(t),s.delete(e),m}var fO=1,dg="[object Arguments]",pg="[object Array]",_l="[object Object]",dO=Object.prototype,mg=dO.hasOwnProperty;function pO(t,e,r,i,n,s){var o=ar(t),a=ar(e),l=o?pg:hg(t),c=a?pg:hg(e);l=l==dg?_l:l,c=c==dg?_l:c;var h=l==_l,u=c==_l,f=l==c;if(f&&md(t)){if(!md(e))return!1;o=!0,h=!1}if(f&&!h)return s||(s=new Ai),o||Kv(t)?rb(t,e,r,i,n,s):aO(t,e,l,r,i,n,s);if(!(r&fO)){var d=h&&mg.call(t,"__wrapped__"),p=u&&mg.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,x=p?e.value():e;return s||(s=new Ai),n(m,x,r,i,s)}}return f?(s||(s=new Ai),uO(t,e,r,i,n,s)):!1}function z0(t,e,r,i,n){return t===e?!0:t==null||e==null||!io(t)&&!io(e)?t!==t&&e!==e:pO(t,e,r,i,z0,n)}var mO=1,xO=2;function gO(t,e,r,i){var n=r.length,s=n,o=!i;if(t==null)return!s;for(t=Object(t);n--;){var a=r[n];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++n<s;){a=r[n];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var u=new Ai;if(i)var f=i(c,h,l,t,e,u);if(!(f===void 0?z0(h,c,mO|xO,i,u):f))return!1}}return!0}function ib(t){return t===t&&!no(t)}function _O(t){for(var e=Ua(t),r=e.length;r--;){var i=e[r],n=t[i];e[r]=[i,n,ib(n)]}return e}function nb(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function yO(t){var e=_O(t);return e.length==1&&e[0][2]?nb(e[0][0],e[0][1]):function(r){return r===t||gO(r,t,e)}}function vO(t,e){return t!=null&&e in Object(t)}function bO(t,e,r){e=Zv(e,t);for(var i=-1,n=e.length,s=!1;++i<n;){var o=th(e[i]);if(!(s=t!=null&&r(t,o)))break;t=t[o]}return s||++i!=n?s:(n=t==null?0:t.length,!!n&&k0(n)&&jv(o,n)&&(ar(t)||N0(t)))}function EO(t,e){return t!=null&&bO(t,e,vO)}var TO=1,AO=2;function wO(t,e){return L0(t)&&ib(e)?nb(th(t),e):function(r){var i=pM(r,t);return i===void 0&&i===e?EO(r,t):z0(e,i,TO|AO)}}function SO(t){return function(e){return e==null?void 0:e[t]}}function CO(t){return function(e){return Qv(e,t)}}function BO(t){return L0(t)?SO(th(t)):CO(t)}function rh(t){return typeof t=="function"?t:t==null?fF:typeof t=="object"?ar(t)?wO(t[0],t[1]):yO(t):BO(t)}function RO(t){return function(e,r,i){for(var n=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[t?a:++n];if(r(s[l],l,s)===!1)break}return e}}var PO=RO();const DO=PO;function IO(t,e){return t&&DO(t,e,Ua)}function FO(t,e){return function(r,i){if(r==null)return r;if(!Qc(r))return t(r,i);for(var n=r.length,s=e?n:-1,o=Object(r);(e?s--:++s<n)&&i(o[s],s,o)!==!1;);return r}}var MO=FO(IO);const sb=MO;var OO=function(){return ci.Date.now()};const ou=OO;var kO="Expected a function",NO=Math.max,LO=Math.min;function UO(t,e,r){var i,n,s,o,a,l,c=0,h=!1,u=!1,f=!0;if(typeof t!="function")throw new TypeError(kO);e=dd(e)||0,no(r)&&(h=!!r.leading,u="maxWait"in r,s=u?NO(dd(r.maxWait)||0,e):s,f="trailing"in r?!!r.trailing:f);function d(E){var T=i,A=n;return i=n=void 0,c=E,o=t.apply(A,T),o}function p(E){return c=E,a=setTimeout(y,e),h?d(E):o}function m(E){var T=E-l,A=E-c,P=e-T;return u?LO(P,s-A):P}function x(E){var T=E-l,A=E-c;return l===void 0||T>=e||T<0||u&&A>=s}function y(){var E=ou();if(x(E))return _(E);a=setTimeout(y,m(E))}function _(E){return a=void 0,f&&i?d(E):(i=n=void 0,o)}function g(){a!==void 0&&clearTimeout(a),c=0,i=l=n=a=void 0}function v(){return a===void 0?o:_(ou())}function b(){var E=ou(),T=x(E);if(i=arguments,n=this,l=E,T){if(a===void 0)return p(l);if(u)return clearTimeout(a),a=setTimeout(y,e),d(l)}return a===void 0&&(a=setTimeout(y,e)),o}return b.cancel=g,b.flush=v,b}function zO(t,e){var r=[];return sb(t,function(i,n,s){e(i,n,s)&&r.push(i)}),r}function ra(t,e){var r=ar(t)?tb:zO;return r(t,rh(e))}function HO(t){return function(e,r,i){var n=Object(e);if(!Qc(e)){var s=rh(r);e=Ua(e),r=function(a){return s(n[a],a,n)}}var o=t(e,r,i);return o>-1?n[s?e[o]:o]:void 0}}var GO=Math.max;function $O(t,e,r){var i=t==null?0:t.length;if(!i)return-1;var n=r==null?0:uF(r);return n<0&&(n=GO(i+n,0)),IF(t,rh(e),n)}var WO=HO($O);const jO=WO;function XO(t,e){var r=-1,i=Qc(t)?Array(t.length):[];return sb(t,function(n,s,o){i[++r]=e(n,s,o)}),i}function ob(t,e){var r=ar(t)?O0:XO;return r(t,rh(e))}function VO(t,e){return O0(e,function(r){return t[r]})}function qO(t){return t==null?[]:VO(t,Ua(t))}var YO=Math.floor,KO=Math.random;function ZO(t,e){return t+YO(KO()*(e-t+1))}function ab(t,e){var r=-1,i=t.length,n=i-1;for(e=e===void 0?i:e;++r<e;){var s=ZO(r,n),o=t[s];t[s]=t[r],t[r]=o}return t.length=e,t}function QO(t){return ab(DF(t))}function JO(t){return ab(qO(t))}function e6(t){var e=ar(t)?QO:JO;return e(t)}const t6={big_0:{frame:{x:0,y:0,w:115,h:117},anchor:{x:.5,y:.5}},big_1:{frame:{x:115,y:0,w:73,h:117},anchor:{x:.5,y:.5}},big_2:{frame:{x:188,y:0,w:116,h:117},anchor:{x:.5,y:.5}},big_3:{frame:{x:304,y:0,w:107,h:117},anchor:{x:.5,y:.5}},big_4:{frame:{x:411,y:0,w:116,h:117},anchor:{x:.5,y:.5}},big_5:{frame:{x:527,y:0,w:110,h:117},anchor:{x:.5,y:.5}},big_6:{frame:{x:637,y:0,w:104,h:117},anchor:{x:.5,y:.5}},big_7:{frame:{x:741,y:0,w:104,h:117},anchor:{x:.5,y:.5}},big_8:{frame:{x:845,y:0,w:109,h:117},anchor:{x:.5,y:.5}},big_9:{frame:{x:954,y:0,w:104,h:117},anchor:{x:.5,y:.5}},"big_,":{frame:{x:1058,y:0,w:61,h:75},anchor:{x:.5,y:.5}}},r6={image:"../img/big_number.png",format:"RGBA8888",size:{w:1119,h:117},scale:"1"},i6={frames:t6,meta:r6},n6={watermelon:{frame:{x:0,y:0,w:140,h:140},anchor:{x:0,y:0}},bar1:{frame:{x:140,y:0,w:140,h:140},anchor:{x:0,y:0}},bar2:{frame:{x:280,y:0,w:140,h:140},anchor:{x:0,y:0}},bar3:{frame:{x:420,y:0,w:140,h:140},anchor:{x:0,y:0}},bell:{frame:{x:560,y:0,w:140,h:140},anchor:{x:0,y:0}},cherry:{frame:{x:700,y:0,w:140,h:140},anchor:{x:0,y:0}},orange:{frame:{x:840,y:0,w:140,h:140},anchor:{x:0,y:0}},seven:{frame:{x:980,y:0,w:140,h:140},anchor:{x:0,y:0}},star:{frame:{x:1120,y:0,w:140,h:140},anchor:{x:0,y:0}},target:{frame:{x:1260,y:0,w:140,h:140},anchor:{x:0,y:0}},joker:{frame:{x:1400,y:0,w:140,h:140},anchor:{x:0,y:0}}},s6={image:"../img/icon.png",format:"RGBA8888",size:{w:1540,h:140},scale:"1"},o6={frames:n6,meta:s6},a6={0:{frame:{x:0,y:857,w:22,h:33},anchor:{x:0,y:1}},1:{frame:{x:22,y:857,w:15,h:33},anchor:{x:0,y:1}},2:{frame:{x:37,y:857,w:23,h:33},anchor:{x:0,y:1}},3:{frame:{x:60,y:857,w:22,h:33},anchor:{x:0,y:1}},4:{frame:{x:82,y:857,w:25,h:33},anchor:{x:0,y:1}},5:{frame:{x:107,y:857,w:23,h:33},anchor:{x:0,y:1}},6:{frame:{x:130,y:857,w:24,h:33},anchor:{x:0,y:1}},7:{frame:{x:154,y:857,w:22,h:33},anchor:{x:0,y:1}},8:{frame:{x:176,y:857,w:24,h:33},anchor:{x:0,y:1}},9:{frame:{x:200,y:857,w:24,h:33},anchor:{x:0,y:1}},mainframe:{frame:{x:0,y:0,w:720,h:830},anchor:{x:0,y:1}},prizeLine:{frame:{x:0,y:830,w:656,h:27},anchor:{x:0,y:.5}},",":{frame:{x:224,y:857,w:12,h:14},anchor:{x:0,y:.2}}},l6={image:"../img/main_frame.png",format:"RGBA8888",size:{w:720,h:890},scale:"1"},c6={frames:a6,meta:l6},h6={x1:{frame:{x:0,y:0,w:154,h:420},anchor:{x:0,y:0}},x2:{frame:{x:154,y:0,w:154,h:420},anchor:{x:0,y:0}},x5:{frame:{x:308,y:0,w:154,h:420},anchor:{x:0,y:0}},x10:{frame:{x:462,y:0,w:154,h:420},anchor:{x:0,y:0}}},u6={image:"../img/reel.png",format:"RGBA8888",size:{w:616,h:420},scale:"1"},f6={frames:h6,meta:u6},mi=Lt({gameData:{}});function xi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.3
 * https://gsap.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var or={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},so={duration:.5,overwrite:!1,delay:0},H0,It,nt,mr=1e8,We=1/mr,yd=Math.PI*2,d6=yd/4,p6=0,cb=Math.sqrt,m6=Math.cos,x6=Math.sin,gt=function(e){return typeof e=="string"},st=function(e){return typeof e=="function"},Ci=function(e){return typeof e=="number"},G0=function(e){return typeof e>"u"},ai=function(e){return typeof e=="object"},jt=function(e){return e!==!1},$0=function(){return typeof window<"u"},yl=function(e){return st(e)||gt(e)},hb=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Ft=Array.isArray,vd=/(?:-?\.?\d|\.)+/gi,ub=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Bs=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,au=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,fb=/[+-]=-?[.\d]+/,db=/[^,'"\[\]\s]+/gi,g6=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Qe,dr,bd,W0,lr={},pc={},pb,mb=function(e){return(pc=es(e,lr))&&Kt},j0=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},Aa=function(e,r){return!r&&console.warn(e)},xb=function(e,r){return e&&(lr[e]=r)&&pc&&(pc[e]=r)||lr},wa=function(){return 0},_6={suppressEvents:!0,isStart:!0,kill:!1},kl={suppressEvents:!0,kill:!1},y6={suppressEvents:!0},X0={},en=[],Ed={},gb,tr={},lu={},xg=30,Nl=[],V0="",q0=function(e){var r=e[0],i,n;if(ai(r)||st(r)||(e=[e]),!(i=(r._gsap||{}).harness)){for(n=Nl.length;n--&&!Nl[n].targetTest(r););i=Nl[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Hb(e[n],i)))||e.splice(n,1);return e},Wn=function(e){return e._gsap||q0(xr(e))[0]._gsap},_b=function(e,r,i){return(i=e[r])&&st(i)?e[r]():G0(i)&&e.getAttribute&&e.getAttribute(r)||i},Xt=function(e,r){return(e=e.split(",")).forEach(r)||e},ot=function(e){return Math.round(e*1e5)/1e5||0},mt=function(e){return Math.round(e*1e7)/1e7||0},Hs=function(e,r){var i=r.charAt(0),n=parseFloat(r.substr(2));return e=parseFloat(e),i==="+"?e+n:i==="-"?e-n:i==="*"?e*n:e/n},v6=function(e,r){for(var i=r.length,n=0;e.indexOf(r[n])<0&&++n<i;);return n<i},mc=function(){var e=en.length,r=en.slice(0),i,n;for(Ed={},en.length=0,i=0;i<e;i++)n=r[i],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},yb=function(e,r,i,n){en.length&&!It&&mc(),e.render(r,i,n||It&&r<0&&(e._initted||e._startAt)),en.length&&!It&&mc()},vb=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(db).length<2?r:gt(e)?e.trim():e},bb=function(e){return e},yr=function(e,r){for(var i in r)i in e||(e[i]=r[i]);return e},b6=function(e){return function(r,i){for(var n in i)n in r||n==="duration"&&e||n==="ease"||(r[n]=i[n])}},es=function(e,r){for(var i in r)e[i]=r[i];return e},gg=function t(e,r){for(var i in r)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=ai(r[i])?t(e[i]||(e[i]={}),r[i]):r[i]);return e},xc=function(e,r){var i={},n;for(n in e)n in r||(i[n]=e[n]);return i},ia=function(e){var r=e.parent||Qe,i=e.keyframes?b6(Ft(e.keyframes)):yr;if(jt(e.inherit))for(;r;)i(e,r.vars.defaults),r=r.parent||r._dp;return e},E6=function(e,r){for(var i=e.length,n=i===r.length;n&&i--&&e[i]===r[i];);return i<0},Eb=function(e,r,i,n,s){i===void 0&&(i="_first"),n===void 0&&(n="_last");var o=e[n],a;if(s)for(a=r[s];o&&o[s]>a;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[i],e[i]=r),r._next?r._next._prev=r:e[n]=r,r._prev=o,r.parent=r._dp=e,r},ih=function(e,r,i,n){i===void 0&&(i="_first"),n===void 0&&(n="_last");var s=r._prev,o=r._next;s?s._next=o:e[i]===r&&(e[i]=o),o?o._prev=s:e[n]===r&&(e[n]=s),r._next=r._prev=r.parent=null},cn=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},jn=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},T6=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},Td=function(e,r,i,n){return e._startAt&&(It?e._startAt.revert(kl):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,n))},A6=function t(e){return!e||e._ts&&t(e.parent)},_g=function(e){return e._repeat?oo(e._tTime,e=e.duration()+e._rDelay)*e:0},oo=function(e,r){var i=Math.floor(e/=r);return e&&i===e?i-1:i},gc=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},nh=function(e){return e._end=mt(e._start+(e._tDur/Math.abs(e._ts||e._rts||We)||0))},sh=function(e,r){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=mt(i._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),nh(e),i._dirty||jn(i,e)),e},Tb=function(e,r){var i;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(i=gc(e.rawTime(),r),(!r._dur||za(0,r.totalDuration(),i)-r._tTime>We)&&r.render(i,!0)),jn(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-We}},qr=function(e,r,i,n){return r.parent&&cn(r),r._start=mt((Ci(i)?i:i||e!==Qe?ur(e,i,r):e._time)+r._delay),r._end=mt(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),Eb(e,r,"_first","_last",e._sort?"_start":0),Ad(r)||(e._recent=r),n||Tb(e,r),e._ts<0&&sh(e,e._tTime),e},Ab=function(e,r){return(lr.ScrollTrigger||j0("scrollTrigger",r))&&lr.ScrollTrigger.create(r,e)},wb=function(e,r,i,n,s){if(K0(e,r,s),!e._initted)return 1;if(!i&&e._pt&&!It&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&gb!==ir.frame)return en.push(e),e._lazy=[s,n],1},w6=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},Ad=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},S6=function(e,r,i,n){var s=e.ratio,o=r<0||!r&&(!e._start&&w6(e)&&!(!e._initted&&Ad(e))||(e._ts<0||e._dp._ts<0)&&!Ad(e))?0:1,a=e._rDelay,l=0,c,h,u;if(a&&e._repeat&&(l=za(0,e._tDur,r),h=oo(l,a),e._yoyo&&h&1&&(o=1-o),h!==oo(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||It||n||e._zTime===We||!r&&e._zTime){if(!e._initted&&wb(e,r,n,i,l))return;for(u=e._zTime,e._zTime=r||(i?We:0),i||(i=r&&!u),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;r<0&&Td(e,r,i,!0),e._onUpdate&&!i&&nr(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&nr(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&cn(e,1),!i&&!It&&(nr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},C6=function(e,r,i){var n;if(i>r)for(n=e._first;n&&n._start<=i;){if(n.data==="isPause"&&n._start>r)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if(n.data==="isPause"&&n._start<r)return n;n=n._prev}},ao=function(e,r,i,n){var s=e._repeat,o=mt(r)||0,a=e._tTime/e._tDur;return a&&!n&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:mt(o*(s+1)+e._rDelay*s):o,a>0&&!n&&sh(e,e._tTime=e._tDur*a),e.parent&&nh(e),i||jn(e.parent,e),e},yg=function(e){return e instanceof kt?jn(e):ao(e,e._dur)},B6={_start:0,endTime:wa,totalDuration:wa},ur=function t(e,r,i){var n=e.labels,s=e._recent||B6,o=e.duration()>=mr?s.endTime(!1):e._dur,a,l,c;return gt(r)&&(isNaN(r)||r in n)?(l=r.charAt(0),c=r.substr(-1)==="%",a=r.indexOf("="),l==="<"||l===">"?(a>=0&&(r=r.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(r in n||(n[r]=o),n[r]):(l=parseFloat(r.charAt(a-1)+r.substr(a+1)),c&&i&&(l=l/100*(Ft(i)?i[0]:i).totalDuration()),a>1?t(e,r.substr(0,a-1),i)+l:o+l)):r==null?o:+r},na=function(e,r,i){var n=Ci(r[1]),s=(n?2:1)+(e<2?0:1),o=r[s],a,l;if(n&&(o.duration=r[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=jt(l.vars.inherit)&&l.parent;o.immediateRender=jt(a.immediateRender),e<2?o.runBackwards=1:o.startAt=r[s-1]}return new at(r[0],o,r[s+1])},dn=function(e,r){return e||e===0?r(e):r},za=function(e,r,i){return i<e?e:i>r?r:i},Pt=function(e,r){return!gt(e)||!(r=g6.exec(e))?"":r[1]},R6=function(e,r,i){return dn(i,function(n){return za(e,r,n)})},wd=[].slice,Sb=function(e,r){return e&&ai(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&ai(e[0]))&&!e.nodeType&&e!==dr},P6=function(e,r,i){return i===void 0&&(i=[]),e.forEach(function(n){var s;return gt(n)&&!r||Sb(n,1)?(s=i).push.apply(s,xr(n)):i.push(n)})||i},xr=function(e,r,i){return nt&&!r&&nt.selector?nt.selector(e):gt(e)&&!i&&(bd||!lo())?wd.call((r||W0).querySelectorAll(e),0):Ft(e)?P6(e,i):Sb(e)?wd.call(e,0):e?[e]:[]},Sd=function(e){return e=xr(e)[0]||Aa("Invalid scope")||{},function(r){var i=e.current||e.nativeElement||e;return xr(r,i.querySelectorAll?i:i===e?Aa("Invalid scope")||W0.createElement("div"):e)}},Cb=function(e){return e.sort(function(){return .5-Math.random()})},Bb=function(e){if(st(e))return e;var r=ai(e)?e:{each:e},i=Xn(r.ease),n=r.from||0,s=parseFloat(r.base)||0,o={},a=n>0&&n<1,l=isNaN(n)||a,c=r.axis,h=n,u=n;return gt(n)?h=u={center:.5,edges:.5,end:1}[n]||0:!a&&l&&(h=n[0],u=n[1]),function(f,d,p){var m=(p||r).length,x=o[m],y,_,g,v,b,E,T,A,P;if(!x){if(P=r.grid==="auto"?0:(r.grid||[1,mr])[1],!P){for(T=-mr;T<(T=p[P++].getBoundingClientRect().left)&&P<m;);P<m&&P--}for(x=o[m]=[],y=l?Math.min(P,m)*h-.5:n%P,_=P===mr?0:l?m*u/P-.5:n/P|0,T=0,A=mr,E=0;E<m;E++)g=E%P-y,v=_-(E/P|0),x[E]=b=c?Math.abs(c==="y"?v:g):cb(g*g+v*v),b>T&&(T=b),b<A&&(A=b);n==="random"&&Cb(x),x.max=T-A,x.min=A,x.v=m=(parseFloat(r.amount)||parseFloat(r.each)*(P>m?m-1:c?c==="y"?m/P:P:Math.max(P,m/P))||0)*(n==="edges"?-1:1),x.b=m<0?s-m:s,x.u=Pt(r.amount||r.each)||0,i=i&&m<0?Lb(i):i}return m=(x[f]-x.min)/x.max||0,mt(x.b+(i?i(m):m)*x.v)+x.u}},Cd=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var n=mt(Math.round(parseFloat(i)/e)*e*r);return(n-n%1)/r+(Ci(i)?0:Pt(i))}},Rb=function(e,r){var i=Ft(e),n,s;return!i&&ai(e)&&(n=i=e.radius||mr,e.values?(e=xr(e.values),(s=!Ci(e[0]))&&(n*=n)):e=Cd(e.increment)),dn(r,i?st(e)?function(o){return s=e(o),Math.abs(s-o)<=n?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=mr,h=0,u=e.length,f,d;u--;)s?(f=e[u].x-a,d=e[u].y-l,f=f*f+d*d):f=Math.abs(e[u]-a),f<c&&(c=f,h=u);return h=!n||c<=n?e[h]:o,s||h===o||Ci(o)?h:h+Pt(o)}:Cd(e))},Pb=function(e,r,i,n){return dn(Ft(e)?!r:i===!0?!!(i=0):!n,function(){return Ft(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(r-e+i*.99))/i)*i*n)/n})},D6=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return function(n){return r.reduce(function(s,o){return o(s)},n)}},I6=function(e,r){return function(i){return e(parseFloat(i))+(r||Pt(i))}},F6=function(e,r,i){return Ib(e,r,0,1,i)},Db=function(e,r,i){return dn(i,function(n){return e[~~r(n)]})},M6=function t(e,r,i){var n=r-e;return Ft(e)?Db(e,t(0,e.length),r):dn(i,function(s){return(n+(s-e)%n)%n+e})},O6=function t(e,r,i){var n=r-e,s=n*2;return Ft(e)?Db(e,t(0,e.length-1),r):dn(i,function(o){return o=(s+(o-e)%s)%s||0,e+(o>n?s-o:o)})},Sa=function(e){for(var r=0,i="",n,s,o,a;~(n=e.indexOf("random(",r));)o=e.indexOf(")",n),a=e.charAt(n+7)==="[",s=e.substr(n+7,o-n-7).match(a?db:vd),i+=e.substr(r,n-r)+Pb(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),r=o+1;return i+e.substr(r,e.length-r)},Ib=function(e,r,i,n,s){var o=r-e,a=n-i;return dn(s,function(l){return i+((l-e)/o*a||0)})},k6=function t(e,r,i,n){var s=isNaN(e+r)?0:function(d){return(1-d)*e+d*r};if(!s){var o=gt(e),a={},l,c,h,u,f;if(i===!0&&(n=1)&&(i=null),o)e={p:e},r={p:r};else if(Ft(e)&&!Ft(r)){for(h=[],u=e.length,f=u-2,c=1;c<u;c++)h.push(t(e[c-1],e[c]));u--,s=function(p){p*=u;var m=Math.min(f,~~p);return h[m](p-m)},i=r}else n||(e=es(Ft(e)?[]:{},e));if(!h){for(l in r)Y0.call(a,e,l,"get",r[l]);s=function(p){return J0(p,a)||(o?e.p:e)}}}return dn(i,s)},vg=function(e,r,i){var n=e.labels,s=mr,o,a,l;for(o in n)a=n[o]-r,a<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},nr=function(e,r,i){var n=e.vars,s=n[r],o=nt,a=e._ctx,l,c,h;if(s)return l=n[r+"Params"],c=n.callbackScope||e,i&&en.length&&mc(),a&&(nt=a),h=l?s.apply(c,l):s.call(c),nt=o,h},Ho=function(e){return cn(e),e.scrollTrigger&&e.scrollTrigger.kill(!!It),e.progress()<1&&nr(e,"onInterrupt"),e},Rs,Fb=[],Mb=function(e){if($0()&&e){e=!e.name&&e.default||e;var r=e.name,i=st(e),n=r&&!i&&e.init?function(){this._props=[]}:e,s={init:wa,render:J0,add:Y0,kill:Q6,modifier:Z6,rawVars:0},o={targetTest:0,get:0,getSetter:Q0,aliases:{},register:0};if(lo(),e!==n){if(tr[r])return;yr(n,yr(xc(e,s),o)),es(n.prototype,es(s,xc(e,o))),tr[n.prop=r]=n,e.targetTest&&(Nl.push(n),X0[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}xb(r,n),e.register&&e.register(Kt,n,Vt)}else e&&Fb.push(e)},$e=255,Go={aqua:[0,$e,$e],lime:[0,$e,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,$e],navy:[0,0,128],white:[$e,$e,$e],olive:[128,128,0],yellow:[$e,$e,0],orange:[$e,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[$e,0,0],pink:[$e,192,203],cyan:[0,$e,$e],transparent:[$e,$e,$e,0]},cu=function(e,r,i){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(i-r)*e*6:e<.5?i:e*3<2?r+(i-r)*(2/3-e)*6:r)*$e+.5|0},Ob=function(e,r,i){var n=e?Ci(e)?[e>>16,e>>8&$e,e&$e]:0:Go.black,s,o,a,l,c,h,u,f,d,p;if(!n){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Go[e])n=Go[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return n=parseInt(e.substr(1,6),16),[n>>16,n>>8&$e,n&$e,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),n=[e>>16,e>>8&$e,e&$e]}else if(e.substr(0,3)==="hsl"){if(n=p=e.match(vd),!r)l=+n[0]%360/360,c=+n[1]/100,h=+n[2]/100,o=h<=.5?h*(c+1):h+c-h*c,s=h*2-o,n.length>3&&(n[3]*=1),n[0]=cu(l+1/3,s,o),n[1]=cu(l,s,o),n[2]=cu(l-1/3,s,o);else if(~e.indexOf("="))return n=e.match(ub),i&&n.length<4&&(n[3]=1),n}else n=e.match(vd)||Go.transparent;n=n.map(Number)}return r&&!p&&(s=n[0]/$e,o=n[1]/$e,a=n[2]/$e,u=Math.max(s,o,a),f=Math.min(s,o,a),h=(u+f)/2,u===f?l=c=0:(d=u-f,c=h>.5?d/(2-u-f):d/(u+f),l=u===s?(o-a)/d+(o<a?6:0):u===o?(a-s)/d+2:(s-o)/d+4,l*=60),n[0]=~~(l+.5),n[1]=~~(c*100+.5),n[2]=~~(h*100+.5)),i&&n.length<4&&(n[3]=1),n},kb=function(e){var r=[],i=[],n=-1;return e.split(tn).forEach(function(s){var o=s.match(Bs)||[];r.push.apply(r,o),i.push(n+=o.length+1)}),r.c=i,r},bg=function(e,r,i){var n="",s=(e+n).match(tn),o=r?"hsla(":"rgba(",a=0,l,c,h,u;if(!s)return e;if(s=s.map(function(f){return(f=Ob(f,r,1))&&o+(r?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),i&&(h=kb(e),l=i.c,l.join(n)!==h.c.join(n)))for(c=e.replace(tn,"1").split(Bs),u=c.length-1;a<u;a++)n+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(h.length?h:s.length?s:i).shift());if(!c)for(c=e.split(tn),u=c.length-1;a<u;a++)n+=c[a]+s[a];return n+c[u]},tn=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Go)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),N6=/hsl[a]?\(/,Nb=function(e){var r=e.join(" "),i;if(tn.lastIndex=0,tn.test(r))return i=N6.test(r),e[1]=bg(e[1],i),e[0]=bg(e[0],i,kb(e[1])),!0},Ca,ir=function(){var t=Date.now,e=500,r=33,i=t(),n=i,s=1e3/240,o=s,a=[],l,c,h,u,f,d,p=function m(x){var y=t()-n,_=x===!0,g,v,b,E;if(y>e&&(i+=y-r),n+=y,b=n-i,g=b-o,(g>0||_)&&(E=++u.frame,f=b-u.time*1e3,u.time=b=b/1e3,o+=g+(g>=s?4:s-g),v=1),_||(l=c(m)),v)for(d=0;d<a.length;d++)a[d](b,f,E,x)};return u={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(x){return f/(1e3/(x||60))},wake:function(){pb&&(!bd&&$0()&&(dr=bd=window,W0=dr.document||{},lr.gsap=Kt,(dr.gsapVersions||(dr.gsapVersions=[])).push(Kt.version),mb(pc||dr.GreenSockGlobals||!dr.gsap&&dr||{}),h=dr.requestAnimationFrame,Fb.forEach(Mb)),l&&u.sleep(),c=h||function(x){return setTimeout(x,o-u.time*1e3+1|0)},Ca=1,p(2))},sleep:function(){(h?dr.cancelAnimationFrame:clearTimeout)(l),Ca=0,c=wa},lagSmoothing:function(x,y){e=x||1/0,r=Math.min(y||33,e)},fps:function(x){s=1e3/(x||240),o=u.time*1e3+s},add:function(x,y,_){var g=y?function(v,b,E,T){x(v,b,E,T),u.remove(g)}:x;return u.remove(x),a[_?"unshift":"push"](g),lo(),g},remove:function(x,y){~(y=a.indexOf(x))&&a.splice(y,1)&&d>=y&&d--},_listeners:a},u}(),lo=function(){return!Ca&&ir.wake()},Pe={},L6=/^[\d.\-M][\d.\-,\s]/,U6=/["']/g,z6=function(e){for(var r={},i=e.substr(1,e.length-3).split(":"),n=i[0],s=1,o=i.length,a,l,c;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),r[n]=isNaN(c)?c.replace(U6,"").trim():+c,n=l.substr(a+1).trim();return r},H6=function(e){var r=e.indexOf("(")+1,i=e.indexOf(")"),n=e.indexOf("(",r);return e.substring(r,~n&&n<i?e.indexOf(")",i+1):i)},G6=function(e){var r=(e+"").split("("),i=Pe[r[0]];return i&&r.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[z6(r[1])]:H6(e).split(",").map(vb)):Pe._CE&&L6.test(e)?Pe._CE("",e):i},Lb=function(e){return function(r){return 1-e(1-r)}},Ub=function t(e,r){for(var i=e._first,n;i;)i instanceof kt?t(i,r):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==r&&(i.timeline?t(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},Xn=function(e,r){return e&&(st(e)?e:Pe[e]||G6(e))||r},as=function(e,r,i,n){i===void 0&&(i=function(l){return 1-r(1-l)}),n===void 0&&(n=function(l){return l<.5?r(l*2)/2:1-r((1-l)*2)/2});var s={easeIn:r,easeOut:i,easeInOut:n},o;return Xt(e,function(a){Pe[a]=lr[a]=s,Pe[o=a.toLowerCase()]=i;for(var l in s)Pe[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Pe[a+"."+l]=s[l]}),s},zb=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},hu=function t(e,r,i){var n=r>=1?r:1,s=(i||(e?.3:.45))/(r<1?r:1),o=s/yd*(Math.asin(1/n)||0),a=function(h){return h===1?1:n*Math.pow(2,-10*h)*x6((h-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:zb(a);return s=yd/s,l.config=function(c,h){return t(e,c,h)},l},uu=function t(e,r){r===void 0&&(r=1.70158);var i=function(o){return o?--o*o*((r+1)*o+r)+1:0},n=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:zb(i);return n.config=function(s){return t(e,s)},n};Xt("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;as(t+",Power"+(r-1),e?function(i){return Math.pow(i,r)}:function(i){return i},function(i){return 1-Math.pow(1-i,r)},function(i){return i<.5?Math.pow(i*2,r)/2:1-Math.pow((1-i)*2,r)/2})});Pe.Linear.easeNone=Pe.none=Pe.Linear.easeIn;as("Elastic",hu("in"),hu("out"),hu());(function(t,e){var r=1/e,i=2*r,n=2.5*r,s=function(a){return a<r?t*a*a:a<i?t*Math.pow(a-1.5/e,2)+.75:a<n?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};as("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);as("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});as("Circ",function(t){return-(cb(1-t*t)-1)});as("Sine",function(t){return t===1?1:-m6(t*d6)+1});as("Back",uu("in"),uu("out"),uu());Pe.SteppedEase=Pe.steps=lr.SteppedEase={config:function(e,r){e===void 0&&(e=1);var i=1/e,n=e+(r?0:1),s=r?1:0,o=1-We;return function(a){return((n*za(0,o,a)|0)+s)*i}}};so.ease=Pe["quad.out"];Xt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return V0+=t+","+t+"Params,"});var Hb=function(e,r){this.id=p6++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:_b,this.set=r?r.getSetter:Q0},Ba=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,ao(this,+r.duration,1,1),this.data=r.data,nt&&(this._ctx=nt,nt.data.push(this)),Ca||ir.wake()}var e=t.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,ao(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,n){if(lo(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(sh(this,i),!s._dp||s.parent||Tb(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&qr(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===We||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),yb(this,i,n)),this},e.time=function(i,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+_g(this))%(this._dur+this._rDelay)||(i?this._dur:0),n):this._time},e.totalProgress=function(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(i,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+_g(this),n):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(i,n){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,n):this._repeat?oo(this._tTime,s)+1:1},e.timeScale=function(i,n){if(!arguments.length)return this._rts===-We?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?gc(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-We?0:this._rts,this.totalTime(za(-Math.abs(this._delay),this._tDur,s),n!==!1),nh(this),T6(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(lo(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==We&&(this._tTime-=We)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&qr(n,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(jt(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var n=this.parent||this._dp;return n?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?gc(n.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=y6);var n=It;return It=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),It=n,this},e.globalTime=function(i){for(var n=this,s=arguments.length?i:n.rawTime();n;)s=n._start+s/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,yg(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var n=this._time;return this._rDelay=i,yg(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,n){return this.totalTime(ur(this,i),jt(n))},e.restart=function(i,n){return this.play().totalTime(i?-this._delay:0,jt(n))},e.play=function(i,n){return i!=null&&this.seek(i,n),this.reversed(!1).paused(!1)},e.reverse=function(i,n){return i!=null&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(i,n){return i!=null&&this.seek(i,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-We:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-We,this},e.isActive=function(){var i=this.parent||this._dp,n=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=n&&s<this.endTime(!0)-We)},e.eventCallback=function(i,n,s){var o=this.vars;return arguments.length>1?(n?(o[i]=n,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=n)):delete o[i],this):o[i]},e.then=function(i){var n=this;return new Promise(function(s){var o=st(i)?i:bb,a=function(){var c=n.then;n.then=null,st(o)&&(o=o(n))&&(o.then||o===n)&&(n.then=c),s(o),n.then=c};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?a():n._prom=a})},e.kill=function(){Ho(this)},t}();yr(Ba.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-We,_prom:0,_ps:!1,_rts:1});var kt=function(t){lb(e,t);function e(i,n){var s;return i===void 0&&(i={}),s=t.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=jt(i.sortChildren),Qe&&qr(i.parent||Qe,xi(s),n),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&Ab(xi(s),i.scrollTrigger),s}var r=e.prototype;return r.to=function(n,s,o){return na(0,arguments,this),this},r.from=function(n,s,o){return na(1,arguments,this),this},r.fromTo=function(n,s,o,a){return na(2,arguments,this),this},r.set=function(n,s,o){return s.duration=0,s.parent=this,ia(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new at(n,s,ur(this,o),1),this},r.call=function(n,s,o){return qr(this,at.delayedCall(0,n,s),o)},r.staggerTo=function(n,s,o,a,l,c,h){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=h,o.parent=this,new at(n,o,ur(this,l)),this},r.staggerFrom=function(n,s,o,a,l,c,h){return o.runBackwards=1,ia(o).immediateRender=jt(o.immediateRender),this.staggerTo(n,s,o,a,l,c,h)},r.staggerFromTo=function(n,s,o,a,l,c,h,u){return a.startAt=o,ia(a).immediateRender=jt(a.immediateRender),this.staggerTo(n,s,a,l,c,h,u)},r.render=function(n,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,h=n<=0?0:mt(n),u=this._zTime<0!=n<0&&(this._initted||!c),f,d,p,m,x,y,_,g,v,b,E,T;if(this!==Qe&&h>l&&n>=0&&(h=l),h!==this._tTime||o||u){if(a!==this._time&&c&&(h+=this._time-a,n+=this._time-a),f=h,v=this._start,g=this._ts,y=!g,u&&(c||(a=this._zTime),(n||!s)&&(this._zTime=n)),this._repeat){if(E=this._yoyo,x=c+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(x*100+n,s,o);if(f=mt(h%x),h===l?(m=this._repeat,f=c):(m=~~(h/x),m&&m===h/x&&(f=c,m--),f>c&&(f=c)),b=oo(this._tTime,x),!a&&this._tTime&&b!==m&&this._tTime-b*x-this._dur<=0&&(b=m),E&&m&1&&(f=c-f,T=1),m!==b&&!this._lock){var A=E&&b&1,P=A===(E&&m&1);if(m<b&&(A=!A),a=A?0:h%c?c:h,this._lock=1,this.render(a||(T?0:mt(m*x)),s,!c)._lock=0,this._tTime=h,!s&&this.parent&&nr(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,P&&(this._lock=2,a=A?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;Ub(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=C6(this,mt(a),mt(f)),_&&(h-=f-(f=_._start))),this._tTime=h,this._time=f,this._act=!g,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,a=0),!a&&f&&!s&&!m&&(nr(this,"onStart"),this._tTime!==h))return this;if(f>=a&&n>=0)for(d=this._first;d;){if(p=d._next,(d._act||f>=d._start)&&d._ts&&_!==d){if(d.parent!==this)return this.render(n,s,o);if(d.render(d._ts>0?(f-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(f-d._start)*d._ts,s,o),f!==this._time||!this._ts&&!y){_=0,p&&(h+=this._zTime=-We);break}}d=p}else{d=this._last;for(var w=n<0?n:f;d;){if(p=d._prev,(d._act||w<=d._end)&&d._ts&&_!==d){if(d.parent!==this)return this.render(n,s,o);if(d.render(d._ts>0?(w-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(w-d._start)*d._ts,s,o||It&&(d._initted||d._startAt)),f!==this._time||!this._ts&&!y){_=0,p&&(h+=this._zTime=w?-We:We);break}}d=p}}if(_&&!s&&(this.pause(),_.render(f>=a?0:-We)._zTime=f>=a?1:-1,this._ts))return this._start=v,nh(this),this.render(n,s,o);this._onUpdate&&!s&&nr(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(v===this._start||Math.abs(g)!==Math.abs(this._ts))&&(this._lock||((n||!c)&&(h===l&&this._ts>0||!h&&this._ts<0)&&cn(this,1),!s&&!(n<0&&!a)&&(h||a||!l)&&(nr(this,h===l&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(n,s){var o=this;if(Ci(s)||(s=ur(this,s,n)),!(n instanceof Ba)){if(Ft(n))return n.forEach(function(a){return o.add(a,s)}),this;if(gt(n))return this.addLabel(n,s);if(st(n))n=at.delayedCall(0,n);else return this}return this!==n?qr(this,n,s):this},r.getChildren=function(n,s,o,a){n===void 0&&(n=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-mr);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof at?s&&l.push(c):(o&&l.push(c),n&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},r.getById=function(n){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===n)return s[o]},r.remove=function(n){return gt(n)?this.removeLabel(n):st(n)?this.killTweensOf(n):(ih(this,n),n===this._recent&&(this._recent=this._last),jn(this))},r.totalTime=function(n,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=mt(ir.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),t.prototype.totalTime.call(this,n,s),this._forcing=0,this):this._tTime},r.addLabel=function(n,s){return this.labels[n]=ur(this,s),this},r.removeLabel=function(n){return delete this.labels[n],this},r.addPause=function(n,s,o){var a=at.delayedCall(0,s||wa,o);return a.data="isPause",this._hasPause=1,qr(this,a,ur(this,n))},r.removePause=function(n){var s=this._first;for(n=ur(this,n);s;)s._start===n&&s.data==="isPause"&&cn(s),s=s._next},r.killTweensOf=function(n,s,o){for(var a=this.getTweensOf(n,o),l=a.length;l--;)Vi!==a[l]&&a[l].kill(n,s);return this},r.getTweensOf=function(n,s){for(var o=[],a=xr(n),l=this._first,c=Ci(s),h;l;)l instanceof at?v6(l._targets,a)&&(c?(!Vi||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(h=l.getTweensOf(a,s)).length&&o.push.apply(o,h),l=l._next;return o},r.tweenTo=function(n,s){s=s||{};var o=this,a=ur(o,n),l=s,c=l.startAt,h=l.onStart,u=l.onStartParams,f=l.immediateRender,d,p=at.to(o,yr({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||We,onStart:function(){if(o.pause(),!d){var x=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());p._dur!==x&&ao(p,x,0,1).render(p._time,!0,!0),d=1}h&&h.apply(p,u||[])}},s));return f?p.render(0):p},r.tweenFromTo=function(n,s,o){return this.tweenTo(s,yr({startAt:{time:ur(this,n)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(n){return n===void 0&&(n=this._time),vg(this,ur(this,n))},r.previousLabel=function(n){return n===void 0&&(n=this._time),vg(this,ur(this,n),1)},r.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+We)},r.shiftChildren=function(n,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=n,a._end+=n),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=n);return jn(this)},r.invalidate=function(n){var s=this._first;for(this._lock=0;s;)s.invalidate(n),s=s._next;return t.prototype.invalidate.call(this,n)},r.clear=function(n){n===void 0&&(n=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),jn(this)},r.totalDuration=function(n){var s=0,o=this,a=o._last,l=mr,c,h,u;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-n:n));if(o._dirty){for(u=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,qr(o,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(s-=h,(!u&&!o._dp||u&&u.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;ao(o,o===Qe&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(n){if(Qe._ts&&(yb(Qe,gc(n,Qe)),gb=ir.frame),ir.frame>=xg){xg+=or.autoSleep||120;var s=Qe._first;if((!s||!s._ts)&&or.autoSleep&&ir._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||ir.sleep()}}},e}(Ba);yr(kt.prototype,{_lock:0,_hasPause:0,_forcing:0});var $6=function(e,r,i,n,s,o,a){var l=new Vt(this._pt,e,r,0,1,Vb,null,s),c=0,h=0,u,f,d,p,m,x,y,_;for(l.b=i,l.e=n,i+="",n+="",(y=~n.indexOf("random("))&&(n=Sa(n)),o&&(_=[i,n],o(_,e,r),i=_[0],n=_[1]),f=i.match(au)||[];u=au.exec(n);)p=u[0],m=n.substring(c,u.index),d?d=(d+1)%5:m.substr(-5)==="rgba("&&(d=1),p!==f[h++]&&(x=parseFloat(f[h-1])||0,l._pt={_next:l._pt,p:m||h===1?m:",",s:x,c:p.charAt(1)==="="?Hs(x,p)-x:parseFloat(p)-x,m:d&&d<4?Math.round:0},c=au.lastIndex);return l.c=c<n.length?n.substring(c,n.length):"",l.fp=a,(fb.test(n)||y)&&(l.e=0),this._pt=l,l},Y0=function(e,r,i,n,s,o,a,l,c,h){st(n)&&(n=n(s||0,e,o));var u=e[r],f=i!=="get"?i:st(u)?c?e[r.indexOf("set")||!st(e["get"+r.substr(3)])?r:"get"+r.substr(3)](c):e[r]():u,d=st(u)?c?q6:jb:Z0,p;if(gt(n)&&(~n.indexOf("random(")&&(n=Sa(n)),n.charAt(1)==="="&&(p=Hs(f,n)+(Pt(f)||0),(p||p===0)&&(n=p))),!h||f!==n||Bd)return!isNaN(f*n)&&n!==""?(p=new Vt(this._pt,e,r,+f||0,n-(f||0),typeof u=="boolean"?K6:Xb,0,d),c&&(p.fp=c),a&&p.modifier(a,this,e),this._pt=p):(!u&&!(r in e)&&j0(r,n),$6.call(this,e,r,f,n,d,l||or.stringFilter,c))},W6=function(e,r,i,n,s){if(st(e)&&(e=sa(e,s,r,i,n)),!ai(e)||e.style&&e.nodeType||Ft(e)||hb(e))return gt(e)?sa(e,s,r,i,n):e;var o={},a;for(a in e)o[a]=sa(e[a],s,r,i,n);return o},Gb=function(e,r,i,n,s,o){var a,l,c,h;if(tr[e]&&(a=new tr[e]).init(s,a.rawVars?r[e]:W6(r[e],n,s,o,i),i,n,o)!==!1&&(i._pt=l=new Vt(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==Rs))for(c=i._ptLookup[i._targets.indexOf(s)],h=a._props.length;h--;)c[a._props[h]]=l;return a},Vi,Bd,K0=function t(e,r,i){var n=e.vars,s=n.ease,o=n.startAt,a=n.immediateRender,l=n.lazy,c=n.onUpdate,h=n.runBackwards,u=n.yoyoEase,f=n.keyframes,d=n.autoRevert,p=e._dur,m=e._startAt,x=e._targets,y=e.parent,_=y&&y.data==="nested"?y.vars.targets:x,g=e._overwrite==="auto"&&!H0,v=e.timeline,b,E,T,A,P,w,B,I,D,F,j,$,U;if(v&&(!f||!s)&&(s="none"),e._ease=Xn(s,so.ease),e._yEase=u?Lb(Xn(u===!0?s:u,so.ease)):0,u&&e._yoyo&&!e._repeat&&(u=e._yEase,e._yEase=e._ease,e._ease=u),e._from=!v&&!!n.runBackwards,!v||f&&!n.stagger){if(I=x[0]?Wn(x[0]).harness:0,$=I&&n[I.prop],b=xc(n,X0),m&&(m._zTime<0&&m.progress(1),r<0&&h&&a&&!d?m.render(-1,!0):m.revert(h&&p?kl:_6),m._lazy=0),o){if(cn(e._startAt=at.set(x,yr({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!m&&jt(l),startAt:null,delay:0,onUpdate:c&&function(){return nr(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(It||!a&&!d)&&e._startAt.revert(kl),a&&p&&r<=0&&i<=0){r&&(e._zTime=r);return}}else if(h&&p&&!m){if(r&&(a=!1),T=yr({overwrite:!1,data:"isFromStart",lazy:a&&!m&&jt(l),immediateRender:a,stagger:0,parent:y},b),$&&(T[I.prop]=$),cn(e._startAt=at.set(x,T)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(It?e._startAt.revert(kl):e._startAt.render(-1,!0)),e._zTime=r,!a)t(e._startAt,We,We);else if(!r)return}for(e._pt=e._ptCache=0,l=p&&jt(l)||l&&!p,E=0;E<x.length;E++){if(P=x[E],B=P._gsap||q0(x)[E]._gsap,e._ptLookup[E]=F={},Ed[B.id]&&en.length&&mc(),j=_===x?E:_.indexOf(P),I&&(D=new I).init(P,$||b,e,j,_)!==!1&&(e._pt=A=new Vt(e._pt,P,D.name,0,1,D.render,D,0,D.priority),D._props.forEach(function(Z){F[Z]=A}),D.priority&&(w=1)),!I||$)for(T in b)tr[T]&&(D=Gb(T,b,e,j,P,_))?D.priority&&(w=1):F[T]=A=Y0.call(e,P,T,"get",b[T],j,_,0,n.stringFilter);e._op&&e._op[E]&&e.kill(P,e._op[E]),g&&e._pt&&(Vi=e,Qe.killTweensOf(P,F,e.globalTime(r)),U=!e.parent,Vi=0),e._pt&&l&&(Ed[B.id]=1)}w&&qb(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!U,f&&r<=0&&v.render(mr,!0,!0)},j6=function(e,r,i,n,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[r],h,u,f,d;if(!c)for(c=e._ptCache[r]=[],f=e._ptLookup,d=e._targets.length;d--;){if(h=f[d][r],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==r&&h.fp!==r;)h=h._next;if(!h)return Bd=1,e.vars[r]="+=0",K0(e,a),Bd=0,l?Aa(r+" not eligible for reset"):1;c.push(h)}for(d=c.length;d--;)u=c[d],h=u._pt||u,h.s=(n||n===0)&&!s?n:h.s+(n||0)+o*h.c,h.c=i-h.s,u.e&&(u.e=ot(i)+Pt(u.e)),u.b&&(u.b=h.s+Pt(u.b))},X6=function(e,r){var i=e[0]?Wn(e[0]).harness:0,n=i&&i.aliases,s,o,a,l;if(!n)return r;s=es({},r);for(o in n)if(o in s)for(l=n[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},V6=function(e,r,i,n){var s=r.ease||n||"power1.inOut",o,a;if(Ft(r))a=i[e]||(i[e]=[]),r.forEach(function(l,c){return a.push({t:c/(r.length-1)*100,v:l,e:s})});else for(o in r)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:r[o],e:s})},sa=function(e,r,i,n,s){return st(e)?e.call(r,i,n,s):gt(e)&&~e.indexOf("random(")?Sa(e):e},$b=V0+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Wb={};Xt($b+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Wb[t]=1});var at=function(t){lb(e,t);function e(i,n,s,o){var a;typeof n=="number"&&(s.duration=n,n=s,s=null),a=t.call(this,o?n:ia(n))||this;var l=a.vars,c=l.duration,h=l.delay,u=l.immediateRender,f=l.stagger,d=l.overwrite,p=l.keyframes,m=l.defaults,x=l.scrollTrigger,y=l.yoyoEase,_=n.parent||Qe,g=(Ft(i)||hb(i)?Ci(i[0]):"length"in n)?[i]:xr(i),v,b,E,T,A,P,w,B;if(a._targets=g.length?q0(g):Aa("GSAP target "+i+" not found. https://gsap.com",!or.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=d,p||f||yl(c)||yl(h)){if(n=a.vars,v=a.timeline=new kt({data:"nested",defaults:m||{},targets:_&&_.data==="nested"?_.vars.targets:g}),v.kill(),v.parent=v._dp=xi(a),v._start=0,f||yl(c)||yl(h)){if(T=g.length,w=f&&Bb(f),ai(f))for(A in f)~$b.indexOf(A)&&(B||(B={}),B[A]=f[A]);for(b=0;b<T;b++)E=xc(n,Wb),E.stagger=0,y&&(E.yoyoEase=y),B&&es(E,B),P=g[b],E.duration=+sa(c,xi(a),b,P,g),E.delay=(+sa(h,xi(a),b,P,g)||0)-a._delay,!f&&T===1&&E.delay&&(a._delay=h=E.delay,a._start+=h,E.delay=0),v.to(P,E,w?w(b,P,g):0),v._ease=Pe.none;v.duration()?c=h=0:a.timeline=0}else if(p){ia(yr(v.vars.defaults,{ease:"none"})),v._ease=Xn(p.ease||n.ease||"none");var I=0,D,F,j;if(Ft(p))p.forEach(function($){return v.to(g,$,">")}),v.duration();else{E={};for(A in p)A==="ease"||A==="easeEach"||V6(A,p[A],E,p.easeEach);for(A in E)for(D=E[A].sort(function($,U){return $.t-U.t}),I=0,b=0;b<D.length;b++)F=D[b],j={ease:F.e,duration:(F.t-(b?D[b-1].t:0))/100*c},j[A]=F.v,v.to(g,j,I),I+=j.duration;v.duration()<c&&v.to({},{duration:c-v.duration()})}}c||a.duration(c=v.duration())}else a.timeline=0;return d===!0&&!H0&&(Vi=xi(a),Qe.killTweensOf(g),Vi=0),qr(_,xi(a),s),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(u||!c&&!p&&a._start===mt(_._time)&&jt(u)&&A6(xi(a))&&_.data!=="nested")&&(a._tTime=-We,a.render(Math.max(0,-h)||0)),x&&Ab(xi(a),x),a}var r=e.prototype;return r.render=function(n,s,o){var a=this._time,l=this._tDur,c=this._dur,h=n<0,u=n>l-We&&!h?l:n<We?0:n,f,d,p,m,x,y,_,g,v;if(!c)S6(this,n,s,o);else if(u!==this._tTime||!n||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h){if(f=u,g=this.timeline,this._repeat){if(m=c+this._rDelay,this._repeat<-1&&h)return this.totalTime(m*100+n,s,o);if(f=mt(u%m),u===l?(p=this._repeat,f=c):(p=~~(u/m),p&&p===mt(u/m)&&(f=c,p--),f>c&&(f=c)),y=this._yoyo&&p&1,y&&(v=this._yEase,f=c-f),x=oo(this._tTime,m),f===a&&!o&&this._initted&&p===x)return this._tTime=u,this;p!==x&&(g&&this._yEase&&Ub(g,y),this.vars.repeatRefresh&&!y&&!this._lock&&this._time!==c&&this._initted&&(this._lock=o=1,this.render(mt(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(wb(this,h?n:f,o,s,u))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&p!==x))return this;if(c!==this._dur)return this.render(n,s,o)}if(this._tTime=u,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(v||this._ease)(f/c),this._from&&(this.ratio=_=1-_),f&&!a&&!s&&!p&&(nr(this,"onStart"),this._tTime!==u))return this;for(d=this._pt;d;)d.r(_,d.d),d=d._next;g&&g.render(n<0?n:!f&&y?-We:g._dur*g._ease(f/this._dur),s,o)||this._startAt&&(this._zTime=n),this._onUpdate&&!s&&(h&&Td(this,n,s,o),nr(this,"onUpdate")),this._repeat&&p!==x&&this.vars.onRepeat&&!s&&this.parent&&nr(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(h&&!this._onUpdate&&Td(this,n,!0,!0),(n||!c)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&cn(this,1),!s&&!(h&&!a)&&(u||a||y)&&(nr(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),t.prototype.invalidate.call(this,n)},r.resetTo=function(n,s,o,a,l){Ca||ir.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||K0(this,c),h=this._ease(c/this._dur),j6(this,n,s,o,a,h,c,l)?this.resetTo(n,s,o,a,1):(sh(this,0),this.parent||Eb(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(n,s){if(s===void 0&&(s="all"),!n&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Ho(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(n,s,Vi&&Vi.vars.overwrite!==!0)._first||Ho(this),this.parent&&o!==this.timeline.totalDuration()&&ao(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=n?xr(n):a,c=this._ptLookup,h=this._pt,u,f,d,p,m,x,y;if((!s||s==="all")&&E6(a,l))return s==="all"&&(this._pt=0),Ho(this);for(u=this._op=this._op||[],s!=="all"&&(gt(s)&&(m={},Xt(s,function(_){return m[_]=1}),s=m),s=X6(a,s)),y=a.length;y--;)if(~l.indexOf(a[y])){f=c[y],s==="all"?(u[y]=s,p=f,d={}):(d=u[y]=u[y]||{},p=s);for(m in p)x=f&&f[m],x&&((!("kill"in x.d)||x.d.kill(m)===!0)&&ih(this,x,"_pt"),delete f[m]),d!=="all"&&(d[m]=1)}return this._initted&&!this._pt&&h&&Ho(this),this},e.to=function(n,s){return new e(n,s,arguments[2])},e.from=function(n,s){return na(1,arguments)},e.delayedCall=function(n,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(n,s,o){return na(2,arguments)},e.set=function(n,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(n,s)},e.killTweensOf=function(n,s,o){return Qe.killTweensOf(n,s,o)},e}(Ba);yr(at.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Xt("staggerTo,staggerFrom,staggerFromTo",function(t){at[t]=function(){var e=new kt,r=wd.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var Z0=function(e,r,i){return e[r]=i},jb=function(e,r,i){return e[r](i)},q6=function(e,r,i,n){return e[r](n.fp,i)},Y6=function(e,r,i){return e.setAttribute(r,i)},Q0=function(e,r){return st(e[r])?jb:G0(e[r])&&e.setAttribute?Y6:Z0},Xb=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},K6=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},Vb=function(e,r){var i=r._pt,n="";if(!e&&r.b)n=r.b;else if(e===1&&r.e)n=r.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+n,i=i._next;n+=r.c}r.set(r.t,r.p,n,r)},J0=function(e,r){for(var i=r._pt;i;)i.r(e,i.d),i=i._next},Z6=function(e,r,i,n){for(var s=this._pt,o;s;)o=s._next,s.p===n&&s.modifier(e,r,i),s=o},Q6=function(e){for(var r=this._pt,i,n;r;)n=r._next,r.p===e&&!r.op||r.op===e?ih(this,r,"_pt"):r.dep||(i=1),r=n;return!i},J6=function(e,r,i,n){n.mSet(e,r,n.m.call(n.tween,i,n.mt),n)},qb=function(e){for(var r=e._pt,i,n,s,o;r;){for(i=r._next,n=s;n&&n.pr>r.pr;)n=n._next;(r._prev=n?n._prev:o)?r._prev._next=r:s=r,(r._next=n)?n._prev=r:o=r,r=i}e._pt=s},Vt=function(){function t(r,i,n,s,o,a,l,c,h){this.t=i,this.s=s,this.c=o,this.p=n,this.r=a||Xb,this.d=l||this,this.set=c||Z0,this.pr=h||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(i,n,s){this.mSet=this.mSet||this.set,this.set=J6,this.m=i,this.mt=s,this.tween=n},t}();Xt(V0+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return X0[t]=1});lr.TweenMax=lr.TweenLite=at;lr.TimelineLite=lr.TimelineMax=kt;Qe=new kt({sortChildren:!1,defaults:so,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});or.stringFilter=Nb;var Vn=[],Ll={},ek=[],Eg=0,tk=0,fu=function(e){return(Ll[e]||ek).map(function(r){return r()})},Rd=function(){var e=Date.now(),r=[];e-Eg>2&&(fu("matchMediaInit"),Vn.forEach(function(i){var n=i.queries,s=i.conditions,o,a,l,c;for(a in n)o=dr.matchMedia(n[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(i.revert(),l&&r.push(i))}),fu("matchMediaRevert"),r.forEach(function(i){return i.onMatch(i,function(n){return i.add(null,n)})}),Eg=e,fu("matchMedia"))},Yb=function(){function t(r,i){this.selector=i&&Sd(i),this.data=[],this._r=[],this.isReverted=!1,this.id=tk++,r&&this.add(r)}var e=t.prototype;return e.add=function(i,n,s){st(i)&&(s=n,n=i,i=st);var o=this,a=function(){var c=nt,h=o.selector,u;return c&&c!==o&&c.data.push(o),s&&(o.selector=Sd(s)),nt=o,u=n.apply(o,arguments),st(u)&&o._r.push(u),nt=c,o.selector=h,o.isReverted=!1,u};return o.last=a,i===st?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},e.ignore=function(i){var n=nt;nt=null,i(this),nt=n},e.getTweens=function(){var i=[];return this.data.forEach(function(n){return n instanceof t?i.push.apply(i,n.getTweens()):n instanceof at&&!(n.parent&&n.parent.data==="nested")&&i.push(n)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,n){var s=this;if(i?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(h){return a.splice(a.indexOf(h),1)}));for(a.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,u){return u.g-h.g||-1/0}).forEach(function(h){return h.t.revert(i)}),l=s.data.length;l--;)c=s.data[l],c instanceof kt?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof at)&&c.revert&&c.revert(i);s._r.forEach(function(h){return h(i,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),n)for(var o=Vn.length;o--;)Vn[o].id===this.id&&Vn.splice(o,1)},e.revert=function(i){this.kill(i||{})},t}(),rk=function(){function t(r){this.contexts=[],this.scope=r}var e=t.prototype;return e.add=function(i,n,s){ai(i)||(i={matches:i});var o=new Yb(0,s||this.scope),a=o.conditions={},l,c,h;nt&&!o.selector&&(o.selector=nt.selector),this.contexts.push(o),n=o.add("onMatch",n),o.queries=i;for(c in i)c==="all"?h=1:(l=dr.matchMedia(i[c]),l&&(Vn.indexOf(o)<0&&Vn.push(o),(a[c]=l.matches)&&(h=1),l.addListener?l.addListener(Rd):l.addEventListener("change",Rd)));return h&&n(o,function(u){return o.add(null,u)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(n){return n.kill(i,!0)})},t}(),_c={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];r.forEach(function(n){return Mb(n)})},timeline:function(e){return new kt(e)},getTweensOf:function(e,r){return Qe.getTweensOf(e,r)},getProperty:function(e,r,i,n){gt(e)&&(e=xr(e)[0]);var s=Wn(e||{}).get,o=i?bb:vb;return i==="native"&&(i=""),e&&(r?o((tr[r]&&tr[r].get||s)(e,r,i,n)):function(a,l,c){return o((tr[a]&&tr[a].get||s)(e,a,l,c))})},quickSetter:function(e,r,i){if(e=xr(e),e.length>1){var n=e.map(function(h){return Kt.quickSetter(h,r,i)}),s=n.length;return function(h){for(var u=s;u--;)n[u](h)}}e=e[0]||{};var o=tr[r],a=Wn(e),l=a.harness&&(a.harness.aliases||{})[r]||r,c=o?function(h){var u=new o;Rs._pt=0,u.init(e,i?h+i:h,Rs,0,[e]),u.render(1,u),Rs._pt&&J0(1,Rs)}:a.set(e,l);return o?c:function(h){return c(e,l,i?h+i:h,a,1)}},quickTo:function(e,r,i){var n,s=Kt.to(e,es((n={},n[r]="+=0.1",n.paused=!0,n),i||{})),o=function(l,c,h){return s.resetTo(r,l,c,h)};return o.tween=s,o},isTweening:function(e){return Qe.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Xn(e.ease,so.ease)),gg(so,e||{})},config:function(e){return gg(or,e||{})},registerEffect:function(e){var r=e.name,i=e.effect,n=e.plugins,s=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach(function(a){return a&&!tr[a]&&!lr[a]&&Aa(r+" effect requires "+a+" plugin.")}),lu[r]=function(a,l,c){return i(xr(a),yr(l||{},s),c)},o&&(kt.prototype[r]=function(a,l,c){return this.add(lu[r](a,ai(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,r){Pe[e]=Xn(r)},parseEase:function(e,r){return arguments.length?Xn(e,r):Pe},getById:function(e){return Qe.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var i=new kt(e),n,s;for(i.smoothChildTiming=jt(e.smoothChildTiming),Qe.remove(i),i._dp=0,i._time=i._tTime=Qe._time,n=Qe._first;n;)s=n._next,(r||!(!n._dur&&n instanceof at&&n.vars.onComplete===n._targets[0]))&&qr(i,n,n._start-n._delay),n=s;return qr(Qe,i,0),i},context:function(e,r){return e?new Yb(e,r):nt},matchMedia:function(e){return new rk(e)},matchMediaRefresh:function(){return Vn.forEach(function(e){var r=e.conditions,i,n;for(n in r)r[n]&&(r[n]=!1,i=1);i&&e.revert()})||Rd()},addEventListener:function(e,r){var i=Ll[e]||(Ll[e]=[]);~i.indexOf(r)||i.push(r)},removeEventListener:function(e,r){var i=Ll[e],n=i&&i.indexOf(r);n>=0&&i.splice(n,1)},utils:{wrap:M6,wrapYoyo:O6,distribute:Bb,random:Pb,snap:Rb,normalize:F6,getUnit:Pt,clamp:R6,splitColor:Ob,toArray:xr,selector:Sd,mapRange:Ib,pipe:D6,unitize:I6,interpolate:k6,shuffle:Cb},install:mb,effects:lu,ticker:ir,updateRoot:kt.updateRoot,plugins:tr,globalTimeline:Qe,core:{PropTween:Vt,globals:xb,Tween:at,Timeline:kt,Animation:Ba,getCache:Wn,_removeLinkedListItem:ih,reverting:function(){return It},context:function(e){return e&&nt&&(nt.data.push(e),e._ctx=nt),nt},suppressOverwrites:function(e){return H0=e}}};Xt("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return _c[t]=at[t]});ir.add(kt.updateRoot);Rs=_c.to({},{duration:0});var ik=function(e,r){for(var i=e._pt;i&&i.p!==r&&i.op!==r&&i.fp!==r;)i=i._next;return i},nk=function(e,r){var i=e._targets,n,s,o;for(n in r)for(s=i.length;s--;)o=e._ptLookup[s][n],o&&(o=o.d)&&(o._pt&&(o=ik(o,n)),o&&o.modifier&&o.modifier(r[n],e,i[s],n))},du=function(e,r){return{name:e,rawVars:1,init:function(n,s,o){o._onInit=function(a){var l,c;if(gt(s)&&(l={},Xt(s,function(h){return l[h]=1}),s=l),r){l={};for(c in s)l[c]=r(s[c]);s=l}nk(a,s)}}}},Kt=_c.registerPlugin({name:"attr",init:function(e,r,i,n,s){var o,a,l;this.tween=i;for(o in r)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",r[o],n,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,r){for(var i=r._pt;i;)It?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,r){for(var i=r.length;i--;)this.add(e,i,e[i]||0,r[i],0,0,0,0,0,1)}},du("roundProps",Cd),du("modifiers"),du("snap",Rb))||_c;at.version=kt.version=Kt.version="3.12.3";pb=1;$0()&&lo();Pe.Power0;Pe.Power1;Pe.Power2;Pe.Power3;Pe.Power4;Pe.Linear;Pe.Quad;Pe.Cubic;Pe.Quart;Pe.Quint;Pe.Strong;Pe.Elastic;Pe.Back;Pe.SteppedEase;Pe.Bounce;Pe.Sine;Pe.Expo;Pe.Circ;/*!
 * CSSPlugin 3.12.3
 * https://gsap.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Tg,qi,Gs,ep,Ln,Ag,tp,sk=function(){return typeof window<"u"},Bi={},Rn=180/Math.PI,$s=Math.PI/180,xs=Math.atan2,wg=1e8,rp=/([A-Z])/g,ok=/(left|right|width|margin|padding|x)/i,ak=/[\s,\(]\S/,Zr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Pd=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},lk=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},ck=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},hk=function(e,r){var i=r.s+r.c*e;r.set(r.t,r.p,~~(i+(i<0?-.5:.5))+r.u,r)},Kb=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},Zb=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},uk=function(e,r,i){return e.style[r]=i},fk=function(e,r,i){return e.style.setProperty(r,i)},dk=function(e,r,i){return e._gsap[r]=i},pk=function(e,r,i){return e._gsap.scaleX=e._gsap.scaleY=i},mk=function(e,r,i,n,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},xk=function(e,r,i,n,s){var o=e._gsap;o[r]=i,o.renderTransform(s,o)},tt="transform",qt=tt+"Origin",gk=function t(e,r){var i=this,n=this.target,s=n.style,o=n._gsap;if(e in Bi&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Zr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=_i(n,a)}):this.tfm[e]=o.x?o[e]:_i(n,e),e===qt&&(this.tfm.zOrigin=o.zOrigin);else return Zr.transform.split(",").forEach(function(a){return t.call(i,a,r)});if(this.props.indexOf(tt)>=0)return;o.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(qt,r,"")),e=tt}(s||r)&&this.props.push(e,r,s[e])},Qb=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_k=function(){var e=this.props,r=this.target,i=r.style,n=r._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?r[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(rp,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)n[o]=this.tfm[o];n.svg&&(n.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),s=tp(),(!s||!s.isStart)&&!i[tt]&&(Qb(i),n.zOrigin&&i[qt]&&(i[qt]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},Jb=function(e,r){var i={target:e,props:[],revert:_k,save:gk};return e._gsap||Kt.core.getCache(e),r&&r.split(",").forEach(function(n){return i.save(n)}),i},eE,Dd=function(e,r){var i=qi.createElementNS?qi.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):qi.createElement(e);return i&&i.style?i:qi.createElement(e)},ri=function t(e,r,i){var n=getComputedStyle(e);return n[r]||n.getPropertyValue(r.replace(rp,"-$1").toLowerCase())||n.getPropertyValue(r)||!i&&t(e,co(r)||r,1)||""},Sg="O,Moz,ms,Ms,Webkit".split(","),co=function(e,r,i){var n=r||Ln,s=n.style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Sg[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Sg[o]:"")+e},Id=function(){sk()&&window.document&&(Tg=window,qi=Tg.document,Gs=qi.documentElement,Ln=Dd("div")||{style:{}},Dd("div"),tt=co(tt),qt=tt+"Origin",Ln.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",eE=!!co("perspective"),tp=Kt.core.reverting,ep=1)},pu=function t(e){var r=Dd("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,n=this.nextSibling,s=this.style.cssText,o;if(Gs.appendChild(r),r.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return i&&(n?i.insertBefore(this,n):i.appendChild(this)),Gs.removeChild(r),this.style.cssText=s,o},Cg=function(e,r){for(var i=r.length;i--;)if(e.hasAttribute(r[i]))return e.getAttribute(r[i])},tE=function(e){var r;try{r=e.getBBox()}catch{r=pu.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===pu||(r=pu.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+Cg(e,["x","cx","x1"])||0,y:+Cg(e,["y","cy","y1"])||0,width:0,height:0}:r},rE=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&tE(e))},ts=function(e,r){if(r){var i=e.style,n;r in Bi&&r!==qt&&(r=tt),i.removeProperty?(n=r.substr(0,2),(n==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),i.removeProperty(n==="--"?r:r.replace(rp,"-$1").toLowerCase())):i.removeAttribute(r)}},Yi=function(e,r,i,n,s,o){var a=new Vt(e._pt,r,i,0,1,o?Zb:Kb);return e._pt=a,a.b=n,a.e=s,e._props.push(i),a},Bg={deg:1,rad:1,turn:1},yk={grid:1,flex:1},hn=function t(e,r,i,n){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=Ln.style,l=ok.test(r),c=e.tagName.toLowerCase()==="svg",h=(c?"client":"offset")+(l?"Width":"Height"),u=100,f=n==="px",d=n==="%",p,m,x,y;if(n===o||!s||Bg[n]||Bg[o])return s;if(o!=="px"&&!f&&(s=t(e,r,i,"px")),y=e.getCTM&&rE(e),(d||o==="%")&&(Bi[r]||~r.indexOf("adius")))return p=y?e.getBBox()[l?"width":"height"]:e[h],ot(d?s/p*u:s/100*p);if(a[l?"width":"height"]=u+(f?o:n),m=~r.indexOf("adius")||n==="em"&&e.appendChild&&!c?e:e.parentNode,y&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===qi||!m.appendChild)&&(m=qi.body),x=m._gsap,x&&d&&x.width&&l&&x.time===ir.time&&!x.uncache)return ot(s/x.width*u);if(d&&(r==="height"||r==="width")){var _=e.style[r];e.style[r]=u+n,p=e[h],_?e.style[r]=_:ts(e,r)}else(d||o==="%")&&!yk[ri(m,"display")]&&(a.position=ri(e,"position")),m===e&&(a.position="static"),m.appendChild(Ln),p=Ln[h],m.removeChild(Ln),a.position="absolute";return l&&d&&(x=Wn(m),x.time=ir.time,x.width=m[h]),ot(f?p*s/u:p&&s?u/p*s:0)},_i=function(e,r,i,n){var s;return ep||Id(),r in Zr&&r!=="transform"&&(r=Zr[r],~r.indexOf(",")&&(r=r.split(",")[0])),Bi[r]&&r!=="transform"?(s=Pa(e,n),s=r!=="transformOrigin"?s[r]:s.svg?s.origin:vc(ri(e,qt))+" "+s.zOrigin+"px"):(s=e.style[r],(!s||s==="auto"||n||~(s+"").indexOf("calc("))&&(s=yc[r]&&yc[r](e,r,i)||ri(e,r)||_b(e,r)||(r==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?hn(e,r,s,i)+i:s},vk=function(e,r,i,n){if(!i||i==="none"){var s=co(r,e,1),o=s&&ri(e,s,1);o&&o!==i?(r=s,i=o):r==="borderColor"&&(i=ri(e,"borderTopColor"))}var a=new Vt(this._pt,e.style,r,0,1,Vb),l=0,c=0,h,u,f,d,p,m,x,y,_,g,v,b;if(a.b=i,a.e=n,i+="",n+="",n==="auto"&&(m=e.style[r],e.style[r]=n,n=ri(e,r)||n,m?e.style[r]=m:ts(e,r)),h=[i,n],Nb(h),i=h[0],n=h[1],f=i.match(Bs)||[],b=n.match(Bs)||[],b.length){for(;u=Bs.exec(n);)x=u[0],_=n.substring(l,u.index),p?p=(p+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(p=1),x!==(m=f[c++]||"")&&(d=parseFloat(m)||0,v=m.substr((d+"").length),x.charAt(1)==="="&&(x=Hs(d,x)+v),y=parseFloat(x),g=x.substr((y+"").length),l=Bs.lastIndex-g.length,g||(g=g||or.units[r]||v,l===n.length&&(n+=g,a.e+=g)),v!==g&&(d=hn(e,r,m,g)||0),a._pt={_next:a._pt,p:_||c===1?_:",",s:d,c:y-d,m:p&&p<4||r==="zIndex"?Math.round:0});a.c=l<n.length?n.substring(l,n.length):""}else a.r=r==="display"&&n==="none"?Zb:Kb;return fb.test(n)&&(a.e=0),this._pt=a,a},Rg={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},bk=function(e){var r=e.split(" "),i=r[0],n=r[1]||"50%";return(i==="top"||i==="bottom"||n==="left"||n==="right")&&(e=i,i=n,n=e),r[0]=Rg[i]||i,r[1]=Rg[n]||n,r.join(" ")},Ek=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var i=r.t,n=i.style,s=r.u,o=i._gsap,a,l,c;if(s==="all"||s===!0)n.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Bi[a]&&(l=1,a=a==="transformOrigin"?qt:tt),ts(i,a);l&&(ts(i,tt),o&&(o.svg&&i.removeAttribute("transform"),Pa(i,1),o.uncache=1,Qb(n)))}},yc={clearProps:function(e,r,i,n,s){if(s.data!=="isFromStart"){var o=e._pt=new Vt(e._pt,r,i,0,0,Ek);return o.u=n,o.pr=-10,o.tween=s,e._props.push(i),1}}},Ra=[1,0,0,1,0,0],iE={},nE=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Pg=function(e){var r=ri(e,tt);return nE(r)?Ra:r.substr(7).match(ub).map(ot)},ip=function(e,r){var i=e._gsap||Wn(e),n=e.style,s=Pg(e),o,a,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Ra:s):(s===Ra&&!e.offsetParent&&e!==Gs&&!i.svg&&(l=n.display,n.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Gs.appendChild(e)),s=Pg(e),l?n.display=l:ts(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Gs.removeChild(e))),r&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Fd=function(e,r,i,n,s,o){var a=e._gsap,l=s||ip(e,!0),c=a.xOrigin||0,h=a.yOrigin||0,u=a.xOffset||0,f=a.yOffset||0,d=l[0],p=l[1],m=l[2],x=l[3],y=l[4],_=l[5],g=r.split(" "),v=parseFloat(g[0])||0,b=parseFloat(g[1])||0,E,T,A,P;i?l!==Ra&&(T=d*x-p*m)&&(A=v*(x/T)+b*(-m/T)+(m*_-x*y)/T,P=v*(-p/T)+b*(d/T)-(d*_-p*y)/T,v=A,b=P):(E=tE(e),v=E.x+(~g[0].indexOf("%")?v/100*E.width:v),b=E.y+(~(g[1]||g[0]).indexOf("%")?b/100*E.height:b),!("xOrigin"in a)&&(v||b)&&(v-=E.x,b-=E.y)),n||n!==!1&&a.smooth?(y=v-c,_=b-h,a.xOffset=u+(y*d+_*m)-y,a.yOffset=f+(y*p+_*x)-_):a.xOffset=a.yOffset=0,a.xOrigin=v,a.yOrigin=b,a.smooth=!!n,a.origin=r,a.originIsAbsolute=!!i,e.style[qt]="0px 0px",o&&(Yi(o,a,"xOrigin",c,v),Yi(o,a,"yOrigin",h,b),Yi(o,a,"xOffset",u,a.xOffset),Yi(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",v+" "+b)},Pa=function(e,r){var i=e._gsap||new Hb(e);if("x"in i&&!r&&!i.uncache)return i;var n=e.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=ri(e,qt)||"0",h,u,f,d,p,m,x,y,_,g,v,b,E,T,A,P,w,B,I,D,F,j,$,U,Z,le,H,O,k,G,L,xe;return h=u=f=m=x=y=_=g=v=0,d=p=1,i.svg=!!(e.getCTM&&rE(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(n[tt]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[tt]!=="none"?l[tt]:"")),n.scale=n.rotate=n.translate="none"),T=ip(e,i.svg),i.svg&&(i.uncache?(Z=e.getBBox(),c=i.xOrigin-Z.x+"px "+(i.yOrigin-Z.y)+"px",U=""):U=!r&&e.getAttribute("data-svg-origin"),Fd(e,U||c,!!U||i.originIsAbsolute,i.smooth!==!1,T)),b=i.xOrigin||0,E=i.yOrigin||0,T!==Ra&&(B=T[0],I=T[1],D=T[2],F=T[3],h=j=T[4],u=$=T[5],T.length===6?(d=Math.sqrt(B*B+I*I),p=Math.sqrt(F*F+D*D),m=B||I?xs(I,B)*Rn:0,_=D||F?xs(D,F)*Rn+m:0,_&&(p*=Math.abs(Math.cos(_*$s))),i.svg&&(h-=b-(b*B+E*D),u-=E-(b*I+E*F))):(xe=T[6],G=T[7],H=T[8],O=T[9],k=T[10],L=T[11],h=T[12],u=T[13],f=T[14],A=xs(xe,k),x=A*Rn,A&&(P=Math.cos(-A),w=Math.sin(-A),U=j*P+H*w,Z=$*P+O*w,le=xe*P+k*w,H=j*-w+H*P,O=$*-w+O*P,k=xe*-w+k*P,L=G*-w+L*P,j=U,$=Z,xe=le),A=xs(-D,k),y=A*Rn,A&&(P=Math.cos(-A),w=Math.sin(-A),U=B*P-H*w,Z=I*P-O*w,le=D*P-k*w,L=F*w+L*P,B=U,I=Z,D=le),A=xs(I,B),m=A*Rn,A&&(P=Math.cos(A),w=Math.sin(A),U=B*P+I*w,Z=j*P+$*w,I=I*P-B*w,$=$*P-j*w,B=U,j=Z),x&&Math.abs(x)+Math.abs(m)>359.9&&(x=m=0,y=180-y),d=ot(Math.sqrt(B*B+I*I+D*D)),p=ot(Math.sqrt($*$+xe*xe)),A=xs(j,$),_=Math.abs(A)>2e-4?A*Rn:0,v=L?1/(L<0?-L:L):0),i.svg&&(U=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!nE(ri(e,tt)),U&&e.setAttribute("transform",U))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(d*=-1,_+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,_+=_<=0?180:-180)),r=r||i.uncache,i.x=h-((i.xPercent=h&&(!r&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=u-((i.yPercent=u&&(!r&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-u)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=f+o,i.scaleX=ot(d),i.scaleY=ot(p),i.rotation=ot(m)+a,i.rotationX=ot(x)+a,i.rotationY=ot(y)+a,i.skewX=_+a,i.skewY=g+a,i.transformPerspective=v+o,(i.zOrigin=parseFloat(c.split(" ")[2])||!r&&i.zOrigin||0)&&(n[qt]=vc(c)),i.svg||(i.xOffset=i.yOffset=0),i.force3D=or.force3D,i.renderTransform=i.svg?Ak:eE?sE:Tk,i.uncache=0,i},vc=function(e){return(e=e.split(" "))[0]+" "+e[1]},mu=function(e,r,i){var n=Pt(r);return ot(parseFloat(r)+parseFloat(hn(e,"x",i+"px",n)))+n},Tk=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,sE(e,r)},vn="0deg",Io="0px",bn=") ",sE=function(e,r){var i=r||this,n=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,h=i.rotationY,u=i.rotationX,f=i.skewX,d=i.skewY,p=i.scaleX,m=i.scaleY,x=i.transformPerspective,y=i.force3D,_=i.target,g=i.zOrigin,v="",b=y==="auto"&&e&&e!==1||y===!0;if(g&&(u!==vn||h!==vn)){var E=parseFloat(h)*$s,T=Math.sin(E),A=Math.cos(E),P;E=parseFloat(u)*$s,P=Math.cos(E),o=mu(_,o,T*P*-g),a=mu(_,a,-Math.sin(E)*-g),l=mu(_,l,A*P*-g+g)}x!==Io&&(v+="perspective("+x+bn),(n||s)&&(v+="translate("+n+"%, "+s+"%) "),(b||o!==Io||a!==Io||l!==Io)&&(v+=l!==Io||b?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+bn),c!==vn&&(v+="rotate("+c+bn),h!==vn&&(v+="rotateY("+h+bn),u!==vn&&(v+="rotateX("+u+bn),(f!==vn||d!==vn)&&(v+="skew("+f+", "+d+bn),(p!==1||m!==1)&&(v+="scale("+p+", "+m+bn),_.style[tt]=v||"translate(0, 0)"},Ak=function(e,r){var i=r||this,n=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,h=i.skewY,u=i.scaleX,f=i.scaleY,d=i.target,p=i.xOrigin,m=i.yOrigin,x=i.xOffset,y=i.yOffset,_=i.forceCSS,g=parseFloat(o),v=parseFloat(a),b,E,T,A,P;l=parseFloat(l),c=parseFloat(c),h=parseFloat(h),h&&(h=parseFloat(h),c+=h,l+=h),l||c?(l*=$s,c*=$s,b=Math.cos(l)*u,E=Math.sin(l)*u,T=Math.sin(l-c)*-f,A=Math.cos(l-c)*f,c&&(h*=$s,P=Math.tan(c-h),P=Math.sqrt(1+P*P),T*=P,A*=P,h&&(P=Math.tan(h),P=Math.sqrt(1+P*P),b*=P,E*=P)),b=ot(b),E=ot(E),T=ot(T),A=ot(A)):(b=u,A=f,E=T=0),(g&&!~(o+"").indexOf("px")||v&&!~(a+"").indexOf("px"))&&(g=hn(d,"x",o,"px"),v=hn(d,"y",a,"px")),(p||m||x||y)&&(g=ot(g+p-(p*b+m*T)+x),v=ot(v+m-(p*E+m*A)+y)),(n||s)&&(P=d.getBBox(),g=ot(g+n/100*P.width),v=ot(v+s/100*P.height)),P="matrix("+b+","+E+","+T+","+A+","+g+","+v+")",d.setAttribute("transform",P),_&&(d.style[tt]=P)},wk=function(e,r,i,n,s){var o=360,a=gt(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Rn:1),c=l-n,h=n+c+"deg",u,f;return a&&(u=s.split("_")[1],u==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),u==="cw"&&c<0?c=(c+o*wg)%o-~~(c/o)*o:u==="ccw"&&c>0&&(c=(c-o*wg)%o-~~(c/o)*o)),e._pt=f=new Vt(e._pt,r,i,n,c,lk),f.e=h,f.u="deg",e._props.push(i),f},Dg=function(e,r){for(var i in r)e[i]=r[i];return e},Sk=function(e,r,i){var n=Dg({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,c,h,u,f,d,p;n.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[tt]=r,a=Pa(i,1),ts(i,tt),i.setAttribute("transform",c)):(c=getComputedStyle(i)[tt],o[tt]=r,a=Pa(i,1),o[tt]=c);for(l in Bi)c=n[l],h=a[l],c!==h&&s.indexOf(l)<0&&(d=Pt(c),p=Pt(h),u=d!==p?hn(i,l,c,p):parseFloat(c),f=parseFloat(h),e._pt=new Vt(e._pt,a,l,u,f-u,Pd),e._pt.u=p||0,e._props.push(l));Dg(a,n)};Xt("padding,margin,Width,Radius",function(t,e){var r="Top",i="Right",n="Bottom",s="Left",o=(e<3?[r,i,n,s]:[r+s,r+i,n+i,n+s]).map(function(a){return e<2?t+a:"border"+a+t});yc[e>1?"border"+t:t]=function(a,l,c,h,u){var f,d;if(arguments.length<4)return f=o.map(function(p){return _i(a,p,c)}),d=f.join(" "),d.split(f[0]).length===5?f[0]:d;f=(h+"").split(" "),d={},o.forEach(function(p,m){return d[p]=f[m]=f[m]||f[(m-1)/2|0]}),a.init(l,d,u)}});var oE={name:"css",register:Id,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,i,n,s){var o=this._props,a=e.style,l=i.vars.startAt,c,h,u,f,d,p,m,x,y,_,g,v,b,E,T,A;ep||Id(),this.styles=this.styles||Jb(e),A=this.styles.props,this.tween=i;for(m in r)if(m!=="autoRound"&&(h=r[m],!(tr[m]&&Gb(m,r,i,n,e,s)))){if(d=typeof h,p=yc[m],d==="function"&&(h=h.call(i,n,e,s),d=typeof h),d==="string"&&~h.indexOf("random(")&&(h=Sa(h)),p)p(this,e,m,h,i)&&(T=1);else if(m.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(m)+"").trim(),h+="",tn.lastIndex=0,tn.test(c)||(x=Pt(c),y=Pt(h)),y?x!==y&&(c=hn(e,m,c,y)+y):x&&(h+=x),this.add(a,"setProperty",c,h,n,s,0,0,m),o.push(m),A.push(m,0,a[m]);else if(d!=="undefined"){if(l&&m in l?(c=typeof l[m]=="function"?l[m].call(i,n,e,s):l[m],gt(c)&&~c.indexOf("random(")&&(c=Sa(c)),Pt(c+"")||c==="auto"||(c+=or.units[m]||Pt(_i(e,m))||""),(c+"").charAt(1)==="="&&(c=_i(e,m))):c=_i(e,m),f=parseFloat(c),_=d==="string"&&h.charAt(1)==="="&&h.substr(0,2),_&&(h=h.substr(2)),u=parseFloat(h),m in Zr&&(m==="autoAlpha"&&(f===1&&_i(e,"visibility")==="hidden"&&u&&(f=0),A.push("visibility",0,a.visibility),Yi(this,a,"visibility",f?"inherit":"hidden",u?"inherit":"hidden",!u)),m!=="scale"&&m!=="transform"&&(m=Zr[m],~m.indexOf(",")&&(m=m.split(",")[0]))),g=m in Bi,g){if(this.styles.save(m),v||(b=e._gsap,b.renderTransform&&!r.parseTransform||Pa(e,r.parseTransform),E=r.smoothOrigin!==!1&&b.smooth,v=this._pt=new Vt(this._pt,a,tt,0,1,b.renderTransform,b,0,-1),v.dep=1),m==="scale")this._pt=new Vt(this._pt,b,"scaleY",b.scaleY,(_?Hs(b.scaleY,_+u):u)-b.scaleY||0,Pd),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){A.push(qt,0,a[qt]),h=bk(h),b.svg?Fd(e,h,0,E,0,this):(y=parseFloat(h.split(" ")[2])||0,y!==b.zOrigin&&Yi(this,b,"zOrigin",b.zOrigin,y),Yi(this,a,m,vc(c),vc(h)));continue}else if(m==="svgOrigin"){Fd(e,h,1,E,0,this);continue}else if(m in iE){wk(this,b,m,f,_?Hs(f,_+h):h);continue}else if(m==="smoothOrigin"){Yi(this,b,"smooth",b.smooth,h);continue}else if(m==="force3D"){b[m]=h;continue}else if(m==="transform"){Sk(this,h,e);continue}}else m in a||(m=co(m)||m);if(g||(u||u===0)&&(f||f===0)&&!ak.test(h)&&m in a)x=(c+"").substr((f+"").length),u||(u=0),y=Pt(h)||(m in or.units?or.units[m]:x),x!==y&&(f=hn(e,m,c,y)),this._pt=new Vt(this._pt,g?b:a,m,f,(_?Hs(f,_+u):u)-f,!g&&(y==="px"||m==="zIndex")&&r.autoRound!==!1?hk:Pd),this._pt.u=y||0,x!==y&&y!=="%"&&(this._pt.b=c,this._pt.r=ck);else if(m in a)vk.call(this,e,m,c,_?_+h:h);else if(m in e)this.add(e,m,c||e[m],_?_+h:h,n,s);else if(m!=="parseTransform"){j0(m,h);continue}g||(m in a?A.push(m,0,a[m]):A.push(m,1,c||e[m])),o.push(m)}}T&&qb(this)},render:function(e,r){if(r.tween._time||!tp())for(var i=r._pt;i;)i.r(e,i.d),i=i._next;else r.styles.revert()},get:_i,aliases:Zr,getSetter:function(e,r,i){var n=Zr[r];return n&&n.indexOf(",")<0&&(r=n),r in Bi&&r!==qt&&(e._gsap.x||_i(e,"x"))?i&&Ag===i?r==="scale"?pk:dk:(Ag=i||{})&&(r==="scale"?mk:xk):e.style&&!G0(e.style[r])?uk:~r.indexOf("-")?fk:Q0(e,r)},core:{_removeProperty:ts,_getMatrix:ip}};Kt.utils.checkPrefix=co;Kt.core.getStyleSaver=Jb;(function(t,e,r,i){var n=Xt(t+","+e+","+r,function(s){Bi[s]=1});Xt(e,function(s){or.units[s]="deg",iE[s]=1}),Zr[n[13]]=t+","+e,Xt(i,function(s){var o=s.split(":");Zr[o[1]]=n[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Xt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){or.units[t]="px"});Kt.registerPlugin(oE);var Je=Kt.registerPlugin(oE)||Kt;Je.core.Tween;class Ck extends Ge{constructor(r,i){super();pe(this,"mInfo");this.mInfo={sceneId:r,name:i}}get info(){return this.mInfo}async init(){}async startGame(){}usePointerEvent(){this.on("pointermove",i=>{i.preventDefault(),i.stopPropagation(),i.defaultPrevented=!0,this.onPointerMove(i)}),this.on("pointerdown",i=>{i.preventDefault(),i.stopPropagation(),i.defaultPrevented=!0,this.onPointerDown(i)});const r=["up","cancel","leave"];for(let i=0;i<r.length;i++){const n=`pointer${r[i]}`;this.on(n,s=>{s.preventDefault(),s.stopPropagation(),s.defaultPrevented=!0,this.disablePointerEvt(s)})}}onPointerMove(r){}onPointerDown(r){}disablePointerEvt(r){}async endGame(){Je.globalTimeline.clear(),this.removeChildren()}}function aE(t,e){return function(){return t.apply(e,arguments)}}const{toString:Bk}=Object.prototype,{getPrototypeOf:np}=Object,oh=(t=>e=>{const r=Bk.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),hi=t=>(t=t.toLowerCase(),e=>oh(e)===t),ah=t=>e=>typeof e===t,{isArray:vo}=Array,Da=ah("undefined");function Rk(t){return t!==null&&!Da(t)&&t.constructor!==null&&!Da(t.constructor)&&_r(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lE=hi("ArrayBuffer");function Pk(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lE(t.buffer),e}const Dk=ah("string"),_r=ah("function"),cE=ah("number"),lh=t=>t!==null&&typeof t=="object",Ik=t=>t===!0||t===!1,Ul=t=>{if(oh(t)!=="object")return!1;const e=np(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Fk=hi("Date"),Mk=hi("File"),Ok=hi("Blob"),kk=hi("FileList"),Nk=t=>lh(t)&&_r(t.pipe),Lk=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||_r(t.append)&&((e=oh(t))==="formdata"||e==="object"&&_r(t.toString)&&t.toString()==="[object FormData]"))},Uk=hi("URLSearchParams"),zk=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ha(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let i,n;if(typeof t!="object"&&(t=[t]),vo(t))for(i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,t[a],a,t)}}function hE(t,e){e=e.toLowerCase();const r=Object.keys(t);let i=r.length,n;for(;i-- >0;)if(n=r[i],e===n.toLowerCase())return n;return null}const uE=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),fE=t=>!Da(t)&&t!==uE;function Md(){const{caseless:t}=fE(this)&&this||{},e={},r=(i,n)=>{const s=t&&hE(e,n)||n;Ul(e[s])&&Ul(i)?e[s]=Md(e[s],i):Ul(i)?e[s]=Md({},i):vo(i)?e[s]=i.slice():e[s]=i};for(let i=0,n=arguments.length;i<n;i++)arguments[i]&&Ha(arguments[i],r);return e}const Hk=(t,e,r,{allOwnKeys:i}={})=>(Ha(e,(n,s)=>{r&&_r(n)?t[s]=aE(n,r):t[s]=n},{allOwnKeys:i}),t),Gk=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$k=(t,e,r,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Wk=(t,e,r,i)=>{let n,s,o;const a={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),s=n.length;s-- >0;)o=n[s],(!i||i(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&np(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},jk=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const i=t.indexOf(e,r);return i!==-1&&i===r},Xk=t=>{if(!t)return null;if(vo(t))return t;let e=t.length;if(!cE(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Vk=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&np(Uint8Array)),qk=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=i.next())&&!n.done;){const s=n.value;e.call(t,s[0],s[1])}},Yk=(t,e)=>{let r;const i=[];for(;(r=t.exec(e))!==null;)i.push(r);return i},Kk=hi("HTMLFormElement"),Zk=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,n){return i.toUpperCase()+n}),Ig=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Qk=hi("RegExp"),dE=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),i={};Ha(r,(n,s)=>{let o;(o=e(n,s,t))!==!1&&(i[s]=o||n)}),Object.defineProperties(t,i)},Jk=t=>{dE(t,(e,r)=>{if(_r(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const i=t[r];if(_r(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},eN=(t,e)=>{const r={},i=n=>{n.forEach(s=>{r[s]=!0})};return vo(t)?i(t):i(String(t).split(e)),r},tN=()=>{},rN=(t,e)=>(t=+t,Number.isFinite(t)?t:e),xu="abcdefghijklmnopqrstuvwxyz",Fg="0123456789",pE={DIGIT:Fg,ALPHA:xu,ALPHA_DIGIT:xu+xu.toUpperCase()+Fg},iN=(t=16,e=pE.ALPHA_DIGIT)=>{let r="";const{length:i}=e;for(;t--;)r+=e[Math.random()*i|0];return r};function nN(t){return!!(t&&_r(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const sN=t=>{const e=new Array(10),r=(i,n)=>{if(lh(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[n]=i;const s=vo(i)?[]:{};return Ha(i,(o,a)=>{const l=r(o,n+1);!Da(l)&&(s[a]=l)}),e[n]=void 0,s}}return i};return r(t,0)},oN=hi("AsyncFunction"),aN=t=>t&&(lh(t)||_r(t))&&_r(t.then)&&_r(t.catch),V={isArray:vo,isArrayBuffer:lE,isBuffer:Rk,isFormData:Lk,isArrayBufferView:Pk,isString:Dk,isNumber:cE,isBoolean:Ik,isObject:lh,isPlainObject:Ul,isUndefined:Da,isDate:Fk,isFile:Mk,isBlob:Ok,isRegExp:Qk,isFunction:_r,isStream:Nk,isURLSearchParams:Uk,isTypedArray:Vk,isFileList:kk,forEach:Ha,merge:Md,extend:Hk,trim:zk,stripBOM:Gk,inherits:$k,toFlatObject:Wk,kindOf:oh,kindOfTest:hi,endsWith:jk,toArray:Xk,forEachEntry:qk,matchAll:Yk,isHTMLForm:Kk,hasOwnProperty:Ig,hasOwnProp:Ig,reduceDescriptors:dE,freezeMethods:Jk,toObjectSet:eN,toCamelCase:Zk,noop:tN,toFiniteNumber:rN,findKey:hE,global:uE,isContextDefined:fE,ALPHABET:pE,generateString:iN,isSpecCompliantForm:nN,toJSONObject:sN,isAsyncFn:oN,isThenable:aN};function Ie(t,e,r,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),i&&(this.request=i),n&&(this.response=n)}V.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const mE=Ie.prototype,xE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{xE[t]={value:t}});Object.defineProperties(Ie,xE);Object.defineProperty(mE,"isAxiosError",{value:!0});Ie.from=(t,e,r,i,n,s)=>{const o=Object.create(mE);return V.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ie.call(o,t.message,e,r,i,n),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const lN=null;function Od(t){return V.isPlainObject(t)||V.isArray(t)}function gE(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function Mg(t,e,r){return t?t.concat(e).map(function(n,s){return n=gE(n),!r&&s?"["+n+"]":n}).join(r?".":""):e}function cN(t){return V.isArray(t)&&!t.some(Od)}const hN=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function ch(t,e,r){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=V.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!V.isUndefined(x[m])});const i=r.metaTokens,n=r.visitor||h,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(n))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(V.isDate(p))return p.toISOString();if(!l&&V.isBlob(p))throw new Ie("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(p)||V.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function h(p,m,x){let y=p;if(p&&!x&&typeof p=="object"){if(V.endsWith(m,"{}"))m=i?m:m.slice(0,-2),p=JSON.stringify(p);else if(V.isArray(p)&&cN(p)||(V.isFileList(p)||V.endsWith(m,"[]"))&&(y=V.toArray(p)))return m=gE(m),y.forEach(function(g,v){!(V.isUndefined(g)||g===null)&&e.append(o===!0?Mg([m],v,s):o===null?m:m+"[]",c(g))}),!1}return Od(p)?!0:(e.append(Mg(x,m,s),c(p)),!1)}const u=[],f=Object.assign(hN,{defaultVisitor:h,convertValue:c,isVisitable:Od});function d(p,m){if(!V.isUndefined(p)){if(u.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));u.push(p),V.forEach(p,function(y,_){(!(V.isUndefined(y)||y===null)&&n.call(e,y,V.isString(_)?_.trim():_,m,f))===!0&&d(y,m?m.concat(_):[_])}),u.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return d(t),e}function Og(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function sp(t,e){this._pairs=[],t&&ch(t,this,e)}const _E=sp.prototype;_E.append=function(e,r){this._pairs.push([e,r])};_E.toString=function(e){const r=e?function(i){return e.call(this,i,Og)}:Og;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function uN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yE(t,e,r){if(!e)return t;const i=r&&r.encode||uN,n=r&&r.serialize;let s;if(n?s=n(e,r):s=V.isURLSearchParams(e)?e.toString():new sp(e,r).toString(i),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class fN{constructor(){this.handlers=[]}use(e,r,i){return this.handlers.push({fulfilled:e,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(i){i!==null&&e(i)})}}const kg=fN,vE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},dN=typeof URLSearchParams<"u"?URLSearchParams:sp,pN=typeof FormData<"u"?FormData:null,mN=typeof Blob<"u"?Blob:null,xN={isBrowser:!0,classes:{URLSearchParams:dN,FormData:pN,Blob:mN},protocols:["http","https","file","blob","url","data"]},bE=typeof window<"u"&&typeof document<"u",gN=(t=>bE&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),_N=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),yN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bE,hasStandardBrowserEnv:gN,hasStandardBrowserWebWorkerEnv:_N},Symbol.toStringTag,{value:"Module"})),Qr={...yN,...xN};function vN(t,e){return ch(t,new Qr.classes.URLSearchParams,Object.assign({visitor:function(r,i,n,s){return Qr.isNode&&V.isBuffer(r)?(this.append(i,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function bN(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function EN(t){const e={},r=Object.keys(t);let i;const n=r.length;let s;for(i=0;i<n;i++)s=r[i],e[s]=t[s];return e}function EE(t){function e(r,i,n,s){let o=r[s++];const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&V.isArray(n)?n.length:o,l?(V.hasOwnProp(n,o)?n[o]=[n[o],i]:n[o]=i,!a):((!n[o]||!V.isObject(n[o]))&&(n[o]=[]),e(r,i,n[o],s)&&V.isArray(n[o])&&(n[o]=EN(n[o])),!a)}if(V.isFormData(t)&&V.isFunction(t.entries)){const r={};return V.forEachEntry(t,(i,n)=>{e(bN(i),n,r,0)}),r}return null}function TN(t,e,r){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(t)}const op={transitional:vE,adapter:["xhr","http"],transformRequest:[function(e,r){const i=r.getContentType()||"",n=i.indexOf("application/json")>-1,s=V.isObject(e);if(s&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return n&&n?JSON.stringify(EE(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return vN(e,this.formSerializer).toString();if((a=V.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ch(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||n?(r.setContentType("application/json",!1),TN(e)):e}],transformResponse:[function(e){const r=this.transitional||op.transitional,i=r&&r.forcedJSONParsing,n=this.responseType==="json";if(e&&V.isString(e)&&(i&&!this.responseType||n)){const o=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ie.from(a,Ie.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qr.classes.FormData,Blob:Qr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{op.headers[t]={}});const ap=op,AN=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wN=t=>{const e={};let r,i,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),r=o.substring(0,n).trim().toLowerCase(),i=o.substring(n+1).trim(),!(!r||e[r]&&AN[r])&&(r==="set-cookie"?e[r]?e[r].push(i):e[r]=[i]:e[r]=e[r]?e[r]+", "+i:i)}),e},Ng=Symbol("internals");function Fo(t){return t&&String(t).trim().toLowerCase()}function zl(t){return t===!1||t==null?t:V.isArray(t)?t.map(zl):String(t)}function SN(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=r.exec(t);)e[i[1]]=i[2];return e}const CN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function gu(t,e,r,i,n){if(V.isFunction(i))return i.call(this,e,r);if(n&&(e=r),!!V.isString(e)){if(V.isString(i))return e.indexOf(i)!==-1;if(V.isRegExp(i))return i.test(e)}}function BN(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,i)=>r.toUpperCase()+i)}function RN(t,e){const r=V.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+r,{value:function(n,s,o){return this[i].call(this,e,n,s,o)},configurable:!0})})}class hh{constructor(e){e&&this.set(e)}set(e,r,i){const n=this;function s(a,l,c){const h=Fo(l);if(!h)throw new Error("header name must be a non-empty string");const u=V.findKey(n,h);(!u||n[u]===void 0||c===!0||c===void 0&&n[u]!==!1)&&(n[u||l]=zl(a))}const o=(a,l)=>V.forEach(a,(c,h)=>s(c,h,l));return V.isPlainObject(e)||e instanceof this.constructor?o(e,r):V.isString(e)&&(e=e.trim())&&!CN(e)?o(wN(e),r):e!=null&&s(r,e,i),this}get(e,r){if(e=Fo(e),e){const i=V.findKey(this,e);if(i){const n=this[i];if(!r)return n;if(r===!0)return SN(n);if(V.isFunction(r))return r.call(this,n,i);if(V.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Fo(e),e){const i=V.findKey(this,e);return!!(i&&this[i]!==void 0&&(!r||gu(this,this[i],i,r)))}return!1}delete(e,r){const i=this;let n=!1;function s(o){if(o=Fo(o),o){const a=V.findKey(i,o);a&&(!r||gu(i,i[a],a,r))&&(delete i[a],n=!0)}}return V.isArray(e)?e.forEach(s):s(e),n}clear(e){const r=Object.keys(this);let i=r.length,n=!1;for(;i--;){const s=r[i];(!e||gu(this,this[s],s,e,!0))&&(delete this[s],n=!0)}return n}normalize(e){const r=this,i={};return V.forEach(this,(n,s)=>{const o=V.findKey(i,s);if(o){r[o]=zl(n),delete r[s];return}const a=e?BN(s):String(s).trim();a!==s&&delete r[s],r[a]=zl(n),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return V.forEach(this,(i,n)=>{i!=null&&i!==!1&&(r[n]=e&&V.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const i=new this(e);return r.forEach(n=>i.set(n)),i}static accessor(e){const i=(this[Ng]=this[Ng]={accessors:{}}).accessors,n=this.prototype;function s(o){const a=Fo(o);i[a]||(RN(n,o),i[a]=!0)}return V.isArray(e)?e.forEach(s):s(e),this}}hh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(hh.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[r]=i}}});V.freezeMethods(hh);const wi=hh;function _u(t,e){const r=this||ap,i=e||r,n=wi.from(i.headers);let s=i.data;return V.forEach(t,function(a){s=a.call(r,s,n.normalize(),e?e.status:void 0)}),n.normalize(),s}function TE(t){return!!(t&&t.__CANCEL__)}function Ga(t,e,r){Ie.call(this,t??"canceled",Ie.ERR_CANCELED,e,r),this.name="CanceledError"}V.inherits(Ga,Ie,{__CANCEL__:!0});function PN(t,e,r){const i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):e(new Ie("Request failed with status code "+r.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const DN=Qr.hasStandardBrowserEnv?{write(t,e,r,i,n,s){const o=[t+"="+encodeURIComponent(e)];V.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),V.isString(i)&&o.push("path="+i),V.isString(n)&&o.push("domain="+n),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function IN(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function FN(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function AE(t,e){return t&&!IN(e)?FN(t,e):e}const MN=Qr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let i;function n(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=n(window.location.href),function(o){const a=V.isString(o)?n(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function ON(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function kN(t,e){t=t||10;const r=new Array(t),i=new Array(t);let n=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=i[s];o||(o=c),r[n]=l,i[n]=c;let u=s,f=0;for(;u!==n;)f+=r[u++],u=u%t;if(n=(n+1)%t,n===s&&(s=(s+1)%t),c-o<e)return;const d=h&&c-h;return d?Math.round(f*1e3/d):void 0}}function Lg(t,e){let r=0;const i=kN(50,250);return n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-r,l=i(a),c=s<=o;r=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:n};h[e?"download":"upload"]=!0,t(h)}}const NN=typeof XMLHttpRequest<"u",LN=NN&&function(t){return new Promise(function(r,i){let n=t.data;const s=wi.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function c(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let h;if(V.isFormData(n)){if(Qr.hasStandardBrowserEnv||Qr.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((h=s.getContentType())!==!1){const[m,...x]=h?h.split(";").map(y=>y.trim()).filter(Boolean):[];s.setContentType([m||"multipart/form-data",...x].join("; "))}}let u=new XMLHttpRequest;if(t.auth){const m=t.auth.username||"",x=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(m+":"+x))}const f=AE(t.baseURL,t.url);u.open(t.method.toUpperCase(),yE(f,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function d(){if(!u)return;const m=wi.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),y={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:m,config:t,request:u};PN(function(g){r(g),c()},function(g){i(g),c()},y),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(i(new Ie("Request aborted",Ie.ECONNABORTED,t,u)),u=null)},u.onerror=function(){i(new Ie("Network Error",Ie.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const y=t.transitional||vE;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),i(new Ie(x,y.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,t,u)),u=null},Qr.hasStandardBrowserEnv&&(a&&V.isFunction(a)&&(a=a(t)),a||a!==!1&&MN(f))){const m=t.xsrfHeaderName&&t.xsrfCookieName&&DN.read(t.xsrfCookieName);m&&s.set(t.xsrfHeaderName,m)}n===void 0&&s.setContentType(null),"setRequestHeader"in u&&V.forEach(s.toJSON(),function(x,y){u.setRequestHeader(y,x)}),V.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",Lg(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Lg(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=m=>{u&&(i(!m||m.type?new Ga(null,t,u):m),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const p=ON(f);if(p&&Qr.protocols.indexOf(p)===-1){i(new Ie("Unsupported protocol "+p+":",Ie.ERR_BAD_REQUEST,t));return}u.send(n||null)})},kd={http:lN,xhr:LN};V.forEach(kd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ug=t=>`- ${t}`,UN=t=>V.isFunction(t)||t===null||t===!1,wE={getAdapter:t=>{t=V.isArray(t)?t:[t];const{length:e}=t;let r,i;const n={};for(let s=0;s<e;s++){r=t[s];let o;if(i=r,!UN(r)&&(i=kd[(o=String(r)).toLowerCase()],i===void 0))throw new Ie(`Unknown adapter '${o}'`);if(i)break;n[o||"#"+s]=i}if(!i){const s=Object.entries(n).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Ug).join(`
`):" "+Ug(s[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:kd};function yu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ga(null,t)}function zg(t){return yu(t),t.headers=wi.from(t.headers),t.data=_u.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wE.getAdapter(t.adapter||ap.adapter)(t).then(function(i){return yu(t),i.data=_u.call(t,t.transformResponse,i),i.headers=wi.from(i.headers),i},function(i){return TE(i)||(yu(t),i&&i.response&&(i.response.data=_u.call(t,t.transformResponse,i.response),i.response.headers=wi.from(i.response.headers))),Promise.reject(i)})}const Hg=t=>t instanceof wi?t.toJSON():t;function ho(t,e){e=e||{};const r={};function i(c,h,u){return V.isPlainObject(c)&&V.isPlainObject(h)?V.merge.call({caseless:u},c,h):V.isPlainObject(h)?V.merge({},h):V.isArray(h)?h.slice():h}function n(c,h,u){if(V.isUndefined(h)){if(!V.isUndefined(c))return i(void 0,c,u)}else return i(c,h,u)}function s(c,h){if(!V.isUndefined(h))return i(void 0,h)}function o(c,h){if(V.isUndefined(h)){if(!V.isUndefined(c))return i(void 0,c)}else return i(void 0,h)}function a(c,h,u){if(u in e)return i(c,h);if(u in t)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h)=>n(Hg(c),Hg(h),!0)};return V.forEach(Object.keys(Object.assign({},t,e)),function(h){const u=l[h]||n,f=u(t[h],e[h],h);V.isUndefined(f)&&u!==a||(r[h]=f)}),r}const SE="1.6.2",lp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{lp[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Gg={};lp.transitional=function(e,r,i){function n(s,o){return"[Axios v"+SE+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new Ie(n(o," has been removed"+(r?" in "+r:"")),Ie.ERR_DEPRECATED);return r&&!Gg[o]&&(Gg[o]=!0,console.warn(n(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function zN(t,e,r){if(typeof t!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let n=i.length;for(;n-- >0;){const s=i[n],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ie("option "+s+" must be "+l,Ie.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ie("Unknown option "+s,Ie.ERR_BAD_OPTION)}}const Nd={assertOptions:zN,validators:lp},Li=Nd.validators;class bc{constructor(e){this.defaults=e,this.interceptors={request:new kg,response:new kg}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=ho(this.defaults,r);const{transitional:i,paramsSerializer:n,headers:s}=r;i!==void 0&&Nd.assertOptions(i,{silentJSONParsing:Li.transitional(Li.boolean),forcedJSONParsing:Li.transitional(Li.boolean),clarifyTimeoutError:Li.transitional(Li.boolean)},!1),n!=null&&(V.isFunction(n)?r.paramsSerializer={serialize:n}:Nd.assertOptions(n,{encode:Li.function,serialize:Li.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&V.merge(s.common,s[r.method]);s&&V.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),r.headers=wi.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let h,u=0,f;if(!l){const p=[zg.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,c),f=p.length,h=Promise.resolve(r);u<f;)h=h.then(p[u++],p[u++]);return h}f=a.length;let d=r;for(u=0;u<f;){const p=a[u++],m=a[u++];try{d=p(d)}catch(x){m.call(this,x);break}}try{h=zg.call(this,d)}catch(p){return Promise.reject(p)}for(u=0,f=c.length;u<f;)h=h.then(c[u++],c[u++]);return h}getUri(e){e=ho(this.defaults,e);const r=AE(e.baseURL,e.url);return yE(r,e.params,e.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(e){bc.prototype[e]=function(r,i){return this.request(ho(i||{},{method:e,url:r,data:(i||{}).data}))}});V.forEach(["post","put","patch"],function(e){function r(i){return function(s,o,a){return this.request(ho(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}bc.prototype[e]=r(),bc.prototype[e+"Form"]=r(!0)});const Hl=bc;class cp{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const i=this;this.promise.then(n=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](n);i._listeners=null}),this.promise.then=n=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(n);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new Ga(s,o,a),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new cp(function(n){e=n}),cancel:e}}}const HN=cp;function GN(t){return function(r){return t.apply(null,r)}}function $N(t){return V.isObject(t)&&t.isAxiosError===!0}const Ld={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ld).forEach(([t,e])=>{Ld[e]=t});const WN=Ld;function CE(t){const e=new Hl(t),r=aE(Hl.prototype.request,e);return V.extend(r,Hl.prototype,e,{allOwnKeys:!0}),V.extend(r,e,null,{allOwnKeys:!0}),r.create=function(n){return CE(ho(t,n))},r}const ct=CE(ap);ct.Axios=Hl;ct.CanceledError=Ga;ct.CancelToken=HN;ct.isCancel=TE;ct.VERSION=SE;ct.toFormData=ch;ct.AxiosError=Ie;ct.Cancel=ct.CanceledError;ct.all=function(e){return Promise.all(e)};ct.spread=GN;ct.isAxiosError=$N;ct.mergeConfig=ho;ct.AxiosHeaders=wi;ct.formToJSON=t=>EE(V.isHTMLForm(t)?new FormData(t):t);ct.getAdapter=wE.getAdapter;ct.HttpStatusCode=WN;ct.default=ct;const Ud=ct;function jN(t){return t.interceptors.request.use(e=>(e.url!=="login"&&(e.headers.Authorization=`Bearer ${q.accessToken}`,e.headers.Refresh=q.refreshToken),e.url==="login"&&(delete e.headers.Authorization,delete e.headers.Refresh),e),function(e){return He.error(e),sr.isLoading=!1,Promise.reject(e)}),t.interceptors.response.use(null,async e=>{var i;const r=(i=e.response)==null?void 0:i.status;if(r===400){const n=q.accessToken;if(n){e.config.headers.Authorization=n,Ud(e.config);return}else return e}if(r===401&&e.response.data.err==="refresh token expired"&&(localStorage.clear(),q.userID="",q.gameName="",q.currentGroupIndex=0,q.turnInPrize=0,q.prizeTurn=0,q.accessToken="",q.refreshToken="",q.signedIn=!1,oa.push({name:"SignIn"})),r===401&&e.response.data.err==="access token expired"){sr.isLoading=!0,localStorage.clear();const n=e.config,s=Ud.create({baseURL:"http://localhost:4000/api",headers:{Authorization:q.accessToken,Refresh:q.refreshToken}});try{const{data:o}=await s.post("auth/reissue-access-token");if(o.ok){const a=JSON.parse(fp(o.data,"login-info"));return q.userID=a.userID,q.accessToken=a.accessToken,q.refreshToken=a.refreshToken,q.gameName=a.gameTable,q.turnInPrize=a.turnInPrize,q.prizeTurn=a.prizeTurn,q.currentGroupIndex=a.currentGroupIndex,q.signedIn=!0,localStorage.setItem("k",o.data),t(n)}else q.userID="",q.gameName="",q.currentGroupIndex=0,q.turnInPrize=0,q.prizeTurn=0,q.accessToken="",q.refreshToken="",q.signedIn=!1,oa.push({name:"SignIn"})}catch{q.userID="",q.gameName="",q.currentGroupIndex=0,q.turnInPrize=0,q.prizeTurn=0,q.accessToken="",q.refreshToken="",q.signedIn=!1,oa.push({name:"SignIn"})}finally{sr.isLoading=!1}}e.code==="ERR_NETWORK"&&localStorage.clear()}),t}const XN="http://localhost:4000/api",VN=()=>{const t=Ud.create({baseURL:XN,headers:{"Content-Type":"application/json",Authorization:`Bearer ${q.accessToken}`},timeout:3e3});return jN(t)},Mo=VN();class qN{constructor(){pe(this,"signIn",async({l:e})=>{try{const{data:r}=await Mo.post("auth/login",{l:e});if(localStorage.clear(),r.ok){const i=JSON.parse(fp(r.data,"login-info"));q.userID=i.userID,q.accessToken=i.accessToken,q.refreshToken=i.refreshToken,q.currentGroupIndex=i.currentGroupIndex,q.turnInPrize=i.turnInPrize,q.prizeTurn=i.prizeTurn,q.gameName=i.gameTable,q.signedIn=!0,localStorage.setItem("k",r.data)}else return q.userID="",q.accessToken="",q.refreshToken="",q.currentGroupIndex=0,q.turnInPrize=0,q.prizeTurn=0,q.signedIn=!1,{ok:!1,msg:r.msg};return r}catch(r){return console.error("sign-in ERROR",r),q.userID="",q.accessToken="",q.refreshToken="",q.signedIn=!1,q.currentGroupIndex=0,q.turnInPrize=0,q.prizeTurn=0,localStorage.clear(),{ok:!1,msg:r.message?r.message:""}}});pe(this,"signUp",async({l:e})=>{try{const{data:r}=await Mo.post("auth/signUp",{l:e});return!r.ok&&r.msg&&He.error(r.msg),r}catch(r){console.log(r),He.error(r.message)}finally{sr.isLoading=!1}});pe(this,"getUser",async()=>{try{const{data:e}=await Mo.post("auth/get-user-list",{userID:q.userID});return q.currentGroupIndex=e.data.currentGroupIndex,q.prizeTurn=e.data.prizeTurn,q.turnInPrize=e.data.turnInPrize,e}catch(e){return console.error("get-user-list ERROR",e),{ok:!1,msg:e.message?e.message:""}}});pe(this,"getUserTurnData",async()=>{try{const{data:e}=await Mo.post("auth/get-user-turn-data",{userID:q.userID});return e}catch(e){return console.error("get-user-turn-data ERROR",e),{ok:!1,msg:e.message?e.message:""}}});pe(this,"updateReelData",async()=>{try{const{data:e}=await Mo.post("auth/update-reel-data",{userID:q.userID});return q.currentGroupIndex=e.data.currentGroupIndex,q.prizeTurn=e.data.prizeTurn,q.turnInPrize=e.data.turnInPrize,e}catch(e){return console.error("update-reel-data ERROR",e),{ok:!1,msg:e.message?e.message:""}}})}}const $g=new qN,{width:vu,height:bu,emoji:hr}=go;class YN extends Ge{constructor(){super();pe(this,"mDimmed");pe(this,"mStartReel");pe(this,"mReel");pe(this,"mReelAni");pe(this,"mDividend");pe(this,"mText");pe(this,"mBusy");pe(this,"mSlot");this.mBusy=!1,this.mStartReel=0,this.mReel=[["","","",""],["","","",""],["","","",""]],this.mReelAni=[[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1]]}set busy(r){this.mBusy=r;const i=r?"test1":"test2";this.mSlot.changeVideo(`/rsc/slot/video/${i}.webm`)}set setText(r){this.mText.text=r,this.mText.anchor.set(.5),this.mDimmed.visible=r!=""}async init(){this.mSlot=this.parent,await this.createDimmed(),await this.createText(),this.cursor="pointer",this.interactive=!0,this.hitArea=new Be(0,0,vu,bu),this.mStartReel=0,this.on("pointerdown",UO(async r=>{r.bubbles=!1,r.defaultPrevented=!0;try{if(this.mBusy)return;switch(this.busy=!0,this.mStartReel=(this.mStartReel+1)%2,this.mStartReel){case 0:await this.clickOnStopReel();break;case 1:await this.clickOnStartReel();break;default:this.mStartReel=0,await this.clickOnStopReel();break}}catch(i){console.error(i),this.busy=!1}},500,{trailing:!1,leading:!0}))}async clickOnStartReel(){try{await this.getTurnData(),await this.getPattern(),await this.mSlot.startReel(),this.mSlot.setScreenDirection(),this.mSlot.setDividene(this.mDividend),setTimeout(async()=>this.busy=!1,2e3)}catch(r){console.error(r)}}async clickOnStopReel(){try{await this.sendEndReelData(),await this.mSlot.stopReel(this.mReel),ra(xM(this.mReelAni),r=>r)[0]?(setTimeout(async()=>await this.mSlot.completeAni(this.mReelAni),1e3),setTimeout(async()=>this.busy=!1,3e3)):this.busy=!1}catch(r){console.error(r)}}async sendEndReelData(){try{await $g.updateReelData()}catch(r){console.error(r),console.error("게임 데이터 동기화 실패")}}async getTurnData(){try{const{ok:r,data:i}=await $g.getUserTurnData();r?(this.setText="",mi.gameData=i):(mi.gameData={},this.setText="지정된 게임이 없습니다.")}catch(r){mi.gameData={},this.setText=r}}async createDimmed(){this.mDimmed=new ss,this.mDimmed.beginFill(0,.8),this.mDimmed.drawRect(0,0,vu,bu),this.mDimmed.endFill(),this.mDimmed.cursor="wait",this.addChild(this.mDimmed),this.mDimmed.visible=!1}async createText(){this.mText=new Kc("",{fill:16777215,fontSize:48}),this.mText.anchor.set(.5),this.mText.position.set(vu/2,bu/2),this.mDimmed.addChild(this.mText)}async getPattern(){try{const r=await G7(mi.gameData.score);this.mDividend=r.dividend,this.mReel=r.displayIconTable,this.mReelAni=r.iconAniFlag,await this.showReelTableLog(r)}catch(r){console.error(r)}}async showReelTableLog(r){console.log(r);const i=[[hr[this.mReel[0][0]],hr[this.mReel[1][0]],hr[this.mReel[2][0]],hr[this.mReel[3][0]]],[hr[this.mReel[0][1]],hr[this.mReel[1][1]],hr[this.mReel[2][1]],hr[this.mReel[3][1]]],[hr[this.mReel[0][2]],hr[this.mReel[1][2]],hr[this.mReel[2][2]],hr[this.mReel[3][2]]]];for(let n=0;n<3;n++){const s=i[n],o=[this.mReelAni[0][n]?"ani":"not",this.mReelAni[1][n]?"ani":"not",this.mReelAni[2][n]?"ani":"not",this.mReelAni[3][n]?"ani":"not"],a=[this.mReelAni[0][n]?"red":"black",this.mReelAni[1][n]?"red":"black",this.mReelAni[2][n]?"red":"black",this.mReelAni[3][n]?"red":"black"];console.log(`%c ${s[0]} - ${o[0]} %c ${s[1]} - ${o[1]}  %c ${s[2]} - ${o[2]}  %c ${s[3]} - ${o[3]} `,`padding:10px 0; margin:10px 0; border:2px ${a[0]} solid;`,`padding:10px 0; margin:10px 0; border:2px ${a[1]} solid;`,`padding:10px 0; margin:10px 0; border:2px ${a[2]} solid;`,`padding:10px 0; margin:10px 0; border:2px ${a[3]} solid; `)}console.log({turnCount:mi.gameData.turnCount,turnInPrize:q.turnInPrize,prizeTurn:q.prizeTurn,currentGroupIndex:q.currentGroupIndex,Pcode:mi.gameData.Pcode,Ycode:mi.gameData.Ycode,score:r.score})}}const{atlasData:KN,slotIconScale:Ui,gapIconInReel:ZN,slotScaleAry:Pn,centerSlotIndex:gs,stopCount:Wg}=go,En=Pn.length;class QN extends Ge{constructor(){super();pe(this,"mSpriteAry");pe(this,"mIconList");pe(this,"mYPos");this.mIconList=[],this.mYPos=[]}get stopNameAry(){return[this.mIconList[gs-1],this.mIconList[gs],this.mIconList[gs+1]]}async init(){this.mIconList=e6(KN),this.mSpriteAry=[],await this.makeIcon()}async makeIcon(){let r=-(Ui*Pn[0])*2;for(let i=0;i<En;i++){const n=new JN;await n.init(),n.setTexture(this.mIconList[i]),n.position.set(0,r),n.width=Ui,n.height=Pn[i]*Ui,n.zIndex=1,this.mSpriteAry.push(n),this.addChild(n),this.mYPos.push(r),r+=Ui*Pn[i]+ZN}}reelAni(r,i){if(i!=1)for(let n=0;n<En;n++){const s=n+1>=En?0:Pn[n+1]*Ui,o=n+1>=En?this.mYPos[n]+Ui:this.mYPos[(n+1)%En];Je.to(this.mSpriteAry[n],{height:s,y:o,duration:r}).timeScale(i)}}async next(){return new Promise((r,i)=>{const n=this.mIconList.length-1;this.mIconList=[...this.mIconList.slice(n),...this.mIconList.slice(0,n)];for(let s=0;s<En;s++)Je.killTweensOf(this.mSpriteAry[s]),this.mSpriteAry[s].setTexture(this.mIconList[s]),this.mSpriteAry[s].height=Pn[s]*Ui,this.mSpriteAry[s].y=this.mYPos[s];r(1)})}async setStopIconIndex(r){return new Promise((i,n)=>{const s=ra(this.mIconList,o=>!r.includes(o));this.mIconList=[...s.slice(s.length-Wg),...r,...s.slice(0,s.length-Wg)];for(let o=0;o<En;o++)Je.killTweensOf(this.mSpriteAry[o]),this.mSpriteAry[o].setTexture(this.mIconList[o]),this.mSpriteAry[o].height=Pn[o]*Ui,this.mSpriteAry[o].y=this.mYPos[o];i(1)})}async completeAni(r){const i=[this.mSpriteAry[gs-1],this.mSpriteAry[gs],this.mSpriteAry[gs+1]];ob(r,(n,s)=>n?i[s].completeAni():null)}}class JN extends Ge{constructor(){super();pe(this,"mSprite");pe(this,"mSheet");pe(this,"mIconName")}get name(){return this.mIconName}async init(){this.mSheet=Si.getHandle.getScene.sheet.icon,this.mSprite=new pt,this.mIconName="",this.addChild(this.mSprite)}async setTexture(r){this.mIconName=r,this.mSprite.texture=this.mSheet.textures[r],this.mSprite.anchor.set(.5),this.mSprite.position.set(this.mSprite.width/2,this.mSprite.height/2)}completeAni(){return new Promise((r,i)=>{const n="bounce",o=Je.timeline();o.to(this.mSprite.scale,{x:1.2,y:1.2,ease:n,duration:.5}),o.to(this.mSprite.scale,{x:-1.2,y:1.2,duration:.25}),o.to(this.mSprite.scale,{x:1.2,y:1.2,duration:.25}),o.to(this.mSprite.scale,{x:-1.2,y:1.2,duration:.25}),o.to(this.mSprite.scale,{x:1.2,y:1.2,duration:.25}),o.to(this.mSprite.scale,{x:1,y:1,ease:n,duration:.5,onComplete:()=>r(1)})})}}const{startDelay:e7,stopCount:n9}=go;class t7 extends Ge{constructor(r){super();pe(this,"mSheet");pe(this,"mDividend");pe(this,"mDividendSprite");pe(this,"mSpinAni");pe(this,"mIconReel");this.mDividend=r}get dividend(){return this.mDividend}set dividend(r){this.mDividend=r,this.mDividendSprite.texture=this.mSheet.textures[`x${r}`]}async init(){this.mSheet=Si.getHandle.getScene.sheet.reel,this.removeChildren(),await this.makeIcon()}async makeIcon(){const r=new pt(this.mSheet.textures.x1);r.zIndex=0,this.mDividendSprite=new pt,this.mDividendSprite.texture=this.mSheet.textures.x1,this.mDividendSprite.zIndex=1,this.mIconReel=new QN,await this.mIconReel.init(),this.mIconReel.x=(154-140)/2,this.mIconReel.position.set((154-140)/2,0),this.mDividendSprite.zIndex=2,this.addChild(r,this.mDividendSprite,this.mIconReel)}async changeDividend(r){this.mDividend!==r&&(r==1?Je.to(this.mDividendSprite,{alpha:0,duration:.5}):Je.to(this.mDividendSprite,{alpha:0,duration:.5,onComplete:()=>{this.mDividendSprite.texture=this.mSheet.textures[`x${r}`],Je.to(this.mDividendSprite,{alpha:1,duration:1})}}),this.mDividend=r)}start(){return new Promise((r,i)=>{var o;(o=this.mSpinAni)==null||o.kill();const n=.01,s="circ.out";this.mSpinAni=Je.timeline({repeat:-1}),this.mSpinAni.timeScale(.005),this.mSpinAni.to(this.mIconReel,{duration:n,ease:s,onStart:()=>{const a=this.mSpinAni.timeScale()+.04>1?1:this.mSpinAni.timeScale()+.04;this.mSpinAni.timeScale(a),a<1&&this.mIconReel.reelAni(n,a)},onComplete:async()=>await this.mIconReel.next()}),setTimeout(()=>r(1),e7*1e3)})}stop(r){return new Promise((i,n)=>{const o="circ.out";this.mIconReel.setStopIconIndex(r),this.mSpinAni.kill(),this.mSpinAni=Je.timeline({repeat:-1}),this.mSpinAni.timeScale(1);let a=1;this.mSpinAni.to(this.mIconReel,{duration:.05,ease:o,onStart:async()=>{a=a-.05<.05?.05:a-.05,this.mSpinAni.timeScale(a),this.mIconReel.reelAni(.05,a)},onComplete:async()=>{if(await this.mIconReel.next(),this.mIconReel.stopNameAry[0]==r[0]&&this.mIconReel.stopNameAry[1]==r[1]&&this.mIconReel.stopNameAry[2]==r[2])return await this.mSpinAni.kill(),this.mSpinAni=null,i(1)}})})}async completeAni(r){await this.mIconReel.completeAni(r)}}const{width:Eu,debug:r7}=go;class i7 extends Ge{constructor(r){super();pe(this,"mReelContainer");pe(this,"mScoreObj");pe(this,"mSheet");pe(this,"mReelAry");pe(this,"mRazer");this.mSheet=r,this.mReelAry=[]}get sheet(){return this.mSheet}async init(){this.mScoreObj={score:null,credit:null,win:null},this.removeChildren(),await this.makeBg(),await this.makeScoreBoard(),await this.makeReelMask(),await this.makeReel(),await this.makeRazer()}async makeBg(){const r=new pt;r.texture=this.mSheet.textures.mainframe;const i=this.mSheet.data.frames.mainframe.anchor;r.anchor.set(i.x,i.y),r.y=r.height*i.y,this.addChild(r)}async makeScoreBoard(){const r=["score","credit","win"],i=[Eu/2-220,Eu/2,Eu/2+230],n=r.length;for(let s=0;s<n;s++){const o=new n7(r[s],(s+1)*1e3+(s+2)*100);this.addChild(o),await o.init(),o.position.set(i[s],814),this.mScoreObj[r[s]]=o}}async makeReelMask(){this.mReelContainer=new Ge,this.mReelContainer.position.set(50,312);const r=H7(16777215,616,420);r.position.set(this.mReelContainer.x,this.mReelContainer.y),r7?r.visible=!1:this.mReelContainer.mask=r,this.addChild(this.mReelContainer,r)}async makeReel(){for(let r=0;r<4;r++)this.mReelAry[r]=new t7(1),await this.mReelAry[r].init(),this.mReelAry[r].position.set(154*r,0),this.mReelContainer.addChild(this.mReelAry[r])}async makeRazer(){this.mRazer=[];const r=[374,520,650];for(let i=0;i<3;i++){const n=new pt;n.texture=this.mSheet.textures.prizeLine;const s=this.mSheet.data.frames.prizeLine.anchor;n.anchor.set(s.x,s.y),n.position.set(34,r[i]),n.alpha=0,this.mRazer.push(n),this.addChild(n)}}async completeAni(r){const{length:i}=this.mReelAry,n=[r[0][0]&&r[1][0]&&r[2][0]&&r[3][0],r[0][1]&&r[1][1]&&r[2][1]&&r[3][1],r[0][2]&&r[1][2]&&r[2][2]&&r[3][2]];for(let s=0;s<i;s++)n[s]&&Je.to(this.mRazer[s],{alpha:1,duration:.25,onComplete:()=>this.mRazer[s].alpha=0}).repeat(4).yoyo(!0),await this.mReelAry[s].completeAni(r[s])}async stopReel(r){const i=[0,3,1,2],{length:n}=this.mReelAry;for(let s=0;s<n;s++){const o=i[s];await this.mReelAry[o].stop(r[o])}}async startReel(){this.changeScoreValue("credit",this.mScoreObj.credit.info.value-100<0?0:this.mScoreObj.credit.info.value-100);const{length:r}=this.mReelAry;for(let i=0;i<r;i++)await this.mReelAry[i].start()}changeDividend(r){for(let i=0;i<4;i++)this.mReelAry[i].changeDividend(r)}changeScoreValue(r,i){this.mScoreObj[r].setValueSprite(i)}}class n7 extends Ge{constructor(r,i){super();pe(this,"mRole");pe(this,"mValue");pe(this,"mValueTextContiner");this.mRole=r,this.mValue=i}get info(){return{role:this.mRole,value:this.mValue}}get sheet(){return this.parent.sheet}async init(){this.removeChildren(),this.mValueTextContiner=new Ge,this.addChild(this.mValueTextContiner),await this.setValueSprite(this.mValue)}async setValueSprite(r){this.mValue=r,this.mValueTextContiner.removeChildren(),this.mValueTextContiner.position.set(0,0);const i=W7(this.mValue);let n=0;for(let s=0;s<i.length;s++){const o=new pt;o.texture=this.sheet.textures[i[s]],o.x=n,n+=o.width;const{anchor:a}=this.sheet.data.frames[i[s]];o.anchor.set(a.x,a.y),this.mValueTextContiner.addChild(o)}this.mValueTextContiner.x=-this.mValueTextContiner.width/2}}const{width:jg,height:Xg}=go;class s7 extends Ck{constructor(){super(0,"slot");pe(this,"mSheet");pe(this,"mEventManager");pe(this,"mDirectionWrap");pe(this,"mDirectionSprite");pe(this,"mWebmWrap");pe(this,"mWebmSprite");pe(this,"mVideoWrap");pe(this,"mVideo");pe(this,"mReelDisplay");pe(this,"mReelWrap");pe(this,"mDimmed");pe(this,"mCurrentReel");this.mCurrentReel=0,this.mVideo=null}get sheet(){return this.mSheet}get currentReel(){return this.mCurrentReel}set dimmed(r){this.mDimmed.interactive=!1;const i=.5,n=r?1:0;Je.killTweensOf(this.mDimmed),Je.to(this.mDimmed,{alpha:n,duration:i,onComplete:()=>this.mDimmed.visible=r})}async init(){console.log("%c slot init","padding:6px; border:2px purple solid;"),this.removeChildren(),this.sortableChildren=!0,await this.createDimmed(),await this.loadingSpriteSheet(),await this.createVideoWrap(),await this.createReelWrap(),this.mDimmed.on("pointerdown",async()=>{sr.isLoading=!0,this.dimmed=!1,sr.isLoading=!1})}async createDimmed(){this.mDimmed=new ss,this.mDimmed.beginFill(0,.6),this.mDimmed.drawRect(0,0,jg,Xg),this.mDimmed.endFill(),this.mDimmed.zIndex=6,this.mDimmed.interactive=!0,this.mDimmed.cursor="pointer",this.addChild(this.mDimmed)}async createReelWrap(){this.mReelWrap=new Ge,this.mReelWrap.zIndex=2,this.mReelWrap.y=450,this.mReelWrap.sortableChildren=!0,this.addChild(this.mReelWrap),this.mReelDisplay=new i7(this.mSheet.mainframe),this.mReelDisplay.position.set(0,0),await this.mReelDisplay.init(),this.mReelWrap.addChild(this.mReelDisplay)}setDividene(r){this.mReelDisplay.changeDividend(r)}setScreenDirection(){switch(mi.gameData.Pcode.toUpperCase(),mi.gameData.Ycode.toUpperCase()){case"Y1":this.mDirectionSprite.hidden();break;case"Y2":this.mDirectionSprite.show();break;default:this.mDirectionSprite.show();break}}async createVideoWrap(){this.mDirectionSprite=new o7,this.mDirectionWrap=new Ge,this.mDirectionWrap.zIndex=1,this.mDirectionWrap.addChild(this.mDirectionSprite),this.mWebmSprite=new pt,this.mWebmSprite.alpha=0,this.mWebmSprite.width=jg,this.mWebmSprite.height=Xg,this.mWebmWrap=new Ge,this.mWebmWrap.zIndex=3,this.mWebmWrap.addChild(this.mWebmSprite),this.addChild(this.mDirectionWrap,this.mWebmWrap)}changeVideo(r){return new Promise((i,n)=>{this.mVideo&&(this.mVideo.pause(),this.mVideo=null),this.mVideo=document.createElement("video"),this.mVideo.loop=!0,this.mVideo.autoplay=!1,this.mVideo.src=r,this.mVideo.oncanplay=()=>{Je.killTweensOf(this.mWebmSprite),this.mWebmSprite.alpha=0,this.mWebmSprite.texture=fe.from(this.mVideo),this.mVideo.play(),Je.to(this.mWebmSprite,{alpha:1,duration:.5,onComplete:()=>i(1)})},Je.to(this.mWebmSprite,{alpha:0,duration:.5})})}async loadingSpriteSheet(){await Kr.load("/rsc/slot/json/icon.json"),await Kr.load("/rsc/slot/json/big_number.json"),await Kr.load("/rsc/slot/json/mainframe.json"),await Kr.load("/rsc/slot/json/reel.json"),ZR(),this.mSheet={icon:new Nn($t.getHandle.getRsc("icon.png"),o6),number:new Nn($t.getHandle.getRsc("big_number.png"),i6),mainframe:new Nn($t.getHandle.getRsc("main_frame.png"),c6),reel:new Nn($t.getHandle.getRsc("reel.png"),f6)},await this.mSheet.icon.parse(),await this.mSheet.number.parse(),await this.mSheet.mainframe.parse(),await this.mSheet.reel.parse()}async startGame(){this.mEventManager=new YN,this.addChild(this.mEventManager),this.mEventManager.zIndex=3,await this.mEventManager.init()}async startReel(){this.mReelDisplay.startReel()}async stopReel(r){await this.mReelDisplay.stopReel(r)}async completeAni(r){await this.mReelDisplay.completeAni(r)}}class o7 extends Ge{constructor(){super();pe(this,"mDay");pe(this,"mNight");pe(this,"mDayTree");pe(this,"mDayTreeList");pe(this,"mNightTree");pe(this,"mNightTreeList");this.mDay=new pt($t.getHandle.getRsc("bg_day.png")),this.mNight=new pt($t.getHandle.getRsc("bg_night.png")),this.mDayTree=new Ge,this.mDayTreeList=[new pt($t.getHandle.getRsc("bg_day_tree.png")),new pt($t.getHandle.getRsc("bg_day_tree.png"))],this.mDayTreeList[1].x=this.mDayTreeList[1].width,this.mDayTree.addChild(this.mDayTreeList[0],this.mDayTreeList[1]),this.mDayTree.position.set(0,this.mDay.height-this.mDayTree.height),this.mNightTree=new Ge,this.mNightTreeList=[new pt($t.getHandle.getRsc("bg_night_tree.png")),new pt($t.getHandle.getRsc("bg_night_tree.png"))],this.mNightTreeList[1].x=this.mNightTreeList[1].width,this.mNightTree.addChild(this.mNightTreeList[0],this.mNightTreeList[1]),this.mNightTree.position.set(0,this.mNight.height-this.mNightTree.height),this.mDay.addChild(this.mDayTree),this.mNight.addChild(this.mNightTree),this.addChild(this.mNight,this.mDay)}hidden(){const r=this.mNightTree.width/2;Je.to(this.mNightTree,{x:-r,duration:40,ease:"none",onComplete:()=>this.mNightTree.x=0}).repeat(-1),Je.to(this.mDay,{alpha:0,duration:5,onComplete:()=>Je.killTweensOf(this.mDayTree)})}show(){Je.killTweensOf(this.mNightTree);const r=this.mDayTree.width/2;Je.to(this.mDayTree,{x:-r,duration:40,ease:"none",onComplete:()=>this.mDayTree.x=0}).repeat(-1),Je.to(this.mDay,{alpha:1,duration:5})}}class a7 extends Ge{constructor(){super();pe(this,"mSceneAry");pe(this,"mCurrentSceneIdx");this.mSceneAry=[],this.mCurrentSceneIdx=0}get currentScene(){return this.mSceneAry[this.mCurrentSceneIdx]}get currentSceneInfo(){return this.mSceneAry[this.mCurrentSceneIdx].info}async init(){this.mCurrentSceneIdx=0,this.mSceneAry=[new s7]}async start(){try{sr.isLoading=!0;const{name:r}=this.mSceneAry[0].info;await $t.getHandle.loadAllRsc(Wx[r]),await this.changeScene(r)}catch(r){console.error(r)}finally{sr.isLoading=!1}}async changeScene(r){var n;await $t.getHandle.loadAllRsc(Wx[r]),this.removeChildren(),await((n=this.mSceneAry[this.mCurrentSceneIdx])==null?void 0:n.endGame());const i=jO(this.mSceneAry,s=>r===s.info.name);await i.init(),this.addChild(i),await i.startGame()}}const aa=class aa extends D0{constructor({backgroundColor:r,width:i,height:n,view:s}){super({backgroundColor:r,width:i,height:n,view:s});pe(this,"mSceneManager");this.renderer.options.antialias=!0,aa.handle=this}static get getHandle(){return aa.handle}get getScene(){return this.mSceneManager.currentScene}async init(){this.stage.removeChildren(),this.mSceneManager=new a7,this.stage.addChild(this.mSceneManager),this.stage.sortableChildren=!0,this.mSceneManager.zIndex=1,$7(),await this.mSceneManager.init(),await this.mSceneManager.start()}onHiddenTab(){console.log("탭이 안보일 때")}onViewTab(){console.log("탭이 보일 때")}};pe(aa,"handle");let Si=aa;var BE={exports:{}};function l7(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Tu={exports:{}},Vg;function De(){return Vg||(Vg=1,function(t,e){(function(r,i){t.exports=i()})(Te,function(){var r=r||function(i,n){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Te<"u"&&Te.crypto&&(s=Te.crypto),!s&&typeof l7=="function")try{s=py}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function _(){}return function(g){var v;return _.prototype=g,v=new _,_.prototype=null,v}}(),l={},c=l.lib={},h=c.Base=function(){return{extend:function(_){var g=a(this);return _&&g.mixIn(_),(!g.hasOwnProperty("init")||this.init===g.init)&&(g.init=function(){g.$super.init.apply(this,arguments)}),g.init.prototype=g,g.$super=this,g},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var g in _)_.hasOwnProperty(g)&&(this[g]=_[g]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=c.WordArray=h.extend({init:function(_,g){_=this.words=_||[],g!=n?this.sigBytes=g:this.sigBytes=_.length*4},toString:function(_){return(_||d).stringify(this)},concat:function(_){var g=this.words,v=_.words,b=this.sigBytes,E=_.sigBytes;if(this.clamp(),b%4)for(var T=0;T<E;T++){var A=v[T>>>2]>>>24-T%4*8&255;g[b+T>>>2]|=A<<24-(b+T)%4*8}else for(var P=0;P<E;P+=4)g[b+P>>>2]=v[P>>>2];return this.sigBytes+=E,this},clamp:function(){var _=this.words,g=this.sigBytes;_[g>>>2]&=4294967295<<32-g%4*8,_.length=i.ceil(g/4)},clone:function(){var _=h.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var g=[],v=0;v<_;v+=4)g.push(o());return new u.init(g,_)}}),f=l.enc={},d=f.Hex={stringify:function(_){for(var g=_.words,v=_.sigBytes,b=[],E=0;E<v;E++){var T=g[E>>>2]>>>24-E%4*8&255;b.push((T>>>4).toString(16)),b.push((T&15).toString(16))}return b.join("")},parse:function(_){for(var g=_.length,v=[],b=0;b<g;b+=2)v[b>>>3]|=parseInt(_.substr(b,2),16)<<24-b%8*4;return new u.init(v,g/2)}},p=f.Latin1={stringify:function(_){for(var g=_.words,v=_.sigBytes,b=[],E=0;E<v;E++){var T=g[E>>>2]>>>24-E%4*8&255;b.push(String.fromCharCode(T))}return b.join("")},parse:function(_){for(var g=_.length,v=[],b=0;b<g;b++)v[b>>>2]|=(_.charCodeAt(b)&255)<<24-b%4*8;return new u.init(v,g)}},m=f.Utf8={stringify:function(_){try{return decodeURIComponent(escape(p.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return p.parse(unescape(encodeURIComponent(_)))}},x=c.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=m.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var g,v=this._data,b=v.words,E=v.sigBytes,T=this.blockSize,A=T*4,P=E/A;_?P=i.ceil(P):P=i.max((P|0)-this._minBufferSize,0);var w=P*T,B=i.min(w*4,E);if(w){for(var I=0;I<w;I+=T)this._doProcessBlock(b,I);g=b.splice(0,w),v.sigBytes-=B}return new u.init(g,B)},clone:function(){var _=h.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});c.Hasher=x.extend({cfg:h.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var g=this._doFinalize();return g},blockSize:16,_createHelper:function(_){return function(g,v){return new _.init(v).finalize(g)}},_createHmacHelper:function(_){return function(g,v){return new y.HMAC.init(_,v).finalize(g)}}});var y=l.algo={};return l}(Math);return r})}(Tu)),Tu.exports}var Au={exports:{}},qg;function uh(){return qg||(qg=1,function(t,e){(function(r,i){t.exports=i(De())})(Te,function(r){return function(i){var n=r,s=n.lib,o=s.Base,a=s.WordArray,l=n.x64={};l.Word=o.extend({init:function(c,h){this.high=c,this.low=h}}),l.WordArray=o.extend({init:function(c,h){c=this.words=c||[],h!=i?this.sigBytes=h:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,h=c.length,u=[],f=0;f<h;f++){var d=c[f];u.push(d.high),u.push(d.low)}return a.create(u,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),h=c.words=this.words.slice(0),u=h.length,f=0;f<u;f++)h[f]=h[f].clone();return c}})}(),r})}(Au)),Au.exports}var wu={exports:{}},Yg;function c7(){return Yg||(Yg=1,function(t,e){(function(r,i){t.exports=i(De())})(Te,function(r){return function(){if(typeof ArrayBuffer=="function"){var i=r,n=i.lib,s=n.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,h=[],u=0;u<c;u++)h[u>>>2]|=l[u]<<24-u%4*8;o.call(this,h,c)}else o.apply(this,arguments)};a.prototype=s}}(),r.lib.WordArray})}(wu)),wu.exports}var Su={exports:{}},Kg;function h7(){return Kg||(Kg=1,function(t,e){(function(r,i){t.exports=i(De())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=i.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var c=l.words,h=l.sigBytes,u=[],f=0;f<h;f+=2){var d=c[f>>>2]>>>16-f%4*8&65535;u.push(String.fromCharCode(d))}return u.join("")},parse:function(l){for(var c=l.length,h=[],u=0;u<c;u++)h[u>>>1]|=l.charCodeAt(u)<<16-u%2*16;return s.create(h,c*2)}},o.Utf16LE={stringify:function(l){for(var c=l.words,h=l.sigBytes,u=[],f=0;f<h;f+=2){var d=a(c[f>>>2]>>>16-f%4*8&65535);u.push(String.fromCharCode(d))}return u.join("")},parse:function(l){for(var c=l.length,h=[],u=0;u<c;u++)h[u>>>1]|=a(l.charCodeAt(u)<<16-u%2*16);return s.create(h,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),r.enc.Utf16})}(Su)),Su.exports}var Cu={exports:{}},Zg;function ls(){return Zg||(Zg=1,function(t,e){(function(r,i){t.exports=i(De())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=i.enc;o.Base64={stringify:function(l){var c=l.words,h=l.sigBytes,u=this._map;l.clamp();for(var f=[],d=0;d<h;d+=3)for(var p=c[d>>>2]>>>24-d%4*8&255,m=c[d+1>>>2]>>>24-(d+1)%4*8&255,x=c[d+2>>>2]>>>24-(d+2)%4*8&255,y=p<<16|m<<8|x,_=0;_<4&&d+_*.75<h;_++)f.push(u.charAt(y>>>6*(3-_)&63));var g=u.charAt(64);if(g)for(;f.length%4;)f.push(g);return f.join("")},parse:function(l){var c=l.length,h=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var f=0;f<h.length;f++)u[h.charCodeAt(f)]=f}var d=h.charAt(64);if(d){var p=l.indexOf(d);p!==-1&&(c=p)}return a(l,c,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,h){for(var u=[],f=0,d=0;d<c;d++)if(d%4){var p=h[l.charCodeAt(d-1)]<<d%4*2,m=h[l.charCodeAt(d)]>>>6-d%4*2,x=p|m;u[f>>>2]|=x<<24-f%4*8,f++}return s.create(u,f)}}(),r.enc.Base64})}(Cu)),Cu.exports}var Bu={exports:{}},Qg;function u7(){return Qg||(Qg=1,function(t,e){(function(r,i){t.exports=i(De())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=i.enc;o.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var h=l.words,u=l.sigBytes,f=c?this._safe_map:this._map;l.clamp();for(var d=[],p=0;p<u;p+=3)for(var m=h[p>>>2]>>>24-p%4*8&255,x=h[p+1>>>2]>>>24-(p+1)%4*8&255,y=h[p+2>>>2]>>>24-(p+2)%4*8&255,_=m<<16|x<<8|y,g=0;g<4&&p+g*.75<u;g++)d.push(f.charAt(_>>>6*(3-g)&63));var v=f.charAt(64);if(v)for(;d.length%4;)d.push(v);return d.join("")},parse:function(l,c){c===void 0&&(c=!0);var h=l.length,u=c?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<u.length;d++)f[u.charCodeAt(d)]=d}var p=u.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(h=m)}return a(l,h,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,h){for(var u=[],f=0,d=0;d<c;d++)if(d%4){var p=h[l.charCodeAt(d-1)]<<d%4*2,m=h[l.charCodeAt(d)]>>>6-d%4*2,x=p|m;u[f>>>2]|=x<<24-f%4*8,f++}return s.create(u,f)}}(),r.enc.Base64url})}(Bu)),Bu.exports}var Ru={exports:{}},Jg;function cs(){return Jg||(Jg=1,function(t,e){(function(r,i){t.exports=i(De())})(Te,function(r){return function(i){var n=r,s=n.lib,o=s.WordArray,a=s.Hasher,l=n.algo,c=[];(function(){for(var m=0;m<64;m++)c[m]=i.abs(i.sin(m+1))*4294967296|0})();var h=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,x){for(var y=0;y<16;y++){var _=x+y,g=m[_];m[_]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var v=this._hash.words,b=m[x+0],E=m[x+1],T=m[x+2],A=m[x+3],P=m[x+4],w=m[x+5],B=m[x+6],I=m[x+7],D=m[x+8],F=m[x+9],j=m[x+10],$=m[x+11],U=m[x+12],Z=m[x+13],le=m[x+14],H=m[x+15],O=v[0],k=v[1],G=v[2],L=v[3];O=u(O,k,G,L,b,7,c[0]),L=u(L,O,k,G,E,12,c[1]),G=u(G,L,O,k,T,17,c[2]),k=u(k,G,L,O,A,22,c[3]),O=u(O,k,G,L,P,7,c[4]),L=u(L,O,k,G,w,12,c[5]),G=u(G,L,O,k,B,17,c[6]),k=u(k,G,L,O,I,22,c[7]),O=u(O,k,G,L,D,7,c[8]),L=u(L,O,k,G,F,12,c[9]),G=u(G,L,O,k,j,17,c[10]),k=u(k,G,L,O,$,22,c[11]),O=u(O,k,G,L,U,7,c[12]),L=u(L,O,k,G,Z,12,c[13]),G=u(G,L,O,k,le,17,c[14]),k=u(k,G,L,O,H,22,c[15]),O=f(O,k,G,L,E,5,c[16]),L=f(L,O,k,G,B,9,c[17]),G=f(G,L,O,k,$,14,c[18]),k=f(k,G,L,O,b,20,c[19]),O=f(O,k,G,L,w,5,c[20]),L=f(L,O,k,G,j,9,c[21]),G=f(G,L,O,k,H,14,c[22]),k=f(k,G,L,O,P,20,c[23]),O=f(O,k,G,L,F,5,c[24]),L=f(L,O,k,G,le,9,c[25]),G=f(G,L,O,k,A,14,c[26]),k=f(k,G,L,O,D,20,c[27]),O=f(O,k,G,L,Z,5,c[28]),L=f(L,O,k,G,T,9,c[29]),G=f(G,L,O,k,I,14,c[30]),k=f(k,G,L,O,U,20,c[31]),O=d(O,k,G,L,w,4,c[32]),L=d(L,O,k,G,D,11,c[33]),G=d(G,L,O,k,$,16,c[34]),k=d(k,G,L,O,le,23,c[35]),O=d(O,k,G,L,E,4,c[36]),L=d(L,O,k,G,P,11,c[37]),G=d(G,L,O,k,I,16,c[38]),k=d(k,G,L,O,j,23,c[39]),O=d(O,k,G,L,Z,4,c[40]),L=d(L,O,k,G,b,11,c[41]),G=d(G,L,O,k,A,16,c[42]),k=d(k,G,L,O,B,23,c[43]),O=d(O,k,G,L,F,4,c[44]),L=d(L,O,k,G,U,11,c[45]),G=d(G,L,O,k,H,16,c[46]),k=d(k,G,L,O,T,23,c[47]),O=p(O,k,G,L,b,6,c[48]),L=p(L,O,k,G,I,10,c[49]),G=p(G,L,O,k,le,15,c[50]),k=p(k,G,L,O,w,21,c[51]),O=p(O,k,G,L,U,6,c[52]),L=p(L,O,k,G,A,10,c[53]),G=p(G,L,O,k,j,15,c[54]),k=p(k,G,L,O,E,21,c[55]),O=p(O,k,G,L,D,6,c[56]),L=p(L,O,k,G,H,10,c[57]),G=p(G,L,O,k,B,15,c[58]),k=p(k,G,L,O,Z,21,c[59]),O=p(O,k,G,L,P,6,c[60]),L=p(L,O,k,G,$,10,c[61]),G=p(G,L,O,k,T,15,c[62]),k=p(k,G,L,O,F,21,c[63]),v[0]=v[0]+O|0,v[1]=v[1]+k|0,v[2]=v[2]+G|0,v[3]=v[3]+L|0},_doFinalize:function(){var m=this._data,x=m.words,y=this._nDataBytes*8,_=m.sigBytes*8;x[_>>>5]|=128<<24-_%32;var g=i.floor(y/4294967296),v=y;x[(_+64>>>9<<4)+15]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,x[(_+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,m.sigBytes=(x.length+1)*4,this._process();for(var b=this._hash,E=b.words,T=0;T<4;T++){var A=E[T];E[T]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return b},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function u(m,x,y,_,g,v,b){var E=m+(x&y|~x&_)+g+b;return(E<<v|E>>>32-v)+x}function f(m,x,y,_,g,v,b){var E=m+(x&_|y&~_)+g+b;return(E<<v|E>>>32-v)+x}function d(m,x,y,_,g,v,b){var E=m+(x^y^_)+g+b;return(E<<v|E>>>32-v)+x}function p(m,x,y,_,g,v,b){var E=m+(y^(x|~_))+g+b;return(E<<v|E>>>32-v)+x}n.MD5=a._createHelper(h),n.HmacMD5=a._createHmacHelper(h)}(Math),r.MD5})}(Ru)),Ru.exports}var Pu={exports:{}},e_;function RE(){return e_||(e_=1,function(t,e){(function(r,i){t.exports=i(De())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=n.Hasher,a=i.algo,l=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(h,u){for(var f=this._hash.words,d=f[0],p=f[1],m=f[2],x=f[3],y=f[4],_=0;_<80;_++){if(_<16)l[_]=h[u+_]|0;else{var g=l[_-3]^l[_-8]^l[_-14]^l[_-16];l[_]=g<<1|g>>>31}var v=(d<<5|d>>>27)+y+l[_];_<20?v+=(p&m|~p&x)+1518500249:_<40?v+=(p^m^x)+1859775393:_<60?v+=(p&m|p&x|m&x)-1894007588:v+=(p^m^x)-899497514,y=x,x=m,m=p<<30|p>>>2,p=d,d=v}f[0]=f[0]+d|0,f[1]=f[1]+p|0,f[2]=f[2]+m|0,f[3]=f[3]+x|0,f[4]=f[4]+y|0},_doFinalize:function(){var h=this._data,u=h.words,f=this._nDataBytes*8,d=h.sigBytes*8;return u[d>>>5]|=128<<24-d%32,u[(d+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(d+64>>>9<<4)+15]=f,h.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var h=o.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA1=o._createHelper(c),i.HmacSHA1=o._createHmacHelper(c)}(),r.SHA1})}(Pu)),Pu.exports}var Du={exports:{}},t_;function hp(){return t_||(t_=1,function(t,e){(function(r,i){t.exports=i(De())})(Te,function(r){return function(i){var n=r,s=n.lib,o=s.WordArray,a=s.Hasher,l=n.algo,c=[],h=[];(function(){function d(y){for(var _=i.sqrt(y),g=2;g<=_;g++)if(!(y%g))return!1;return!0}function p(y){return(y-(y|0))*4294967296|0}for(var m=2,x=0;x<64;)d(m)&&(x<8&&(c[x]=p(i.pow(m,1/2))),h[x]=p(i.pow(m,1/3)),x++),m++})();var u=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(d,p){for(var m=this._hash.words,x=m[0],y=m[1],_=m[2],g=m[3],v=m[4],b=m[5],E=m[6],T=m[7],A=0;A<64;A++){if(A<16)u[A]=d[p+A]|0;else{var P=u[A-15],w=(P<<25|P>>>7)^(P<<14|P>>>18)^P>>>3,B=u[A-2],I=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;u[A]=w+u[A-7]+I+u[A-16]}var D=v&b^~v&E,F=x&y^x&_^y&_,j=(x<<30|x>>>2)^(x<<19|x>>>13)^(x<<10|x>>>22),$=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),U=T+$+D+h[A]+u[A],Z=j+F;T=E,E=b,b=v,v=g+U|0,g=_,_=y,y=x,x=U+Z|0}m[0]=m[0]+x|0,m[1]=m[1]+y|0,m[2]=m[2]+_|0,m[3]=m[3]+g|0,m[4]=m[4]+v|0,m[5]=m[5]+b|0,m[6]=m[6]+E|0,m[7]=m[7]+T|0},_doFinalize:function(){var d=this._data,p=d.words,m=this._nDataBytes*8,x=d.sigBytes*8;return p[x>>>5]|=128<<24-x%32,p[(x+64>>>9<<4)+14]=i.floor(m/4294967296),p[(x+64>>>9<<4)+15]=m,d.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA256=a._createHelper(f),n.HmacSHA256=a._createHmacHelper(f)}(Math),r.SHA256})}(Du)),Du.exports}var Iu={exports:{}},r_;function f7(){return r_||(r_=1,function(t,e){(function(r,i,n){t.exports=i(De(),hp())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=i.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});i.SHA224=a._createHelper(l),i.HmacSHA224=a._createHmacHelper(l)}(),r.SHA224})}(Iu)),Iu.exports}var Fu={exports:{}},i_;function PE(){return i_||(i_=1,function(t,e){(function(r,i,n){t.exports=i(De(),uh())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.Hasher,o=i.x64,a=o.Word,l=o.WordArray,c=i.algo;function h(){return a.create.apply(a,arguments)}var u=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],f=[];(function(){for(var p=0;p<80;p++)f[p]=h()})();var d=c.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var x=this._hash.words,y=x[0],_=x[1],g=x[2],v=x[3],b=x[4],E=x[5],T=x[6],A=x[7],P=y.high,w=y.low,B=_.high,I=_.low,D=g.high,F=g.low,j=v.high,$=v.low,U=b.high,Z=b.low,le=E.high,H=E.low,O=T.high,k=T.low,G=A.high,L=A.low,xe=P,ce=w,N=B,W=I,Q=D,ie=F,ue=j,S=$,R=U,M=Z,z=le,X=H,K=O,re=k,J=G,ee=L,Y=0;Y<80;Y++){var ae,se,de=f[Y];if(Y<16)se=de.high=p[m+Y*2]|0,ae=de.low=p[m+Y*2+1]|0;else{var ye=f[Y-15],Ee=ye.high,Oe=ye.low,Ne=(Ee>>>1|Oe<<31)^(Ee>>>8|Oe<<24)^Ee>>>7,Ke=(Oe>>>1|Ee<<31)^(Oe>>>8|Ee<<24)^(Oe>>>7|Ee<<25),Ut=f[Y-2],Zt=Ut.high,Mi=Ut.low,mn=(Zt>>>19|Mi<<13)^(Zt<<3|Mi>>>29)^Zt>>>6,bo=(Mi>>>19|Zt<<13)^(Mi<<3|Zt>>>29)^(Mi>>>6|Zt<<26),Ct=f[Y-7],cr=Ct.high,$a=Ct.low,pp=f[Y-16],GE=pp.high,mp=pp.low;ae=Ke+$a,se=Ne+cr+(ae>>>0<Ke>>>0?1:0),ae=ae+bo,se=se+mn+(ae>>>0<bo>>>0?1:0),ae=ae+mp,se=se+GE+(ae>>>0<mp>>>0?1:0),de.high=se,de.low=ae}var $E=R&z^~R&K,xp=M&X^~M&re,WE=xe&N^xe&Q^N&Q,jE=ce&W^ce&ie^W&ie,XE=(xe>>>28|ce<<4)^(xe<<30|ce>>>2)^(xe<<25|ce>>>7),gp=(ce>>>28|xe<<4)^(ce<<30|xe>>>2)^(ce<<25|xe>>>7),VE=(R>>>14|M<<18)^(R>>>18|M<<14)^(R<<23|M>>>9),qE=(M>>>14|R<<18)^(M>>>18|R<<14)^(M<<23|R>>>9),_p=u[Y],YE=_p.high,yp=_p.low,Qt=ee+qE,Oi=J+VE+(Qt>>>0<ee>>>0?1:0),Qt=Qt+xp,Oi=Oi+$E+(Qt>>>0<xp>>>0?1:0),Qt=Qt+yp,Oi=Oi+YE+(Qt>>>0<yp>>>0?1:0),Qt=Qt+ae,Oi=Oi+se+(Qt>>>0<ae>>>0?1:0),vp=gp+jE,KE=XE+WE+(vp>>>0<gp>>>0?1:0);J=K,ee=re,K=z,re=X,z=R,X=M,M=S+Qt|0,R=ue+Oi+(M>>>0<S>>>0?1:0)|0,ue=Q,S=ie,Q=N,ie=W,N=xe,W=ce,ce=Qt+vp|0,xe=Oi+KE+(ce>>>0<Qt>>>0?1:0)|0}w=y.low=w+ce,y.high=P+xe+(w>>>0<ce>>>0?1:0),I=_.low=I+W,_.high=B+N+(I>>>0<W>>>0?1:0),F=g.low=F+ie,g.high=D+Q+(F>>>0<ie>>>0?1:0),$=v.low=$+S,v.high=j+ue+($>>>0<S>>>0?1:0),Z=b.low=Z+M,b.high=U+R+(Z>>>0<M>>>0?1:0),H=E.low=H+X,E.high=le+z+(H>>>0<X>>>0?1:0),k=T.low=k+re,T.high=O+K+(k>>>0<re>>>0?1:0),L=A.low=L+ee,A.high=G+J+(L>>>0<ee>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,x=this._nDataBytes*8,y=p.sigBytes*8;m[y>>>5]|=128<<24-y%32,m[(y+128>>>10<<5)+30]=Math.floor(x/4294967296),m[(y+128>>>10<<5)+31]=x,p.sigBytes=m.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});i.SHA512=s._createHelper(d),i.HmacSHA512=s._createHmacHelper(d)}(),r.SHA512})}(Fu)),Fu.exports}var Mu={exports:{}},n_;function d7(){return n_||(n_=1,function(t,e){(function(r,i,n){t.exports=i(De(),uh(),PE())})(Te,function(r){return function(){var i=r,n=i.x64,s=n.Word,o=n.WordArray,a=i.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var h=l._doFinalize.call(this);return h.sigBytes-=16,h}});i.SHA384=l._createHelper(c),i.HmacSHA384=l._createHmacHelper(c)}(),r.SHA384})}(Mu)),Mu.exports}var Ou={exports:{}},s_;function p7(){return s_||(s_=1,function(t,e){(function(r,i,n){t.exports=i(De(),uh())})(Te,function(r){return function(i){var n=r,s=n.lib,o=s.WordArray,a=s.Hasher,l=n.x64,c=l.Word,h=n.algo,u=[],f=[],d=[];(function(){for(var x=1,y=0,_=0;_<24;_++){u[x+5*y]=(_+1)*(_+2)/2%64;var g=y%5,v=(2*x+3*y)%5;x=g,y=v}for(var x=0;x<5;x++)for(var y=0;y<5;y++)f[x+5*y]=y+(2*x+3*y)%5*5;for(var b=1,E=0;E<24;E++){for(var T=0,A=0,P=0;P<7;P++){if(b&1){var w=(1<<P)-1;w<32?A^=1<<w:T^=1<<w-32}b&128?b=b<<1^113:b<<=1}d[E]=c.create(T,A)}})();var p=[];(function(){for(var x=0;x<25;x++)p[x]=c.create()})();var m=h.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var x=this._state=[],y=0;y<25;y++)x[y]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(x,y){for(var _=this._state,g=this.blockSize/2,v=0;v<g;v++){var b=x[y+2*v],E=x[y+2*v+1];b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var T=_[v];T.high^=E,T.low^=b}for(var A=0;A<24;A++){for(var P=0;P<5;P++){for(var w=0,B=0,I=0;I<5;I++){var T=_[P+5*I];w^=T.high,B^=T.low}var D=p[P];D.high=w,D.low=B}for(var P=0;P<5;P++)for(var F=p[(P+4)%5],j=p[(P+1)%5],$=j.high,U=j.low,w=F.high^($<<1|U>>>31),B=F.low^(U<<1|$>>>31),I=0;I<5;I++){var T=_[P+5*I];T.high^=w,T.low^=B}for(var Z=1;Z<25;Z++){var w,B,T=_[Z],le=T.high,H=T.low,O=u[Z];O<32?(w=le<<O|H>>>32-O,B=H<<O|le>>>32-O):(w=H<<O-32|le>>>64-O,B=le<<O-32|H>>>64-O);var k=p[f[Z]];k.high=w,k.low=B}var G=p[0],L=_[0];G.high=L.high,G.low=L.low;for(var P=0;P<5;P++)for(var I=0;I<5;I++){var Z=P+5*I,T=_[Z],xe=p[Z],ce=p[(P+1)%5+5*I],N=p[(P+2)%5+5*I];T.high=xe.high^~ce.high&N.high,T.low=xe.low^~ce.low&N.low}var T=_[0],W=d[A];T.high^=W.high,T.low^=W.low}},_doFinalize:function(){var x=this._data,y=x.words;this._nDataBytes*8;var _=x.sigBytes*8,g=this.blockSize*32;y[_>>>5]|=1<<24-_%32,y[(i.ceil((_+1)/g)*g>>>5)-1]|=128,x.sigBytes=y.length*4,this._process();for(var v=this._state,b=this.cfg.outputLength/8,E=b/8,T=[],A=0;A<E;A++){var P=v[A],w=P.high,B=P.low;w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,T.push(B),T.push(w)}return new o.init(T,b)},clone:function(){for(var x=a.clone.call(this),y=x._state=this._state.slice(0),_=0;_<25;_++)y[_]=y[_].clone();return x}});n.SHA3=a._createHelper(m),n.HmacSHA3=a._createHmacHelper(m)}(Math),r.SHA3})}(Ou)),Ou.exports}var ku={exports:{}},o_;function m7(){return o_||(o_=1,function(t,e){(function(r,i){t.exports=i(De())})(Te,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(i){var n=r,s=n.lib,o=s.WordArray,a=s.Hasher,l=n.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,T){for(var A=0;A<16;A++){var P=T+A,w=E[P];E[P]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var B=this._hash.words,I=d.words,D=p.words,F=c.words,j=h.words,$=u.words,U=f.words,Z,le,H,O,k,G,L,xe,ce,N;G=Z=B[0],L=le=B[1],xe=H=B[2],ce=O=B[3],N=k=B[4];for(var W,A=0;A<80;A+=1)W=Z+E[T+F[A]]|0,A<16?W+=x(le,H,O)+I[0]:A<32?W+=y(le,H,O)+I[1]:A<48?W+=_(le,H,O)+I[2]:A<64?W+=g(le,H,O)+I[3]:W+=v(le,H,O)+I[4],W=W|0,W=b(W,$[A]),W=W+k|0,Z=k,k=O,O=b(H,10),H=le,le=W,W=G+E[T+j[A]]|0,A<16?W+=v(L,xe,ce)+D[0]:A<32?W+=g(L,xe,ce)+D[1]:A<48?W+=_(L,xe,ce)+D[2]:A<64?W+=y(L,xe,ce)+D[3]:W+=x(L,xe,ce)+D[4],W=W|0,W=b(W,U[A]),W=W+N|0,G=N,N=ce,ce=b(xe,10),xe=L,L=W;W=B[1]+H+ce|0,B[1]=B[2]+O+N|0,B[2]=B[3]+k+G|0,B[3]=B[4]+Z+L|0,B[4]=B[0]+le+xe|0,B[0]=W},_doFinalize:function(){var E=this._data,T=E.words,A=this._nDataBytes*8,P=E.sigBytes*8;T[P>>>5]|=128<<24-P%32,T[(P+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,E.sigBytes=(T.length+1)*4,this._process();for(var w=this._hash,B=w.words,I=0;I<5;I++){var D=B[I];B[I]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return w},clone:function(){var E=a.clone.call(this);return E._hash=this._hash.clone(),E}});function x(E,T,A){return E^T^A}function y(E,T,A){return E&T|~E&A}function _(E,T,A){return(E|~T)^A}function g(E,T,A){return E&A|T&~A}function v(E,T,A){return E^(T|~A)}function b(E,T){return E<<T|E>>>32-T}n.RIPEMD160=a._createHelper(m),n.HmacRIPEMD160=a._createHmacHelper(m)}(),r.RIPEMD160})}(ku)),ku.exports}var Nu={exports:{}},a_;function up(){return a_||(a_=1,function(t,e){(function(r,i){t.exports=i(De())})(Te,function(r){(function(){var i=r,n=i.lib,s=n.Base,o=i.enc,a=o.Utf8,l=i.algo;l.HMAC=s.extend({init:function(c,h){c=this._hasher=new c.init,typeof h=="string"&&(h=a.parse(h));var u=c.blockSize,f=u*4;h.sigBytes>f&&(h=c.finalize(h)),h.clamp();for(var d=this._oKey=h.clone(),p=this._iKey=h.clone(),m=d.words,x=p.words,y=0;y<u;y++)m[y]^=1549556828,x[y]^=909522486;d.sigBytes=p.sigBytes=f,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var h=this._hasher,u=h.finalize(c);h.reset();var f=h.finalize(this._oKey.clone().concat(u));return f}})})()})}(Nu)),Nu.exports}var Lu={exports:{}},l_;function x7(){return l_||(l_=1,function(t,e){(function(r,i,n){t.exports=i(De(),hp(),up())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.Base,o=n.WordArray,a=i.algo,l=a.SHA256,c=a.HMAC,h=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var d=this.cfg,p=c.create(d.hasher,u),m=o.create(),x=o.create([1]),y=m.words,_=x.words,g=d.keySize,v=d.iterations;y.length<g;){var b=p.update(f).finalize(x);p.reset();for(var E=b.words,T=E.length,A=b,P=1;P<v;P++){A=p.finalize(A),p.reset();for(var w=A.words,B=0;B<T;B++)E[B]^=w[B]}m.concat(b),_[0]++}return m.sigBytes=g*4,m}});i.PBKDF2=function(u,f,d){return h.create(d).compute(u,f)}}(),r.PBKDF2})}(Lu)),Lu.exports}var Uu={exports:{}},c_;function pn(){return c_||(c_=1,function(t,e){(function(r,i,n){t.exports=i(De(),RE(),up())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.Base,o=n.WordArray,a=i.algo,l=a.MD5,c=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,u){for(var f,d=this.cfg,p=d.hasher.create(),m=o.create(),x=m.words,y=d.keySize,_=d.iterations;x.length<y;){f&&p.update(f),f=p.update(h).finalize(u),p.reset();for(var g=1;g<_;g++)f=p.finalize(f),p.reset();m.concat(f)}return m.sigBytes=y*4,m}});i.EvpKDF=function(h,u,f){return c.create(f).compute(h,u)}}(),r.EvpKDF})}(Uu)),Uu.exports}var zu={exports:{}},h_;function _t(){return h_||(h_=1,function(t,e){(function(r,i,n){t.exports=i(De(),pn())})(Te,function(r){r.lib.Cipher||function(i){var n=r,s=n.lib,o=s.Base,a=s.WordArray,l=s.BufferedBlockAlgorithm,c=n.enc;c.Utf8;var h=c.Base64,u=n.algo,f=u.EvpKDF,d=s.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(w,B){return this.create(this._ENC_XFORM_MODE,w,B)},createDecryptor:function(w,B){return this.create(this._DEC_XFORM_MODE,w,B)},init:function(w,B,I){this.cfg=this.cfg.extend(I),this._xformMode=w,this._key=B,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(w){return this._append(w),this._process()},finalize:function(w){w&&this._append(w);var B=this._doFinalize();return B},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function w(B){return typeof B=="string"?P:E}return function(B){return{encrypt:function(I,D,F){return w(D).encrypt(B,I,D,F)},decrypt:function(I,D,F){return w(D).decrypt(B,I,D,F)}}}}()});s.StreamCipher=d.extend({_doFinalize:function(){var w=this._process(!0);return w},blockSize:1});var p=n.mode={},m=s.BlockCipherMode=o.extend({createEncryptor:function(w,B){return this.Encryptor.create(w,B)},createDecryptor:function(w,B){return this.Decryptor.create(w,B)},init:function(w,B){this._cipher=w,this._iv=B}}),x=p.CBC=function(){var w=m.extend();w.Encryptor=w.extend({processBlock:function(I,D){var F=this._cipher,j=F.blockSize;B.call(this,I,D,j),F.encryptBlock(I,D),this._prevBlock=I.slice(D,D+j)}}),w.Decryptor=w.extend({processBlock:function(I,D){var F=this._cipher,j=F.blockSize,$=I.slice(D,D+j);F.decryptBlock(I,D),B.call(this,I,D,j),this._prevBlock=$}});function B(I,D,F){var j,$=this._iv;$?(j=$,this._iv=i):j=this._prevBlock;for(var U=0;U<F;U++)I[D+U]^=j[U]}return w}(),y=n.pad={},_=y.Pkcs7={pad:function(w,B){for(var I=B*4,D=I-w.sigBytes%I,F=D<<24|D<<16|D<<8|D,j=[],$=0;$<D;$+=4)j.push(F);var U=a.create(j,D);w.concat(U)},unpad:function(w){var B=w.words[w.sigBytes-1>>>2]&255;w.sigBytes-=B}};s.BlockCipher=d.extend({cfg:d.cfg.extend({mode:x,padding:_}),reset:function(){var w;d.reset.call(this);var B=this.cfg,I=B.iv,D=B.mode;this._xformMode==this._ENC_XFORM_MODE?w=D.createEncryptor:(w=D.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==w?this._mode.init(this,I&&I.words):(this._mode=w.call(D,this,I&&I.words),this._mode.__creator=w)},_doProcessBlock:function(w,B){this._mode.processBlock(w,B)},_doFinalize:function(){var w,B=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(B.pad(this._data,this.blockSize),w=this._process(!0)):(w=this._process(!0),B.unpad(w)),w},blockSize:128/32});var g=s.CipherParams=o.extend({init:function(w){this.mixIn(w)},toString:function(w){return(w||this.formatter).stringify(this)}}),v=n.format={},b=v.OpenSSL={stringify:function(w){var B,I=w.ciphertext,D=w.salt;return D?B=a.create([1398893684,1701076831]).concat(D).concat(I):B=I,B.toString(h)},parse:function(w){var B,I=h.parse(w),D=I.words;return D[0]==1398893684&&D[1]==1701076831&&(B=a.create(D.slice(2,4)),D.splice(0,4),I.sigBytes-=16),g.create({ciphertext:I,salt:B})}},E=s.SerializableCipher=o.extend({cfg:o.extend({format:b}),encrypt:function(w,B,I,D){D=this.cfg.extend(D);var F=w.createEncryptor(I,D),j=F.finalize(B),$=F.cfg;return g.create({ciphertext:j,key:I,iv:$.iv,algorithm:w,mode:$.mode,padding:$.padding,blockSize:w.blockSize,formatter:D.format})},decrypt:function(w,B,I,D){D=this.cfg.extend(D),B=this._parse(B,D.format);var F=w.createDecryptor(I,D).finalize(B.ciphertext);return F},_parse:function(w,B){return typeof w=="string"?B.parse(w,this):w}}),T=n.kdf={},A=T.OpenSSL={execute:function(w,B,I,D,F){if(D||(D=a.random(64/8)),F)var j=f.create({keySize:B+I,hasher:F}).compute(w,D);else var j=f.create({keySize:B+I}).compute(w,D);var $=a.create(j.words.slice(B),I*4);return j.sigBytes=B*4,g.create({key:j,iv:$,salt:D})}},P=s.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:A}),encrypt:function(w,B,I,D){D=this.cfg.extend(D);var F=D.kdf.execute(I,w.keySize,w.ivSize,D.salt,D.hasher);D.iv=F.iv;var j=E.encrypt.call(this,w,B,F.key,D);return j.mixIn(F),j},decrypt:function(w,B,I,D){D=this.cfg.extend(D),B=this._parse(B,D.format);var F=D.kdf.execute(I,w.keySize,w.ivSize,B.salt,D.hasher);D.iv=F.iv;var j=E.decrypt.call(this,w,B,F.key,D);return j}})}()})}(zu)),zu.exports}var Hu={exports:{}},u_;function g7(){return u_||(u_=1,function(t,e){(function(r,i,n){t.exports=i(De(),_t())})(Te,function(r){return r.mode.CFB=function(){var i=r.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize;n.call(this,s,o,l,a),this._prevBlock=s.slice(o,o+l)}}),i.Decryptor=i.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=s.slice(o,o+l);n.call(this,s,o,l,a),this._prevBlock=c}});function n(s,o,a,l){var c,h=this._iv;h?(c=h.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var u=0;u<a;u++)s[o+u]^=c[u]}return i}(),r.mode.CFB})}(Hu)),Hu.exports}var Gu={exports:{}},f_;function _7(){return f_||(f_=1,function(t,e){(function(r,i,n){t.exports=i(De(),_t())})(Te,function(r){return r.mode.CTR=function(){var i=r.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,h=this._counter;c&&(h=this._counter=c.slice(0),this._iv=void 0);var u=h.slice(0);a.encryptBlock(u,0),h[l-1]=h[l-1]+1|0;for(var f=0;f<l;f++)s[o+f]^=u[f]}});return i.Decryptor=n,i}(),r.mode.CTR})}(Gu)),Gu.exports}var $u={exports:{}},d_;function y7(){return d_||(d_=1,function(t,e){(function(r,i,n){t.exports=i(De(),_t())})(Te,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var i=r.lib.BlockCipherMode.extend();function n(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,h=a&255;l===255?(l=0,c===255?(c=0,h===255?h=0:++h):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=h}else a+=1<<24;return a}function s(a){return(a[0]=n(a[0]))===0&&(a[1]=n(a[1])),a}var o=i.Encryptor=i.extend({processBlock:function(a,l){var c=this._cipher,h=c.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),s(f);var d=f.slice(0);c.encryptBlock(d,0);for(var p=0;p<h;p++)a[l+p]^=d[p]}});return i.Decryptor=o,i}(),r.mode.CTRGladman})}($u)),$u.exports}var Wu={exports:{}},p_;function v7(){return p_||(p_=1,function(t,e){(function(r,i,n){t.exports=i(De(),_t())})(Te,function(r){return r.mode.OFB=function(){var i=r.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,h=this._keystream;c&&(h=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(h,0);for(var u=0;u<l;u++)s[o+u]^=h[u]}});return i.Decryptor=n,i}(),r.mode.OFB})}(Wu)),Wu.exports}var ju={exports:{}},m_;function b7(){return m_||(m_=1,function(t,e){(function(r,i,n){t.exports=i(De(),_t())})(Te,function(r){return r.mode.ECB=function(){var i=r.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(n,s){this._cipher.encryptBlock(n,s)}}),i.Decryptor=i.extend({processBlock:function(n,s){this._cipher.decryptBlock(n,s)}}),i}(),r.mode.ECB})}(ju)),ju.exports}var Xu={exports:{}},x_;function E7(){return x_||(x_=1,function(t,e){(function(r,i,n){t.exports=i(De(),_t())})(Te,function(r){return r.pad.AnsiX923={pad:function(i,n){var s=i.sigBytes,o=n*4,a=o-s%o,l=s+a-1;i.clamp(),i.words[l>>>2]|=a<<24-l%4*8,i.sigBytes+=a},unpad:function(i){var n=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=n}},r.pad.Ansix923})}(Xu)),Xu.exports}var Vu={exports:{}},g_;function T7(){return g_||(g_=1,function(t,e){(function(r,i,n){t.exports=i(De(),_t())})(Te,function(r){return r.pad.Iso10126={pad:function(i,n){var s=n*4,o=s-i.sigBytes%s;i.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(i){var n=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=n}},r.pad.Iso10126})}(Vu)),Vu.exports}var qu={exports:{}},__;function A7(){return __||(__=1,function(t,e){(function(r,i,n){t.exports=i(De(),_t())})(Te,function(r){return r.pad.Iso97971={pad:function(i,n){i.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(i,n)},unpad:function(i){r.pad.ZeroPadding.unpad(i),i.sigBytes--}},r.pad.Iso97971})}(qu)),qu.exports}var Yu={exports:{}},y_;function w7(){return y_||(y_=1,function(t,e){(function(r,i,n){t.exports=i(De(),_t())})(Te,function(r){return r.pad.ZeroPadding={pad:function(i,n){var s=n*4;i.clamp(),i.sigBytes+=s-(i.sigBytes%s||s)},unpad:function(i){for(var n=i.words,s=i.sigBytes-1,s=i.sigBytes-1;s>=0;s--)if(n[s>>>2]>>>24-s%4*8&255){i.sigBytes=s+1;break}}},r.pad.ZeroPadding})}(Yu)),Yu.exports}var Ku={exports:{}},v_;function S7(){return v_||(v_=1,function(t,e){(function(r,i,n){t.exports=i(De(),_t())})(Te,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Ku)),Ku.exports}var Zu={exports:{}},b_;function C7(){return b_||(b_=1,function(t,e){(function(r,i,n){t.exports=i(De(),_t())})(Te,function(r){return function(i){var n=r,s=n.lib,o=s.CipherParams,a=n.enc,l=a.Hex,c=n.format;c.Hex={stringify:function(h){return h.ciphertext.toString(l)},parse:function(h){var u=l.parse(h);return o.create({ciphertext:u})}}}(),r.format.Hex})}(Zu)),Zu.exports}var Qu={exports:{}},E_;function B7(){return E_||(E_=1,function(t,e){(function(r,i,n){t.exports=i(De(),ls(),cs(),pn(),_t())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.BlockCipher,o=i.algo,a=[],l=[],c=[],h=[],u=[],f=[],d=[],p=[],m=[],x=[];(function(){for(var g=[],v=0;v<256;v++)v<128?g[v]=v<<1:g[v]=v<<1^283;for(var b=0,E=0,v=0;v<256;v++){var T=E^E<<1^E<<2^E<<3^E<<4;T=T>>>8^T&255^99,a[b]=T,l[T]=b;var A=g[b],P=g[A],w=g[P],B=g[T]*257^T*16843008;c[b]=B<<24|B>>>8,h[b]=B<<16|B>>>16,u[b]=B<<8|B>>>24,f[b]=B;var B=w*16843009^P*65537^A*257^b*16843008;d[T]=B<<24|B>>>8,p[T]=B<<16|B>>>16,m[T]=B<<8|B>>>24,x[T]=B,b?(b=A^g[g[g[w^A]]],E^=g[g[E]]):b=E=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=s.extend({_doReset:function(){var g;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var v=this._keyPriorReset=this._key,b=v.words,E=v.sigBytes/4,T=this._nRounds=E+6,A=(T+1)*4,P=this._keySchedule=[],w=0;w<A;w++)w<E?P[w]=b[w]:(g=P[w-1],w%E?E>6&&w%E==4&&(g=a[g>>>24]<<24|a[g>>>16&255]<<16|a[g>>>8&255]<<8|a[g&255]):(g=g<<8|g>>>24,g=a[g>>>24]<<24|a[g>>>16&255]<<16|a[g>>>8&255]<<8|a[g&255],g^=y[w/E|0]<<24),P[w]=P[w-E]^g);for(var B=this._invKeySchedule=[],I=0;I<A;I++){var w=A-I;if(I%4)var g=P[w];else var g=P[w-4];I<4||w<=4?B[I]=g:B[I]=d[a[g>>>24]]^p[a[g>>>16&255]]^m[a[g>>>8&255]]^x[a[g&255]]}}},encryptBlock:function(g,v){this._doCryptBlock(g,v,this._keySchedule,c,h,u,f,a)},decryptBlock:function(g,v){var b=g[v+1];g[v+1]=g[v+3],g[v+3]=b,this._doCryptBlock(g,v,this._invKeySchedule,d,p,m,x,l);var b=g[v+1];g[v+1]=g[v+3],g[v+3]=b},_doCryptBlock:function(g,v,b,E,T,A,P,w){for(var B=this._nRounds,I=g[v]^b[0],D=g[v+1]^b[1],F=g[v+2]^b[2],j=g[v+3]^b[3],$=4,U=1;U<B;U++){var Z=E[I>>>24]^T[D>>>16&255]^A[F>>>8&255]^P[j&255]^b[$++],le=E[D>>>24]^T[F>>>16&255]^A[j>>>8&255]^P[I&255]^b[$++],H=E[F>>>24]^T[j>>>16&255]^A[I>>>8&255]^P[D&255]^b[$++],O=E[j>>>24]^T[I>>>16&255]^A[D>>>8&255]^P[F&255]^b[$++];I=Z,D=le,F=H,j=O}var Z=(w[I>>>24]<<24|w[D>>>16&255]<<16|w[F>>>8&255]<<8|w[j&255])^b[$++],le=(w[D>>>24]<<24|w[F>>>16&255]<<16|w[j>>>8&255]<<8|w[I&255])^b[$++],H=(w[F>>>24]<<24|w[j>>>16&255]<<16|w[I>>>8&255]<<8|w[D&255])^b[$++],O=(w[j>>>24]<<24|w[I>>>16&255]<<16|w[D>>>8&255]<<8|w[F&255])^b[$++];g[v]=Z,g[v+1]=le,g[v+2]=H,g[v+3]=O},keySize:256/32});i.AES=s._createHelper(_)}(),r.AES})}(Qu)),Qu.exports}var Ju={exports:{}},T_;function R7(){return T_||(T_=1,function(t,e){(function(r,i,n){t.exports=i(De(),ls(),cs(),pn(),_t())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=n.BlockCipher,a=i.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],h=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=a.DES=o.extend({_doReset:function(){for(var y=this._key,_=y.words,g=[],v=0;v<56;v++){var b=l[v]-1;g[v]=_[b>>>5]>>>31-b%32&1}for(var E=this._subKeys=[],T=0;T<16;T++){for(var A=E[T]=[],P=h[T],v=0;v<24;v++)A[v/6|0]|=g[(c[v]-1+P)%28]<<31-v%6,A[4+(v/6|0)]|=g[28+(c[v+24]-1+P)%28]<<31-v%6;A[0]=A[0]<<1|A[0]>>>31;for(var v=1;v<7;v++)A[v]=A[v]>>>(v-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var w=this._invSubKeys=[],v=0;v<16;v++)w[v]=E[15-v]},encryptBlock:function(y,_){this._doCryptBlock(y,_,this._subKeys)},decryptBlock:function(y,_){this._doCryptBlock(y,_,this._invSubKeys)},_doCryptBlock:function(y,_,g){this._lBlock=y[_],this._rBlock=y[_+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var v=0;v<16;v++){for(var b=g[v],E=this._lBlock,T=this._rBlock,A=0,P=0;P<8;P++)A|=u[P][((T^b[P])&f[P])>>>0];this._lBlock=T,this._rBlock=E^A}var w=this._lBlock;this._lBlock=this._rBlock,this._rBlock=w,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),y[_]=this._lBlock,y[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(y,_){var g=(this._lBlock>>>y^this._rBlock)&_;this._rBlock^=g,this._lBlock^=g<<y}function m(y,_){var g=(this._rBlock>>>y^this._lBlock)&_;this._lBlock^=g,this._rBlock^=g<<y}i.DES=o._createHelper(d);var x=a.TripleDES=o.extend({_doReset:function(){var y=this._key,_=y.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var g=_.slice(0,2),v=_.length<4?_.slice(0,2):_.slice(2,4),b=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=d.createEncryptor(s.create(g)),this._des2=d.createEncryptor(s.create(v)),this._des3=d.createEncryptor(s.create(b))},encryptBlock:function(y,_){this._des1.encryptBlock(y,_),this._des2.decryptBlock(y,_),this._des3.encryptBlock(y,_)},decryptBlock:function(y,_){this._des3.decryptBlock(y,_),this._des2.encryptBlock(y,_),this._des1.decryptBlock(y,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=o._createHelper(x)}(),r.TripleDES})}(Ju)),Ju.exports}var ef={exports:{}},A_;function P7(){return A_||(A_=1,function(t,e){(function(r,i,n){t.exports=i(De(),ls(),cs(),pn(),_t())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.StreamCipher,o=i.algo,a=o.RC4=s.extend({_doReset:function(){for(var h=this._key,u=h.words,f=h.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,m=0;p<256;p++){var x=p%f,y=u[x>>>2]>>>24-x%4*8&255;m=(m+d[p]+y)%256;var _=d[p];d[p]=d[m],d[m]=_}this._i=this._j=0},_doProcessBlock:function(h,u){h[u]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var h=this._S,u=this._i,f=this._j,d=0,p=0;p<4;p++){u=(u+1)%256,f=(f+h[u])%256;var m=h[u];h[u]=h[f],h[f]=m,d|=h[(h[u]+h[f])%256]<<24-p*8}return this._i=u,this._j=f,d}i.RC4=s._createHelper(a);var c=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var h=this.cfg.drop;h>0;h--)l.call(this)}});i.RC4Drop=s._createHelper(c)}(),r.RC4})}(ef)),ef.exports}var tf={exports:{}},w_;function D7(){return w_||(w_=1,function(t,e){(function(r,i,n){t.exports=i(De(),ls(),cs(),pn(),_t())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.StreamCipher,o=i.algo,a=[],l=[],c=[],h=o.Rabbit=s.extend({_doReset:function(){for(var f=this._key.words,d=this.cfg.iv,p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360;var m=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],x=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var p=0;p<4;p++)u.call(this);for(var p=0;p<8;p++)x[p]^=m[p+4&7];if(d){var y=d.words,_=y[0],g=y[1],v=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,b=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,E=v>>>16|b&4294901760,T=b<<16|v&65535;x[0]^=v,x[1]^=E,x[2]^=b,x[3]^=T,x[4]^=v,x[5]^=E,x[6]^=b,x[7]^=T;for(var p=0;p<4;p++)u.call(this)}},_doProcessBlock:function(f,d){var p=this._X;u.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[d+m]^=a[m]},blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,d=this._C,p=0;p<8;p++)l[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+d[p],x=m&65535,y=m>>>16,_=((x*x>>>17)+x*y>>>15)+y*y,g=((m&4294901760)*m|0)+((m&65535)*m|0);c[p]=_^g}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}i.Rabbit=s._createHelper(h)}(),r.Rabbit})}(tf)),tf.exports}var rf={exports:{}},S_;function I7(){return S_||(S_=1,function(t,e){(function(r,i,n){t.exports=i(De(),ls(),cs(),pn(),_t())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.StreamCipher,o=i.algo,a=[],l=[],c=[],h=o.RabbitLegacy=s.extend({_doReset:function(){var f=this._key.words,d=this.cfg.iv,p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],m=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var x=0;x<4;x++)u.call(this);for(var x=0;x<8;x++)m[x]^=p[x+4&7];if(d){var y=d.words,_=y[0],g=y[1],v=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,b=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,E=v>>>16|b&4294901760,T=b<<16|v&65535;m[0]^=v,m[1]^=E,m[2]^=b,m[3]^=T,m[4]^=v,m[5]^=E,m[6]^=b,m[7]^=T;for(var x=0;x<4;x++)u.call(this)}},_doProcessBlock:function(f,d){var p=this._X;u.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[d+m]^=a[m]},blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,d=this._C,p=0;p<8;p++)l[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+d[p],x=m&65535,y=m>>>16,_=((x*x>>>17)+x*y>>>15)+y*y,g=((m&4294901760)*m|0)+((m&65535)*m|0);c[p]=_^g}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}i.RabbitLegacy=s._createHelper(h)}(),r.RabbitLegacy})}(rf)),rf.exports}var nf={exports:{}},C_;function F7(){return C_||(C_=1,function(t,e){(function(r,i,n){t.exports=i(De(),ls(),cs(),pn(),_t())})(Te,function(r){return function(){var i=r,n=i.lib,s=n.BlockCipher,o=i.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var h={pbox:[],sbox:[]};function u(x,y){let _=y>>24&255,g=y>>16&255,v=y>>8&255,b=y&255,E=x.sbox[0][_]+x.sbox[1][g];return E=E^x.sbox[2][v],E=E+x.sbox[3][b],E}function f(x,y,_){let g=y,v=_,b;for(let E=0;E<a;++E)g=g^x.pbox[E],v=u(x,g)^v,b=g,g=v,v=b;return b=g,g=v,v=b,v=v^x.pbox[a],g=g^x.pbox[a+1],{left:g,right:v}}function d(x,y,_){let g=y,v=_,b;for(let E=a+1;E>1;--E)g=g^x.pbox[E],v=u(x,g)^v,b=g,g=v,v=b;return b=g,g=v,v=b,v=v^x.pbox[1],g=g^x.pbox[0],{left:g,right:v}}function p(x,y,_){for(let T=0;T<4;T++){x.sbox[T]=[];for(let A=0;A<256;A++)x.sbox[T][A]=c[T][A]}let g=0;for(let T=0;T<a+2;T++)x.pbox[T]=l[T]^y[g],g++,g>=_&&(g=0);let v=0,b=0,E=0;for(let T=0;T<a+2;T+=2)E=f(x,v,b),v=E.left,b=E.right,x.pbox[T]=v,x.pbox[T+1]=b;for(let T=0;T<4;T++)for(let A=0;A<256;A+=2)E=f(x,v,b),v=E.left,b=E.right,x.sbox[T][A]=v,x.sbox[T][A+1]=b;return!0}var m=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var x=this._keyPriorReset=this._key,y=x.words,_=x.sigBytes/4;p(h,y,_)}},encryptBlock:function(x,y){var _=f(h,x[y],x[y+1]);x[y]=_.left,x[y+1]=_.right},decryptBlock:function(x,y){var _=d(h,x[y],x[y+1]);x[y]=_.left,x[y+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=s._createHelper(m)}(),r.Blowfish})}(nf)),nf.exports}(function(t,e){(function(r,i,n){t.exports=i(De(),uh(),c7(),h7(),ls(),u7(),cs(),RE(),hp(),f7(),PE(),d7(),p7(),m7(),up(),x7(),pn(),_t(),g7(),_7(),y7(),v7(),b7(),E7(),T7(),A7(),w7(),S7(),C7(),B7(),R7(),P7(),D7(),I7(),F7())})(Te,function(r){return r})})(BE);var M7=BE.exports;const zd=p0(M7);function Tn(t){t.sort(()=>Math.random()-.5)}var je=(t=>(t[t._first=0]="_first",t[t.eBar1=1]="eBar1",t[t.eBar2=2]="eBar2",t[t.eBar3=3]="eBar3",t[t.eCherry=4]="eCherry",t[t.eJoker=5]="eJoker",t[t.eBell=6]="eBell",t[t.eWaterMelon=7]="eWaterMelon",t[t.eOrange=8]="eOrange",t[t.eSeven=9]="eSeven",t[t.eStar=10]="eStar",t[t.eTarget=11]="eTarget",t[t._last=12]="_last",t))(je||{});function yt(t){switch(t){case 1:return"bar1";case 2:return"bar2";case 3:return"bar3";case 4:return"cherry";case 5:return"joker";case 6:return"bell";case 7:return"watermelon";case 8:return"orange";case 9:return"seven";case 10:return"star";case 11:return"target";default:return"undefined"}}class O7{checkReelIconCount(e,r){let i=0;for(const n of r)i+=e.includes(n)?1:0;return i}getRandomIcon(e){let r=1+Math.floor(Math.random()*10);do r=0+1+Math.floor(Math.random()*(12-2));while(e.includes(r));return r}_makerZeroProc4Joker(e,r){return[5].includes(e[0])&&[5].includes(e[1])&&[5].includes(e[2])&&[5].includes(e[3])?(e[0]=this.getRandomIcon(r?[5,r[0]]:[5]),e[1]=this.getRandomIcon(r?[5,r[1]]:[5]),e[2]=this.getRandomIcon(r?[5,r[2]]:[5]),e[3]=this.getRandomIcon(r?[5,r[3]]:[5]),!0):!1}_makerZeroProc3Joker(e,r){return[5].includes(e[0])&&[5].includes(e[1])&&[5].includes(e[2])?(e[0]=this.getRandomIcon(r?[5,r[0]]:[5]),e[1]=this.getRandomIcon(r?[5,r[1]]:[5]),e[2]=this.getRandomIcon(r?[5,r[2]]:[5]),!0):[5].includes(e[1])&&[5].includes(e[2])&&[5].includes(e[3])?(e[1]=this.getRandomIcon(r?[5,r[1]]:[5]),e[2]=this.getRandomIcon(r?[5,r[2]]:[5]),e[3]=this.getRandomIcon(r?[5,r[3]]:[5]),!0):!1}_makerZeroProc37st(e,r){return[3,5].includes(e[0])&&[9,5].includes(e[1])&&[10,5].includes(e[2])&&[11,5].includes(e[3])?(e[0]=this.getRandomIcon(r?[3,r[0]]:[3]),e[1]=this.getRandomIcon(r?[9,r[1]]:[9]),e[2]=this.getRandomIcon(r?[10,r[2]]:[10]),e[3]=this.getRandomIcon(r?[11,r[3]]:[11]),!0):!1}_makerZeroProc4bars(e,r){return this.checkReelIconCount([5,3,2,1],e)==4?(e[0]=this.getRandomIcon(r?[5,3,2,1,r[0]]:[5,3,2,1]),e[1]=this.getRandomIcon(r?[5,3,2,1,r[1]]:[5,3,2,1]),e[2]=this.getRandomIcon(r?[5,3,2,1,r[2]]:[5,3,2,1]),e[3]=this.getRandomIcon(r?[5,3,2,1,r[3]]:[5,3,2,1]),!0):!1}_makerZeroProc3bars(e,r){return this.checkReelIconCount([5,3,2,1],e.slice(0,3))==3?(e[0]=this.getRandomIcon(r?[5,3,2,1,r[0]]:[5,3,2,1]),e[1]=this.getRandomIcon(r?[5,3,2,1,r[1]]:[5,3,2,1]),e[2]=this.getRandomIcon(r?[5,3,2,1,r[2]]:[5,3,2,1]),!0):this.checkReelIconCount([5,3,2,1],e.slice(1,4))==3?(e[1]=this.getRandomIcon(r?[5,3,2,1,r[1]]:[5,3,2,1]),e[2]=this.getRandomIcon(r?[5,3,2,1,r[2]]:[5,3,2,1]),e[3]=this.getRandomIcon(r?[5,3,2,1,r[3]]:[5,3,2,1]),!0):!1}_makeZeroProc4Prize(e,r,i){return this.checkReelIconCount([5,e],r)==4?(r[0]=this.getRandomIcon(i?[5,e,i[0]]:[5,e]),r[1]=this.getRandomIcon(i?[5,e,i[1]]:[5,e]),r[2]=this.getRandomIcon(i?[5,e,i[2]]:[5,e]),r[3]=this.getRandomIcon(i?[5,e,i[3]]:[5,e]),!0):!1}_makeZeroProc3Prize(e,r,i){return this.checkReelIconCount([5,e],r.slice(0,3))==3?(r[0]=this.getRandomIcon(i?[5,e,i[0]]:[5,e]),r[1]=this.getRandomIcon(i?[5,e,i[1]]:[5,e]),r[2]=this.getRandomIcon(i?[5,e,i[2]]:[5,e]),!0):this.checkReelIconCount([5,e],r.slice(1,4))==3?(r[1]=this.getRandomIcon(i?[5,e,i[1]]:[5,e]),r[2]=this.getRandomIcon(i?[5,e,i[2]]:[5,e]),r[3]=this.getRandomIcon(i?[5,e,i[3]]:[5,e]),!0):!1}_makeZeroProc2Prize(e,r,i){return this.checkReelIconCount([5,e],r.slice(0,2))==2?(r[0]=this.getRandomIcon(i?[5,e,i[0]]:[5,e]),r[1]=this.getRandomIcon(i?[5,e,i[1]]:[5,e]),!0):this.checkReelIconCount([5,e],r.slice(2,4))==2?(r[2]=this.getRandomIcon(i?[5,e,i[2]]:[5,e]),r[3]=this.getRandomIcon(i?[5,e,i[3]]:[5,e]),!0):!1}_makeZeroProcCherry(e,r){return this.checkReelIconCount([5,4],e.slice(0,2))==2?(e[0]=this.getRandomIcon(r?[5,4,r[0]]:[5,4]),e[1]=this.getRandomIcon(r?[5,4,r[1]]:[5,4]),!0):this.checkReelIconCount([5,4],e.slice(2,4))==2?(e[2]=this.getRandomIcon(r?[5,4,r[2]]:[5,4]),e[3]=this.getRandomIcon(r?[5,4,r[3]]:[5,4]),!0):e[0]==4?(e[0]=this.getRandomIcon(r?[5,4,r[0]]:[5,4]),!0):e[3]==4?(e[3]=this.getRandomIcon(r?[5,4,r[3]]:[5,4]),!0):!1}_makeAvoidTarget(e,r){if(r!=null){if(e[0]==r[0])return e[0]=this.getRandomIcon([r[0]]),!0;if(e[1]==r[1])return e[1]=this.getRandomIcon([r[1]]),!0;if(e[2]==r[2])return e[2]=this.getRandomIcon([r[2]]),!0;if(e[3]==r[3])return e[3]=this.getRandomIcon([r[3]]),!0}return!1}makePrizeLine0(e){const r=[this.getRandomIcon(e?[e[0]]:[]),this.getRandomIcon(e?[e[1]]:[]),this.getRandomIcon(e?[e[2]]:[]),this.getRandomIcon(e?[e[3]]:[])];for(;;)if(!this._makerZeroProc4Joker(r,e)&&!this._makerZeroProc3Joker(r,e)&&!this._makerZeroProc37st(r,e)&&!this._makerZeroProc4bars(r,e)&&!this._makerZeroProc3bars(r,e)&&!this._makeZeroProc4Prize(6,r,e)&&!this._makeZeroProc4Prize(4,r,e)&&!this._makeZeroProc4Prize(5,r,e)&&!this._makeZeroProc4Prize(8,r,e)&&!this._makeZeroProc4Prize(9,r,e)&&!this._makeZeroProc4Prize(10,r,e)&&!this._makeZeroProc4Prize(11,r,e)&&!this._makeZeroProc4Prize(7,r,e)&&!this._makeZeroProc3Prize(6,r,e)&&!this._makeZeroProc3Prize(4,r,e)&&!this._makeZeroProc3Prize(5,r,e)&&!this._makeZeroProc3Prize(8,r,e)&&!this._makeZeroProc3Prize(9,r,e)&&!this._makeZeroProc3Prize(10,r,e)&&!this._makeZeroProc3Prize(11,r,e)&&!this._makeZeroProc3Prize(7,r,e)&&!this._makeZeroProc2Prize(9,r,e)&&!this._makeZeroProc2Prize(10,r,e)&&!this._makeZeroProc2Prize(11,r,e)&&!this._makeZeroProcCherry(r,e)&&!this._makeAvoidTarget(r,e))return{iconTable:r,displayIconTable:r,iconAniFlag:[!1,!1,!1,!1]}}make1CherryLine(e){const r=Math.round(Math.random())==1,i=this.makePrizeLine0(e);return r?(i.iconAniFlag=[!0,!1,!1,!1],i.iconTable[0]=4,[4,5].includes(i.iconTable[1])&&(i.iconTable[1]=this.getRandomIcon(e==null?[4,5]:[4,5,e[1]]))):(i.iconAniFlag=[!1,!1,!1,!0],i.iconTable[3]=4,[4,5].includes(i.iconTable[2])&&(i.iconTable[2]=this.getRandomIcon(e==null?[4,5]:[4,5,e[2]]))),i.displayIconTable={...i.iconTable},i}make2CherryLine(e){const r=Math.round(Math.random())==1,i=this.makePrizeLine0(e);return r?(i.iconAniFlag=[!0,!0,!1,!1],i.iconTable[0]=4,i.iconTable[1]=4,[4,5].includes(i.iconTable[2])&&(i.iconTable[2]=this.getRandomIcon(e==null?[4,5]:[4,5,e[2]]))):(i.iconAniFlag=[!1,!1,!0,!0],i.iconTable[2]=4,i.iconTable[3]=4,[4,5].includes(i.iconTable[1])&&(i.iconTable[1]=this.getRandomIcon(e==null?[4,5]:[4,5,e[1]]))),i.displayIconTable={...i.iconTable},i}make3BarNLine(e){const r=Math.round(Math.random())==1,i=this.makePrizeLine0(e);if(r){const n=[1,1,2,2,3,3];Tn(n),i.iconAniFlag=[!0,!0,!0,!1],i.iconTable[0]=n[0],i.iconTable[1]=n[1],i.iconTable[2]=n[2],[1,2,3,5].includes(i.iconTable[3])&&(i.iconTable[3]=this.getRandomIcon(e==null?[1,2,3,5,4]:[1,2,3,5,4,e[3]]))}else{const n=[1,1,2,2,3,3];Tn(n),i.iconAniFlag=[!1,!0,!0,!0],i.iconTable[1]=n[0],i.iconTable[2]=n[1],i.iconTable[3]=n[2],[1,2,3,5].includes(i.iconTable[0])&&(i.iconTable[0]=this.getRandomIcon(e==null?[1,2,3,4,5]:[1,2,3,4,5,e[0]]))}return i.displayIconTable={...i.iconTable},i}make4BarNLine(e=0){const r=[1,1,1,2,2,2,3,3,3];Tn(r);const i={iconAniFlag:[!0,!0,!0,!0],iconTable:[r[0],r[1],r[2],r[3]],displayIconTable:[r[0],r[1],r[2],r[3]]};if(e>0){e>2&&(e=2);const n=[0,1,2,3];Tn(n);for(let s=0;s<e;s++)i.displayIconTable[n[s]]=5}return i}make2PrizeLine(e,r){const i=Math.round(Math.random())==1,n=this.makePrizeLine0(r);return i?(n.iconAniFlag=[!0,!0,!1,!1],n.iconTable[0]=e,n.iconTable[1]=e,[e,5].includes(n.iconTable[2])&&(n.iconTable[2]=this.getRandomIcon(r==null?[e,5]:[e,5,r[2]]))):(n.iconAniFlag=[!1,!1,!0,!0],n.iconTable[2]=e,n.iconTable[3]=e,[e,5].includes(n.iconTable[1])&&(n.iconTable[1]=this.getRandomIcon(r==null?[e,5]:[e,5,r[1]]))),n.displayIconTable={...n.iconTable},n}make3PrizeLine(e,r,i=0){const n=Math.round(Math.random())==1,s=this.makePrizeLine0(r);let o=[];if(i>0&&i>1&&(i=1),n?(i>0&&(o=[0,1,2]),s.iconAniFlag=[!0,!0,!0,!1],s.iconTable[0]=e,s.iconTable[1]=e,s.iconTable[2]=e,[1,2,3].includes(e)?[1,2,3,5].includes(s.iconTable[3])&&(s.iconTable[3]=this.getRandomIcon(r==null?[1,2,3,5,4]:[1,2,3,5,4,r[3]])):[e,5].includes(s.iconTable[3])&&(s.iconTable[3]=this.getRandomIcon(r==null?[e,5,4]:[e,5,4,r[3]]))):(i>0&&(o=[1,2,3]),s.iconAniFlag=[!1,!0,!0,!0],s.iconTable[1]=e,s.iconTable[2]=e,s.iconTable[3]=e,[1,2,3].includes(e)?[1,2,3,5].includes(s.iconTable[0])&&(s.iconTable[0]=this.getRandomIcon(r==null?[1,2,3,4,5]:[1,2,3,4,5,r[0]])):[e,5].includes(s.iconTable[0])&&(s.iconTable[0]=this.getRandomIcon(r==null?[e,4,5]:[e,4,5,r[0]]))),s.displayIconTable={...s.iconTable},i>0){Tn(o);for(let a=0;a<i;a++)s.displayIconTable[o[a]]=5}return s}make4PrizeLine(e,r=0){const i={iconAniFlag:[!0,!0,!0,!0],iconTable:[e,e,e,e],displayIconTable:[e,e,e,e]};if(r>0){r>3&&(r=3);const n=[0,1,2,3];Tn(n);for(let s=0;s<r;s++)i.displayIconTable[n[s]]=5}return i}make37stPrizeLine(e=0){const r={iconAniFlag:[!0,!0,!0,!0],iconTable:[3,9,10,11],displayIconTable:[3,9,10,11]};if(e>0){e>3&&(e=3);const i=[0,1,2,3];Tn(i);for(let n=0;n<e;n++)r.displayIconTable[i[n]]=5}return r}printLine(e){console.log(`${yt(e[0])}	${yt(e[1])}	${yt(e[2])}	${yt(e[3])}`)}printPattern(e){console.log(`${yt(e[0][0])}	${yt(e[1][0])}	${yt(e[2][0])}	${yt(e[3][0])}`),console.log(`${yt(e[0][1])}	${yt(e[1][1])}	${yt(e[2][1])}	${yt(e[3][1])}`),console.log(`${yt(e[0][2])}	${yt(e[1][2])}	${yt(e[2][2])}	${yt(e[3][2])}`),console.log("")}}const B_=[1,2,4,5,7,8,10,14,20,35,40,50,70,80,100,120,160,200,240,250,320,400,480,500,600,640,800,960,1e3,1200,1250,1600,2e3,2400,2500,3200,4e3,4800,5e3],R_=()=>({1:[{prize:C.e1Cherry,center:!0,dividend:1,baseScore:1},{prize:C.e1Cherry,center:!1,dividend:1,baseScore:1},{prize:C.e2Target,center:!0,dividend:1,baseScore:1},{prize:C.e2Target,center:!1,dividend:1,baseScore:1},{prize:C.e2Star,center:!0,dividend:1,baseScore:1},{prize:C.e2Star,center:!1,dividend:1,baseScore:1},{prize:C.e2Seven,center:!0,dividend:1,baseScore:1},{prize:C.e2Seven,center:!1,dividend:1,baseScore:1}],2:[{prize:C.e1Cherry,center:!0,dividend:2,baseScore:1},{prize:C.e1Cherry,center:!1,dividend:2,baseScore:1},{prize:C.e2Cherry,center:!0,dividend:1,baseScore:2},{prize:C.e2Cherry,center:!1,dividend:1,baseScore:2},{prize:C.e2Target,center:!0,dividend:2,baseScore:1},{prize:C.e2Target,center:!1,dividend:2,baseScore:1},{prize:C.e2Star,center:!0,dividend:2,baseScore:1},{prize:C.e2Star,center:!1,dividend:2,baseScore:1},{prize:C.e2Seven,center:!0,dividend:2,baseScore:1},{prize:C.e2Seven,center:!1,dividend:2,baseScore:1}],4:[{prize:C.e2Cherry,center:!0,dividend:2,baseScore:2},{prize:C.e2Cherry,center:!1,dividend:2,baseScore:2},{prize:C.e3Cherry,center:!0,dividend:1,baseScore:4},{prize:C.e3Cherry,center:!1,dividend:1,baseScore:4},{prize:C.e3Orange,center:!0,dividend:1,baseScore:4},{prize:C.e3Orange,center:!1,dividend:1,baseScore:4},{prize:C.e3WaterMelon,center:!0,dividend:1,baseScore:4},{prize:C.e3WaterMelon,center:!1,dividend:1,baseScore:4}],5:[{prize:C.e1Cherry,center:!0,dividend:5,baseScore:1},{prize:C.e1Cherry,center:!1,dividend:5,baseScore:1},{prize:C.e2Target,center:!0,dividend:5,baseScore:1},{prize:C.e2Target,center:!1,dividend:5,baseScore:1},{prize:C.e2Star,center:!0,dividend:5,baseScore:1},{prize:C.e2Star,center:!1,dividend:5,baseScore:1},{prize:C.e2Seven,center:!0,dividend:5,baseScore:1},{prize:C.e2Seven,center:!1,dividend:5,baseScore:1}],7:[{prize:C.e4Cherry,center:!0,dividend:1,baseScore:7},{prize:C.e4Cherry,center:!1,dividend:1,baseScore:7},{prize:C.e4Orange,center:!0,dividend:1,baseScore:7},{prize:C.e4Orange,center:!1,dividend:1,baseScore:7},{prize:C.e4WaterMelon,center:!0,dividend:1,baseScore:7},{prize:C.e4WaterMelon,center:!1,dividend:1,baseScore:7},{prize:C.e3Bell,center:!0,dividend:1,baseScore:7},{prize:C.e3Bell,center:!1,dividend:1,baseScore:7},{prize:C.e3Target,center:!0,dividend:1,baseScore:7},{prize:C.e3Target,center:!1,dividend:1,baseScore:7},{prize:C.e3Star,center:!0,dividend:1,baseScore:7},{prize:C.e3Star,center:!1,dividend:1,baseScore:7},{prize:C.e3Seven,center:!0,dividend:1,baseScore:7},{prize:C.e3Seven,center:!1,dividend:1,baseScore:7},{prize:C.e3BarN,center:!0,dividend:1,baseScore:7},{prize:C.e3BarN,center:!1,dividend:1,baseScore:7}],8:[{prize:C.e3Cherry,center:!0,dividend:2,baseScore:4},{prize:C.e3Cherry,center:!1,dividend:2,baseScore:4},{prize:C.e3Orange,center:!0,dividend:2,baseScore:4},{prize:C.e3Orange,center:!1,dividend:2,baseScore:4},{prize:C.e3WaterMelon,center:!0,dividend:2,baseScore:4},{prize:C.e3WaterMelon,center:!1,dividend:2,baseScore:4}],10:[{prize:C.e1Cherry,center:!0,dividend:10,baseScore:1},{prize:C.e1Cherry,center:!1,dividend:10,baseScore:1},{prize:C.e2Cherry,center:!0,dividend:5,baseScore:2},{prize:C.e2Cherry,center:!1,dividend:5,baseScore:2},{prize:C.e2Target,center:!0,dividend:10,baseScore:1},{prize:C.e2Target,center:!1,dividend:10,baseScore:1},{prize:C.e2Star,center:!0,dividend:10,baseScore:1},{prize:C.e2Star,center:!1,dividend:10,baseScore:1},{prize:C.e2Seven,center:!0,dividend:10,baseScore:1},{prize:C.e2Seven,center:!1,dividend:10,baseScore:1},{prize:C.e4BarN,center:!0,dividend:1,baseScore:10},{prize:C.e4BarN,center:!1,dividend:1,baseScore:10}],14:[{prize:C.e4Cherry,center:!0,dividend:2,baseScore:7},{prize:C.e4Cherry,center:!1,dividend:2,baseScore:7},{prize:C.e4Orange,center:!0,dividend:2,baseScore:7},{prize:C.e4Orange,center:!1,dividend:2,baseScore:7},{prize:C.e4WaterMelon,center:!0,dividend:2,baseScore:7},{prize:C.e4WaterMelon,center:!1,dividend:2,baseScore:7},{prize:C.e3Bell,center:!0,dividend:2,baseScore:7},{prize:C.e3Bell,center:!1,dividend:2,baseScore:7},{prize:C.e3Target,center:!0,dividend:2,baseScore:7},{prize:C.e3Target,center:!1,dividend:2,baseScore:7},{prize:C.e3Star,center:!0,dividend:2,baseScore:7},{prize:C.e3Star,center:!1,dividend:2,baseScore:7},{prize:C.e3Seven,center:!0,dividend:2,baseScore:7},{prize:C.e3Seven,center:!1,dividend:2,baseScore:7},{prize:C.e3BarN,center:!0,dividend:2,baseScore:7},{prize:C.e3BarN,center:!1,dividend:2,baseScore:7}],20:[{prize:C.e2Cherry,center:!0,dividend:10,baseScore:2},{prize:C.e2Cherry,center:!1,dividend:10,baseScore:2},{prize:C.e3Cherry,center:!0,dividend:5,baseScore:4},{prize:C.e3Cherry,center:!1,dividend:5,baseScore:4},{prize:C.e3Orange,center:!0,dividend:5,baseScore:4},{prize:C.e3Orange,center:!1,dividend:5,baseScore:4},{prize:C.e3WaterMelon,center:!0,dividend:5,baseScore:4},{prize:C.e3WaterMelon,center:!1,dividend:5,baseScore:4},{prize:C.e4Bell,center:!1,dividend:1,baseScore:20},{prize:C.e3Bar1,center:!1,dividend:1,baseScore:20},{prize:C.e4BarN,center:!0,dividend:2,baseScore:10},{prize:C.e4BarN,center:!1,dividend:2,baseScore:10}],35:[{prize:C.e4Cherry,center:!0,dividend:5,baseScore:7},{prize:C.e4Cherry,center:!1,dividend:5,baseScore:7},{prize:C.e4Orange,center:!0,dividend:5,baseScore:7},{prize:C.e4Orange,center:!1,dividend:5,baseScore:7},{prize:C.e4WaterMelon,center:!0,dividend:5,baseScore:7},{prize:C.e4WaterMelon,center:!1,dividend:5,baseScore:7},{prize:C.e3Bell,center:!0,dividend:5,baseScore:7},{prize:C.e3Bell,center:!1,dividend:5,baseScore:7},{prize:C.e3Target,center:!0,dividend:5,baseScore:7},{prize:C.e3Target,center:!1,dividend:5,baseScore:7},{prize:C.e3Star,center:!0,dividend:5,baseScore:7},{prize:C.e3Star,center:!1,dividend:5,baseScore:7},{prize:C.e3Seven,center:!0,dividend:5,baseScore:7},{prize:C.e3Seven,center:!1,dividend:5,baseScore:7},{prize:C.e3BarN,center:!0,dividend:5,baseScore:7},{prize:C.e3BarN,center:!1,dividend:5,baseScore:7}],40:[{prize:C.e3Cherry,center:!0,dividend:10,baseScore:4},{prize:C.e3Cherry,center:!1,dividend:10,baseScore:4},{prize:C.e3Orange,center:!0,dividend:10,baseScore:4},{prize:C.e3Orange,center:!1,dividend:10,baseScore:4},{prize:C.e3WaterMelon,center:!0,dividend:10,baseScore:4},{prize:C.e3WaterMelon,center:!1,dividend:10,baseScore:4},{prize:C.e4Bell,center:!0,dividend:1,baseScore:40},{prize:C.e4Bell,center:!1,dividend:2,baseScore:20},{prize:C.e3Bar1,center:!0,dividend:1,baseScore:40},{prize:C.e3Bar1,center:!1,dividend:2,baseScore:20}],50:[{prize:C.e3Bar2,center:!1,dividend:1,baseScore:50},{prize:C.e4BarN,center:!0,dividend:5,baseScore:10},{prize:C.e4BarN,center:!1,dividend:5,baseScore:10}],70:[{prize:C.e4Cherry,center:!0,dividend:10,baseScore:7},{prize:C.e4Cherry,center:!1,dividend:10,baseScore:7},{prize:C.e4Orange,center:!0,dividend:10,baseScore:7},{prize:C.e4Orange,center:!1,dividend:10,baseScore:7},{prize:C.e4WaterMelon,center:!0,dividend:10,baseScore:7},{prize:C.e4WaterMelon,center:!1,dividend:10,baseScore:7},{prize:C.e3Bell,center:!0,dividend:10,baseScore:7},{prize:C.e3Bell,center:!1,dividend:10,baseScore:7},{prize:C.e3Target,center:!0,dividend:10,baseScore:7},{prize:C.e3Target,center:!1,dividend:10,baseScore:7},{prize:C.e3Star,center:!0,dividend:10,baseScore:7},{prize:C.e3Star,center:!1,dividend:10,baseScore:7},{prize:C.e3Seven,center:!0,dividend:10,baseScore:7},{prize:C.e3Seven,center:!1,dividend:10,baseScore:7},{prize:C.e3BarN,center:!0,dividend:10,baseScore:7},{prize:C.e3BarN,center:!1,dividend:10,baseScore:7}],80:[{prize:C.e4Bell,center:!0,dividend:2,baseScore:40},{prize:C.e3Bar1,center:!0,dividend:2,baseScore:40}],100:[{prize:C.e4Bell,center:!1,dividend:5,baseScore:20},{prize:C.e3Bar1,center:!1,dividend:5,baseScore:20},{prize:C.e3Bar2,center:!0,dividend:1,baseScore:100},{prize:C.e3Bar2,center:!1,dividend:2,baseScore:50},{prize:C.e3Bar3,center:!1,dividend:1,baseScore:100},{prize:C.e4BarN,center:!0,dividend:10,baseScore:10},{prize:C.e4BarN,center:!1,dividend:10,baseScore:10}],120:[{prize:C.e4Target,center:!1,dividend:1,baseScore:120},{prize:C.e4Star,center:!1,dividend:1,baseScore:120},{prize:C.e4Seven,center:!1,dividend:1,baseScore:120},{prize:C.e4Joker,center:!1,dividend:1,baseScore:120}],160:[{prize:C.e4Bar1,center:!1,dividend:1,baseScore:160}],200:[{prize:C.e4Bell,center:!0,dividend:5,baseScore:40},{prize:C.e4Bell,center:!1,dividend:10,baseScore:20},{prize:C.e3Bar1,center:!0,dividend:5,baseScore:40},{prize:C.e3Bar1,center:!1,dividend:10,baseScore:20},{prize:C.e3Bar2,center:!0,dividend:2,baseScore:100},{prize:C.e4Bar2,center:!1,dividend:1,baseScore:200},{prize:C.e3Bar3,center:!0,dividend:1,baseScore:200},{prize:C.e3Bar3,center:!1,dividend:2,baseScore:100}],240:[{prize:C.e4Target,center:!0,dividend:1,baseScore:240},{prize:C.e4Target,center:!1,dividend:2,baseScore:120},{prize:C.e4Star,center:!0,dividend:1,baseScore:240},{prize:C.e4Star,center:!1,dividend:2,baseScore:120},{prize:C.e4Seven,center:!0,dividend:1,baseScore:240},{prize:C.e4Seven,center:!1,dividend:2,baseScore:120},{prize:C.e4Bar3,center:!1,dividend:1,baseScore:240},{prize:C.e4Joker,center:!0,dividend:1,baseScore:240},{prize:C.e4Joker,center:!1,dividend:2,baseScore:120}],250:[{prize:C.e3Bar2,center:!1,dividend:5,baseScore:50},{prize:C.e37ST,center:!1,dividend:1,baseScore:250}],320:[{prize:C.e4Bar1,center:!0,dividend:1,baseScore:320},{prize:C.e4Bar1,center:!1,dividend:2,baseScore:160}],400:[{prize:C.e4Bell,center:!0,dividend:10,baseScore:40},{prize:C.e3Bar1,center:!0,dividend:10,baseScore:40},{prize:C.e4Bar2,center:!0,dividend:1,baseScore:400},{prize:C.e4Bar2,center:!1,dividend:2,baseScore:200},{prize:C.e3Bar3,center:!0,dividend:2,baseScore:200}],480:[{prize:C.e4Target,center:!0,dividend:2,baseScore:240},{prize:C.e4Star,center:!0,dividend:2,baseScore:240},{prize:C.e4Seven,center:!0,dividend:2,baseScore:240},{prize:C.e4Bar3,center:!0,dividend:1,baseScore:480},{prize:C.e4Bar3,center:!1,dividend:2,baseScore:240},{prize:C.e4Joker,center:!0,dividend:2,baseScore:240}],500:[{prize:C.e3Bar2,center:!0,dividend:5,baseScore:100},{prize:C.e3Bar2,center:!1,dividend:10,baseScore:50},{prize:C.e3Bar3,center:!1,dividend:5,baseScore:100},{prize:C.e37ST,center:!0,dividend:1,baseScore:500},{prize:C.e37ST,center:!1,dividend:2,baseScore:250}],600:[{prize:C.e4Target,center:!1,dividend:5,baseScore:120},{prize:C.e4Star,center:!1,dividend:5,baseScore:120},{prize:C.e4Seven,center:!1,dividend:5,baseScore:120},{prize:C.e4Joker,center:!1,dividend:5,baseScore:120}],640:[{prize:C.e4Bar1,center:!0,dividend:2,baseScore:320}],800:[{prize:C.e4Bar1,center:!1,dividend:5,baseScore:160},{prize:C.e4Bar2,center:!0,dividend:2,baseScore:400}],960:[{prize:C.e4Bar3,center:!0,dividend:2,baseScore:480}],1e3:[{prize:C.e3Bar2,center:!0,dividend:10,baseScore:100},{prize:C.e4Bar2,center:!1,dividend:5,baseScore:200},{prize:C.e3Bar3,center:!0,dividend:5,baseScore:200},{prize:C.e3Bar3,center:!1,dividend:10,baseScore:100},{prize:C.e37ST,center:!0,dividend:2,baseScore:500}],1200:[{prize:C.e4Target,center:!0,dividend:5,baseScore:240},{prize:C.e4Target,center:!1,dividend:10,baseScore:120},{prize:C.e4Star,center:!0,dividend:5,baseScore:240},{prize:C.e4Star,center:!1,dividend:10,baseScore:120},{prize:C.e4Seven,center:!0,dividend:5,baseScore:240},{prize:C.e4Seven,center:!1,dividend:10,baseScore:120},{prize:C.e4Bar3,center:!1,dividend:5,baseScore:240},{prize:C.e4Joker,center:!0,dividend:5,baseScore:240},{prize:C.e4Joker,center:!1,dividend:10,baseScore:120}],1250:[{prize:C.e37ST,center:!1,dividend:5,baseScore:250}],1600:[{prize:C.e4Bar1,center:!0,dividend:5,baseScore:320},{prize:C.e4Bar1,center:!1,dividend:10,baseScore:160}],2e3:[{prize:C.e4Bar2,center:!0,dividend:5,baseScore:400},{prize:C.e4Bar2,center:!1,dividend:10,baseScore:200},{prize:C.e3Bar3,center:!0,dividend:10,baseScore:200}],2400:[{prize:C.e4Target,center:!0,dividend:10,baseScore:240},{prize:C.e4Star,center:!0,dividend:10,baseScore:240},{prize:C.e4Seven,center:!0,dividend:10,baseScore:240},{prize:C.e4Bar3,center:!0,dividend:5,baseScore:480},{prize:C.e4Bar3,center:!1,dividend:10,baseScore:240},{prize:C.e4Joker,center:!0,dividend:10,baseScore:240}],2500:[{prize:C.e37ST,center:!0,dividend:5,baseScore:500},{prize:C.e37ST,center:!1,dividend:10,baseScore:250}],3200:[{prize:C.e4Bar1,center:!0,dividend:10,baseScore:320}],4e3:[{prize:C.e4Bar2,center:!0,dividend:10,baseScore:400}],4800:[{prize:C.e4Bar3,center:!0,dividend:10,baseScore:480}],5e3:[{prize:C.e37ST,center:!0,dividend:10,baseScore:500}]});var C=(t=>(t[t._first=0]="_first",t[t.eZeroScore=1]="eZeroScore",t[t.e1Cherry=2]="e1Cherry",t[t.e2Cherry=3]="e2Cherry",t[t.e3Cherry=4]="e3Cherry",t[t.e4Cherry=5]="e4Cherry",t[t.e3Orange=6]="e3Orange",t[t.e4Orange=7]="e4Orange",t[t.e3WaterMelon=8]="e3WaterMelon",t[t.e4WaterMelon=9]="e4WaterMelon",t[t.e3Bell=10]="e3Bell",t[t.e4Bell=11]="e4Bell",t[t.e2Target=12]="e2Target",t[t.e3Target=13]="e3Target",t[t.e4Target=14]="e4Target",t[t.e2Star=15]="e2Star",t[t.e3Star=16]="e3Star",t[t.e4Star=17]="e4Star",t[t.e2Seven=18]="e2Seven",t[t.e3Seven=19]="e3Seven",t[t.e4Seven=20]="e4Seven",t[t.e3Bar1=21]="e3Bar1",t[t.e4Bar1=22]="e4Bar1",t[t.e3Bar2=23]="e3Bar2",t[t.e4Bar2=24]="e4Bar2",t[t.e3Bar3=25]="e3Bar3",t[t.e4Bar3=26]="e4Bar3",t[t.e3BarN=27]="e3BarN",t[t.e4BarN=28]="e4BarN",t[t.e4Joker=29]="e4Joker",t[t.e37ST=30]="e37ST",t[t._last=31]="_last",t))(C||{});const k7=[1,2,5,10];class N7{getPrizeSet(e){const r=B_.findIndex((s,o)=>s>e),i=B_[r-1],n=Math.floor(Math.random()*R_()[i].length);return R_()[i][n]}}const L7=new N7,Ce=new O7;function U7(t){t.sort(()=>Math.random()-.5)}async function z7(t){if(t==0){const e=[...k7];U7(e);const r=Ce.makePrizeLine0(null),i=Ce.makePrizeLine0(r.iconTable),n=Ce.makePrizeLine0(i.iconTable);return{prize:C.eZeroScore,score:0,baseScore:0,dividend:e[0],priceLineIDX:0,useJoker:!1,iconTable:[[r.iconTable[0],i.iconTable[0],n.iconTable[0]],[r.iconTable[1],i.iconTable[1],n.iconTable[1]],[r.iconTable[2],i.iconTable[2],n.iconTable[2]],[r.iconTable[3],i.iconTable[3],n.iconTable[3]]],displayIconTable:P_([[r.displayIconTable[0],i.displayIconTable[0],n.displayIconTable[0]],[r.displayIconTable[1],i.displayIconTable[1],n.displayIconTable[1]],[r.displayIconTable[2],i.displayIconTable[2],n.displayIconTable[2]],[r.displayIconTable[3],i.displayIconTable[3],n.displayIconTable[3]]]),iconAniFlag:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]]}}else{let e=Math.random()>.7;const r=L7.getPrizeSet(t);let i={};switch(r.prize){case C.e1Cherry:i=Ce.make1CherryLine(null);break;case C.e2Cherry:i=Ce.make2CherryLine(null);break;case C.e3Cherry:i=Ce.make3PrizeLine(je.eCherry,null,e?1:0);break;case C.e4Cherry:i=Ce.make4PrizeLine(je.eCherry,e?Math.floor(Math.random()*3):0);break;case C.e3Orange:i=Ce.make3PrizeLine(je.eOrange,null,e?1:0);break;case C.e4Orange:i=Ce.make4PrizeLine(je.eOrange,e?Math.floor(Math.random()*3):0);break;case C.e3WaterMelon:i=Ce.make3PrizeLine(je.eWaterMelon,null,e?1:0);break;case C.e4WaterMelon:i=Ce.make4PrizeLine(je.eWaterMelon,e?Math.floor(Math.random()*3):0);break;case C.e3Bell:i=Ce.make3PrizeLine(je.eBell,null,e?1:0);break;case C.e4Bell:i=Ce.make4PrizeLine(je.eBell,e?Math.floor(Math.random()*3):0);break;case C.e2Target:i=Ce.make2PrizeLine(je.eTarget,null);break;case C.e3Target:i=Ce.make3PrizeLine(je.eTarget,null,e?1:0);break;case C.e4Target:i=Ce.make4PrizeLine(je.eTarget,e?Math.floor(Math.random()*3):0);break;case C.e2Star:i=Ce.make2PrizeLine(je.eStar,null);break;case C.e3Star:i=Ce.make3PrizeLine(je.eStar,null,e?1:0);break;case C.e4Star:i=Ce.make4PrizeLine(je.eStar,e?Math.floor(Math.random()*3):0);break;case C.e2Seven:i=Ce.make2PrizeLine(je.eSeven,null);break;case C.e3Seven:i=Ce.make3PrizeLine(je.eSeven,null,e?1:0);break;case C.e4Seven:i=Ce.make4PrizeLine(je.eSeven,e?Math.floor(Math.random()*3):0);break;case C.e3Bar1:i=Ce.make3PrizeLine(je.eBar1,null,e?1:0);break;case C.e4Bar1:i=Ce.make4PrizeLine(je.eBar1,e?Math.floor(Math.random()*3):0);break;case C.e3Bar2:i=Ce.make3PrizeLine(je.eBar2,null,e?1:0);break;case C.e4Bar2:i=Ce.make4PrizeLine(je.eBar2,e?Math.floor(Math.random()*3):0);break;case C.e3Bar3:i=Ce.make3PrizeLine(je.eBar3,null,e?1:0);break;case C.e4Bar3:i=Ce.make4PrizeLine(je.eBar3,e?Math.floor(Math.random()*3):0);break;case C.e3BarN:e=!1,i=Ce.make3BarNLine(null);break;case C.e4BarN:i=Ce.make4BarNLine(e?Math.floor(Math.random()*2):0);break;case C.e4Joker:e=!1,i=Ce.make4PrizeLine(je.eJoker,0);break;case C.e37ST:i=Ce.make37stPrizeLine(e?1+Math.floor(Math.random()*2):0);break}let n=0;r.center?n=2:n=Math.round(Math.random())<.5?1:3;let s,o,a;return n==1?(s=i,o=Ce.makePrizeLine0(i.iconTable),a=Ce.makePrizeLine0(o.iconTable)):n==2?(s=Ce.makePrizeLine0(i.iconTable),o=i,a=Ce.makePrizeLine0(i.iconTable)):n==3&&(o=Ce.makePrizeLine0(i.iconTable),s=Ce.makePrizeLine0(o.iconTable),a=i),{prize:r.prize,score:r.dividend*r.baseScore,baseScore:r.baseScore,dividend:r.dividend,priceLineIDX:n,useJoker:e,iconTable:[[s.iconTable[0],o.iconTable[0],a.iconTable[0]],[s.iconTable[1],o.iconTable[1],a.iconTable[1]],[s.iconTable[2],o.iconTable[2],a.iconTable[2]],[s.iconTable[3],o.iconTable[3],a.iconTable[3]]],displayIconTable:P_([[s.displayIconTable[0],o.displayIconTable[0],a.displayIconTable[0]],[s.displayIconTable[1],o.displayIconTable[1],a.displayIconTable[1]],[s.displayIconTable[2],o.displayIconTable[2],a.displayIconTable[2]],[s.displayIconTable[3],o.displayIconTable[3],a.displayIconTable[3]]]),iconAniFlag:[[s.iconAniFlag[0],o.iconAniFlag[0],a.iconAniFlag[0]],[s.iconAniFlag[1],o.iconAniFlag[1],a.iconAniFlag[1]],[s.iconAniFlag[2],o.iconAniFlag[2],a.iconAniFlag[2]],[s.iconAniFlag[3],o.iconAniFlag[3],a.iconAniFlag[3]]]}}}function P_(t){const e=[[],[],[],[]];for(let r=0;r<t.length;r++)for(let i=0;i<t[r].length;i++)e[r].push(yt(t[r][i]));return e}const H7=(t,e,r,i)=>{const n=new ss;return n.beginFill(t,i),n.drawRect(0,0,e,r),n.endFill(),n},G7=async t=>await z7(t),s9=t=>{if(!t)return;const{innerWidth:e,innerHeight:r}=window;if(r>e/.5625&&e<go.width){const i=Math.round(e/.5625);t.style.width=`${e}px`,t.style.height=`${i}px`}else{const i=Math.round(r/1.777);t.style.width=`${i}px`,t.style.height=`${r}px`}},o9=(t,e)=>t?zd.AES.encrypt(JSON.stringify(t),e).toString():null,fp=(t,e)=>{if(!t)return null;const i=zd.AES.decrypt(t,e).toString(zd.enc.Utf8);return JSON.parse(i)},$7=()=>{document.addEventListener("visibilitychange",()=>{const t=document.hidden;t&&Si.getHandle.onHiddenTab(),t||Si.getHandle.onViewTab()})},W7=t=>{const e=`${t}`.replaceAll(",","");return+e>-1?e.replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"};function Hd(t,e={},r){for(const i in t){const n=t[i],s=r?`${r}:${i}`:i;typeof n=="object"&&n!==null?Hd(n,e,s):typeof n=="function"&&(e[s]=n)}return e}const j7={run:t=>t()},X7=()=>j7,DE=typeof console.createTask<"u"?console.createTask:X7;function V7(t,e){const r=e.shift(),i=DE(r);return t.reduce((n,s)=>n.then(()=>i.run(()=>s(...e))),Promise.resolve())}function q7(t,e){const r=e.shift(),i=DE(r);return Promise.all(t.map(n=>i.run(()=>n(...e))))}function sf(t,e){for(const r of[...t])r(e)}class Y7{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,r,i={}){if(!e||typeof r!="function")return()=>{};const n=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!i.allowDeprecated){let o=s.message;o||(o=`${n} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!r.name)try{Object.defineProperty(r,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(r),()=>{r&&(this.removeHook(e,r),r=void 0)}}hookOnce(e,r){let i,n=(...s)=>(typeof i=="function"&&i(),i=void 0,n=void 0,r(...s));return i=this.hook(e,n),i}removeHook(e,r){if(this._hooks[e]){const i=this._hooks[e].indexOf(r);i!==-1&&this._hooks[e].splice(i,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,r){this._deprecatedHooks[e]=typeof r=="string"?{to:r}:r;const i=this._hooks[e]||[];delete this._hooks[e];for(const n of i)this.hook(e,n)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const r in e)this.deprecateHook(r,e[r])}addHooks(e){const r=Hd(e),i=Object.keys(r).map(n=>this.hook(n,r[n]));return()=>{for(const n of i.splice(0,i.length))n()}}removeHooks(e){const r=Hd(e);for(const i in r)this.removeHook(i,r[i])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...r){return r.unshift(e),this.callHookWith(V7,e,...r)}callHookParallel(e,...r){return r.unshift(e),this.callHookWith(q7,e,...r)}callHookWith(e,r,...i){const n=this._before||this._after?{name:r,args:i,context:{}}:void 0;this._before&&sf(this._before,n);const s=e(r in this._hooks?[...this._hooks[r]]:[],i);return s instanceof Promise?s.finally(()=>{this._after&&n&&sf(this._after,n)}):(this._after&&n&&sf(this._after,n),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const r=this._before.indexOf(e);r!==-1&&this._before.splice(r,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const r=this._after.indexOf(e);r!==-1&&this._after.splice(r,1)}}}}function K7(){return new Y7}function Z7(t){return Array.isArray(t)?t:[t]}const Q7=["title","titleTemplate","script","style","noscript"],Gl=["base","meta","link","style","script","noscript"],J7=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],eL=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],IE=["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"],tL=typeof window<"u";function dp(t){let e=9;for(let r=0;r<t.length;)e=Math.imul(e^t.charCodeAt(r++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function D_(t){return t._h||dp(t._d?t._d:`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([e,r])=>`${e}:${String(r)}`).join(",")}`)}function FE(t,e){const{props:r,tag:i}=t;if(eL.includes(i))return i;if(i==="link"&&r.rel==="canonical")return"canonical";if(r.charset)return"charset";const n=["id"];i==="meta"&&n.push("name","property","http-equiv");for(const s of n)if(typeof r[s]<"u"){const o=String(r[s]);return e&&!e(o)?!1:`${i}:${s}:${o}`}return!1}function I_(t,e){return t==null?e||null:typeof t=="function"?t(e):t}async function rL(t,e,r){const i={tag:t,props:await ME(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[["script","noscript","style"].includes(t)?"innerHTML":"textContent"]:e},["templateParams","titleTemplate"].includes(t))};return IE.forEach(n=>{const s=typeof i.props[n]<"u"?i.props[n]:r[n];typeof s<"u"&&((!["innerHTML","textContent","children"].includes(n)||Q7.includes(i.tag))&&(i[n==="children"?"innerHTML":n]=s),delete i.props[n])}),i.props.body&&(i.tagPosition="bodyClose",delete i.props.body),i.tag==="script"&&typeof i.innerHTML=="object"&&(i.innerHTML=JSON.stringify(i.innerHTML),i.props.type=i.props.type||"application/json"),Array.isArray(i.props.content)?i.props.content.map(n=>({...i,props:{...i.props,content:n}})):i}function iL(t){return typeof t=="object"&&!Array.isArray(t)&&(t=Object.keys(t).filter(e=>t[e])),(Array.isArray(t)?t.join(" "):t).split(" ").filter(e=>e.trim()).filter(Boolean).join(" ")}async function ME(t,e){for(const r of Object.keys(t)){if(r==="class"){t[r]=iL(t[r]);continue}if(t[r]instanceof Promise&&(t[r]=await t[r]),!e&&!IE.includes(r)){const i=String(t[r]),n=r.startsWith("data-");i==="true"||i===""?t[r]=n?"true":!0:t[r]||(n&&i==="false"?t[r]="false":delete t[r])}}return t}const nL=10;async function sL(t){const e=[];return Object.entries(t.resolvedInput).filter(([r,i])=>typeof i<"u"&&J7.includes(r)).forEach(([r,i])=>{const n=Z7(i);e.push(...n.map(s=>rL(r,s,t)).flat())}),(await Promise.all(e)).flat().filter(Boolean).map((r,i)=>(r._e=t._i,t.mode&&(r._m=t.mode),r._p=(t._i<<nL)+i,r))}const F_={base:-10,title:10},M_={critical:-80,high:-10,low:20};function Ec(t){let e=100;const r=t.tagPriority;return typeof r=="number"?r:(t.tag==="meta"?(t.props["http-equiv"]==="content-security-policy"&&(e=-30),t.props.charset&&(e=-20),t.props.name==="viewport"&&(e=-15)):t.tag==="link"&&t.props.rel==="preconnect"?e=20:t.tag in F_&&(e=F_[t.tag]),typeof r=="string"&&r in M_?e+M_[r]:e)}const oL=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],OE=["onload","onerror","onabort","onprogress","onloadstart"],zi="%separator";function $l(t,e,r){if(typeof t!="string"||!t.includes("%"))return t;function i(o){let a;return["s","pageTitle"].includes(o)?a=e.pageTitle:o.includes(".")?a=o.split(".").reduce((l,c)=>l&&l[c]||void 0,e):a=e[o],typeof a<"u"?(a||"").replace(/"/g,'\\"'):!1}let n=t;try{n=decodeURI(t)}catch{}return(n.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(o=>{const a=i(o.slice(1));typeof a=="string"&&(t=t.replace(new RegExp(`\\${o}(\\W|$)`,"g"),(l,c)=>`${a}${c}`).trim())}),t.includes(zi)&&(t.endsWith(zi)&&(t=t.slice(0,-zi.length).trim()),t.startsWith(zi)&&(t=t.slice(zi.length).trim()),t=t.replace(new RegExp(`\\${zi}\\s*\\${zi}`,"g"),zi),t=$l(t,{separator:r},r)),t}async function aL(t){const e={tag:t.tagName.toLowerCase(),props:await ME(t.getAttributeNames().reduce((r,i)=>({...r,[i]:t.getAttribute(i)}),{})),innerHTML:t.innerHTML};return e._d=FE(e),e}async function kE(t,e={}){var h;const r=e.document||t.resolvedOptions.document;if(!r)return;const i={shouldRender:t.dirty,tags:[]};if(await t.hooks.callHook("dom:beforeRender",i),!i.shouldRender)return;const n=(await t.resolveTags()).map(u=>({tag:u,id:Gl.includes(u.tag)?D_(u):u.tag,shouldRender:!0}));let s=t._dom;if(!s){s={elMap:{htmlAttrs:r.documentElement,bodyAttrs:r.body}};for(const u of["body","head"]){const f=(h=r==null?void 0:r[u])==null?void 0:h.children;for(const d of[...f].filter(p=>Gl.includes(p.tagName.toLowerCase())))s.elMap[d.getAttribute("data-hid")||D_(await aL(d))]=d}}s.pendingSideEffects={...s.sideEffects||{}},s.sideEffects={};function o(u,f,d){const p=`${u}:${f}`;s.sideEffects[p]=d,delete s.pendingSideEffects[p]}function a({id:u,$el:f,tag:d}){const p=d.tag.endsWith("Attrs");s.elMap[u]=f,p||(["textContent","innerHTML"].forEach(m=>{d[m]&&d[m]!==f[m]&&(f[m]=d[m])}),o(u,"el",()=>{s.elMap[u].remove(),delete s.elMap[u]})),Object.entries(d.props).forEach(([m,x])=>{const y=`attr:${m}`;if(m==="class")for(const _ of(x||"").split(" ").filter(Boolean))p&&o(u,`${y}:${_}`,()=>f.classList.remove(_)),!f.classList.contains(_)&&f.classList.add(_);else f.getAttribute(m)!==x&&f.setAttribute(m,x===!0?"":String(x)),p&&o(u,y,()=>f.removeAttribute(m))})}const l=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const u of n){const{tag:f,shouldRender:d,id:p}=u;if(d){if(f.tag==="title"){r.title=f.textContent;continue}u.$el=u.$el||s.elMap[p],u.$el?a(u):Gl.includes(f.tag)&&l.push(u)}}for(const u of l){const f=u.tag.tagPosition||"head";u.$el=r.createElement(u.tag.tag),a(u),c[f]=c[f]||r.createDocumentFragment(),c[f].appendChild(u.$el)}for(const u of n)await t.hooks.callHook("dom:renderTag",u,r,o);c.head&&r.head.appendChild(c.head),c.bodyOpen&&r.body.insertBefore(c.bodyOpen,r.body.firstChild),c.bodyClose&&r.body.appendChild(c.bodyClose),Object.values(s.pendingSideEffects).forEach(u=>u()),t._dom=s,t.dirty=!1,await t.hooks.callHook("dom:rendered",{renders:n})}async function NE(t,e={}){const r=e.delayFn||(i=>setTimeout(i,10));return t._domUpdatePromise=t._domUpdatePromise||new Promise(i=>r(async()=>{await kE(t,e),delete t._domUpdatePromise,i()}))}function lL(t){return e=>{var i,n;const r=((n=(i=e.resolvedOptions.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:n.innerHTML)||!1;return r&&e.push(JSON.parse(r)),{mode:"client",hooks:{"entries:updated":function(s){NE(s,t)}}}}}const cL=["templateParams","htmlAttrs","bodyAttrs"],hL={hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(i=>{t.props[i]&&(t.key=t.props[i],delete t.props[i])});const r=FE(t)||(t.key?`${t.tag}:${t.key}`:!1);r&&(t._d=r)},"tags:resolve":function(t){const e={};t.tags.forEach(i=>{const n=(i.key?`${i.tag}:${i.key}`:i._d)||i._p,s=e[n];if(s){let a=i==null?void 0:i.tagDuplicateStrategy;if(!a&&cL.includes(i.tag)&&(a="merge"),a==="merge"){const l=s.props;["class","style"].forEach(c=>{l[c]&&(i.props[c]?(c==="style"&&!l[c].endsWith(";")&&(l[c]+=";"),i.props[c]=`${l[c]} ${i.props[c]}`):i.props[c]=l[c])}),e[n].props={...l,...i.props};return}else if(i._e===s._e){s._duped=s._duped||[],i._d=`${s._d}:${s._duped.length+1}`,s._duped.push(i);return}else if(Ec(i)>Ec(s))return}const o=Object.keys(i.props).length+(i.innerHTML?1:0)+(i.textContent?1:0);if(Gl.includes(i.tag)&&o===0){delete e[n];return}e[n]=i});const r=[];Object.values(e).forEach(i=>{const n=i._duped;delete i._duped,r.push(i),n&&r.push(...n)}),t.tags=r,t.tags=t.tags.filter(i=>!(i.tag==="meta"&&(i.props.name||i.props.property)&&!i.props.content))}}},uL={mode:"server",hooks:{"tags:resolve":function(t){const e={};t.tags.filter(r=>["titleTemplate","templateParams","title"].includes(r.tag)&&r._m==="server").forEach(r=>{e[r.tag]=r.tag.startsWith("title")?r.textContent:r.props}),Object.keys(e).length&&t.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},fL=["script","link","bodyAttrs"];function dL(t){const e={},r={};return Object.entries(t.props).forEach(([i,n])=>{i.startsWith("on")&&typeof n=="function"?(OE.includes(i)&&(e[i]=`this.dataset.${i} = true`),r[i]=n):e[i]=n}),{props:e,eventHandlers:r}}const pL=t=>({hooks:{"tags:resolve":function(e){for(const r of e.tags)if(fL.includes(r.tag)){const{props:i,eventHandlers:n}=dL(r);r.props=i,Object.keys(n).length&&((r.props.src||r.props.href)&&(r.key=r.key||dp(r.props.src||r.props.href)),r._eventHandlers=n)}},"dom:renderTag":function(e,r,i){if(!e.tag._eventHandlers)return;const n=e.tag.tag==="bodyAttrs"?r.defaultView:e.$el;Object.entries(e.tag._eventHandlers).forEach(([s,o])=>{const a=`${e.tag._d||e.tag._p}:${s}`,l=s.slice(2).toLowerCase(),c=`data-h-${l}`;if(i(e.id,a,()=>{}),e.$el.hasAttribute(c))return;e.$el.setAttribute(c,"");let h;const u=f=>{o(f),h==null||h.disconnect()};s in e.$el.dataset?u(new Event(s.replace("on",""))):OE.includes(s)&&typeof MutationObserver<"u"?(h=new MutationObserver(f=>{f.some(p=>p.attributeName===`data-${s}`)&&(u(new Event(s.replace("on",""))),h==null||h.disconnect())}),h.observe(e.$el,{attributes:!0})):n.addEventListener(l,u),i(e.id,a,()=>{h==null||h.disconnect(),n.removeEventListener(l,u),e.$el.removeAttribute(c)})})}}}),mL=["link","style","script","noscript"],xL={hooks:{"tag:normalise":({tag:t})=>{t.key&&mL.includes(t.tag)&&(t.props["data-hid"]=t._h=dp(t.key))}}},gL={hooks:{"tags:resolve":t=>{const e=r=>{var i;return(i=t.tags.find(n=>n._d===r))==null?void 0:i._p};for(const{prefix:r,offset:i}of oL)for(const n of t.tags.filter(s=>typeof s.tagPriority=="string"&&s.tagPriority.startsWith(r))){const s=e(n.tagPriority.replace(r,""));typeof s<"u"&&(n._p=s+i)}t.tags.sort((r,i)=>r._p-i._p).sort((r,i)=>Ec(r)-Ec(i))}}},_L={meta:"content",link:"href",htmlAttrs:"lang"},yL=t=>({hooks:{"tags:resolve":e=>{var a;const{tags:r}=e,i=(a=r.find(l=>l.tag==="title"))==null?void 0:a.textContent,n=r.findIndex(l=>l.tag==="templateParams"),s=n!==-1?r[n].props:{},o=s.separator||"|";delete s.separator,s.pageTitle=$l(s.pageTitle||i||"",s,o);for(const l of r.filter(c=>c.processTemplateParams!==!1)){const c=_L[l.tag];c&&typeof l.props[c]=="string"?l.props[c]=$l(l.props[c],s,o):(l.processTemplateParams===!0||["titleTemplate","title"].includes(l.tag))&&["innerHTML","textContent"].forEach(h=>{typeof l[h]=="string"&&(l[h]=$l(l[h],s,o))})}t._templateParams=s,t._separator=o,e.tags=r.filter(l=>l.tag!=="templateParams")}}}),vL={hooks:{"tags:resolve":t=>{const{tags:e}=t;let r=e.findIndex(n=>n.tag==="titleTemplate");const i=e.findIndex(n=>n.tag==="title");if(i!==-1&&r!==-1){const n=I_(e[r].textContent,e[i].textContent);n!==null?e[i].textContent=n||e[i].textContent:delete e[i]}else if(r!==-1){const n=I_(e[r].textContent);n!==null&&(e[r].textContent=n,e[r].tag="title",r=-1)}r!==-1&&delete e[r],t.tags=e.filter(Boolean)}}},bL={hooks:{"tags:afterResolve":function(t){for(const e of t.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&["application/ld+json","application/json"].includes(e.props.type)?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let LE;function EL(t={}){const e=TL(t);return e.use(lL()),LE=e}function O_(t,e){return!t||t==="server"&&e||t==="client"&&!e}function TL(t={}){const e=K7();e.addHooks(t.hooks||{}),t.document=t.document||(tL?document:void 0);const r=!t.document,i=()=>{a.dirty=!0,e.callHook("entries:updated",a)};let n=0,s=[];const o=[],a={plugins:o,dirty:!1,resolvedOptions:t,hooks:e,headEntries(){return s},use(l){const c=typeof l=="function"?l(a):l;(!c.key||!o.some(h=>h.key===c.key))&&(o.push(c),O_(c.mode,r)&&e.addHooks(c.hooks||{}))},push(l,c){c==null||delete c.head;const h={_i:n++,input:l,...c};return O_(h.mode,r)&&(s.push(h),i()),{dispose(){s=s.filter(u=>u._i!==h._i),e.callHook("entries:updated",a),i()},patch(u){s=s.map(f=>(f._i===h._i&&(f.input=h.input=u),f)),i()}}},async resolveTags(){const l={tags:[],entries:[...s]};await e.callHook("entries:resolve",l);for(const c of l.entries){const h=c.resolvedInput||c.input;if(c.resolvedInput=await(c.transform?c.transform(h):h),c.resolvedInput)for(const u of await sL(c)){const f={tag:u,entry:c,resolvedOptions:a.resolvedOptions};await e.callHook("tag:normalise",f),l.tags.push(f.tag)}}return await e.callHook("tags:beforeResolve",l),await e.callHook("tags:resolve",l),await e.callHook("tags:afterResolve",l),l.tags},ssr:r};return[hL,uL,pL,xL,gL,yL,vL,bL,...(t==null?void 0:t.plugins)||[]].forEach(l=>a.use(l)),a.hooks.callHook("init",a),a}function AL(){return LE}const wL=l0.startsWith("3");function SL(t){return typeof t=="function"?t():Wt(t)}function Tc(t,e=""){if(t instanceof Promise)return t;const r=SL(t);return!t||!r?r:Array.isArray(r)?r.map(i=>Tc(i,e)):typeof r=="object"?Object.fromEntries(Object.entries(r).map(([i,n])=>i==="titleTemplate"||i.startsWith("on")?[i,Wt(n)]:[i,Tc(n,i)])):r}const CL={hooks:{"entries:resolve":function(t){for(const e of t.entries)e.resolvedInput=Tc(e.input)}}},UE="usehead";function BL(t){return{install(r){wL&&(r.config.globalProperties.$unhead=t,r.config.globalProperties.$head=t,r.provide(UE,t))}}.install}function RL(t={}){t.domDelayFn=t.domDelayFn||(r=>Ia(()=>setTimeout(()=>r(),0)));const e=EL(t);return e.use(CL),e.install=BL(e),e}const k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N_="__unhead_injection_handler__";function PL(){if(N_ in k_)return k_[N_]();const t=gr(UE);return t||AL()}function zE(t,e={}){const r=e.head||PL();if(r)return r.ssr?r.push(t,e):DL(r,t,e)}function DL(t,e,r={}){const i=yi(!1),n=yi({});$o(()=>{n.value=i.value?{}:Tc(e)});const s=t.push(n.value,r);return Wo(n,a=>{s.patch(a)}),NA()&&(b1(()=>{s.dispose()}),y1(()=>{i.value=!0}),_1(()=>{i.value=!1})),s}function IL(t,e){const r=RL(e||{}),i={unhead:r,install(n){l0.startsWith("3")&&(n.config.globalProperties.$head=r,n.provide("usehead",r))},use(n){r.use(n)},resolveTags(){return r.resolveTags()},headEntries(){return r.headEntries()},headTags(){return r.resolveTags()},push(n,s){return r.push(n,s)},addEntry(n,s){return r.push(n,s)},addHeadObjs(n,s){return r.push(n,s)},addReactiveEntry(n,s){const o=zE(n,s);return typeof o<"u"?o.dispose:()=>{}},removeHeadObjs(){},updateDOM(n,s){s?kE(r,{document:n}):NE(r,{delayFn:o=>setTimeout(()=>o(),50),document:n})},internalHooks:r.hooks,hooks:{"before:dom":[],"resolved:tags":[],"resolved:entries":[]}};return r.addHeadObjs=i.addHeadObjs,r.updateDOM=i.updateDOM,r.hooks.hook("dom:beforeRender",n=>{for(const s of i.hooks["before:dom"])s()===!1&&(n.shouldRender=!1)}),t&&i.addHeadObjs(t),i}const oa=yw({history:k2(),routes:[{path:"/",name:"home",component:()=>To(()=>import("./home-eaa0b55f.js"),[]),meta:{authRequired:!1,layout:"hasLayout",nav:!1}},{path:"/game",name:"game",component:()=>To(()=>import("./game-59552abf.js"),[]),meta:{authRequired:!0,layout:"clearLayout",nav:!0}},{path:"/login",name:"login",component:()=>To(()=>import("./index-0e0e209d.js"),["assets/index-0e0e209d.js","assets/index-7f850961.css"]),meta:{authRequired:!1,layout:"hasLayout",nav:!0}},{path:"/sign-up",name:"signUp",component:()=>To(()=>import("./index-f62570b0.js"),["assets/index-f62570b0.js","assets/index-b56b868f.css"]),meta:{nav:!0,layout:"hasLayout",authRequired:!1}},{path:"/logout",name:"logout",redirect:"/login",meta:{nav:!0,layout:"hasLayout",authRequired:!0}},{path:"/:pathMatch(.*)*",redirect:"/404"},{path:"/:catchAll(.*)*",redirect:"/404"},{path:"/404",name:"404",component:()=>To(()=>import("./404-1fb4b640.js"),[]),meta:{layout:"hasLayout",authRequired:!0}}]});oa.beforeEach(async(t,e,r)=>{const i=localStorage.getItem("k"),n=q.userID&&q.accessToken&&q.refreshToken&&q.gameName&&q.turnInPrize&&q.currentGroupIndex;if(i&&!n)try{const a=JSON.parse(fp(i,"login-info"));q.userID=a.userID,q.accessToken=a.accessToken,q.refreshToken=a.refreshToken,q.gameName=a.gameTable,q.turnInPrize=a.turnInPrize,q.currentGroupIndex=a.currentGroupIndex,q.signedIn=!0}catch(a){console.log(a),localStorage.clear(),q.userID="",q.accessToken="",q.refreshToken="",q.currentGroupIndex=0,q.turnInPrize=0,q.gameName="",q.signedIn=!1}if(i||(localStorage.clear(),q.userID="",q.accessToken="",q.refreshToken="",q.currentGroupIndex=0,q.turnInPrize=0,q.gameName="",q.signedIn=!1),t.meta.authRequired&&!q.signedIn){r({name:"login"}),sr.currentNav="login",setTimeout(()=>He.error("로그인 해주세요."),500);return}(t.path==="/login"||t.path==="/sign-up")&&(localStorage.clear(),q.userID="",q.accessToken="",q.refreshToken="",q.currentGroupIndex=0,q.turnInPrize=0,q.gameName="",q.signedIn=!1);const s=t.name.toString().split(""),o=ob(s,a=>a=isNaN(+a)&&a===a.toUpperCase()?`-${a.toUpperCase()}`:a.toUpperCase());zE({title:o.join("")}),sr.currentNav=t.name.toString(),r()});const FL={class:"relative min-h-screen w-full"},ML=vr({__name:"clearLayout",setup(t){return(e,r)=>(Ir(),Wi("div",FL,[Se(Wt(u0),{class:"z-[1] h-full w-full overflow-y-auto"})]))}}),OL={class:"flex h-[40px] w-full flex-wrap justify-center border-b-2 border-black bg-white"},kL={class:"flex h-full flex-wrap duration-300 mobile:gap-0 tablet:gap-[30px] desktop:gap-[60px]"},NL=["onClick"],LL=vr({__name:"tNav",setup(t){const e=bw(),r=Lt({pageList:ze(()=>q.signedIn?ra(i,o=>o.meta.nav&&o.meta.authRequired&&o.name!=="logout"):ra(i,o=>o.meta.nav&&!o.meta.authRequired))}),i=ra(e.getRoutes(),s=>s.redirect!="/404"&&s.name!="404"),n=s=>{s==="logout"?(localStorage.clear(),q.signedIn=!1,e.push({name:"login"})):e.push({name:s})};return(s,o)=>(Ir(),Wi("div",OL,[Qi("div",kL,[(Ir(!0),Wi(rr,null,hA(r.pageList,(a,l)=>(Ir(),Wi("button",{key:l,class:"nav-btn group",onClick:c=>n(a.name.toString())},[_f(hT(a.name)+" ",1),Qi("hr",{class:Ws([Wt(sr).currentNav===a.name?"!w-[80px] !bg-main-2":"","group-hover:w-[80px] group-hover:bg-main-3"])},null,2)],8,NL))),128))]),Wt(q).signedIn?(Ir(),Wi("button",{key:0,class:"nav-btn group !absolute right-0 top-0",onClick:o[0]||(o[0]=a=>n("logout"))},[_f(" logout "),Qi("hr",{class:Ws([Wt(sr).currentNav==="logout"?"!w-[80px] !bg-main-2":"","group-hover:w-[80px] group-hover:bg-main-3"])},null,2)])):FA("",!0)]))}});const HE=(t,e)=>{const r=t.__vccOpts||t;for(const[i,n]of e)r[i]=n;return r},UL=HE(LL,[["__scopeId","data-v-17f97f24"]]),zL={class:"relative flex h-screen w-full flex-col items-center"},HL={class:"sticky top-0 z-[3] flex w-full max-w-[1300px] flex-col items-center gap-[1px]"},GL=vr({__name:"hasLayout",setup(t){return(e,r)=>(Ir(),Wi("div",zL,[Qi("div",HL,[Se(UL)]),Se(Wt(u0),{class:"flex h-full w-full max-w-[1300px] flex-1 flex-col overflow-y-auto"})]))}}),$L=vr({__name:"defaultLayout",setup(t){const e=Ew(),r={clearLayout:ML,hasLayout:GL},i=Lt({layout:ze(()=>{var n;switch((n=e==null?void 0:e.meta)==null?void 0:n.layout){case"hasLayout":return"hasLayout";case"clearLayout":return"clearLayout";default:return e.meta.layout}})});return(n,s)=>(Ir(),s0(ZT(r[i.layout]),null,{default:d1(()=>[uA(n.$slots,"default")]),_:3}))}}),WL=t=>(jT("data-v-b1c60533"),t=t(),XT(),t),jL=WL(()=>Qi("div",{class:"h-full w-full bg-black opacity-50"},[Qi("div",{class:"circle animate-[spin_2s_linear_infinite]"})],-1)),XL=[jL],VL=vr({__name:"tLoading",setup(t){return(e,r)=>(Ir(),Wi("div",{class:Ws(["loading-wrap",Wt(sr).isLoading?"animate-fadeIn":"animate-fadeOut"])},XL,2))}});const qL=HE(VL,[["__scopeId","data-v-b1c60533"]]),YL={class:"justufy-center relative flex h-full w-full items-center"},KL=vr({__name:"App",setup(t){return document.addEventListener("contextmenu",e=>{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},{passive:!1}),document.addEventListener("dragstart",e=>{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},{passive:!1}),(e,r)=>(Ir(),Wi("div",YL,[Se(qL,{class:"z-[3]"}),Se($L,{class:"z-[2]"})]))}});const fh=O1(KL),ZL=IL();fh.use(ty,{position:"top-center",autoClose:500,pauseOnHover:!0,hideProgressBar:!0,transition:"flip",closeOnClick:!0,theme:"colored"});fh.use(oa);fh.use(ZL);fh.mount("#app");export{Si as A,UO as B,JL as C,t9 as D,_f as E,HE as _,sr as a,q as b,Ir as c,vr as d,Wi as e,Qi as f,$g as g,go as h,ze as i,Lt as j,yi as k,FA as l,i9 as m,Ws as n,r0 as o,Se as p,Wt as q,s9 as r,o9 as s,hT as t,bw as u,e9 as v,r9 as w,jT as x,XT as y,He as z};
