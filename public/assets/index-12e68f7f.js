var Rb=Object.defineProperty;var Db=(t,e,r)=>e in t?Rb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var pe=(t,e,r)=>(Db(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rd(t,e){const r=new Set(t.split(","));return e?i=>r.has(i.toLowerCase()):i=>r.has(i)}const je={},_s=[],tr=()=>{},Ib=()=>!1,Jl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),id=t=>t.startsWith("onUpdate:"),Tt=Object.assign,nd=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Fb=Object.prototype.hasOwnProperty,Ie=(t,e)=>Fb.call(t,e),ye=Array.isArray,vs=t=>ec(t)==="[object Map]",Ig=t=>ec(t)==="[object Set]",Te=t=>typeof t=="function",lt=t=>typeof t=="string",Zs=t=>typeof t=="symbol",qe=t=>t!==null&&typeof t=="object",Fg=t=>(qe(t)||Te(t))&&Te(t.then)&&Te(t.catch),Mg=Object.prototype.toString,ec=t=>Mg.call(t),Mb=t=>ec(t).slice(8,-1),Og=t=>ec(t)==="[object Object]",sd=t=>lt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,To=rd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tc=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Ob=/-(\w)/g,Jr=tc(t=>t.replace(Ob,(e,r)=>r?r.toUpperCase():"")),kb=/\B([A-Z])/g,Qs=tc(t=>t.replace(kb,"-$1").toLowerCase()),rc=tc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Nc=tc(t=>t?`on${rc(t)}`:""),Yi=(t,e)=>!Object.is(t,e),Lc=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},bl=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},Nb=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let w0;const kg=()=>w0||(w0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function od(t){if(ye(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],n=lt(i)?Hb(i):od(i);if(n)for(const s in n)e[s]=n[s]}return e}else if(lt(t)||qe(t))return t}const Lb=/;(?![^(]*\))/g,Ub=/:([^]+)/,zb=/\/\*[^]*?\*\//g;function Hb(t){const e={};return t.replace(zb,"").split(Lb).forEach(r=>{if(r){const i=r.split(Ub);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Is(t){let e="";if(lt(t))e=t;else if(ye(t))for(let r=0;r<t.length;r++){const i=Is(t[r]);i&&(e+=i+" ")}else if(qe(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Gb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$b=rd(Gb);function Ng(t){return!!t||t===""}const Wb=t=>lt(t)?t:t==null?"":ye(t)||qe(t)&&(t.toString===Mg||!Te(t.toString))?JSON.stringify(t,Lg,2):String(t),Lg=(t,e)=>e&&e.__v_isRef?Lg(t,e.value):vs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,n],s)=>(r[Uc(i,s)+" =>"]=n,r),{})}:Ig(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Uc(r))}:Zs(e)?Uc(e):qe(e)&&!ye(e)&&!Og(e)?String(e):e,Uc=(t,e="")=>{var r;return Zs(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let br;class Vb{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=br,!e&&br&&(this.index=(br.scopes||(br.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=br;try{return br=this,e()}finally{br=r}}}on(){br=this}off(){br=this.parent}stop(e){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function jb(t,e=br){e&&e.active&&e.effects.push(t)}function Xb(){return br}let Pn;class ad{constructor(e,r,i,n){this.fn=e,this.trigger=r,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,jb(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Vn();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(Yb(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),jn()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Gi,r=Pn;try{return Gi=!0,Pn=this,this._runnings++,P0(this),this.fn()}finally{B0(this),this._runnings--,Pn=r,Gi=e}}stop(){var e;this.active&&(P0(this),B0(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Yb(t){return t.value}function P0(t){t._trackId++,t._depsLength=0}function B0(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Ug(t.deps[e],t);t.deps.length=t._depsLength}}function Ug(t,e){const r=t.get(e);r!==void 0&&e._trackId!==r&&(t.delete(e),t.size===0&&t.cleanup())}let Gi=!0,Bu=0;const zg=[];function Vn(){zg.push(Gi),Gi=!1}function jn(){const t=zg.pop();Gi=t===void 0?!0:t}function ld(){Bu++}function cd(){for(Bu--;!Bu&&Ru.length;)Ru.shift()()}function Hg(t,e,r){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&Ug(i,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Ru=[];function Gg(t,e,r){ld();for(const i of t.keys()){let n;i._dirtyLevel<e&&(n??(n=t.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(n??(n=t.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&Ru.push(i.scheduler)))}cd()}const $g=(t,e)=>{const r=new Map;return r.cleanup=t,r.computed=e,r},Du=new WeakMap,Bn=Symbol(""),Iu=Symbol("");function jt(t,e,r){if(Gi&&Pn){let i=Du.get(t);i||Du.set(t,i=new Map);let n=i.get(r);n||i.set(r,n=$g(()=>i.delete(r))),Hg(Pn,n)}}function pi(t,e,r,i,n,s){const o=Du.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(r==="length"&&ye(t)){const l=Number(i);o.forEach((c,h)=>{(h==="length"||!Zs(h)&&h>=l)&&a.push(c)})}else switch(r!==void 0&&a.push(o.get(r)),e){case"add":ye(t)?sd(r)&&a.push(o.get("length")):(a.push(o.get(Bn)),vs(t)&&a.push(o.get(Iu)));break;case"delete":ye(t)||(a.push(o.get(Bn)),vs(t)&&a.push(o.get(Iu)));break;case"set":vs(t)&&a.push(o.get(Bn));break}ld();for(const l of a)l&&Gg(l,4);cd()}const qb=rd("__proto__,__v_isRef,__isVue"),Wg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Zs)),R0=Kb();function Kb(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const i=Se(this);for(let s=0,o=this.length;s<o;s++)jt(i,"get",s+"");const n=i[e](...r);return n===-1||n===!1?i[e](...r.map(Se)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){Vn(),ld();const i=Se(this)[e].apply(this,r);return cd(),jn(),i}}),t}function Zb(t){const e=Se(this);return jt(e,"has",t),e.hasOwnProperty(t)}class Vg{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,i){const n=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return s;if(r==="__v_raw")return i===(n?s?hE:qg:s?Yg:Xg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=ye(e);if(!n){if(o&&Ie(R0,r))return Reflect.get(R0,r,i);if(r==="hasOwnProperty")return Zb}const a=Reflect.get(e,r,i);return(Zs(r)?Wg.has(r):qb(r))||(n||jt(e,"get",r),s)?a:Xt(a)?o&&sd(r)?a:a.value:qe(a)?n?Zg(a):kt(a):a}}class jg extends Vg{constructor(e=!1){super(!1,e)}set(e,r,i,n){let s=e[r];if(!this._isShallow){const l=Fs(s);if(!El(i)&&!Fs(i)&&(s=Se(s),i=Se(i)),!ye(e)&&Xt(s)&&!Xt(i))return l?!1:(s.value=i,!0)}const o=ye(e)&&sd(r)?Number(r)<e.length:Ie(e,r),a=Reflect.set(e,r,i,n);return e===Se(n)&&(o?Yi(i,s)&&pi(e,"set",r,i):pi(e,"add",r,i)),a}deleteProperty(e,r){const i=Ie(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&i&&pi(e,"delete",r,void 0),n}has(e,r){const i=Reflect.has(e,r);return(!Zs(r)||!Wg.has(r))&&jt(e,"has",r),i}ownKeys(e){return jt(e,"iterate",ye(e)?"length":Bn),Reflect.ownKeys(e)}}class Qb extends Vg{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Jb=new jg,eE=new Qb,tE=new jg(!0),hd=t=>t,ic=t=>Reflect.getPrototypeOf(t);function Ta(t,e,r=!1,i=!1){t=t.__v_raw;const n=Se(t),s=Se(e);r||(Yi(e,s)&&jt(n,"get",e),jt(n,"get",s));const{has:o}=ic(n),a=i?hd:r?dd:Wo;if(o.call(n,e))return a(t.get(e));if(o.call(n,s))return a(t.get(s));t!==n&&t.get(e)}function Aa(t,e=!1){const r=this.__v_raw,i=Se(r),n=Se(t);return e||(Yi(t,n)&&jt(i,"has",t),jt(i,"has",n)),t===n?r.has(t):r.has(t)||r.has(n)}function wa(t,e=!1){return t=t.__v_raw,!e&&jt(Se(t),"iterate",Bn),Reflect.get(t,"size",t)}function D0(t){t=Se(t);const e=Se(this);return ic(e).has.call(e,t)||(e.add(t),pi(e,"add",t,t)),this}function I0(t,e){e=Se(e);const r=Se(this),{has:i,get:n}=ic(r);let s=i.call(r,t);s||(t=Se(t),s=i.call(r,t));const o=n.call(r,t);return r.set(t,e),s?Yi(e,o)&&pi(r,"set",t,e):pi(r,"add",t,e),this}function F0(t){const e=Se(this),{has:r,get:i}=ic(e);let n=r.call(e,t);n||(t=Se(t),n=r.call(e,t)),i&&i.call(e,t);const s=e.delete(t);return n&&pi(e,"delete",t,void 0),s}function M0(){const t=Se(this),e=t.size!==0,r=t.clear();return e&&pi(t,"clear",void 0,void 0),r}function Pa(t,e){return function(i,n){const s=this,o=s.__v_raw,a=Se(o),l=e?hd:t?dd:Wo;return!t&&jt(a,"iterate",Bn),o.forEach((c,h)=>i.call(n,l(c),l(h),s))}}function Ba(t,e,r){return function(...i){const n=this.__v_raw,s=Se(n),o=vs(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...i),h=r?hd:e?dd:Wo;return!e&&jt(s,"iterate",l?Iu:Bn),{next(){const{value:f,done:u}=c.next();return u?{value:f,done:u}:{value:a?[h(f[0]),h(f[1])]:h(f),done:u}},[Symbol.iterator](){return this}}}}function wi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function rE(){const t={get(s){return Ta(this,s)},get size(){return wa(this)},has:Aa,add:D0,set:I0,delete:F0,clear:M0,forEach:Pa(!1,!1)},e={get(s){return Ta(this,s,!1,!0)},get size(){return wa(this)},has:Aa,add:D0,set:I0,delete:F0,clear:M0,forEach:Pa(!1,!0)},r={get(s){return Ta(this,s,!0)},get size(){return wa(this,!0)},has(s){return Aa.call(this,s,!0)},add:wi("add"),set:wi("set"),delete:wi("delete"),clear:wi("clear"),forEach:Pa(!0,!1)},i={get(s){return Ta(this,s,!0,!0)},get size(){return wa(this,!0)},has(s){return Aa.call(this,s,!0)},add:wi("add"),set:wi("set"),delete:wi("delete"),clear:wi("clear"),forEach:Pa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Ba(s,!1,!1),r[s]=Ba(s,!0,!1),e[s]=Ba(s,!1,!0),i[s]=Ba(s,!0,!0)}),[t,r,e,i]}const[iE,nE,sE,oE]=rE();function ud(t,e){const r=e?t?oE:sE:t?nE:iE;return(i,n,s)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(Ie(r,n)&&n in i?r:i,n,s)}const aE={get:ud(!1,!1)},lE={get:ud(!1,!0)},cE={get:ud(!0,!1)},Xg=new WeakMap,Yg=new WeakMap,qg=new WeakMap,hE=new WeakMap;function uE(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fE(t){return t.__v_skip||!Object.isExtensible(t)?0:uE(Mb(t))}function kt(t){return Fs(t)?t:fd(t,!1,Jb,aE,Xg)}function Kg(t){return fd(t,!1,tE,lE,Yg)}function Zg(t){return fd(t,!0,eE,cE,qg)}function fd(t,e,r,i,n){if(!qe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=n.get(t);if(s)return s;const o=fE(t);if(o===0)return t;const a=new Proxy(t,o===2?i:r);return n.set(t,a),a}function ys(t){return Fs(t)?ys(t.__v_raw):!!(t&&t.__v_isReactive)}function Fs(t){return!!(t&&t.__v_isReadonly)}function El(t){return!!(t&&t.__v_isShallow)}function Qg(t){return ys(t)||Fs(t)}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function Jg(t){return Object.isExtensible(t)&&bl(t,"__v_skip",!0),t}const Wo=t=>qe(t)?kt(t):t,dd=t=>qe(t)?Zg(t):t;class e1{constructor(e,r,i,n){this.getter=e,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new ad(()=>e(this._value),()=>tl(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const e=Se(this);return(!e._cacheable||e.effect.dirty)&&Yi(e._value,e._value=e.effect.run())&&tl(e,4),t1(e),e.effect._dirtyLevel>=2&&tl(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function dE(t,e,r=!1){let i,n;const s=Te(t);return s?(i=t,n=tr):(i=t.get,n=t.set),new e1(i,n,s||!n,r)}function t1(t){var e;Gi&&Pn&&(t=Se(t),Hg(Pn,(e=t.dep)!=null?e:t.dep=$g(()=>t.dep=void 0,t instanceof e1?t:void 0)))}function tl(t,e=4,r){t=Se(t);const i=t.dep;i&&Gg(i,e)}function Xt(t){return!!(t&&t.__v_isRef===!0)}function ui(t){return r1(t,!1)}function pE(t){return r1(t,!0)}function r1(t,e){return Xt(t)?t:new mE(t,e)}class mE{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:Se(e),this._value=r?e:Wo(e)}get value(){return t1(this),this._value}set value(e){const r=this.__v_isShallow||El(e)||Fs(e);e=r?e:Se(e),Yi(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:Wo(e),tl(this,4))}}function Ht(t){return Xt(t)?t.value:t}const xE={get:(t,e,r)=>Ht(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const n=t[e];return Xt(n)&&!Xt(r)?(n.value=r,!0):Reflect.set(t,e,r,i)}};function i1(t){return ys(t)?t:new Proxy(t,xE)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $i(t,e,r,i){try{return i?t(...i):t()}catch(n){nc(n,e,r)}}function Br(t,e,r,i){if(Te(t)){const s=$i(t,e,r,i);return s&&Fg(s)&&s.catch(o=>{nc(o,e,r)}),s}const n=[];for(let s=0;s<t.length;s++)n.push(Br(t[s],e,r,i));return n}function nc(t,e,r,i=!0){const n=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const c=s.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){$i(l,null,10,[t,o,a]);return}}gE(t,r,n,i)}function gE(t,e,r,i=!0){console.error(t)}let Vo=!1,Fu=!1;const At=[];let Wr=0;const bs=[];let Di=null,En=0;const n1=Promise.resolve();let pd=null;function da(t){const e=pd||n1;return t?e.then(this?t.bind(this):t):e}function _E(t){let e=Wr+1,r=At.length;for(;e<r;){const i=e+r>>>1,n=At[i],s=jo(n);s<t||s===t&&n.pre?e=i+1:r=i}return e}function md(t){(!At.length||!At.includes(t,Vo&&t.allowRecurse?Wr+1:Wr))&&(t.id==null?At.push(t):At.splice(_E(t.id),0,t),s1())}function s1(){!Vo&&!Fu&&(Fu=!0,pd=n1.then(a1))}function vE(t){const e=At.indexOf(t);e>Wr&&At.splice(e,1)}function yE(t){ye(t)?bs.push(...t):(!Di||!Di.includes(t,t.allowRecurse?En+1:En))&&bs.push(t),s1()}function O0(t,e,r=Vo?Wr+1:0){for(;r<At.length;r++){const i=At[r];if(i&&i.pre){if(t&&i.id!==t.uid)continue;At.splice(r,1),r--,i()}}}function o1(t){if(bs.length){const e=[...new Set(bs)].sort((r,i)=>jo(r)-jo(i));if(bs.length=0,Di){Di.push(...e);return}for(Di=e,En=0;En<Di.length;En++)Di[En]();Di=null,En=0}}const jo=t=>t.id==null?1/0:t.id,bE=(t,e)=>{const r=jo(t)-jo(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function a1(t){Fu=!1,Vo=!0,At.sort(bE);const e=tr;try{for(Wr=0;Wr<At.length;Wr++){const r=At[Wr];r&&r.active!==!1&&$i(r,null,14)}}finally{Wr=0,At.length=0,o1(),Vo=!1,pd=null,(At.length||bs.length)&&a1()}}function EE(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||je;let n=r;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in i){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:u}=i[h]||je;u&&(n=r.map(d=>lt(d)?d.trim():d)),f&&(n=r.map(Nb))}let a,l=i[a=Nc(e)]||i[a=Nc(Jr(e))];!l&&s&&(l=i[a=Nc(Qs(e))]),l&&Br(l,t,6,n);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Br(c,t,6,n)}}function l1(t,e,r=!1){const i=e.emitsCache,n=i.get(t);if(n!==void 0)return n;const s=t.emits;let o={},a=!1;if(!Te(t)){const l=c=>{const h=l1(c,e,!0);h&&(a=!0,Tt(o,h))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(qe(t)&&i.set(t,null),null):(ye(s)?s.forEach(l=>o[l]=null):Tt(o,s),qe(t)&&i.set(t,o),o)}function sc(t,e){return!t||!Jl(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ie(t,e[0].toLowerCase()+e.slice(1))||Ie(t,Qs(e))||Ie(t,e))}let Pt=null,oc=null;function Sl(t){const e=Pt;return Pt=t,oc=t&&t.type.__scopeId||null,e}function SE(t){oc=t}function CE(){oc=null}function c1(t,e=Pt,r){if(!e||t._n)return t;const i=(...n)=>{i._d&&j0(-1);const s=Sl(e);let o;try{o=t(...n)}finally{Sl(s),i._d&&j0(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function zc(t){const{type:e,vnode:r,proxy:i,withProxy:n,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:h,renderCache:f,data:u,setupState:d,ctx:p,inheritAttrs:m}=t;let x,y;const _=Sl(t);try{if(r.shapeFlag&4){const v=n||i,b=v;x=Hr(h.call(b,v,f,s,d,u,p)),y=l}else{const v=e;x=Hr(v.length>1?v(s,{attrs:l,slots:a,emit:c}):v(s,null)),y=e.props?l:TE(l)}}catch(v){Do.length=0,nc(v,t,1),x=we(qi)}let g=x;if(y&&m!==!1){const v=Object.keys(y),{shapeFlag:b}=g;v.length&&b&7&&(o&&v.some(id)&&(y=AE(y,o)),g=Nn(g,y))}return r.dirs&&(g=Nn(g),g.dirs=g.dirs?g.dirs.concat(r.dirs):r.dirs),r.transition&&(g.transition=r.transition),x=g,Sl(_),x}const TE=t=>{let e;for(const r in t)(r==="class"||r==="style"||Jl(r))&&((e||(e={}))[r]=t[r]);return e},AE=(t,e)=>{const r={};for(const i in t)(!id(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function wE(t,e,r){const{props:i,children:n,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?k0(i,o,c):!!o;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const u=h[f];if(o[u]!==i[u]&&!sc(c,u))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?k0(i,o,c):!0:!!o;return!1}function k0(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(e[s]!==t[s]&&!sc(r,s))return!0}return!1}function PE({vnode:t,parent:e},r){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=r,e=e.parent;else break}}const h1="components",u1=Symbol.for("v-ndc");function BE(t){return lt(t)?RE(h1,t,!1)||t:t||u1}function RE(t,e,r=!0,i=!1){const n=Pt||bt;if(n){const s=n.type;if(t===h1){const a=E2(s,!1);if(a&&(a===e||a===Jr(e)||a===rc(Jr(e))))return s}const o=N0(n[t]||s[t],e)||N0(n.appContext[t],e);return!o&&i?s:o}}function N0(t,e){return t&&(t[e]||t[Jr(e)]||t[rc(Jr(e))])}const DE=t=>t.__isSuspense;function IE(t,e){e&&e.pendingBranch?ye(t)?e.effects.push(...t):e.effects.push(t):yE(t)}const FE=Symbol.for("v-scx"),ME=()=>pr(FE);function Ao(t,e){return xd(t,null,e)}const Ra={};function wo(t,e,r){return xd(t,e,r)}function xd(t,e,{immediate:r,deep:i,flush:n,once:s,onTrack:o,onTrigger:a}=je){if(e&&s){const E=e;e=(...S)=>{E(...S),b()}}const l=bt,c=E=>i===!0?E:us(E,i===!1?1:void 0);let h,f=!1,u=!1;if(Xt(t)?(h=()=>t.value,f=El(t)):ys(t)?(h=()=>c(t),f=!0):ye(t)?(u=!0,f=t.some(E=>ys(E)||El(E)),h=()=>t.map(E=>{if(Xt(E))return E.value;if(ys(E))return c(E);if(Te(E))return $i(E,l,2)})):Te(t)?e?h=()=>$i(t,l,2):h=()=>(d&&d(),Br(t,l,3,[p])):h=tr,e&&i){const E=h;h=()=>us(E())}let d,p=E=>{d=g.onStop=()=>{$i(E,l,4),d=g.onStop=void 0}},m;if(uc)if(p=tr,e?r&&Br(e,l,3,[h(),u?[]:void 0,p]):h(),n==="sync"){const E=ME();m=E.__watcherHandles||(E.__watcherHandles=[])}else return tr;let x=u?new Array(t.length).fill(Ra):Ra;const y=()=>{if(!(!g.active||!g.dirty))if(e){const E=g.run();(i||f||(u?E.some((S,C)=>Yi(S,x[C])):Yi(E,x)))&&(d&&d(),Br(e,l,3,[E,x===Ra?void 0:u&&x[0]===Ra?[]:x,p]),x=E)}else g.run()};y.allowRecurse=!!e;let _;n==="sync"?_=y:n==="post"?_=()=>Nt(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),_=()=>md(y));const g=new ad(h,tr,_),v=Xb(),b=()=>{g.stop(),v&&nd(v.effects,g)};return e?r?y():x=g.run():n==="post"?Nt(g.run.bind(g),l&&l.suspense):g.run(),m&&m.push(b),b}function OE(t,e,r){const i=this.proxy,n=lt(t)?t.includes(".")?f1(i,t):()=>i[t]:t.bind(i,i);let s;Te(e)?s=e:(s=e.handler,r=e);const o=pa(this),a=xd(n,s.bind(i),r);return o(),a}function f1(t,e){const r=e.split(".");return()=>{let i=t;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}function us(t,e,r=0,i){if(!qe(t)||t.__v_skip)return t;if(e&&e>0){if(r>=e)return t;r++}if(i=i||new Set,i.has(t))return t;if(i.add(t),Xt(t))us(t.value,e,r,i);else if(ye(t))for(let n=0;n<t.length;n++)us(t[n],e,r,i);else if(Ig(t)||vs(t))t.forEach(n=>{us(n,e,r,i)});else if(Og(t))for(const n in t)us(t[n],e,r,i);return t}function an(t,e,r,i){const n=t.dirs,s=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(Vn(),Br(l,r,8,[t.el,a,t,e]),jn())}}/*! #__NO_SIDE_EFFECTS__ */function xr(t,e){return Te(t)?(()=>Tt({name:t.name},e,{setup:t}))():t}const Po=t=>!!t.type.__asyncLoader,d1=t=>t.type.__isKeepAlive;function p1(t,e){x1(t,"a",e)}function m1(t,e){x1(t,"da",e)}function x1(t,e,r=bt){const i=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(ac(e,i,r),r){let n=r.parent;for(;n&&n.parent;)d1(n.parent.vnode)&&kE(i,e,r,n),n=n.parent}}function kE(t,e,r,i){const n=ac(e,t,i,!0);lc(()=>{nd(i[e],n)},r)}function ac(t,e,r=bt,i=!1){if(r){const n=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(r.isUnmounted)return;Vn();const a=pa(r),l=Br(e,r,t,o);return a(),jn(),l});return i?n.unshift(s):n.push(s),s}}const yi=t=>(e,r=bt)=>(!uc||t==="sp")&&ac(t,(...i)=>e(...i),r),NE=yi("bm"),gd=yi("m"),LE=yi("bu"),UE=yi("u"),g1=yi("bum"),lc=yi("um"),zE=yi("sp"),HE=yi("rtg"),GE=yi("rtc");function $E(t,e=bt){ac("ec",t,e)}function WE(t,e,r,i){let n;const s=r&&r[i];if(ye(t)||lt(t)){n=new Array(t.length);for(let o=0,a=t.length;o<a;o++)n[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o+1,o,void 0,s&&s[o])}else if(qe(t))if(t[Symbol.iterator])n=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);n=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];n[a]=e(t[c],c,a,s&&s[a])}}else n=[];return r&&(r[i]=n),n}function VE(t,e,r={},i,n){if(Pt.isCE||Pt.parent&&Po(Pt.parent)&&Pt.parent.isCE)return e!=="default"&&(r.name=e),we("slot",r,i&&i());let s=t[e];s&&s._c&&(s._d=!1),wr();const o=s&&_1(s(r)),a=yd(Jt,{key:r.key||o&&o.key||`_${e}`},o||(i?i():[]),o&&t._===1?64:-2);return!n&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function _1(t){return t.some(e=>Ms(e)?!(e.type===qi||e.type===Jt&&!_1(e.children)):!0)?t:null}const Mu=t=>t?R1(t)?Ed(t)||t.proxy:Mu(t.parent):null,Bo=Tt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Mu(t.parent),$root:t=>Mu(t.root),$emit:t=>t.emit,$options:t=>_d(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,md(t.update)}),$nextTick:t=>t.n||(t.n=da.bind(t.proxy)),$watch:t=>OE.bind(t)}),Hc=(t,e)=>t!==je&&!t.__isScriptSetup&&Ie(t,e),jE={get({_:t},e){const{ctx:r,setupState:i,data:n,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return n[e];case 4:return r[e];case 3:return s[e]}else{if(Hc(i,e))return o[e]=1,i[e];if(n!==je&&Ie(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&Ie(c,e))return o[e]=3,s[e];if(r!==je&&Ie(r,e))return o[e]=4,r[e];Ou&&(o[e]=0)}}const h=Bo[e];let f,u;if(h)return e==="$attrs"&&jt(t,"get",e),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==je&&Ie(r,e))return o[e]=4,r[e];if(u=l.config.globalProperties,Ie(u,e))return u[e]},set({_:t},e,r){const{data:i,setupState:n,ctx:s}=t;return Hc(n,e)?(n[e]=r,!0):i!==je&&Ie(i,e)?(i[e]=r,!0):Ie(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:n,propsOptions:s}},o){let a;return!!r[o]||t!==je&&Ie(t,o)||Hc(e,o)||(a=s[0])&&Ie(a,o)||Ie(i,o)||Ie(Bo,o)||Ie(n.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Ie(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function L0(t){return ye(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Ou=!0;function XE(t){const e=_d(t),r=t.proxy,i=t.ctx;Ou=!1,e.beforeCreate&&U0(e.beforeCreate,t,"bc");const{data:n,computed:s,methods:o,watch:a,provide:l,inject:c,created:h,beforeMount:f,mounted:u,beforeUpdate:d,updated:p,activated:m,deactivated:x,beforeDestroy:y,beforeUnmount:_,destroyed:g,unmounted:v,render:b,renderTracked:E,renderTriggered:S,errorCaptured:C,serverPrefetch:R,expose:A,inheritAttrs:P,components:I,directives:D,filters:F}=e;if(c&&YE(c,i,null),o)for(const L in o){const Y=o[L];Te(Y)&&(i[L]=Y.bind(r))}if(n){const L=n.call(r,r);qe(L)&&(t.data=kt(L))}if(Ou=!0,s)for(const L in s){const Y=s[L],ne=Te(Y)?Y.bind(r,r):Te(Y.get)?Y.get.bind(r,r):tr,z=!Te(Y)&&Te(Y.set)?Y.set.bind(r):tr,M=Le({get:ne,set:z});Object.defineProperty(i,L,{enumerable:!0,configurable:!0,get:()=>M.value,set:k=>M.value=k})}if(a)for(const L in a)v1(a[L],i,r,L);if(l){const L=Te(l)?l.call(r):l;Reflect.ownKeys(L).forEach(Y=>{rl(Y,L[Y])})}h&&U0(h,t,"c");function V(L,Y){ye(Y)?Y.forEach(ne=>L(ne.bind(r))):Y&&L(Y.bind(r))}if(V(NE,f),V(gd,u),V(LE,d),V(UE,p),V(p1,m),V(m1,x),V($E,C),V(GE,E),V(HE,S),V(g1,_),V(lc,v),V(zE,R),ye(A))if(A.length){const L=t.exposed||(t.exposed={});A.forEach(Y=>{Object.defineProperty(L,Y,{get:()=>r[Y],set:ne=>r[Y]=ne})})}else t.exposed||(t.exposed={});b&&t.render===tr&&(t.render=b),P!=null&&(t.inheritAttrs=P),I&&(t.components=I),D&&(t.directives=D)}function YE(t,e,r=tr){ye(t)&&(t=ku(t));for(const i in t){const n=t[i];let s;qe(n)?"default"in n?s=pr(n.from||i,n.default,!0):s=pr(n.from||i):s=pr(n),Xt(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function U0(t,e,r){Br(ye(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function v1(t,e,r,i){const n=i.includes(".")?f1(r,i):()=>r[i];if(lt(t)){const s=e[t];Te(s)&&wo(n,s)}else if(Te(t))wo(n,t.bind(r));else if(qe(t))if(ye(t))t.forEach(s=>v1(s,e,r,i));else{const s=Te(t.handler)?t.handler.bind(r):e[t.handler];Te(s)&&wo(n,s,t)}}function _d(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!n.length&&!r&&!i?l=e:(l={},n.length&&n.forEach(c=>Cl(l,c,o,!0)),Cl(l,e,o)),qe(e)&&s.set(e,l),l}function Cl(t,e,r,i=!1){const{mixins:n,extends:s}=e;s&&Cl(t,s,r,!0),n&&n.forEach(o=>Cl(t,o,r,!0));for(const o in e)if(!(i&&o==="expose")){const a=qE[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const qE={data:z0,props:H0,emits:H0,methods:_o,computed:_o,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:_o,directives:_o,watch:ZE,provide:z0,inject:KE};function z0(t,e){return e?t?function(){return Tt(Te(t)?t.call(this,this):t,Te(e)?e.call(this,this):e)}:e:t}function KE(t,e){return _o(ku(t),ku(e))}function ku(t){if(ye(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Ft(t,e){return t?[...new Set([].concat(t,e))]:e}function _o(t,e){return t?Tt(Object.create(null),t,e):e}function H0(t,e){return t?ye(t)&&ye(e)?[...new Set([...t,...e])]:Tt(Object.create(null),L0(t),L0(e??{})):e}function ZE(t,e){if(!t)return e;if(!e)return t;const r=Tt(Object.create(null),t);for(const i in e)r[i]=Ft(t[i],e[i]);return r}function y1(){return{app:null,config:{isNativeTag:Ib,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let QE=0;function JE(t,e){return function(i,n=null){Te(i)||(i=Tt({},i)),n!=null&&!qe(n)&&(n=null);const s=y1(),o=new WeakSet;let a=!1;const l=s.app={_uid:QE++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:Sd,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&Te(c.install)?(o.add(c),c.install(l,...h)):Te(c)&&(o.add(c),c(l,...h))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,h){return h?(s.components[c]=h,l):s.components[c]},directive(c,h){return h?(s.directives[c]=h,l):s.directives[c]},mount(c,h,f){if(!a){const u=we(i,n);return u.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(u,c):t(u,c,f),a=!0,l._container=c,c.__vue_app__=l,Ed(u.component)||u.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,h){return s.provides[c]=h,l},runWithContext(c){const h=Ro;Ro=l;try{return c()}finally{Ro=h}}};return l}}let Ro=null;function rl(t,e){if(bt){let r=bt.provides;const i=bt.parent&&bt.parent.provides;i===r&&(r=bt.provides=Object.create(i)),r[t]=e}}function pr(t,e,r=!1){const i=bt||Pt;if(i||Ro){const n=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ro._context.provides;if(n&&t in n)return n[t];if(arguments.length>1)return r&&Te(e)?e.call(i&&i.proxy):e}}function e2(t,e,r,i=!1){const n={},s={};bl(s,hc,1),t.propsDefaults=Object.create(null),b1(t,e,n,s);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);r?t.props=i?n:Kg(n):t.type.props?t.props=n:t.props=s,t.attrs=s}function t2(t,e,r,i){const{props:n,attrs:s,vnode:{patchFlag:o}}=t,a=Se(n),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let u=h[f];if(sc(t.emitsOptions,u))continue;const d=e[u];if(l)if(Ie(s,u))d!==s[u]&&(s[u]=d,c=!0);else{const p=Jr(u);n[p]=Nu(l,a,p,d,t,!1)}else d!==s[u]&&(s[u]=d,c=!0)}}}else{b1(t,e,n,s)&&(c=!0);let h;for(const f in a)(!e||!Ie(e,f)&&((h=Qs(f))===f||!Ie(e,h)))&&(l?r&&(r[f]!==void 0||r[h]!==void 0)&&(n[f]=Nu(l,a,f,void 0,t,!0)):delete n[f]);if(s!==a)for(const f in s)(!e||!Ie(e,f))&&(delete s[f],c=!0)}c&&pi(t,"set","$attrs")}function b1(t,e,r,i){const[n,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(To(l))continue;const c=e[l];let h;n&&Ie(n,h=Jr(l))?!s||!s.includes(h)?r[h]=c:(a||(a={}))[h]=c:sc(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=Se(r),c=a||je;for(let h=0;h<s.length;h++){const f=s[h];r[f]=Nu(n,l,f,c[f],t,!Ie(c,f))}}return o}function Nu(t,e,r,i,n,s){const o=t[r];if(o!=null){const a=Ie(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Te(l)){const{propsDefaults:c}=n;if(r in c)i=c[r];else{const h=pa(n);i=c[r]=l.call(null,e),h()}}else i=l}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Qs(r))&&(i=!0))}return i}function E1(t,e,r=!1){const i=e.propsCache,n=i.get(t);if(n)return n;const s=t.props,o={},a=[];let l=!1;if(!Te(t)){const h=f=>{l=!0;const[u,d]=E1(f,e,!0);Tt(o,u),d&&a.push(...d)};!r&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!s&&!l)return qe(t)&&i.set(t,_s),_s;if(ye(s))for(let h=0;h<s.length;h++){const f=Jr(s[h]);G0(f)&&(o[f]=je)}else if(s)for(const h in s){const f=Jr(h);if(G0(f)){const u=s[h],d=o[f]=ye(u)||Te(u)?{type:u}:Tt({},u);if(d){const p=V0(Boolean,d.type),m=V0(String,d.type);d[0]=p>-1,d[1]=m<0||p<m,(p>-1||Ie(d,"default"))&&a.push(f)}}}const c=[o,a];return qe(t)&&i.set(t,c),c}function G0(t){return t[0]!=="$"&&!To(t)}function $0(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function W0(t,e){return $0(t)===$0(e)}function V0(t,e){return ye(e)?e.findIndex(r=>W0(r,t)):Te(e)&&W0(e,t)?0:-1}const S1=t=>t[0]==="_"||t==="$stable",vd=t=>ye(t)?t.map(Hr):[Hr(t)],r2=(t,e,r)=>{if(e._n)return e;const i=c1((...n)=>vd(e(...n)),r);return i._c=!1,i},C1=(t,e,r)=>{const i=t._ctx;for(const n in t){if(S1(n))continue;const s=t[n];if(Te(s))e[n]=r2(n,s,i);else if(s!=null){const o=vd(s);e[n]=()=>o}}},T1=(t,e)=>{const r=vd(e);t.slots.default=()=>r},i2=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=Se(e),bl(e,"_",r)):C1(e,t.slots={})}else t.slots={},e&&T1(t,e);bl(t.slots,hc,1)},n2=(t,e,r)=>{const{vnode:i,slots:n}=t;let s=!0,o=je;if(i.shapeFlag&32){const a=e._;a?r&&a===1?s=!1:(Tt(n,e),!r&&a===1&&delete n._):(s=!e.$stable,C1(e,n)),o=e}else e&&(T1(t,e),o={default:1});if(s)for(const a in n)!S1(a)&&o[a]==null&&delete n[a]};function Lu(t,e,r,i,n=!1){if(ye(t)){t.forEach((u,d)=>Lu(u,e&&(ye(e)?e[d]:e),r,i,n));return}if(Po(i)&&!n)return;const s=i.shapeFlag&4?Ed(i.component)||i.component.proxy:i.el,o=n?null:s,{i:a,r:l}=t,c=e&&e.r,h=a.refs===je?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(lt(c)?(h[c]=null,Ie(f,c)&&(f[c]=null)):Xt(c)&&(c.value=null)),Te(l))$i(l,a,12,[o,h]);else{const u=lt(l),d=Xt(l);if(u||d){const p=()=>{if(t.f){const m=u?Ie(f,l)?f[l]:h[l]:l.value;n?ye(m)&&nd(m,s):ye(m)?m.includes(s)||m.push(s):u?(h[l]=[s],Ie(f,l)&&(f[l]=h[l])):(l.value=[s],t.k&&(h[t.k]=l.value))}else u?(h[l]=o,Ie(f,l)&&(f[l]=o)):d&&(l.value=o,t.k&&(h[t.k]=o))};o?(p.id=-1,Nt(p,r)):p()}}}const Nt=IE;function s2(t){return o2(t)}function o2(t,e){const r=kg();r.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:h,parentNode:f,nextSibling:u,setScopeId:d=tr,insertStaticContent:p}=t,m=(T,B,O,j=null,W=null,q=null,te=void 0,Z=null,Q=!!B.dynamicChildren)=>{if(T===B)return;T&&!ao(T,B)&&(j=N(T),k(T,W,q,!0),T=null),B.patchFlag===-2&&(Q=!1,B.dynamicChildren=null);const{type:X,ref:re,shapeFlag:de}=B;switch(X){case cc:x(T,B,O,j);break;case qi:y(T,B,O,j);break;case $c:T==null&&_(B,O,j,te);break;case Jt:I(T,B,O,j,W,q,te,Z,Q);break;default:de&1?b(T,B,O,j,W,q,te,Z,Q):de&6?D(T,B,O,j,W,q,te,Z,Q):(de&64||de&128)&&X.process(T,B,O,j,W,q,te,Z,Q,J)}re!=null&&W&&Lu(re,T&&T.ref,q,B||T,!B)},x=(T,B,O,j)=>{if(T==null)i(B.el=a(B.children),O,j);else{const W=B.el=T.el;B.children!==T.children&&c(W,B.children)}},y=(T,B,O,j)=>{T==null?i(B.el=l(B.children||""),O,j):B.el=T.el},_=(T,B,O,j)=>{[T.el,T.anchor]=p(T.children,B,O,j,T.el,T.anchor)},g=({el:T,anchor:B},O,j)=>{let W;for(;T&&T!==B;)W=u(T),i(T,O,j),T=W;i(B,O,j)},v=({el:T,anchor:B})=>{let O;for(;T&&T!==B;)O=u(T),n(T),T=O;n(B)},b=(T,B,O,j,W,q,te,Z,Q)=>{B.type==="svg"?te="svg":B.type==="math"&&(te="mathml"),T==null?E(B,O,j,W,q,te,Z,Q):R(T,B,W,q,te,Z,Q)},E=(T,B,O,j,W,q,te,Z)=>{let Q,X;const{props:re,shapeFlag:de,transition:he,dirs:ge}=T;if(Q=T.el=o(T.type,q,re&&re.is,re),de&8?h(Q,T.children):de&16&&C(T.children,Q,null,j,W,Gc(T,q),te,Z),ge&&an(T,null,j,"created"),S(Q,T,T.scopeId,te,j),re){for(const Oe in re)Oe!=="value"&&!To(Oe)&&s(Q,Oe,null,re[Oe],q,T.children,j,W,oe);"value"in re&&s(Q,"value",null,re.value,q),(X=re.onVnodeBeforeMount)&&Or(X,j,T)}ge&&an(T,null,j,"beforeMount");const Ee=a2(W,he);Ee&&he.beforeEnter(Q),i(Q,B,O),((X=re&&re.onVnodeMounted)||Ee||ge)&&Nt(()=>{X&&Or(X,j,T),Ee&&he.enter(Q),ge&&an(T,null,j,"mounted")},W)},S=(T,B,O,j,W)=>{if(O&&d(T,O),j)for(let q=0;q<j.length;q++)d(T,j[q]);if(W){let q=W.subTree;if(B===q){const te=W.vnode;S(T,te,te.scopeId,te.slotScopeIds,W.parent)}}},C=(T,B,O,j,W,q,te,Z,Q=0)=>{for(let X=Q;X<T.length;X++){const re=T[X]=Z?Ii(T[X]):Hr(T[X]);m(null,re,B,O,j,W,q,te,Z)}},R=(T,B,O,j,W,q,te)=>{const Z=B.el=T.el;let{patchFlag:Q,dynamicChildren:X,dirs:re}=B;Q|=T.patchFlag&16;const de=T.props||je,he=B.props||je;let ge;if(O&&ln(O,!1),(ge=he.onVnodeBeforeUpdate)&&Or(ge,O,B,T),re&&an(B,T,O,"beforeUpdate"),O&&ln(O,!0),X?A(T.dynamicChildren,X,Z,O,j,Gc(B,W),q):te||Y(T,B,Z,null,O,j,Gc(B,W),q,!1),Q>0){if(Q&16)P(Z,B,de,he,O,j,W);else if(Q&2&&de.class!==he.class&&s(Z,"class",null,he.class,W),Q&4&&s(Z,"style",de.style,he.style,W),Q&8){const Ee=B.dynamicProps;for(let Oe=0;Oe<Ee.length;Oe++){const ze=Ee[Oe],it=de[ze],ft=he[ze];(ft!==it||ze==="value")&&s(Z,ze,it,ft,W,T.children,O,j,oe)}}Q&1&&T.children!==B.children&&h(Z,B.children)}else!te&&X==null&&P(Z,B,de,he,O,j,W);((ge=he.onVnodeUpdated)||re)&&Nt(()=>{ge&&Or(ge,O,B,T),re&&an(B,T,O,"updated")},j)},A=(T,B,O,j,W,q,te)=>{for(let Z=0;Z<B.length;Z++){const Q=T[Z],X=B[Z],re=Q.el&&(Q.type===Jt||!ao(Q,X)||Q.shapeFlag&70)?f(Q.el):O;m(Q,X,re,null,j,W,q,te,!0)}},P=(T,B,O,j,W,q,te)=>{if(O!==j){if(O!==je)for(const Z in O)!To(Z)&&!(Z in j)&&s(T,Z,O[Z],null,te,B.children,W,q,oe);for(const Z in j){if(To(Z))continue;const Q=j[Z],X=O[Z];Q!==X&&Z!=="value"&&s(T,Z,X,Q,te,B.children,W,q,oe)}"value"in j&&s(T,"value",O.value,j.value,te)}},I=(T,B,O,j,W,q,te,Z,Q)=>{const X=B.el=T?T.el:a(""),re=B.anchor=T?T.anchor:a("");let{patchFlag:de,dynamicChildren:he,slotScopeIds:ge}=B;ge&&(Z=Z?Z.concat(ge):ge),T==null?(i(X,O,j),i(re,O,j),C(B.children||[],O,re,W,q,te,Z,Q)):de>0&&de&64&&he&&T.dynamicChildren?(A(T.dynamicChildren,he,O,W,q,te,Z),(B.key!=null||W&&B===W.subTree)&&A1(T,B,!0)):Y(T,B,O,re,W,q,te,Z,Q)},D=(T,B,O,j,W,q,te,Z,Q)=>{B.slotScopeIds=Z,T==null?B.shapeFlag&512?W.ctx.activate(B,O,j,te,Q):F(B,O,j,W,q,te,Q):G(T,B,Q)},F=(T,B,O,j,W,q,te)=>{const Z=T.component=x2(T,j,W);if(d1(T)&&(Z.ctx.renderer=J),_2(Z),Z.asyncDep){if(W&&W.registerDep(Z,V),!T.el){const Q=Z.subTree=we(qi);y(null,Q,B,O)}}else V(Z,T,B,O,W,q,te)},G=(T,B,O)=>{const j=B.component=T.component;if(wE(T,B,O))if(j.asyncDep&&!j.asyncResolved){L(j,B,O);return}else j.next=B,vE(j.update),j.effect.dirty=!0,j.update();else B.el=T.el,j.vnode=B},V=(T,B,O,j,W,q,te)=>{const Z=()=>{if(T.isMounted){let{next:re,bu:de,u:he,parent:ge,vnode:Ee}=T;{const or=w1(T);if(or){re&&(re.el=Ee.el,L(T,re,te)),or.asyncDep.then(()=>{T.isUnmounted||Z()});return}}let Oe=re,ze;ln(T,!1),re?(re.el=Ee.el,L(T,re,te)):re=Ee,de&&Lc(de),(ze=re.props&&re.props.onVnodeBeforeUpdate)&&Or(ze,ge,re,Ee),ln(T,!0);const it=zc(T),ft=T.subTree;T.subTree=it,m(ft,it,f(ft.el),N(ft),T,W,q),re.el=it.el,Oe===null&&PE(T,it.el),he&&Nt(he,W),(ze=re.props&&re.props.onVnodeUpdated)&&Nt(()=>Or(ze,ge,re,Ee),W)}else{let re;const{el:de,props:he}=B,{bm:ge,m:Ee,parent:Oe}=T,ze=Po(B);if(ln(T,!1),ge&&Lc(ge),!ze&&(re=he&&he.onVnodeBeforeMount)&&Or(re,Oe,B),ln(T,!0),de&&xe){const it=()=>{T.subTree=zc(T),xe(de,T.subTree,T,W,null)};ze?B.type.__asyncLoader().then(()=>!T.isUnmounted&&it()):it()}else{const it=T.subTree=zc(T);m(null,it,O,j,T,W,q),B.el=it.el}if(Ee&&Nt(Ee,W),!ze&&(re=he&&he.onVnodeMounted)){const it=B;Nt(()=>Or(re,Oe,it),W)}(B.shapeFlag&256||Oe&&Po(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&T.a&&Nt(T.a,W),T.isMounted=!0,B=O=j=null}},Q=T.effect=new ad(Z,tr,()=>md(X),T.scope),X=T.update=()=>{Q.dirty&&Q.run()};X.id=T.uid,ln(T,!0),X()},L=(T,B,O)=>{B.component=T;const j=T.vnode.props;T.vnode=B,T.next=null,t2(T,B.props,j,O),n2(T,B.children,O),Vn(),O0(T),jn()},Y=(T,B,O,j,W,q,te,Z,Q=!1)=>{const X=T&&T.children,re=T?T.shapeFlag:0,de=B.children,{patchFlag:he,shapeFlag:ge}=B;if(he>0){if(he&128){z(X,de,O,j,W,q,te,Z,Q);return}else if(he&256){ne(X,de,O,j,W,q,te,Z,Q);return}}ge&8?(re&16&&oe(X,W,q),de!==X&&h(O,de)):re&16?ge&16?z(X,de,O,j,W,q,te,Z,Q):oe(X,W,q,!0):(re&8&&h(O,""),ge&16&&C(de,O,j,W,q,te,Z,Q))},ne=(T,B,O,j,W,q,te,Z,Q)=>{T=T||_s,B=B||_s;const X=T.length,re=B.length,de=Math.min(X,re);let he;for(he=0;he<de;he++){const ge=B[he]=Q?Ii(B[he]):Hr(B[he]);m(T[he],ge,O,null,W,q,te,Z,Q)}X>re?oe(T,W,q,!0,!1,de):C(B,O,j,W,q,te,Z,Q,de)},z=(T,B,O,j,W,q,te,Z,Q)=>{let X=0;const re=B.length;let de=T.length-1,he=re-1;for(;X<=de&&X<=he;){const ge=T[X],Ee=B[X]=Q?Ii(B[X]):Hr(B[X]);if(ao(ge,Ee))m(ge,Ee,O,null,W,q,te,Z,Q);else break;X++}for(;X<=de&&X<=he;){const ge=T[de],Ee=B[he]=Q?Ii(B[he]):Hr(B[he]);if(ao(ge,Ee))m(ge,Ee,O,null,W,q,te,Z,Q);else break;de--,he--}if(X>de){if(X<=he){const ge=he+1,Ee=ge<re?B[ge].el:j;for(;X<=he;)m(null,B[X]=Q?Ii(B[X]):Hr(B[X]),O,Ee,W,q,te,Z,Q),X++}}else if(X>he)for(;X<=de;)k(T[X],W,q,!0),X++;else{const ge=X,Ee=X,Oe=new Map;for(X=Ee;X<=he;X++){const It=B[X]=Q?Ii(B[X]):Hr(B[X]);It.key!=null&&Oe.set(It.key,X)}let ze,it=0;const ft=he-Ee+1;let or=!1,Ca=0;const Ti=new Array(ft);for(X=0;X<ft;X++)Ti[X]=0;for(X=ge;X<=de;X++){const It=T[X];if(it>=ft){k(It,W,q,!0);continue}let ar;if(It.key!=null)ar=Oe.get(It.key);else for(ze=Ee;ze<=he;ze++)if(Ti[ze-Ee]===0&&ao(It,B[ze])){ar=ze;break}ar===void 0?k(It,W,q,!0):(Ti[ar-Ee]=X+1,ar>=Ca?Ca=ar:or=!0,m(It,B[ar],O,null,W,q,te,Z,Q),it++)}const so=or?l2(Ti):_s;for(ze=so.length-1,X=ft-1;X>=0;X--){const It=Ee+X,ar=B[It],oo=It+1<re?B[It+1].el:j;Ti[X]===0?m(null,ar,O,oo,W,q,te,Z,Q):or&&(ze<0||X!==so[ze]?M(ar,O,oo,2):ze--)}}},M=(T,B,O,j,W=null)=>{const{el:q,type:te,transition:Z,children:Q,shapeFlag:X}=T;if(X&6){M(T.component.subTree,B,O,j);return}if(X&128){T.suspense.move(B,O,j);return}if(X&64){te.move(T,B,O,J);return}if(te===Jt){i(q,B,O);for(let de=0;de<Q.length;de++)M(Q[de],B,O,j);i(T.anchor,B,O);return}if(te===$c){g(T,B,O);return}if(j!==2&&X&1&&Z)if(j===0)Z.beforeEnter(q),i(q,B,O),Nt(()=>Z.enter(q),W);else{const{leave:de,delayLeave:he,afterLeave:ge}=Z,Ee=()=>i(q,B,O),Oe=()=>{de(q,()=>{Ee(),ge&&ge()})};he?he(q,Ee,Oe):Oe()}else i(q,B,O)},k=(T,B,O,j=!1,W=!1)=>{const{type:q,props:te,ref:Z,children:Q,dynamicChildren:X,shapeFlag:re,patchFlag:de,dirs:he}=T;if(Z!=null&&Lu(Z,null,O,T,!0),re&256){B.ctx.deactivate(T);return}const ge=re&1&&he,Ee=!Po(T);let Oe;if(Ee&&(Oe=te&&te.onVnodeBeforeUnmount)&&Or(Oe,B,T),re&6)fe(T.component,O,j);else{if(re&128){T.suspense.unmount(O,j);return}ge&&an(T,null,B,"beforeUnmount"),re&64?T.type.remove(T,B,O,W,J,j):X&&(q!==Jt||de>0&&de&64)?oe(X,B,O,!1,!0):(q===Jt&&de&384||!W&&re&16)&&oe(Q,B,O),j&&H(T)}(Ee&&(Oe=te&&te.onVnodeUnmounted)||ge)&&Nt(()=>{Oe&&Or(Oe,B,T),ge&&an(T,null,B,"unmounted")},O)},H=T=>{const{type:B,el:O,anchor:j,transition:W}=T;if(B===Jt){U(O,j);return}if(B===$c){v(T);return}const q=()=>{n(O),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(T.shapeFlag&1&&W&&!W.persisted){const{leave:te,delayLeave:Z}=W,Q=()=>te(O,q);Z?Z(T.el,q,Q):Q()}else q()},U=(T,B)=>{let O;for(;T!==B;)O=u(T),n(T),T=O;n(B)},fe=(T,B,O)=>{const{bum:j,scope:W,update:q,subTree:te,um:Z}=T;j&&Lc(j),W.stop(),q&&(q.active=!1,k(te,T,B,O)),Z&&Nt(Z,B),Nt(()=>{T.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&T.asyncDep&&!T.asyncResolved&&T.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},oe=(T,B,O,j=!1,W=!1,q=0)=>{for(let te=q;te<T.length;te++)k(T[te],B,O,j,W)},N=T=>T.shapeFlag&6?N(T.component.subTree):T.shapeFlag&128?T.suspense.next():u(T.anchor||T.el);let $=!1;const K=(T,B,O)=>{T==null?B._vnode&&k(B._vnode,null,null,!0):m(B._vnode||null,T,B,null,null,null,O),$||($=!0,O0(),o1(),$=!1),B._vnode=T},J={p:m,um:k,m:M,r:H,mt:F,mc:C,pc:Y,pbc:A,n:N,o:t};let le,xe;return e&&([le,xe]=e(J)),{render:K,hydrate:le,createApp:JE(K,le)}}function Gc({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function ln({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function a2(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function A1(t,e,r=!1){const i=t.children,n=e.children;if(ye(i)&&ye(n))for(let s=0;s<i.length;s++){const o=i[s];let a=n[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[s]=Ii(n[s]),a.el=o.el),r||A1(o,a)),a.type===cc&&(a.el=o.el)}}function l2(t){const e=t.slice(),r=[0];let i,n,s,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(n=r[r.length-1],t[n]<c){e[i]=n,r.push(i);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,t[r[a]]<c?s=a+1:o=a;c<t[r[s]]&&(s>0&&(e[i]=r[s-1]),r[s]=i)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}function w1(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:w1(e)}const c2=t=>t.__isTeleport,Jt=Symbol.for("v-fgt"),cc=Symbol.for("v-txt"),qi=Symbol.for("v-cmt"),$c=Symbol.for("v-stc"),Do=[];let Ar=null;function wr(t=!1){Do.push(Ar=t?null:[])}function h2(){Do.pop(),Ar=Do[Do.length-1]||null}let Xo=1;function j0(t){Xo+=t}function P1(t){return t.dynamicChildren=Xo>0?Ar||_s:null,h2(),Xo>0&&Ar&&Ar.push(t),t}function ki(t,e,r,i,n,s){return P1(Wi(t,e,r,i,n,s,!0))}function yd(t,e,r,i,n){return P1(we(t,e,r,i,n,!0))}function Ms(t){return t?t.__v_isVNode===!0:!1}function ao(t,e){return t.type===e.type&&t.key===e.key}const hc="__vInternal",B1=({key:t})=>t??null,il=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?lt(t)||Xt(t)||Te(t)?{i:Pt,r:t,k:e,f:!!r}:t:null);function Wi(t,e=null,r=null,i=0,n=null,s=t===Jt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&B1(e),ref:e&&il(e),scopeId:oc,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Pt};return a?(bd(l,r),s&128&&t.normalize(l)):r&&(l.shapeFlag|=lt(r)?8:16),Xo>0&&!o&&Ar&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Ar.push(l),l}const we=u2;function u2(t,e=null,r=null,i=0,n=null,s=!1){if((!t||t===u1)&&(t=qi),Ms(t)){const a=Nn(t,e,!0);return r&&bd(a,r),Xo>0&&!s&&Ar&&(a.shapeFlag&6?Ar[Ar.indexOf(t)]=a:Ar.push(a)),a.patchFlag|=-2,a}if(S2(t)&&(t=t.__vccOpts),e){e=f2(e);let{class:a,style:l}=e;a&&!lt(a)&&(e.class=Is(a)),qe(l)&&(Qg(l)&&!ye(l)&&(l=Tt({},l)),e.style=od(l))}const o=lt(t)?1:DE(t)?128:c2(t)?64:qe(t)?4:Te(t)?2:0;return Wi(t,e,r,i,n,o,s,!0)}function f2(t){return t?Qg(t)||hc in t?Tt({},t):t:null}function Nn(t,e,r=!1){const{props:i,ref:n,patchFlag:s,children:o}=t,a=e?bi(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&B1(a),ref:e&&e.ref?r&&n?ye(n)?n.concat(il(e)):[n,il(e)]:il(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Jt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Nn(t.ssContent),ssFallback:t.ssFallback&&Nn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Uu(t=" ",e=0){return we(cc,null,t,e)}function d2(t="",e=!1){return e?(wr(),yd(qi,null,t)):we(qi,null,t)}function Hr(t){return t==null||typeof t=="boolean"?we(qi):ye(t)?we(Jt,null,t.slice()):typeof t=="object"?Ii(t):we(cc,null,String(t))}function Ii(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Nn(t)}function bd(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ye(e))r=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),bd(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!(hc in e)?e._ctx=Pt:n===3&&Pt&&(Pt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Te(e)?(e={default:e,_ctx:Pt},r=32):(e=String(e),i&64?(r=16,e=[Uu(e)]):r=8);t.children=e,t.shapeFlag|=r}function bi(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=Is([e.class,i.class]));else if(n==="style")e.style=od([e.style,i.style]);else if(Jl(n)){const s=e[n],o=i[n];o&&s!==o&&!(ye(s)&&s.includes(o))&&(e[n]=s?[].concat(s,o):o)}else n!==""&&(e[n]=i[n])}return e}function Or(t,e,r,i=null){Br(t,e,7,[r,i])}const p2=y1();let m2=0;function x2(t,e,r){const i=t.type,n=(e?e.appContext:t.appContext)||p2,s={uid:m2++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new Vb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:E1(i,n),emitsOptions:l1(i,n),emit:null,emitted:null,propsDefaults:je,inheritAttrs:i.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=EE.bind(null,s),t.ce&&t.ce(s),s}let bt=null;const g2=()=>bt||Pt;let Tl,zu;{const t=kg(),e=(r,i)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(i),s=>{n.length>1?n.forEach(o=>o(s)):n[0](s)}};Tl=e("__VUE_INSTANCE_SETTERS__",r=>bt=r),zu=e("__VUE_SSR_SETTERS__",r=>uc=r)}const pa=t=>{const e=bt;return Tl(t),t.scope.on(),()=>{t.scope.off(),Tl(e)}},X0=()=>{bt&&bt.scope.off(),Tl(null)};function R1(t){return t.vnode.shapeFlag&4}let uc=!1;function _2(t,e=!1){e&&zu(e);const{props:r,children:i}=t.vnode,n=R1(t);e2(t,r,n,e),i2(t,i);const s=n?v2(t,e):void 0;return e&&zu(!1),s}function v2(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=Jg(new Proxy(t.ctx,jE));const{setup:i}=r;if(i){const n=t.setupContext=i.length>1?b2(t):null,s=pa(t);Vn();const o=$i(i,t,0,[t.props,n]);if(jn(),s(),Fg(o)){if(o.then(X0,X0),e)return o.then(a=>{Y0(t,a,e)}).catch(a=>{nc(a,t,0)});t.asyncDep=o}else Y0(t,o,e)}else D1(t,e)}function Y0(t,e,r){Te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:qe(e)&&(t.setupState=i1(e)),D1(t,r)}let q0;function D1(t,e,r){const i=t.type;if(!t.render){if(!e&&q0&&!i.render){const n=i.template||_d(t).template;if(n){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=Tt(Tt({isCustomElement:s,delimiters:a},o),l);i.render=q0(n,c)}}t.render=i.render||tr}{const n=pa(t);Vn();try{XE(t)}finally{jn(),n()}}}function y2(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return jt(t,"get","$attrs"),e[r]}}))}function b2(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return y2(t)},slots:t.slots,emit:t.emit,expose:e}}function Ed(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(i1(Jg(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Bo)return Bo[r](t)},has(e,r){return r in e||r in Bo}}))}function E2(t,e=!0){return Te(t)?t.displayName||t.name:t.name||e&&t.__name}function S2(t){return Te(t)&&"__vccOpts"in t}const Le=(t,e)=>dE(t,e,uc);function fs(t,e,r){const i=arguments.length;return i===2?qe(e)&&!ye(e)?Ms(e)?we(t,null,[e]):we(t,e):we(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Ms(r)&&(r=[r]),we(t,e,r))}const Sd="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const C2="http://www.w3.org/2000/svg",T2="http://www.w3.org/1998/Math/MathML",Fi=typeof document<"u"?document:null,K0=Fi&&Fi.createElement("template"),A2={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const n=e==="svg"?Fi.createElementNS(C2,t):e==="mathml"?Fi.createElementNS(T2,t):Fi.createElement(t,r?{is:r}:void 0);return t==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:t=>Fi.createTextNode(t),createComment:t=>Fi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Fi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,n,s){const o=r?r.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===s||!(n=n.nextSibling)););else{K0.innerHTML=i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t;const a=K0.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},w2=Symbol("_vtc");function P2(t,e,r){const i=t[w2];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Z0=Symbol("_vod"),B2=Symbol("_vsh"),R2=Symbol(""),D2=/(^|;)\s*display\s*:/;function I2(t,e,r){const i=t.style,n=lt(r);let s=!1;if(r&&!n){if(e)if(lt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&nl(i,a,"")}else for(const o in e)r[o]==null&&nl(i,o,"");for(const o in r)o==="display"&&(s=!0),nl(i,o,r[o])}else if(n){if(e!==r){const o=i[R2];o&&(r+=";"+o),i.cssText=r,s=D2.test(r)}}else e&&t.removeAttribute("style");Z0 in t&&(t[Z0]=s?i.display:"",t[B2]&&(i.display="none"))}const Q0=/\s*!important$/;function nl(t,e,r){if(ye(r))r.forEach(i=>nl(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=F2(t,e);Q0.test(r)?t.setProperty(Qs(i),r.replace(Q0,""),"important"):t[i]=r}}const J0=["Webkit","Moz","ms"],Wc={};function F2(t,e){const r=Wc[e];if(r)return r;let i=Jr(e);if(i!=="filter"&&i in t)return Wc[e]=i;i=rc(i);for(let n=0;n<J0.length;n++){const s=J0[n]+i;if(s in t)return Wc[e]=s}return e}const ep="http://www.w3.org/1999/xlink";function M2(t,e,r,i,n){if(i&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(ep,e.slice(6,e.length)):t.setAttributeNS(ep,e,r);else{const s=$b(e);r==null||s&&!Ng(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function O2(t,e,r,i,n,s,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,n,s),t[e]=r??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const c=a==="OPTION"?t.getAttribute("value")||"":t.value,h=r??"";(c!==h||!("_value"in t))&&(t.value=h),r==null&&t.removeAttribute(e),t._value=r;return}let l=!1;if(r===""||r==null){const c=typeof t[e];c==="boolean"?r=Ng(r):r==null&&c==="string"?(r="",l=!0):c==="number"&&(r=0,l=!0)}try{t[e]=r}catch{}l&&t.removeAttribute(e)}function k2(t,e,r,i){t.addEventListener(e,r,i)}function N2(t,e,r,i){t.removeEventListener(e,r,i)}const tp=Symbol("_vei");function L2(t,e,r,i,n=null){const s=t[tp]||(t[tp]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=U2(e);if(i){const c=s[e]=G2(i,n);k2(t,a,c,l)}else o&&(N2(t,a,o,l),s[e]=void 0)}}const rp=/(?:Once|Passive|Capture)$/;function U2(t){let e;if(rp.test(t)){e={};let i;for(;i=t.match(rp);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qs(t.slice(2)),e]}let Vc=0;const z2=Promise.resolve(),H2=()=>Vc||(z2.then(()=>Vc=0),Vc=Date.now());function G2(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Br($2(i,r.value),e,5,[i])};return r.value=t,r.attached=H2(),r}function $2(t,e){if(ye(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const ip=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,W2=(t,e,r,i,n,s,o,a,l)=>{const c=n==="svg";e==="class"?P2(t,i,c):e==="style"?I2(t,r,i):Jl(e)?id(e)||L2(t,e,r,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):V2(t,e,i,c))?O2(t,e,i,s,o,a,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),M2(t,e,i,c))};function V2(t,e,r,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&ip(e)&&Te(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return ip(e)&&lt(r)?!1:e in t}const j2=Tt({patchProp:W2},A2);let np;function X2(){return np||(np=s2(j2))}const I1=(...t)=>{const e=X2().createApp(...t),{mount:r}=e;return e.mount=i=>{const n=q2(i);if(!n)return;const s=e._component;!Te(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.innerHTML="";const o=r(n,!1,Y2(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Y2(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function q2(t){return lt(t)?document.querySelector(t):t}const K2="modulepreload",Z2=function(t){return"/"+t},sp={},op=function(e,r,i){if(!r||r.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=Z2(s),s in sp)return;sp[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let h=n.length-1;h>=0;h--){const f=n[h];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":K2,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Ce=kt({userID:"",accessToken:"",refreshToken:"",currentGroupIndex:0,turnInPrize:0,prizeTurn:0,gameName:"",signedIn:!1}),Ln=kt({isLoading:!1,currentNav:""}),Q2={img:["chevron.png","tile.png","pos-icon.png","edit-tool-bg.png"]},J2={img:["icon.png","big_number.png","reel.png","main_frame.png","bg_day.png","bg_day_tree.png","bg_night.png","bg_night_tree.png"]},ap={common:Q2,slot:J2},Js={backgroundColor:0,width:720,height:1280,slotIconScale:140,maskScale:{w:616,h:420},gapIconInReel:4,slotScaleAry:[.7,.7,.8,1,.8,.7],centerSlotIndex:2,stopCount:5,atlasData:["bar1","bar2","bar3","bell","cherry","orange","seven","star","target","watermelon"],emoji:{bell:"",bar1:"",bar2:"",bar3:"",joker:"",watermelon:"",orange:"",seven:"7",star:"",target:"",cherry:""},startDelay:.25,debug:!1},eS=[{idx:1,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:2,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:3,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y2",Pcode:"P2",score:10,outScore:10},{idx:4,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:5,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y2",Pcode:"P2",score:10,outScore:10},{idx:6,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:7,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:8,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y2",Pcode:"P2",score:10,outScore:10},{idx:9,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:10,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y2",Pcode:"P2",score:10,outScore:10},{idx:11,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:12,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y2",Pcode:"P2",score:10,outScore:10},{idx:13,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:14,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:15,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:16,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:17,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y2",Pcode:"P2",score:10,outScore:10},{idx:18,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:19,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:20,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:21,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y2",Pcode:"P2",score:10,outScore:10},{idx:22,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:23,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:24,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y2",Pcode:"P2",score:10,outScore:10},{idx:25,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:26,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:27,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:28,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:29,groupIdx:0,groupCount:6,turnCount:57,Ycode:"-",Pcode:"-",score:0,outScore:0},{idx:30,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:31,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:32,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:33,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:34,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:35,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:36,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:37,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:38,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:39,groupIdx:0,groupCount:6,turnCount:7,Ycode:"-",Pcode:"-",score:0,outScore:0},{idx:40,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:41,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:42,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:43,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:44,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:45,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:46,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:47,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:48,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:49,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:50,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:51,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:52,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:53,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:54,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P1",score:10,outScore:10},{idx:55,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:56,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:57,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:58,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:59,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:60,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:61,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:62,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:63,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:64,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:65,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:66,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:67,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:68,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:69,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:70,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:71,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:72,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:73,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:74,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:75,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:76,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:77,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:78,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:79,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:80,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y1",Pcode:"P2",score:10,outScore:10},{idx:81,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y2",Pcode:"P1",score:10,outScore:10},{idx:82,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:83,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y2",Pcode:"P1",score:10,outScore:10},{idx:84,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:85,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y2",Pcode:"P1",score:10,outScore:10},{idx:86,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:87,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y2",Pcode:"P1",score:10,outScore:10},{idx:88,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y2",Pcode:"P1",score:10,outScore:10},{idx:89,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y2",Pcode:"P1",score:10,outScore:10},{idx:90,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:91,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y2",Pcode:"P1",score:10,outScore:10},{idx:92,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:93,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y2",Pcode:"P1",score:10,outScore:10},{idx:94,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:95,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y2",Pcode:"P1",score:10,outScore:10},{idx:96,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:97,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y2",Pcode:"P1",score:10,outScore:10},{idx:98,groupIdx:0,groupCount:6,turnCount:1,Ycode:"Y2",Pcode:"P1",score:10,outScore:10},{idx:99,groupIdx:0,groupCount:6,turnCount:2,Ycode:"-",Pcode:"-",score:0,outScore:10},{idx:100,groupIdx:0,groupCount:6,turnCount:8,Ycode:"Y2",Pcode:"P1",score:10,outScore:10}];var Xn=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Xn||{}),F1=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(F1||{}),Hu=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Hu||{}),_e=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(_e||{}),jr=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(jr||{}),ee=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ee||{}),Es=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Es||{}),me=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(me||{}),Gu=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Gu||{}),fi=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(fi||{}),Vi=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Vi||{}),ei=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(ei||{}),Mr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Mr||{}),Gr=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Gr||{}),Cd=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Cd||{}),ur=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(ur||{}),ht=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(ht||{}),tt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(tt||{}),qr=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(qr||{});const tS={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},se={ADAPTER:tS,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var jc=/iPhone/i,lp=/iPod/i,cp=/iPad/i,hp=/\biOS-universal(?:.+)Mac\b/i,Xc=/\bAndroid(?:.+)Mobile\b/i,up=/Android/i,Jn=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Da=/Silk/i,oi=/Windows Phone/i,fp=/\bWindows(?:.+)ARM\b/i,dp=/BlackBerry/i,pp=/BB10/i,mp=/Opera Mini/i,xp=/\b(CriOS|Chrome)(?:.+)Mobile/i,gp=/Mobile(?:.+)Firefox\b/i,_p=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function rS(t){return function(e){return e.test(t)}}function iS(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,i=r.split("[FBAN");typeof i[1]<"u"&&(r=i[0]),i=r.split("Twitter"),typeof i[1]<"u"&&(r=i[0]);var n=rS(r),s={apple:{phone:n(jc)&&!n(oi),ipod:n(lp),tablet:!n(jc)&&(n(cp)||_p(e))&&!n(oi),universal:n(hp),device:(n(jc)||n(lp)||n(cp)||n(hp)||_p(e))&&!n(oi)},amazon:{phone:n(Jn),tablet:!n(Jn)&&n(Da),device:n(Jn)||n(Da)},android:{phone:!n(oi)&&n(Jn)||!n(oi)&&n(Xc),tablet:!n(oi)&&!n(Jn)&&!n(Xc)&&(n(Da)||n(up)),device:!n(oi)&&(n(Jn)||n(Da)||n(Xc)||n(up))||n(/\bokhttp\b/i)},windows:{phone:n(oi),tablet:n(fp),device:n(oi)||n(fp)},other:{blackberry:n(dp),blackberry10:n(pp),opera:n(mp),firefox:n(gp),chrome:n(xp),device:n(dp)||n(pp)||n(mp)||n(gp)||n(xp)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const di=iS(globalThis.navigator);se.RETINA_PREFIX=/@([0-9\.]+)x/;se.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Td(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nS(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),r}var M1={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function n(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function s(l,c,h,f,u){if(typeof h!="function")throw new TypeError("The listener must be a function");var d=new n(h,f||l,u),p=r?r+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)e.call(h,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},a.prototype.listeners=function(c){var h=r?r+c:c,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var u=0,d=f.length,p=new Array(d);u<d;u++)p[u]=f[u].fn;return p},a.prototype.listenerCount=function(c){var h=r?r+c:c,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,h,f,u,d,p){var m=r?r+c:c;if(!this._events[m])return!1;var x=this._events[m],y=arguments.length,_,g;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,f),!0;case 4:return x.fn.call(x.context,h,f,u),!0;case 5:return x.fn.call(x.context,h,f,u,d),!0;case 6:return x.fn.call(x.context,h,f,u,d,p),!0}for(g=1,_=new Array(y-1);g<y;g++)_[g-1]=arguments[g];x.fn.apply(x.context,_)}else{var v=x.length,b;for(g=0;g<v;g++)switch(x[g].once&&this.removeListener(c,x[g].fn,void 0,!0),y){case 1:x[g].fn.call(x[g].context);break;case 2:x[g].fn.call(x[g].context,h);break;case 3:x[g].fn.call(x[g].context,h,f);break;case 4:x[g].fn.call(x[g].context,h,f,u);break;default:if(!_)for(b=1,_=new Array(y-1);b<y;b++)_[b-1]=arguments[b];x[g].fn.apply(x[g].context,_)}}return!0},a.prototype.on=function(c,h,f){return s(this,c,h,f,!1)},a.prototype.once=function(c,h,f){return s(this,c,h,f,!0)},a.prototype.removeListener=function(c,h,f,u){var d=r?r+c:c;if(!this._events[d])return this;if(!h)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===h&&(!u||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var m=0,x=[],y=p.length;m<y;m++)(p[m].fn!==h||u&&!p[m].once||f&&p[m].context!==f)&&x.push(p[m]);x.length?this._events[d]=x.length===1?x[0]:x:o(this,d)}return this},a.prototype.removeAllListeners=function(c){var h;return c?(h=r?r+c:c,this._events[h]&&o(this,h)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(M1);var sS=M1.exports;const ma=Td(sS);var Ad={exports:{}};Ad.exports=fc;Ad.exports.default=fc;function fc(t,e,r){r=r||2;var i=e&&e.length,n=i?e[0]*r:t.length,s=O1(t,0,n,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,c,h,f,u,d;if(i&&(s=hS(t,e,s,r)),t.length>80*r){a=c=t[0],l=h=t[1];for(var p=r;p<n;p+=r)f=t[p],u=t[p+1],f<a&&(a=f),u<l&&(l=u),f>c&&(c=f),u>h&&(h=u);d=Math.max(c-a,h-l),d=d!==0?32767/d:0}return Yo(s,o,r,a,l,d,0),o}function O1(t,e,r,i,n){var s,o;if(n===Vu(t,e,r,i)>0)for(s=e;s<r;s+=i)o=vp(s,t[s],t[s+1],o);else for(s=r-i;s>=e;s-=i)o=vp(s,t[s],t[s+1],o);return o&&dc(o,o.next)&&(Ko(o),o=o.next),o}function Un(t,e){if(!t)return t;e||(e=t);var r=t,i;do if(i=!1,!r.steiner&&(dc(r,r.next)||Qe(r.prev,r,r.next)===0)){if(Ko(r),r=e=r.prev,r===r.next)break;i=!0}else r=r.next;while(i||r!==e);return e}function Yo(t,e,r,i,n,s,o){if(t){!o&&s&&mS(t,i,n,s);for(var a=t,l,c;t.prev!==t.next;){if(l=t.prev,c=t.next,s?aS(t,i,n,s):oS(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(c.i/r|0),Ko(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=lS(Un(t),e,r),Yo(t,e,r,i,n,s,2)):o===2&&cS(t,e,r,i,n,s):Yo(Un(t),e,r,i,n,s,1);break}}}}function oS(t){var e=t.prev,r=t,i=t.next;if(Qe(e,r,i)>=0)return!1;for(var n=e.x,s=r.x,o=i.x,a=e.y,l=r.y,c=i.y,h=n<s?n<o?n:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,u=n>s?n>o?n:o:s>o?s:o,d=a>l?a>c?a:c:l>c?l:c,p=i.next;p!==e;){if(p.x>=h&&p.x<=u&&p.y>=f&&p.y<=d&&ds(n,a,s,l,o,c,p.x,p.y)&&Qe(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function aS(t,e,r,i){var n=t.prev,s=t,o=t.next;if(Qe(n,s,o)>=0)return!1;for(var a=n.x,l=s.x,c=o.x,h=n.y,f=s.y,u=o.y,d=a<l?a<c?a:c:l<c?l:c,p=h<f?h<u?h:u:f<u?f:u,m=a>l?a>c?a:c:l>c?l:c,x=h>f?h>u?h:u:f>u?f:u,y=$u(d,p,e,r,i),_=$u(m,x,e,r,i),g=t.prevZ,v=t.nextZ;g&&g.z>=y&&v&&v.z<=_;){if(g.x>=d&&g.x<=m&&g.y>=p&&g.y<=x&&g!==n&&g!==o&&ds(a,h,l,f,c,u,g.x,g.y)&&Qe(g.prev,g,g.next)>=0||(g=g.prevZ,v.x>=d&&v.x<=m&&v.y>=p&&v.y<=x&&v!==n&&v!==o&&ds(a,h,l,f,c,u,v.x,v.y)&&Qe(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;g&&g.z>=y;){if(g.x>=d&&g.x<=m&&g.y>=p&&g.y<=x&&g!==n&&g!==o&&ds(a,h,l,f,c,u,g.x,g.y)&&Qe(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;v&&v.z<=_;){if(v.x>=d&&v.x<=m&&v.y>=p&&v.y<=x&&v!==n&&v!==o&&ds(a,h,l,f,c,u,v.x,v.y)&&Qe(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function lS(t,e,r){var i=t;do{var n=i.prev,s=i.next.next;!dc(n,s)&&k1(n,i,i.next,s)&&qo(n,s)&&qo(s,n)&&(e.push(n.i/r|0),e.push(i.i/r|0),e.push(s.i/r|0),Ko(i),Ko(i.next),i=t=s),i=i.next}while(i!==t);return Un(i)}function cS(t,e,r,i,n,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&_S(o,a)){var l=N1(o,a);o=Un(o,o.next),l=Un(l,l.next),Yo(o,e,r,i,n,s,0),Yo(l,e,r,i,n,s,0);return}a=a.next}o=o.next}while(o!==t)}function hS(t,e,r,i){var n=[],s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,c=O1(t,a,l,i,!1),c===c.next&&(c.steiner=!0),n.push(gS(c));for(n.sort(uS),s=0;s<n.length;s++)r=fS(n[s],r);return r}function uS(t,e){return t.x-e.x}function fS(t,e){var r=dS(t,e);if(!r)return e;var i=N1(r,t);return Un(i,i.next),Un(r,r.next)}function dS(t,e){var r=e,i=t.x,n=t.y,s=-1/0,o;do{if(n<=r.y&&n>=r.next.y&&r.next.y!==r.y){var a=r.x+(n-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===i))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,c=o.x,h=o.y,f=1/0,u;r=o;do i>=r.x&&r.x>=c&&i!==r.x&&ds(n<h?i:s,n,c,h,n<h?s:i,n,r.x,r.y)&&(u=Math.abs(n-r.y)/(i-r.x),qo(r,t)&&(u<f||u===f&&(r.x>o.x||r.x===o.x&&pS(o,r)))&&(o=r,f=u)),r=r.next;while(r!==l);return o}function pS(t,e){return Qe(t.prev,t,e.prev)<0&&Qe(e.next,t,t.next)<0}function mS(t,e,r,i){var n=t;do n.z===0&&(n.z=$u(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,xS(n)}function xS(t){var e,r,i,n,s,o,a,l,c=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,i=r,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,l--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;r=i}s.nextZ=null,c*=2}while(o>1);return t}function $u(t,e,r,i,n){return t=(t-r)*n|0,e=(e-i)*n|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function gS(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ds(t,e,r,i,n,s,o,a){return(n-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(n-o)*(i-a)}function _S(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!vS(t,e)&&(qo(t,e)&&qo(e,t)&&yS(t,e)&&(Qe(t.prev,t,e.prev)||Qe(t,e.prev,e))||dc(t,e)&&Qe(t.prev,t,t.next)>0&&Qe(e.prev,e,e.next)>0)}function Qe(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function dc(t,e){return t.x===e.x&&t.y===e.y}function k1(t,e,r,i){var n=Fa(Qe(t,e,r)),s=Fa(Qe(t,e,i)),o=Fa(Qe(r,i,t)),a=Fa(Qe(r,i,e));return!!(n!==s&&o!==a||n===0&&Ia(t,r,e)||s===0&&Ia(t,i,e)||o===0&&Ia(r,t,i)||a===0&&Ia(r,e,i))}function Ia(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Fa(t){return t>0?1:t<0?-1:0}function vS(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&k1(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function qo(t,e){return Qe(t.prev,t,t.next)<0?Qe(t,e,t.next)>=0&&Qe(t,t.prev,e)>=0:Qe(t,e,t.prev)<0||Qe(t,t.next,e)<0}function yS(t,e){var r=t,i=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&n<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==t);return i}function N1(t,e){var r=new Wu(t.i,t.x,t.y),i=new Wu(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,s.next=i,i.prev=s,i}function vp(t,e,r,i){var n=new Wu(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function Ko(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Wu(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}fc.deviation=function(t,e,r,i){var n=e&&e.length,s=n?e[0]*r:t.length,o=Math.abs(Vu(t,0,s,r));if(n)for(var a=0,l=e.length;a<l;a++){var c=e[a]*r,h=a<l-1?e[a+1]*r:t.length;o-=Math.abs(Vu(t,c,h,r))}var f=0;for(a=0;a<i.length;a+=3){var u=i[a]*r,d=i[a+1]*r,p=i[a+2]*r;f+=Math.abs((t[u]-t[p])*(t[d+1]-t[u+1])-(t[u]-t[d])*(t[p+1]-t[u+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function Vu(t,e,r,i){for(var n=0,s=e,o=r-i;s<r;s+=i)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}fc.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[n][s][o]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r};var bS=Ad.exports;const ES=Td(bS);var Al={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Al.exports;(function(t,e){(function(r){var i=e&&!e.nodeType&&e,n=t&&!t.nodeType&&t,s=typeof be=="object"&&be;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,c=1,h=26,f=38,u=700,d=72,p=128,m="-",x=/^xn--/,y=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=l-c,b=Math.floor,E=String.fromCharCode,S;function C(z){throw new RangeError(g[z])}function R(z,M){for(var k=z.length,H=[];k--;)H[k]=M(z[k]);return H}function A(z,M){var k=z.split("@"),H="";k.length>1&&(H=k[0]+"@",z=k[1]),z=z.replace(_,".");var U=z.split("."),fe=R(U,M).join(".");return H+fe}function P(z){for(var M=[],k=0,H=z.length,U,fe;k<H;)U=z.charCodeAt(k++),U>=55296&&U<=56319&&k<H?(fe=z.charCodeAt(k++),(fe&64512)==56320?M.push(((U&1023)<<10)+(fe&1023)+65536):(M.push(U),k--)):M.push(U);return M}function I(z){return R(z,function(M){var k="";return M>65535&&(M-=65536,k+=E(M>>>10&1023|55296),M=56320|M&1023),k+=E(M),k}).join("")}function D(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:l}function F(z,M){return z+22+75*(z<26)-((M!=0)<<5)}function G(z,M,k){var H=0;for(z=k?b(z/u):z>>1,z+=b(z/M);z>v*h>>1;H+=l)z=b(z/v);return b(H+(v+1)*z/(z+f))}function V(z){var M=[],k=z.length,H,U=0,fe=p,oe=d,N,$,K,J,le,xe,T,B,O;for(N=z.lastIndexOf(m),N<0&&(N=0),$=0;$<N;++$)z.charCodeAt($)>=128&&C("not-basic"),M.push(z.charCodeAt($));for(K=N>0?N+1:0;K<k;){for(J=U,le=1,xe=l;K>=k&&C("invalid-input"),T=D(z.charCodeAt(K++)),(T>=l||T>b((a-U)/le))&&C("overflow"),U+=T*le,B=xe<=oe?c:xe>=oe+h?h:xe-oe,!(T<B);xe+=l)O=l-B,le>b(a/O)&&C("overflow"),le*=O;H=M.length+1,oe=G(U-J,H,J==0),b(U/H)>a-fe&&C("overflow"),fe+=b(U/H),U%=H,M.splice(U++,0,fe)}return I(M)}function L(z){var M,k,H,U,fe,oe,N,$,K,J,le,xe=[],T,B,O,j;for(z=P(z),T=z.length,M=p,k=0,fe=d,oe=0;oe<T;++oe)le=z[oe],le<128&&xe.push(E(le));for(H=U=xe.length,U&&xe.push(m);H<T;){for(N=a,oe=0;oe<T;++oe)le=z[oe],le>=M&&le<N&&(N=le);for(B=H+1,N-M>b((a-k)/B)&&C("overflow"),k+=(N-M)*B,M=N,oe=0;oe<T;++oe)if(le=z[oe],le<M&&++k>a&&C("overflow"),le==M){for($=k,K=l;J=K<=fe?c:K>=fe+h?h:K-fe,!($<J);K+=l)j=$-J,O=l-J,xe.push(E(F(J+j%O,0))),$=b(j/O);xe.push(E(F($,0))),fe=G(k,B,H==U),k=0,++H}++k,++M}return xe.join("")}function Y(z){return A(z,function(M){return x.test(M)?V(M.slice(4).toLowerCase()):M})}function ne(z){return A(z,function(M){return y.test(M)?"xn--"+L(M):M})}if(o={version:"1.4.1",ucs2:{decode:P,encode:I},decode:V,encode:L,toASCII:ne,toUnicode:Y},i&&n)if(t.exports==i)n.exports=o;else for(S in o)o.hasOwnProperty(S)&&(i[S]=o[S]);else r.punycode=o})(be)})(Al,Al.exports);var SS=Al.exports,CS=Error,TS=EvalError,AS=RangeError,wS=ReferenceError,L1=SyntaxError,xa=TypeError,PS=URIError,BS=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==n||o.enumerable!==!0)return!1}return!0},yp=typeof Symbol<"u"&&Symbol,RS=BS,DS=function(){return typeof yp!="function"||typeof Symbol!="function"||typeof yp("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:RS()},Yc={__proto__:null,foo:{}},IS=Object,FS=function(){return{__proto__:Yc}.foo===Yc.foo&&!(Yc instanceof IS)},MS="Function.prototype.bind called on incompatible ",OS=Object.prototype.toString,kS=Math.max,NS="[object Function]",bp=function(e,r){for(var i=[],n=0;n<e.length;n+=1)i[n]=e[n];for(var s=0;s<r.length;s+=1)i[s+e.length]=r[s];return i},LS=function(e,r){for(var i=[],n=r||0,s=0;n<e.length;n+=1,s+=1)i[s]=e[n];return i},US=function(t,e){for(var r="",i=0;i<t.length;i+=1)r+=t[i],i+1<t.length&&(r+=e);return r},zS=function(e){var r=this;if(typeof r!="function"||OS.apply(r)!==NS)throw new TypeError(MS+r);for(var i=LS(arguments,1),n,s=function(){if(this instanceof n){var h=r.apply(this,bp(i,arguments));return Object(h)===h?h:this}return r.apply(e,bp(i,arguments))},o=kS(0,r.length-i.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(n=Function("binder","return function ("+US(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,n.prototype=new c,c.prototype=null}return n},HS=zS,wd=Function.prototype.bind||HS,GS=Function.prototype.call,$S=Object.prototype.hasOwnProperty,WS=wd,VS=WS.call(GS,$S),Be,jS=CS,XS=TS,YS=AS,qS=wS,Os=L1,Ss=xa,KS=PS,U1=Function,qc=function(t){try{return U1('"use strict"; return ('+t+").constructor;")()}catch{}},Rn=Object.getOwnPropertyDescriptor;if(Rn)try{Rn({},"")}catch{Rn=null}var Kc=function(){throw new Ss},ZS=Rn?function(){try{return arguments.callee,Kc}catch{try{return Rn(arguments,"callee").get}catch{return Kc}}}():Kc,es=DS(),QS=FS(),dt=Object.getPrototypeOf||(QS?function(t){return t.__proto__}:null),os={},JS=typeof Uint8Array>"u"||!dt?Be:dt(Uint8Array),Dn={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Be:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Be:ArrayBuffer,"%ArrayIteratorPrototype%":es&&dt?dt([][Symbol.iterator]()):Be,"%AsyncFromSyncIteratorPrototype%":Be,"%AsyncFunction%":os,"%AsyncGenerator%":os,"%AsyncGeneratorFunction%":os,"%AsyncIteratorPrototype%":os,"%Atomics%":typeof Atomics>"u"?Be:Atomics,"%BigInt%":typeof BigInt>"u"?Be:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Be:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Be:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Be:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":jS,"%eval%":eval,"%EvalError%":XS,"%Float32Array%":typeof Float32Array>"u"?Be:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Be:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Be:FinalizationRegistry,"%Function%":U1,"%GeneratorFunction%":os,"%Int8Array%":typeof Int8Array>"u"?Be:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Be:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Be:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":es&&dt?dt(dt([][Symbol.iterator]())):Be,"%JSON%":typeof JSON=="object"?JSON:Be,"%Map%":typeof Map>"u"?Be:Map,"%MapIteratorPrototype%":typeof Map>"u"||!es||!dt?Be:dt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Be:Promise,"%Proxy%":typeof Proxy>"u"?Be:Proxy,"%RangeError%":YS,"%ReferenceError%":qS,"%Reflect%":typeof Reflect>"u"?Be:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Be:Set,"%SetIteratorPrototype%":typeof Set>"u"||!es||!dt?Be:dt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Be:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":es&&dt?dt(""[Symbol.iterator]()):Be,"%Symbol%":es?Symbol:Be,"%SyntaxError%":Os,"%ThrowTypeError%":ZS,"%TypedArray%":JS,"%TypeError%":Ss,"%Uint8Array%":typeof Uint8Array>"u"?Be:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Be:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Be:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Be:Uint32Array,"%URIError%":KS,"%WeakMap%":typeof WeakMap>"u"?Be:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Be:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Be:WeakSet};if(dt)try{null.error}catch(t){var eC=dt(dt(t));Dn["%Error.prototype%"]=eC}var tC=function t(e){var r;if(e==="%AsyncFunction%")r=qc("async function () {}");else if(e==="%GeneratorFunction%")r=qc("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=qc("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&dt&&(r=dt(n.prototype))}return Dn[e]=r,r},Ep={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ga=wd,wl=VS,rC=ga.call(Function.call,Array.prototype.concat),iC=ga.call(Function.apply,Array.prototype.splice),Sp=ga.call(Function.call,String.prototype.replace),Pl=ga.call(Function.call,String.prototype.slice),nC=ga.call(Function.call,RegExp.prototype.exec),sC=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,oC=/\\(\\)?/g,aC=function(e){var r=Pl(e,0,1),i=Pl(e,-1);if(r==="%"&&i!=="%")throw new Os("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new Os("invalid intrinsic syntax, expected opening `%`");var n=[];return Sp(e,sC,function(s,o,a,l){n[n.length]=a?Sp(l,oC,"$1"):o||s}),n},lC=function(e,r){var i=e,n;if(wl(Ep,i)&&(n=Ep[i],i="%"+n[0]+"%"),wl(Dn,i)){var s=Dn[i];if(s===os&&(s=tC(i)),typeof s>"u"&&!r)throw new Ss("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new Os("intrinsic "+e+" does not exist!")},eo=function(e,r){if(typeof e!="string"||e.length===0)throw new Ss("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ss('"allowMissing" argument must be a boolean');if(nC(/^%?[^%]*%?$/,e)===null)throw new Os("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=aC(e),n=i.length>0?i[0]:"",s=lC("%"+n+"%",r),o=s.name,a=s.value,l=!1,c=s.alias;c&&(n=c[0],iC(i,rC([0,1],c)));for(var h=1,f=!0;h<i.length;h+=1){var u=i[h],d=Pl(u,0,1),p=Pl(u,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new Os("property names with quotes must have matching quotes");if((u==="constructor"||!f)&&(l=!0),n+="."+u,o="%"+n+"%",wl(Dn,o))a=Dn[o];else if(a!=null){if(!(u in a)){if(!r)throw new Ss("base intrinsic for "+e+" exists, but the property is not available.");return}if(Rn&&h+1>=i.length){var m=Rn(a,u);f=!!m,f&&"get"in m&&!("originalValue"in m.get)?a=m.get:a=a[u]}else f=wl(a,u),a=a[u];f&&!l&&(Dn[o]=a)}}return a},z1={exports:{}},Zc,Cp;function Pd(){if(Cp)return Zc;Cp=1;var t=eo,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Zc=e,Zc}var cC=eo,sl=cC("%Object.getOwnPropertyDescriptor%",!0);if(sl)try{sl([],"length")}catch{sl=null}var H1=sl,Tp=Pd(),hC=L1,ts=xa,Ap=H1,uC=function(e,r,i){if(!e||typeof e!="object"&&typeof e!="function")throw new ts("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new ts("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ts("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ts("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ts("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ts("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!Ap&&Ap(e,r);if(Tp)Tp(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:n===null&&l?l.enumerable:!n,value:i,writable:s===null&&l?l.writable:!s});else if(a||!n&&!s&&!o)e[r]=i;else throw new hC("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ju=Pd(),G1=function(){return!!ju};G1.hasArrayLengthDefineBug=function(){if(!ju)return null;try{return ju([],"length",{value:1}).length!==1}catch{return!0}};var fC=G1,dC=eo,wp=uC,pC=fC(),Pp=H1,Bp=xa,mC=dC("%Math.floor%"),xC=function(e,r){if(typeof e!="function")throw new Bp("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||mC(r)!==r)throw new Bp("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,s=!0;if("length"in e&&Pp){var o=Pp(e,"length");o&&!o.configurable&&(n=!1),o&&!o.writable&&(s=!1)}return(n||s||!i)&&(pC?wp(e,"length",r,!0,!0):wp(e,"length",r)),e};(function(t){var e=wd,r=eo,i=xC,n=xa,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=Pd(),c=r("%Math.max%");t.exports=function(u){if(typeof u!="function")throw new n("a function is required");var d=a(e,o,arguments);return i(d,1+c(0,u.length-(arguments.length-1)),!0)};var h=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h})(z1);var gC=z1.exports,$1=eo,W1=gC,_C=W1($1("String.prototype.indexOf")),vC=function(e,r){var i=$1(e,!!r);return typeof i=="function"&&_C(e,".prototype.")>-1?W1(i):i};const yC={},bC=Object.freeze(Object.defineProperty({__proto__:null,default:yC},Symbol.toStringTag,{value:"Module"})),V1=nS(bC);var Bd=typeof Map=="function"&&Map.prototype,Qc=Object.getOwnPropertyDescriptor&&Bd?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Bl=Bd&&Qc&&typeof Qc.get=="function"?Qc.get:null,Rp=Bd&&Map.prototype.forEach,Rd=typeof Set=="function"&&Set.prototype,Jc=Object.getOwnPropertyDescriptor&&Rd?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Rl=Rd&&Jc&&typeof Jc.get=="function"?Jc.get:null,Dp=Rd&&Set.prototype.forEach,EC=typeof WeakMap=="function"&&WeakMap.prototype,Io=EC?WeakMap.prototype.has:null,SC=typeof WeakSet=="function"&&WeakSet.prototype,Fo=SC?WeakSet.prototype.has:null,CC=typeof WeakRef=="function"&&WeakRef.prototype,Ip=CC?WeakRef.prototype.deref:null,TC=Boolean.prototype.valueOf,AC=Object.prototype.toString,wC=Function.prototype.toString,PC=String.prototype.match,Dd=String.prototype.slice,Ni=String.prototype.replace,BC=String.prototype.toUpperCase,Fp=String.prototype.toLowerCase,j1=RegExp.prototype.test,Mp=Array.prototype.concat,$r=Array.prototype.join,RC=Array.prototype.slice,Op=Math.floor,Xu=typeof BigInt=="function"?BigInt.prototype.valueOf:null,eh=Object.getOwnPropertySymbols,Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ks=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Dt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ks||"symbol")?Symbol.toStringTag:null,X1=Object.prototype.propertyIsEnumerable,kp=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Np(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||j1.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var i=t<0?-Op(-t):Op(t);if(i!==t){var n=String(i),s=Dd.call(e,n.length+1);return Ni.call(n,r,"$&_")+"."+Ni.call(Ni.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ni.call(e,r,"$&_")}var qu=V1,Lp=qu.custom,Up=q1(Lp)?Lp:null,DC=function t(e,r,i,n){var s=r||{};if(Mi(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Mi(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Mi(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Mi(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Mi(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Z1(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Np(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?Np(e,c):c}var h=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=h&&h>0&&typeof e=="object")return Ku(e)?"[Array]":"[Object]";var f=qC(s,i);if(typeof n>"u")n=[];else if(K1(n,e)>=0)return"[Circular]";function u(D,F,G){if(F&&(n=RC.call(n),n.push(F)),G){var V={depth:s.depth};return Mi(s,"quoteStyle")&&(V.quoteStyle=s.quoteStyle),t(D,V,i+1,n)}return t(D,s,i+1,n)}if(typeof e=="function"&&!zp(e)){var d=zC(e),p=Ma(e,u);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+$r.call(p,", ")+" }":"")}if(q1(e)){var m=ks?Ni.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Yu.call(e);return typeof e=="object"&&!ks?lo(m):m}if(jC(e)){for(var x="<"+Fp.call(String(e.nodeName)),y=e.attributes||[],_=0;_<y.length;_++)x+=" "+y[_].name+"="+Y1(IC(y[_].value),"double",s);return x+=">",e.childNodes&&e.childNodes.length&&(x+="..."),x+="</"+Fp.call(String(e.nodeName))+">",x}if(Ku(e)){if(e.length===0)return"[]";var g=Ma(e,u);return f&&!YC(g)?"["+Zu(g,f)+"]":"[ "+$r.call(g,", ")+" ]"}if(MC(e)){var v=Ma(e,u);return!("cause"in Error.prototype)&&"cause"in e&&!X1.call(e,"cause")?"{ ["+String(e)+"] "+$r.call(Mp.call("[cause]: "+u(e.cause),v),", ")+" }":v.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+$r.call(v,", ")+" }"}if(typeof e=="object"&&o){if(Up&&typeof e[Up]=="function"&&qu)return qu(e,{depth:h-i});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(HC(e)){var b=[];return Rp&&Rp.call(e,function(D,F){b.push(u(F,e,!0)+" => "+u(D,e))}),Hp("Map",Bl.call(e),b,f)}if(WC(e)){var E=[];return Dp&&Dp.call(e,function(D){E.push(u(D,e))}),Hp("Set",Rl.call(e),E,f)}if(GC(e))return th("WeakMap");if(VC(e))return th("WeakSet");if($C(e))return th("WeakRef");if(kC(e))return lo(u(Number(e)));if(LC(e))return lo(u(Xu.call(e)));if(NC(e))return lo(TC.call(e));if(OC(e))return lo(u(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===be)return"{ [object globalThis] }";if(!FC(e)&&!zp(e)){var S=Ma(e,u),C=kp?kp(e)===Object.prototype:e instanceof Object||e.constructor===Object,R=e instanceof Object?"":"null prototype",A=!C&&Dt&&Object(e)===e&&Dt in e?Dd.call(rn(e),8,-1):R?"Object":"",P=C||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",I=P+(A||R?"["+$r.call(Mp.call([],A||[],R||[]),": ")+"] ":"");return S.length===0?I+"{}":f?I+"{"+Zu(S,f)+"}":I+"{ "+$r.call(S,", ")+" }"}return String(e)};function Y1(t,e,r){var i=(r.quoteStyle||e)==="double"?'"':"'";return i+t+i}function IC(t){return Ni.call(String(t),/"/g,"&quot;")}function Ku(t){return rn(t)==="[object Array]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function FC(t){return rn(t)==="[object Date]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function zp(t){return rn(t)==="[object RegExp]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function MC(t){return rn(t)==="[object Error]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function OC(t){return rn(t)==="[object String]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function kC(t){return rn(t)==="[object Number]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function NC(t){return rn(t)==="[object Boolean]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function q1(t){if(ks)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Yu)return!1;try{return Yu.call(t),!0}catch{}return!1}function LC(t){if(!t||typeof t!="object"||!Xu)return!1;try{return Xu.call(t),!0}catch{}return!1}var UC=Object.prototype.hasOwnProperty||function(t){return t in this};function Mi(t,e){return UC.call(t,e)}function rn(t){return AC.call(t)}function zC(t){if(t.name)return t.name;var e=PC.call(wC.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function K1(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function HC(t){if(!Bl||!t||typeof t!="object")return!1;try{Bl.call(t);try{Rl.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function GC(t){if(!Io||!t||typeof t!="object")return!1;try{Io.call(t,Io);try{Fo.call(t,Fo)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function $C(t){if(!Ip||!t||typeof t!="object")return!1;try{return Ip.call(t),!0}catch{}return!1}function WC(t){if(!Rl||!t||typeof t!="object")return!1;try{Rl.call(t);try{Bl.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function VC(t){if(!Fo||!t||typeof t!="object")return!1;try{Fo.call(t,Fo);try{Io.call(t,Io)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function jC(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Z1(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return Z1(Dd.call(t,0,e.maxStringLength),e)+i}var n=Ni.call(Ni.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,XC);return Y1(n,"single",e)}function XC(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+BC.call(e.toString(16))}function lo(t){return"Object("+t+")"}function th(t){return t+" { ? }"}function Hp(t,e,r,i){var n=i?Zu(r,i):$r.call(r,", ");return t+" ("+e+") {"+n+"}"}function YC(t){for(var e=0;e<t.length;e++)if(K1(t[e],`
`)>=0)return!1;return!0}function qC(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=$r.call(Array(t.indent+1)," ");else return null;return{base:r,prev:$r.call(Array(e+1),r)}}function Zu(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+$r.call(t,","+r)+`
`+e.prev}function Ma(t,e){var r=Ku(t),i=[];if(r){i.length=t.length;for(var n=0;n<t.length;n++)i[n]=Mi(t,n)?e(t[n],t):""}var s=typeof eh=="function"?eh(t):[],o;if(ks){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)Mi(t,l)&&(r&&String(Number(l))===l&&l<t.length||ks&&o["$"+l]instanceof Symbol||(j1.call(/[^\w$]/,l)?i.push(e(l,t)+": "+e(t[l],t)):i.push(l+": "+e(t[l],t))));if(typeof eh=="function")for(var c=0;c<s.length;c++)X1.call(t,s[c])&&i.push("["+e(s[c])+"]: "+e(t[s[c]],t));return i}var Q1=eo,to=vC,KC=DC,ZC=xa,Oa=Q1("%WeakMap%",!0),ka=Q1("%Map%",!0),QC=to("WeakMap.prototype.get",!0),JC=to("WeakMap.prototype.set",!0),eT=to("WeakMap.prototype.has",!0),tT=to("Map.prototype.get",!0),rT=to("Map.prototype.set",!0),iT=to("Map.prototype.has",!0),Id=function(t,e){for(var r=t,i;(i=r.next)!==null;r=i)if(i.key===e)return r.next=i.next,i.next=t.next,t.next=i,i},nT=function(t,e){var r=Id(t,e);return r&&r.value},sT=function(t,e,r){var i=Id(t,e);i?i.value=r:t.next={key:e,next:t.next,value:r}},oT=function(t,e){return!!Id(t,e)},aT=function(){var e,r,i,n={assert:function(s){if(!n.has(s))throw new ZC("Side channel does not contain "+KC(s))},get:function(s){if(Oa&&s&&(typeof s=="object"||typeof s=="function")){if(e)return QC(e,s)}else if(ka){if(r)return tT(r,s)}else if(i)return nT(i,s)},has:function(s){if(Oa&&s&&(typeof s=="object"||typeof s=="function")){if(e)return eT(e,s)}else if(ka){if(r)return iT(r,s)}else if(i)return oT(i,s);return!1},set:function(s,o){Oa&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Oa),JC(e,s,o)):ka?(r||(r=new ka),rT(r,s,o)):(i||(i={key:{},next:null}),sT(i,s,o))}};return n},lT=String.prototype.replace,cT=/%20/g,rh={RFC1738:"RFC1738",RFC3986:"RFC3986"},Fd={default:rh.RFC3986,formatters:{RFC1738:function(t){return lT.call(t,cT,"+")},RFC3986:function(t){return String(t)}},RFC1738:rh.RFC1738,RFC3986:rh.RFC3986},hT=Fd,ih=Object.prototype.hasOwnProperty,Sn=Array.isArray,kr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),uT=function(e){for(;e.length>1;){var r=e.pop(),i=r.obj[r.prop];if(Sn(i)){for(var n=[],s=0;s<i.length;++s)typeof i[s]<"u"&&n.push(i[s]);r.obj[r.prop]=n}}},J1=function(e,r){for(var i=r&&r.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(i[n]=e[n]);return i},fT=function t(e,r,i){if(!r)return e;if(typeof r!="object"){if(Sn(e))e.push(r);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!ih.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var n=e;return Sn(e)&&!Sn(r)&&(n=J1(e,i)),Sn(e)&&Sn(r)?(r.forEach(function(s,o){if(ih.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,i):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return ih.call(s,o)?s[o]=t(s[o],a,i):s[o]=a,s},n)},dT=function(e,r){return Object.keys(r).reduce(function(i,n){return i[n]=r[n],i},e)},pT=function(t,e,r){var i=t.replace(/\+/g," ");if(r==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},mT=function(e,r,i,n,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),i==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var c=o.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===hT.RFC1738&&(c===40||c===41)){a+=o.charAt(l);continue}if(c<128){a=a+kr[c];continue}if(c<2048){a=a+(kr[192|c>>6]+kr[128|c&63]);continue}if(c<55296||c>=57344){a=a+(kr[224|c>>12]+kr[128|c>>6&63]+kr[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|o.charCodeAt(l)&1023),a+=kr[240|c>>18]+kr[128|c>>12&63]+kr[128|c>>6&63]+kr[128|c&63]}return a},xT=function(e){for(var r=[{obj:{o:e},prop:"o"}],i=[],n=0;n<r.length;++n)for(var s=r[n],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],h=o[c];typeof h=="object"&&h!==null&&i.indexOf(h)===-1&&(r.push({obj:o,prop:c}),i.push(h))}return uT(r),e},gT=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},_T=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},vT=function(e,r){return[].concat(e,r)},yT=function(e,r){if(Sn(e)){for(var i=[],n=0;n<e.length;n+=1)i.push(r(e[n]));return i}return r(e)},e_={arrayToObject:J1,assign:dT,combine:vT,compact:xT,decode:pT,encode:mT,isBuffer:_T,isRegExp:gT,maybeMap:yT,merge:fT},t_=aT,ol=e_,Mo=Fd,bT=Object.prototype.hasOwnProperty,r_={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Ur=Array.isArray,ET=Array.prototype.push,i_=function(t,e){ET.apply(t,Ur(e)?e:[e])},ST=Date.prototype.toISOString,Gp=Mo.default,ct={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ol.encode,encodeValuesOnly:!1,format:Gp,formatter:Mo.formatters[Gp],indices:!1,serializeDate:function(e){return ST.call(e)},skipNulls:!1,strictNullHandling:!1},CT=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},nh={},TT=function t(e,r,i,n,s,o,a,l,c,h,f,u,d,p,m,x,y,_){for(var g=e,v=_,b=0,E=!1;(v=v.get(nh))!==void 0&&!E;){var S=v.get(e);if(b+=1,typeof S<"u"){if(S===b)throw new RangeError("Cyclic object value");E=!0}typeof v.get(nh)>"u"&&(b=0)}if(typeof h=="function"?g=h(r,g):g instanceof Date?g=d(g):i==="comma"&&Ur(g)&&(g=ol.maybeMap(g,function(z){return z instanceof Date?d(z):z})),g===null){if(o)return c&&!x?c(r,ct.encoder,y,"key",p):r;g=""}if(CT(g)||ol.isBuffer(g)){if(c){var C=x?r:c(r,ct.encoder,y,"key",p);return[m(C)+"="+m(c(g,ct.encoder,y,"value",p))]}return[m(r)+"="+m(String(g))]}var R=[];if(typeof g>"u")return R;var A;if(i==="comma"&&Ur(g))x&&c&&(g=ol.maybeMap(g,c)),A=[{value:g.length>0?g.join(",")||null:void 0}];else if(Ur(h))A=h;else{var P=Object.keys(g);A=f?P.sort(f):P}var I=l?r.replace(/\./g,"%2E"):r,D=n&&Ur(g)&&g.length===1?I+"[]":I;if(s&&Ur(g)&&g.length===0)return D+"[]";for(var F=0;F<A.length;++F){var G=A[F],V=typeof G=="object"&&typeof G.value<"u"?G.value:g[G];if(!(a&&V===null)){var L=u&&l?G.replace(/\./g,"%2E"):G,Y=Ur(g)?typeof i=="function"?i(D,L):D:D+(u?"."+L:"["+L+"]");_.set(e,b);var ne=t_();ne.set(nh,_),i_(R,t(V,Y,i,n,s,o,a,l,i==="comma"&&x&&Ur(g)?null:c,h,f,u,d,p,m,x,y,ne))}}return R},AT=function(e){if(!e)return ct;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||ct.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=Mo.default;if(typeof e.format<"u"){if(!bT.call(Mo.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=Mo.formatters[i],s=ct.filter;(typeof e.filter=="function"||Ur(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in r_?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=ct.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:ct.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ct.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ct.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ct.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?ct.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ct.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:ct.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:ct.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ct.encodeValuesOnly,filter:s,format:i,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ct.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ct.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ct.strictNullHandling}},wT=function(t,e){var r=t,i=AT(e),n,s;typeof i.filter=="function"?(s=i.filter,r=s("",r)):Ur(i.filter)&&(s=i.filter,n=s);var o=[];if(typeof r!="object"||r===null)return"";var a=r_[i.arrayFormat],l=a==="comma"&&i.commaRoundTrip;n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=t_(),h=0;h<n.length;++h){var f=n[h];i.skipNulls&&r[f]===null||i_(o,TT(r[f],f,a,l,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,c))}var u=o.join(i.delimiter),d=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""},Ns=e_,Qu=Object.prototype.hasOwnProperty,PT=Array.isArray,nt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:Ns.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},BT=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},n_=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},RT="utf8=%26%2310003%3B",DT="utf8=%E2%9C%93",IT=function(e,r){var i={__proto__:null},n=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=n.split(r.delimiter,s),a=-1,l,c=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===DT?c="utf-8":o[l]===RT&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var h=o[l],f=h.indexOf("]="),u=f===-1?h.indexOf("="):f+1,d,p;u===-1?(d=r.decoder(h,nt.decoder,c,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(h.slice(0,u),nt.decoder,c,"key"),p=Ns.maybeMap(n_(h.slice(u+1),r),function(x){return r.decoder(x,nt.decoder,c,"value")})),p&&r.interpretNumericEntities&&c==="iso-8859-1"&&(p=BT(p)),h.indexOf("[]=")>-1&&(p=PT(p)?[p]:p);var m=Qu.call(i,d);m&&r.duplicates==="combine"?i[d]=Ns.combine(i[d],p):(!m||r.duplicates==="last")&&(i[d]=p)}return i},FT=function(t,e,r,i){for(var n=i?e:n_(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&n===""?[]:[].concat(n);else{o=r.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=r.decodeDotInKeys?l.replace(/%2E/g,"."):l,h=parseInt(c,10);!r.parseArrays&&c===""?o={0:n}:!isNaN(h)&&a!==c&&String(h)===c&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[],o[h]=n):c!=="__proto__"&&(o[c]=n)}n=o}return n},MT=function(e,r,i,n){if(e){var s=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=i.depth>0&&o.exec(s),c=l?s.slice(0,l.index):s,h=[];if(c){if(!i.plainObjects&&Qu.call(Object.prototype,c)&&!i.allowPrototypes)return;h.push(c)}for(var f=0;i.depth>0&&(l=a.exec(s))!==null&&f<i.depth;){if(f+=1,!i.plainObjects&&Qu.call(Object.prototype,l[1].slice(1,-1))&&!i.allowPrototypes)return;h.push(l[1])}return l&&h.push("["+s.slice(l.index)+"]"),FT(h,r,i,n)}},OT=function(e){if(!e)return nt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?nt.charset:e.charset,i=typeof e.duplicates>"u"?nt.duplicates:e.duplicates;if(i!=="combine"&&i!=="first"&&i!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var n=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:nt.allowDots:!!e.allowDots;return{allowDots:n,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:nt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:nt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:nt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:nt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:nt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:nt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:nt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:nt.decoder,delimiter:typeof e.delimiter=="string"||Ns.isRegExp(e.delimiter)?e.delimiter:nt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:nt.depth,duplicates:i,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:nt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:nt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:nt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:nt.strictNullHandling}},kT=function(t,e){var r=OT(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var i=typeof t=="string"?IT(t,r):t,n=r.plainObjects?Object.create(null):{},s=Object.keys(i),o=0;o<s.length;++o){var a=s[o],l=MT(a,i[a],r,typeof t=="string");n=Ns.merge(n,l,r)}return r.allowSparse===!0?n:Ns.compact(n)},NT=wT,LT=kT,UT=Fd,zT={formats:UT,parse:LT,stringify:NT},HT=SS;function Rr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var GT=/^([a-z0-9.+-]+:)/i,$T=/:[0-9]*$/,WT=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,VT=["<",">",'"',"`"," ","\r",`
`,"	"],jT=["{","}","|","\\","^","`"].concat(VT),Ju=["'"].concat(jT),$p=["%","/","?",";","#"].concat(Ju),Wp=["/","?","#"],XT=255,Vp=/^[+a-z0-9A-Z_-]{0,63}$/,YT=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,qT={javascript:!0,"javascript:":!0},ef={javascript:!0,"javascript:":!0},Cs={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},tf=zT;function pc(t,e,r){if(t&&typeof t=="object"&&t instanceof Rr)return t;var i=new Rr;return i.parse(t,e,r),i}Rr.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=i!==-1&&i<t.indexOf("#")?"?":"#",s=t.split(n),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(n);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=WT.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=tf.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=GT.exec(a);if(c){c=c[0];var h=c.toLowerCase();this.protocol=h,a=a.substr(c.length)}if(r||c||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(c&&ef[c])&&(a=a.substr(2),this.slashes=!0)}if(!ef[c]&&(f||c&&!Cs[c])){for(var u=-1,d=0;d<Wp.length;d++){var p=a.indexOf(Wp[d]);p!==-1&&(u===-1||p<u)&&(u=p)}var m,x;u===-1?x=a.lastIndexOf("@"):x=a.lastIndexOf("@",u),x!==-1&&(m=a.slice(0,x),a=a.slice(x+1),this.auth=decodeURIComponent(m)),u=-1;for(var d=0;d<$p.length;d++){var p=a.indexOf($p[d]);p!==-1&&(u===-1||p<u)&&(u=p)}u===-1&&(u=a.length),this.host=a.slice(0,u),a=a.slice(u),this.parseHost(),this.hostname=this.hostname||"";var y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y)for(var _=this.hostname.split(/\./),d=0,g=_.length;d<g;d++){var v=_[d];if(v&&!v.match(Vp)){for(var b="",E=0,S=v.length;E<S;E++)v.charCodeAt(E)>127?b+="x":b+=v[E];if(!b.match(Vp)){var C=_.slice(0,d),R=_.slice(d+1),A=v.match(YT);A&&(C.push(A[1]),R.unshift(A[2])),R.length&&(a="/"+R.join(".")+a),this.hostname=C.join(".");break}}}this.hostname.length>XT?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=HT.toASCII(this.hostname));var P=this.port?":"+this.port:"",I=this.hostname||"";this.host=I+P,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!qT[h])for(var d=0,g=Ju.length;d<g;d++){var D=Ju[d];if(a.indexOf(D)!==-1){var F=encodeURIComponent(D);F===D&&(F=escape(D)),a=a.split(D).join(F)}}var G=a.indexOf("#");G!==-1&&(this.hash=a.substr(G),a=a.slice(0,G));var V=a.indexOf("?");if(V!==-1?(this.search=a.substr(V),this.query=a.substr(V+1),e&&(this.query=tf.parse(this.query)),a=a.slice(0,V)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Cs[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var P=this.pathname||"",L=this.search||"";this.path=P+L}return this.href=this.format(),this};function KT(t){return typeof t=="string"&&(t=pc(t)),t instanceof Rr?t.format():Rr.prototype.format.call(t)}Rr.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,s="";this.host?n=t+this.host:this.hostname&&(n=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=tf.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Cs[e])&&n!==!1?(n="//"+(n||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):n||(n=""),i&&i.charAt(0)!=="#"&&(i="#"+i),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+n+r+o+i};function ZT(t,e){return pc(t,!1,!0).resolve(e)}Rr.prototype.resolve=function(t){return this.resolveObject(pc(t,!1,!0)).format()};Rr.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Rr;e.parse(t,!1,!0),t=e}for(var r=new Rr,i=Object.keys(this),n=0;n<i.length;n++){var s=i[n];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return Cs[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Cs[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var f=c[h];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!ef[t.protocol]){for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var u=r.pathname||"",d=r.search||"";r.path=u+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=m||p||r.host&&t.pathname,y=x,_=r.pathname&&r.pathname.split("/")||[],g=t.pathname&&t.pathname.split("/")||[],v=r.protocol&&!Cs[r.protocol];if(v&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),x=x&&(g[0]===""||_[0]==="")),m)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=g;else if(g.length)_||(_=[]),_.pop(),_=_.concat(g),r.search=t.search,r.query=t.query;else if(t.search!=null){if(v){r.host=_.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=_.slice(-1)[0],S=(r.host||t.host||_.length>1)&&(E==="."||E==="..")||E==="",C=0,R=_.length;R>=0;R--)E=_[R],E==="."?_.splice(R,1):E===".."?(_.splice(R,1),C++):C&&(_.splice(R,1),C--);if(!x&&!y)for(;C--;C)_.unshift("..");x&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),S&&_.join("/").substr(-1)!=="/"&&_.push("");var A=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(v){r.hostname=A?"":_.length?_.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return x=x||r.host&&_.length,x&&!A&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Rr.prototype.parseHost=function(){var t=this.host,e=$T.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var QT=pc,JT=ZT,eA=KT;const tA={parse:QT,format:eA,resolve:JT};function gr(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function co(t){return t.split("?")[0].split("#")[0]}function rA(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function iA(t,e,r){return t.replace(new RegExp(rA(e),"g"),r)}function nA(t,e){let r="",i=0,n=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(n===a-1||s===1))if(n!==a-1&&s===2){if(r.length<2||i!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",i=0):(r=r.slice(0,l),i=r.length-1-r.lastIndexOf("/")),n=a,s=0;continue}}else if(r.length===2||r.length===1){r="",i=0,n=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+=`/${t.slice(n+1,a)}`:r=t.slice(n+1,a),i=a-n-1;n=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Ct={toPosix(t){return iA(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){gr(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),i=/^[^/:]+:\/\//.exec(t),n=/^[^/:]+:\//.exec(t);if(r||i||n){const s=(r==null?void 0:r[0])||(i==null?void 0:i[0])||(n==null?void 0:n[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const i=co(this.toPosix(e??se.ADAPTER.getBaseUrl())),n=co(this.toPosix(r??this.rootname(i)));return gr(t),t=this.toPosix(t),t.startsWith("/")?Ct.join(n,t.slice(1)):this.isAbsolute(t)?t:this.join(i,t)},normalize(t){if(t=this.toPosix(t),gr(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const i=t.endsWith("/");return t=nA(t,!1),t.length>0&&i&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return gr(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const i=t[r];if(gr(i),i.length>0)if(e===void 0)e=i;else{const n=t[r-1]??"";this.extname(n)?e+=`/../${i}`:e+=`/${i}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(gr(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let i=-1,n=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!n){i=a;break}}else n=!1;return i===-1?r?"/":this.isUrl(o)?s+t:s:r&&i===1?"//":s+t.slice(0,i)},rootname(t){gr(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){gr(t),e&&gr(e),t=co(this.toPosix(t));let r=0,i=-1,n=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!n){r=s+1;break}}else a===-1&&(n=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=a))}return r===i?i=a:i===-1&&(i=t.length),t.slice(r,i)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!n){r=s+1;break}}else i===-1&&(n=!1,i=s+1);return i===-1?"":t.slice(r,i)},extname(t){gr(t),t=co(this.toPosix(t));let e=-1,r=0,i=-1,n=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!n){r=o+1;break}continue}i===-1&&(n=!1,i=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||i===-1||s===0||s===1&&e===i-1&&e===r+1?"":t.slice(e,i)},parse(t){gr(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=co(this.toPosix(t));let r=t.charCodeAt(0);const i=this.isAbsolute(t);let n;e.root=this.rootname(t),i||this.hasProtocol(t)?n=1:n=0;let s=-1,o=0,a=-1,l=!0,c=t.length-1,h=0;for(;c>=n;--c){if(r=t.charCodeAt(c),r===47){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),r===46?s===-1?s=c:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||a===-1||h===0||h===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&i?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&i?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},jp={};function Me(t,e,r=3){if(jp[e])return;let i=new Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(i=i.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(i))),jp[e]=!0}let sh;function sA(){return typeof sh>"u"&&(sh=function(){var r;const e={stencil:!0,failIfMajorPerformanceCaveat:se.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!se.ADAPTER.getWebGLRenderingContext())return!1;const i=se.ADAPTER.createCanvas();let n=i.getContext("webgl",e)||i.getContext("experimental-webgl",e);const s=!!((r=n==null?void 0:n.getContextAttributes())!=null&&r.stencil);if(n){const o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,s}catch{return!1}}()),sh}var oA="#f0f8ff",aA="#faebd7",lA="#00ffff",cA="#7fffd4",hA="#f0ffff",uA="#f5f5dc",fA="#ffe4c4",dA="#000000",pA="#ffebcd",mA="#0000ff",xA="#8a2be2",gA="#a52a2a",_A="#deb887",vA="#5f9ea0",yA="#7fff00",bA="#d2691e",EA="#ff7f50",SA="#6495ed",CA="#fff8dc",TA="#dc143c",AA="#00ffff",wA="#00008b",PA="#008b8b",BA="#b8860b",RA="#a9a9a9",DA="#006400",IA="#a9a9a9",FA="#bdb76b",MA="#8b008b",OA="#556b2f",kA="#ff8c00",NA="#9932cc",LA="#8b0000",UA="#e9967a",zA="#8fbc8f",HA="#483d8b",GA="#2f4f4f",$A="#2f4f4f",WA="#00ced1",VA="#9400d3",jA="#ff1493",XA="#00bfff",YA="#696969",qA="#696969",KA="#1e90ff",ZA="#b22222",QA="#fffaf0",JA="#228b22",ew="#ff00ff",tw="#dcdcdc",rw="#f8f8ff",iw="#daa520",nw="#ffd700",sw="#808080",ow="#008000",aw="#adff2f",lw="#808080",cw="#f0fff0",hw="#ff69b4",uw="#cd5c5c",fw="#4b0082",dw="#fffff0",pw="#f0e68c",mw="#fff0f5",xw="#e6e6fa",gw="#7cfc00",_w="#fffacd",vw="#add8e6",yw="#f08080",bw="#e0ffff",Ew="#fafad2",Sw="#d3d3d3",Cw="#90ee90",Tw="#d3d3d3",Aw="#ffb6c1",ww="#ffa07a",Pw="#20b2aa",Bw="#87cefa",Rw="#778899",Dw="#778899",Iw="#b0c4de",Fw="#ffffe0",Mw="#00ff00",Ow="#32cd32",kw="#faf0e6",Nw="#ff00ff",Lw="#800000",Uw="#66cdaa",zw="#0000cd",Hw="#ba55d3",Gw="#9370db",$w="#3cb371",Ww="#7b68ee",Vw="#00fa9a",jw="#48d1cc",Xw="#c71585",Yw="#191970",qw="#f5fffa",Kw="#ffe4e1",Zw="#ffe4b5",Qw="#ffdead",Jw="#000080",e4="#fdf5e6",t4="#808000",r4="#6b8e23",i4="#ffa500",n4="#ff4500",s4="#da70d6",o4="#eee8aa",a4="#98fb98",l4="#afeeee",c4="#db7093",h4="#ffefd5",u4="#ffdab9",f4="#cd853f",d4="#ffc0cb",p4="#dda0dd",m4="#b0e0e6",x4="#800080",g4="#663399",_4="#ff0000",v4="#bc8f8f",y4="#4169e1",b4="#8b4513",E4="#fa8072",S4="#f4a460",C4="#2e8b57",T4="#fff5ee",A4="#a0522d",w4="#c0c0c0",P4="#87ceeb",B4="#6a5acd",R4="#708090",D4="#708090",I4="#fffafa",F4="#00ff7f",M4="#4682b4",O4="#d2b48c",k4="#008080",N4="#d8bfd8",L4="#ff6347",U4="#40e0d0",z4="#ee82ee",H4="#f5deb3",G4="#ffffff",$4="#f5f5f5",W4="#ffff00",V4="#9acd32",j4={aliceblue:oA,antiquewhite:aA,aqua:lA,aquamarine:cA,azure:hA,beige:uA,bisque:fA,black:dA,blanchedalmond:pA,blue:mA,blueviolet:xA,brown:gA,burlywood:_A,cadetblue:vA,chartreuse:yA,chocolate:bA,coral:EA,cornflowerblue:SA,cornsilk:CA,crimson:TA,cyan:AA,darkblue:wA,darkcyan:PA,darkgoldenrod:BA,darkgray:RA,darkgreen:DA,darkgrey:IA,darkkhaki:FA,darkmagenta:MA,darkolivegreen:OA,darkorange:kA,darkorchid:NA,darkred:LA,darksalmon:UA,darkseagreen:zA,darkslateblue:HA,darkslategray:GA,darkslategrey:$A,darkturquoise:WA,darkviolet:VA,deeppink:jA,deepskyblue:XA,dimgray:YA,dimgrey:qA,dodgerblue:KA,firebrick:ZA,floralwhite:QA,forestgreen:JA,fuchsia:ew,gainsboro:tw,ghostwhite:rw,goldenrod:iw,gold:nw,gray:sw,green:ow,greenyellow:aw,grey:lw,honeydew:cw,hotpink:hw,indianred:uw,indigo:fw,ivory:dw,khaki:pw,lavenderblush:mw,lavender:xw,lawngreen:gw,lemonchiffon:_w,lightblue:vw,lightcoral:yw,lightcyan:bw,lightgoldenrodyellow:Ew,lightgray:Sw,lightgreen:Cw,lightgrey:Tw,lightpink:Aw,lightsalmon:ww,lightseagreen:Pw,lightskyblue:Bw,lightslategray:Rw,lightslategrey:Dw,lightsteelblue:Iw,lightyellow:Fw,lime:Mw,limegreen:Ow,linen:kw,magenta:Nw,maroon:Lw,mediumaquamarine:Uw,mediumblue:zw,mediumorchid:Hw,mediumpurple:Gw,mediumseagreen:$w,mediumslateblue:Ww,mediumspringgreen:Vw,mediumturquoise:jw,mediumvioletred:Xw,midnightblue:Yw,mintcream:qw,mistyrose:Kw,moccasin:Zw,navajowhite:Qw,navy:Jw,oldlace:e4,olive:t4,olivedrab:r4,orange:i4,orangered:n4,orchid:s4,palegoldenrod:o4,palegreen:a4,paleturquoise:l4,palevioletred:c4,papayawhip:h4,peachpuff:u4,peru:f4,pink:d4,plum:p4,powderblue:m4,purple:x4,rebeccapurple:g4,red:_4,rosybrown:v4,royalblue:y4,saddlebrown:b4,salmon:E4,sandybrown:S4,seagreen:C4,seashell:T4,sienna:A4,silver:w4,skyblue:P4,slateblue:B4,slategray:R4,slategrey:D4,snow:I4,springgreen:F4,steelblue:M4,tan:O4,teal:k4,thistle:N4,tomato:L4,turquoise:U4,violet:z4,wheat:H4,white:G4,whitesmoke:$4,yellow:W4,yellowgreen:V4};function Zo(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function s_(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function Md(t){if(typeof t=="string"&&(t=j4[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,r,i]=t;t=e+e+r+r+i+i}return parseInt(t,16)}function X4(){const t=[],e=[];for(let i=0;i<32;i++)t[i]=i,e[i]=i;t[_e.NORMAL_NPM]=_e.NORMAL,t[_e.ADD_NPM]=_e.ADD,t[_e.SCREEN_NPM]=_e.SCREEN,e[_e.NORMAL]=_e.NORMAL_NPM,e[_e.ADD]=_e.ADD_NPM,e[_e.SCREEN]=_e.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const o_=X4();function a_(t,e){return o_[e?1:0][t]}function Y4(t,e,r,i){return r=r||new Float32Array(4),i||i===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function Od(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let r=t>>16&255,i=t>>8&255,n=t&255;return r=r*e+.5|0,i=i*e+.5|0,n=n*e+.5|0,(e*255<<24)+(r<<16)+(i<<8)+n}function l_(t,e,r,i){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(i||i===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function q4(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function c_(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Dl(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Xp(t){return!(t&t-1)&&!!t}function Yp(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Ts(t,e,r){const i=t.length;let n;if(e>=i||r===0)return;r=e+r>i?i-e:r;const s=i-r;for(n=e;n<s;++n)t[n]=t[n+r];t.length=s}function ps(t){return t===0?0:t<0?-1:1}let K4=0;function zn(){return++K4}const h_=class{constructor(t,e,r,i){this.left=t,this.top=e,this.right=r,this.bottom=i}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let rf=h_;rf.EMPTY=new h_(0,0,0,0);const qp={},hr=Object.create(null),Nr=Object.create(null);function Z4(){let t;for(t in hr)delete hr[t];for(t in Nr)delete Nr[t]}class Kp{constructor(e,r,i){this._canvas=se.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||se.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Zp(t,e,r){for(let i=0,n=4*r*e;i<e;++i,n+=4)if(t[n+3]!==0)return!1;return!0}function Qp(t,e,r,i,n){const s=4*e;for(let o=i,a=i*s+4*r;o<=n;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function Q4(t){const{width:e,height:r}=t,i=t.getContext("2d",{willReadFrequently:!0});if(i===null)throw new TypeError("Failed to get canvas 2D context");const s=i.getImageData(0,0,e,r).data;let o=0,a=0,l=e-1,c=r-1;for(;a<r&&Zp(s,e,a);)++a;if(a===r)return rf.EMPTY;for(;Zp(s,e,c);)--c;for(;Qp(s,e,o,a,c);)++o;for(;Qp(s,e,l,a,c);)--l;return++l,++c,new rf(o,a,l,c)}function J4(t){const e=Q4(t),{width:r,height:i}=e;let n=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");n=s.getImageData(e.left,e.top,r,i)}return{width:r,height:i,data:n}}let Na;function e3(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Na||(Na=document.createElement("a")),Na.href=t;const r=tA.parse(Na.href),i=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!i||r.protocol!==e.protocol?"anonymous":""}function Ki(t,e=1){var i;const r=(i=se.RETINA_PREFIX)==null?void 0:i.exec(t);return r?parseFloat(r[1]):e}var ie=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ie||{});const nf=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Jp=(t,e)=>nf(t).priority??e,ue={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(nf).forEach(e=>{e.type.forEach(r=>{var i,n;return(n=(i=this._removeHandlers)[r])==null?void 0:n.call(i,e)})}),this},add(...t){return t.map(nf).forEach(e=>{e.type.forEach(r=>{const i=this._addHandlers,n=this._queue;i[r]?i[r](e):(n[r]=n[r]||[],n[r].push(e))})}),this},handle(t,e,r){const i=this._addHandlers,n=this._removeHandlers;if(i[t]||n[t])throw new Error(`Extension type ${t} already has a handler`);i[t]=e,n[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,i=>{e.includes(i.ref)||(e.push(i.ref),e.sort((n,s)=>Jp(s,r)-Jp(n,r)))},i=>{const n=e.indexOf(i.ref);n!==-1&&e.splice(n,1)})}};class sf{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const t3=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function r3(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function i3(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const i=t3.replace(/%forloop%/gi,r3(t));if(e.shaderSource(r,i),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const oh=0,ah=1,lh=2,ch=3,hh=4,uh=5;class Ei{constructor(){this.data=0,this.blendMode=_e.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<oh)}set blend(e){!!(this.data&1<<oh)!==e&&(this.data^=1<<oh)}get offsets(){return!!(this.data&1<<ah)}set offsets(e){!!(this.data&1<<ah)!==e&&(this.data^=1<<ah)}get culling(){return!!(this.data&1<<lh)}set culling(e){!!(this.data&1<<lh)!==e&&(this.data^=1<<lh)}get depthTest(){return!!(this.data&1<<ch)}set depthTest(e){!!(this.data&1<<ch)!==e&&(this.data^=1<<ch)}get depthMask(){return!!(this.data&1<<uh)}set depthMask(e){!!(this.data&1<<uh)!==e&&(this.data^=1<<uh)}get clockwiseFrontFace(){return!!(this.data&1<<hh)}set clockwiseFrontFace(e){!!(this.data&1<<hh)!==e&&(this.data^=1<<hh)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==_e.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Ei;return e.depthTest=!1,e.blend=!0,e}}const of=[];function u_(t,e){if(!t)return null;let r="";if(typeof t=="string"){const i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(let i=of.length-1;i>=0;--i){const n=of[i];if(n.test&&n.test(t,r))return new n(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Dr{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,i,n,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:h}=this;this._aliasCount++;for(let f=0,u=h.length;f<u;f++)h[f][c](e,r,i,n,s,o,a,l);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Dr.prototype,{dispatch:{value:Dr.prototype.emit},run:{value:Dr.prototype.emit}});class Qo{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Dr("setRealSize"),this.onUpdate=new Dr("update"),this.onError=new Dr("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class _a extends Qo{constructor(e,r){const{width:i,height:n}=r||{};if(!i||!n)throw new Error("BufferResource width or height invalid");super(i,n),this.data=e}upload(e,r,i){const n=e.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Mr.UNPACK);const s=r.realWidth,o=r.realHeight;return i.width===s&&i.height===o?n.texSubImage2D(r.target,0,0,0,s,o,r.format,i.type,this.data):(i.width=s,i.height=o,n.texImage2D(r.target,0,i.internalFormat,s,o,0,r.format,i.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const n3={scaleMode:fi.NEAREST,format:ee.RGBA,alphaMode:Mr.NPM},as=class extends ma{constructor(t=null,e=null){super(),e=Object.assign({},as.defaultOptions,e);const{alphaMode:r,mipmap:i,anisotropicLevel:n,scaleMode:s,width:o,height:a,wrapMode:l,format:c,type:h,target:f,resolution:u,resourceOptions:d}=e;t&&!(t instanceof Qo)&&(t=u_(t,d),t.internal=!0),this.resolution=u||se.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=n,this._wrapMode=l,this._scaleMode=s,this.format=c,this.type=h,this.target=f,this.alphaMode=r,this.uid=zn(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Xp(this.realWidth)&&Xp(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Nr[this.cacheId],delete hr[this.cacheId],this.cacheId=null),this.dispose(),as.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=se.STRICT_TEXTURE_CACHE){const i=typeof t=="string";let n=null;if(i)n=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${zn()}`}n=t._pixiId}let s=Nr[n];if(i&&r&&!s)throw new Error(`The cacheId "${n}" does not exist in BaseTextureCache.`);return s||(s=new as(t,e),s.cacheId=n,as.addToCache(s,n)),s}static fromBuffer(t,e,r,i){t=t||new Float32Array(e*r*4);const n=new _a(t,{width:e,height:r}),s=t instanceof Float32Array?me.FLOAT:me.UNSIGNED_BYTE;return new as(n,Object.assign({},n3,i||{width:e,height:r,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Nr[e]&&Nr[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Nr[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Nr[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Nr[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Nr[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let ve=as;ve.defaultOptions={mipmap:ei.POW2,anisotropicLevel:0,scaleMode:fi.LINEAR,wrapMode:Vi.CLAMP,alphaMode:Mr.UNPACK,target:Es.TEXTURE_2D,format:ee.RGBA,type:me.UNSIGNED_BYTE};ve._globalBatch=0;class af{constructor(){this.texArray=null,this.blend=0,this.type=jr.TRIANGLES,this.start=0,this.size=0,this.data=null}}let s3=0,ut=class f_{constructor(e,r=!0,i=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=r,this.id=s3++,this.disposeRunner=new Dr("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?qr.ELEMENT_ARRAY_BUFFER:qr.ARRAY_BUFFER}get index(){return this.type===qr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new f_(e)}};class Il{constructor(e,r=0,i=!1,n=me.FLOAT,s,o,a,l=1){this.buffer=e,this.size=r,this.normalized=i,this.type=n,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,r,i,n,s){return new Il(e,r,i,n,s)}}const o3={Float32Array,Uint32Array,Int32Array,Uint8Array};function a3(t,e){let r=0,i=0;const n={};for(let l=0;l<t.length;l++)i+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let l=0;l<t.length;l++){const c=e[l],h=t[l],f=c_(h);n[f]||(n[f]=new o3[f](s)),o=n[f];for(let u=0;u<h.length;u++){const d=(u/c|0)*i+a,p=u%c;o[d+p]=h[u]}a+=c}return new Float32Array(s)}const em={5126:4,5123:2,5121:1};let l3=0;const c3={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Zi{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=l3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Dr("disposeGeometry"),this.refCount=0}addAttribute(e,r,i=0,n=!1,s,o,a,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof ut||(r instanceof Array&&(r=new Float32Array(r)),r=new ut(r));const c=e.split("|");if(c.length>1){for(let f=0;f<c.length;f++)this.addAttribute(c[f],r,i,n,s);return this}let h=this.buffers.indexOf(r);return h===-1&&(this.buffers.push(r),h=this.buffers.length-1),this.attributes[e]=new Il(h,i,n,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof ut||(e instanceof Array&&(e=new Uint16Array(e)),e=new ut(e)),e.type=qr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],i=new ut;let n;for(n in this.attributes){const s=this.attributes[n],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*em[s.type]/4),s.buffer=0}for(i.data=a3(e,r),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Zi;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new ut(this.buffers[r].data.slice(0));for(const r in this.attributes){const i=this.attributes[r];e.attributes[r]=new Il(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=qr.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Zi,i=[],n=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l]=n[l]||0,n[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)i[a]=new c3[c_(o.buffers[a].data)](n[a]),r.buffers[a]=new ut(i[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=qr.ELEMENT_ARRAY_BUFFER;let a=0,l=0,c=0,h=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){h=f;break}for(const f in o.attributes){const u=o.attributes[f];(u.buffer|0)===h&&(l+=u.size*em[u.type]/4)}for(let f=0;f<e.length;f++){const u=e[f].indexBuffer.data;for(let d=0;d<u.length;d++)r.indexBuffer.data[d+c]+=a;a+=e[f].buffers[h].data.length/l,c+=u.length}}return r}}class d_ extends Zi{constructor(e=!1){super(),this._buffer=new ut(null,e,!1),this._indexBuffer=new ut(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,me.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,me.FLOAT).addAttribute("aColor",this._buffer,4,!0,me.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,me.FLOAT).addIndex(this._indexBuffer)}}const Fl=Math.PI*2,h3=180/Math.PI,u3=Math.PI/180;var Et=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Et||{});class Fe{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Fe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const La=[new Fe,new Fe,new Fe,new Fe];class Pe{constructor(e=0,r=0,i=0,n=0){this.x=Number(e),this.y=Number(r),this.width=Number(i),this.height=Number(n),this.type=Et.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Pe(0,0,0,0)}clone(){return new Pe(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const C=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=C)return!1;const A=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>A}const i=this.left,n=this.right,s=this.top,o=this.bottom;if(n<=i||o<=s)return!1;const a=La[0].set(e.left,e.top),l=La[1].set(e.left,e.bottom),c=La[2].set(e.right,e.top),h=La[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const f=Math.sign(r.a*r.d-r.b*r.c);if(f===0||(r.apply(a,a),r.apply(l,l),r.apply(c,c),r.apply(h,h),Math.max(a.x,l.x,c.x,h.x)<=i||Math.min(a.x,l.x,c.x,h.x)>=n||Math.max(a.y,l.y,c.y,h.y)<=s||Math.min(a.y,l.y,c.y,h.y)>=o))return!1;const u=f*(l.y-a.y),d=f*(a.x-l.x),p=u*i+d*s,m=u*n+d*s,x=u*i+d*o,y=u*n+d*o;if(Math.max(p,m,x,y)<=u*a.x+d*a.y||Math.min(p,m,x,y)>=u*h.x+d*h.y)return!1;const _=f*(a.y-c.y),g=f*(c.x-a.x),v=_*i+g*s,b=_*n+g*s,E=_*i+g*o,S=_*n+g*o;return!(Math.max(v,b,E,S)<=_*a.x+g*a.y||Math.min(v,b,E,S)>=_*h.x+g*h.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(i-r,0),this.y=n,this.height=Math.max(s-n,0),this}ceil(e=1,r=.001){const i=Math.ceil((this.x+this.width-r)*e)/e,n=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=i-this.x,this.height=n-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=i-r,this.y=n,this.height=s-n,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class kd{constructor(e=0,r=0,i=0){this.x=e,this.y=r,this.radius=i,this.type=Et.CIRC}clone(){return new kd(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const i=this.radius*this.radius;let n=this.x-e,s=this.y-r;return n*=n,s*=s,n+s<=i}getBounds(){return new Pe(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Nd{constructor(e=0,r=0,i=0,n=0){this.x=e,this.y=r,this.width=i,this.height=n,this.type=Et.ELIP}clone(){return new Nd(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let i=(e-this.x)/this.width,n=(r-this.y)/this.height;return i*=i,n*=n,i+n<=1}getBounds(){return new Pe(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class As{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const i=[];for(let n=0,s=r.length;n<s;n++)i.push(r[n].x,r[n].y);r=i}this.points=r,this.type=Et.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new As(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let i=!1;const n=this.points.length/2;for(let s=0,o=n-1;s<n;o=s++){const a=this.points[s*2],l=this.points[s*2+1],c=this.points[o*2],h=this.points[o*2+1];l>r!=h>r&&e<(c-a)*((r-l)/(h-l))+a&&(i=!i)}return i}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class Ld{constructor(e=0,r=0,i=0,n=0,s=20){this.x=e,this.y=r,this.width=i,this.height=n,this.radius=s,this.type=Et.RREC}clone(){return new Ld(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+i&&r<=this.y+this.height-i||e>=this.x+i&&e<=this.x+this.width-i)return!0;let n=e-(this.x+i),s=r-(this.y+i);const o=i*i;if(n*n+s*s<=o||(n=e-(this.x+this.width-i),n*n+s*s<=o)||(s=r-(this.y+this.height-i),n*n+s*s<=o)||(n=e-(this.x+i),n*n+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Ye{constructor(e=1,r=0,i=0,n=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,i,n,s,o){return this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const i=r||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(e,r){r=r||new Fe;const i=e.x,n=e.y;return r.x=this.a*i+this.c*n+this.tx,r.y=this.b*i+this.d*n+this.ty,r}applyInverse(e,r){r=r||new Fe;const i=1/(this.a*this.d+this.c*-this.b),n=e.x,s=e.y;return r.x=this.d*i*n+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,r.y=this.a*i*s+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),i=Math.sin(e),n=this.a,s=this.c,o=this.tx;return this.a=n*r-this.b*i,this.b=n*i+this.b*r,this.c=s*r-this.d*i,this.d=s*i+this.d*r,this.tx=o*r-this.ty*i,this.ty=o*i+this.ty*r,this}append(e){const r=this.a,i=this.b,n=this.c,s=this.d;return this.a=e.a*r+e.b*n,this.b=e.a*i+e.b*s,this.c=e.c*r+e.d*n,this.d=e.c*i+e.d*s,this.tx=e.tx*r+e.ty*n+this.tx,this.ty=e.tx*i+e.ty*s+this.ty,this}setTransform(e,r,i,n,s,o,a,l,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(i*this.a+n*this.c),this.ty=r-(i*this.b+n*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const i=this.a,n=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,i=this.b,n=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-n,s),l=Math.atan2(i,r),c=Math.abs(a+l);return c<1e-5||Math.abs(Fl-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+i*i),e.scale.y=Math.sqrt(n*n+s*s),e.position.x=this.tx+(o.x*r+o.y*n),e.position.y=this.ty+(o.x*i+o.y*s),e}invert(){const e=this.a,r=this.b,i=this.c,n=this.d,s=this.tx,o=e*n-r*i;return this.a=n/o,this.b=-r/o,this.c=-i/o,this.d=e/o,this.tx=(i*this.ty-n*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ye;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Ye}static get TEMP_MATRIX(){return new Ye}}const mn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],xn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],gn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],_n=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],lf=[],p_=[],Ua=Math.sign;function f3(){for(let t=0;t<16;t++){const e=[];lf.push(e);for(let r=0;r<16;r++){const i=Ua(mn[t]*mn[r]+gn[t]*xn[r]),n=Ua(xn[t]*mn[r]+_n[t]*xn[r]),s=Ua(mn[t]*gn[r]+gn[t]*_n[r]),o=Ua(xn[t]*gn[r]+_n[t]*_n[r]);for(let a=0;a<16;a++)if(mn[a]===i&&xn[a]===n&&gn[a]===s&&_n[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Ye;e.set(mn[t],xn[t],gn[t],_n[t],0,0),p_.push(e)}}f3();const Ke={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>mn[t],uY:t=>xn[t],vX:t=>gn[t],vY:t=>_n[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>lf[t][e],sub:(t,e)=>lf[t][Ke.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Ke.S:Ke.N:Math.abs(e)*2<=Math.abs(t)?t>0?Ke.E:Ke.W:e>0?t>0?Ke.SE:Ke.SW:t>0?Ke.NE:Ke.NW,matrixAppendRotationInv:(t,e,r=0,i=0)=>{const n=p_[Ke.inv(e)];n.tx=r,n.ty=i,t.append(n)}};class Li{constructor(e,r,i=0,n=0){this._x=i,this._y=n,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Li(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const m_=class{constructor(){this.worldTransform=new Ye,this.localTransform=new Ye,this.position=new Li(this.onChange,this,0,0),this.scale=new Li(this.onChange,this,1,1),this.pivot=new Li(this.onChange,this,0,0),this.skew=new Li(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let Ud=m_;Ud.IDENTITY=new m_;var d3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,p3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function tm(t,e,r){const i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function fh(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function x_(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return fh(2*e);case"bvec3":return fh(3*e);case"bvec4":return fh(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ws=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],m3={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},x3={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function g3(t,e){var i;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in t.uniforms){const s=e[n];if(!s){(i=t.uniforms[n])!=null&&i.group&&(t.uniforms[n].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const o=t.uniforms[n];let a=!1;for(let l=0;l<ws.length;l++)if(ws[l].test(s,o)){r.push(ws[l].code(n,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?m3:x3)[s.type].replace("location",`ud["${n}"].location`);r.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const g_={};let rs=g_;function _3(){if(rs===g_||rs!=null&&rs.isContextLost()){const t=se.ADAPTER.createCanvas();let e;se.PREFER_ENV>=Xn.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),rs=e}return rs}let za;function v3(){if(!za){za=ur.MEDIUM;const t=_3();t&&t.getShaderPrecisionFormat&&(za=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?ur.HIGH:ur.MEDIUM)}return za}function rm(t,e){const r=t.getShaderSource(e).split(`
`).map((c,h)=>`${h}: ${c}`),i=t.getShaderInfoLog(e),n=i.split(`
`),s={},o=n.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),a=[""];o.forEach(c=>{r[c-1]=`%c${r[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function y3(t,e,r,i){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||rm(t,r),t.getShaderParameter(i,t.COMPILE_STATUS)||rm(t,i),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const b3={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function __(t){return b3[t]}let Ha=null;const im={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function v_(t,e){if(!Ha){const r=Object.keys(im);Ha={};for(let i=0;i<r.length;++i){const n=r[i];Ha[t[n]]=im[n]}}return Ha[e]}function nm(t,e,r){if(t.substring(0,9)!=="precision"){let i=e;return e===ur.HIGH&&r!==ur.HIGH&&(i=ur.MEDIUM),`precision ${i} float;
${t}`}else if(r!==ur.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let ho;function E3(){if(typeof ho=="boolean")return ho;try{ho=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{ho=!1}return ho}let S3=0;const Ga={},ls=class{constructor(t,e,r="pixi-shader",i={}){this.extra={},this.id=S3++,this.vertexSrc=t||ls.defaultVertexSrc,this.fragmentSrc=e||ls.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Ga[r]?(Ga[r]++,r+=`-${Ga[r]}`):Ga[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=nm(this.vertexSrc,ls.defaultVertexPrecision,ur.HIGH),this.fragmentSrc=nm(this.fragmentSrc,ls.defaultFragmentPrecision,v3())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return p3}static get defaultFragmentSrc(){return d3}static from(t,e,r){const i=t+e;let n=qp[i];return n||(qp[i]=n=new ls(t,e,r)),n}};let Pr=ls;Pr.defaultVertexPrecision=ur.HIGH;Pr.defaultFragmentPrecision=di.apple.device?ur.HIGH:ur.MEDIUM;let C3=0;class Ir{constructor(e,r,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=C3++,this.static=!!r,this.ubo=!!i,e instanceof ut?(this.buffer=e,this.buffer.type=qr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new ut(new Float32Array(1)),this.buffer.type=qr.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,i){if(!this.ubo)this.uniforms[e]=new Ir(r,i);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,i){return new Ir(e,r,i)}static uboFrom(e,r){return new Ir(e,r??!0,!0)}}class Kr{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Ir?this.uniformGroup=r:this.uniformGroup=new Ir(r):this.uniformGroup=new Ir({}),this.disposeRunner=new Dr("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const i in r.uniforms){const n=r.uniforms[i];if(n.group&&this.checkUniformExists(e,n))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,i){const n=Pr.from(e,r);return new Kr(n,i)}}class T3{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const i=new Int32Array(e);for(let s=0;s<e;s++)i[s]=s;this.defaultGroupCache[e]=Ir.from({uSamplers:i},!0);let n=this.fragTemplate;n=n.replace(/%count%/gi,`${e}`),n=n.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Pr(this.vertexSrc,n)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ye,default:this.defaultGroupCache[e]};return new Kr(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let i=0;i<e;i++)i>0&&(r+=`
else `),i<e-1&&(r+=`if(vTextureId < ${i}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${i}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class cf{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function A3(){return!di.apple.device}function w3(t){let e=!0;const r=se.ADAPTER.getNavigator();if(di.tablet||di.phone){if(di.apple.device){const i=r.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)<11&&(e=!1)}if(di.android.device){const i=r.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(e=!1)}}return e?t:4}class mc{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var P3=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,B3=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const vr=class extends mc{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=d_,this.vertexSize=6,this.state=Ei.for2d(),this.size=vr.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??w3(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??A3(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Me("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return B3}static get defaultFragmentTemplate(){return P3}setShaderGenerator({vertex:t=vr.defaultVertexSrc,fragment:e=vr.defaultFragmentTemplate}={}){this.shaderGenerator=new T3(t,e)}contextChange(){const t=this.renderer.gl;se.PREFER_ENV===Xn.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),vr.defaultMaxTextures),this.maxTextures=i3(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=vr,r=this.size/4,i=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new af);for(;e.length<i;)e.push(new cf);for(let n=0;n<this.maxTextures;n++)this._tempBoundTextures[n]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=vr._textureArrayPool,i=this.renderer.batch,n=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++ve._globalBatch,a=0,l=r[0],c=0;i.copyBoundTextures(n,e);for(let h=0;h<this._bufferSize;++h){const f=t[h];t[h]=null,f._batchEnabled!==o&&(l.count>=e&&(i.boundArray(l,n,o,e),this.buildDrawCalls(l,c,h),c=h,l=r[++a],++o),f._batchEnabled=o,f.touched=s,l.elements[l.count++]=f)}l.count>0&&(i.boundArray(l,n,o,e),this.buildDrawCalls(l,c,this._bufferSize),++a,++o);for(let h=0;h<n.length;h++)n[h]=null;ve._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:i,_attributeBuffer:n,_indexBuffer:s,vertexSize:o}=this,a=vr._drawCallPool;let l=this._dcIndex,c=this._aIndex,h=this._iIndex,f=a[l];f.start=this._iIndex,f.texArray=t;for(let u=e;u<r;++u){const d=i[u],p=d._texture.baseTexture,m=o_[p.alphaMode?1:0][d.blendMode];i[u]=null,e<u&&f.blend!==m&&(f.size=h-f.start,e=u,f=a[++l],f.texArray=t,f.start=h),this.packInterleavedGeometry(d,n,s,c,h),c+=d.vertexData.length/2*o,h+=d.indices.length,f.blend=m}e<r&&(f.size=h-f.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=h}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;vr.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,i=vr._drawCallPool;let n=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:c,blend:h}=i[s];n!==o&&(n=o,this.bindAndClearTexArray(o)),this.state.blendMode=h,r.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),vr.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Dl(Math.ceil(t/8)),r=Yp(e),i=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new sf(i*this.vertexSize*4)),n}getIndexBuffer(t){const e=Dl(Math.ceil(t/12)),r=Yp(e),i=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n}packInterleavedGeometry(t,e,r,i,n){const{uint32View:s,float32View:o}=e,a=i/this.vertexSize,l=t.uvs,c=t.indices,h=t.vertexData,f=t._texture.baseTexture._batchLocation,u=Math.min(t.worldAlpha,1),d=u<1&&t._texture.baseTexture.alphaMode?Od(t._tintRGB,u):t._tintRGB+(u*255<<24);for(let p=0;p<h.length;p+=2)o[i++]=h[p],o[i++]=h[p+1],o[i++]=l[p],o[i++]=l[p+1],s[i++]=d,o[i++]=f;for(let p=0;p<c.length;p++)r[n++]=a+c[p]}};let Cr=vr;Cr.defaultBatchSize=4096;Cr.extension={name:"batch",type:ie.RendererPlugin};Cr._drawCallPool=[];Cr._textureArrayPool=[];ue.add(Cr);var R3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,D3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const vo=class extends Kr{constructor(t,e,r){const i=Pr.from(t||vo.defaultVertexSrc,e||vo.defaultFragmentSrc);super(i,r),this.padding=0,this.resolution=vo.defaultResolution,this.multisample=vo.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ei}apply(t,e,r,i,n){t.applyFilter(this,e,r,i)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return D3}static get defaultFragmentSrc(){return R3}};let St=vo;St.defaultResolution=1;St.defaultMultisample=tt.NONE;class y_{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?Md(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=s_(e),Zo(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}y_.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"background"};ue.add(y_);class b_{constructor(e){this.renderer=e,this.emptyRenderer=new mc(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:i}=this.renderer.texture;for(let n=r-1;n>=0;--n)e[n]=i[n]||null,e[n]&&(e[n]._batchLocation=n)}boundArray(e,r,i,n){const{elements:s,ids:o,count:a}=e;let l=0;for(let c=0;c<a;c++){const h=s[c],f=h._batchLocation;if(f>=0&&f<n&&r[f]===h){o[c]=f;continue}for(;l<n;){const u=r[l];if(u&&u._batchEnabled===i&&u._batchLocation===l){l++;continue}o[c]=l,h._batchLocation=l,r[l]=h;break}}}destroy(){this.renderer=null}}b_.extension={type:ie.RendererSystem,name:"batch"};ue.add(b_);let sm=0;class E_{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=sm++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,i=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:i,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=sm++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let i;if(se.PREFER_ENV>=Xn.WEBGL2&&(i=e.getContext("webgl2",r)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}E_.extension={type:ie.RendererSystem,name:"context"};ue.add(E_);class I3 extends _a{upload(e,r,i){const n=e.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Mr.UNPACK);const s=r.realWidth,o=r.realHeight;return i.width===s&&i.height===o?n.texSubImage2D(r.target,0,0,0,s,o,r.format,i.type,this.data):(i.width=s,i.height=o,n.texImage2D(r.target,0,i.internalFormat,s,o,0,r.format,i.type,this.data)),!0}}class hf{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Dr("disposeFramebuffer"),this.multisample=tt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new ve(null,{scaleMode:fi.NEAREST,resolution:1,mipmap:ei.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ve(new I3(null,{width:this.width,height:this.height}),{scaleMode:fi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ei.OFF,format:ee.DEPTH_COMPONENT,type:me.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const n=this.colorTextures[i],s=n.resolution;n.setSize(e/s,r/s)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,r/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class S_ extends ve{constructor(e={}){if(typeof e=="number"){const r=arguments[0],i=arguments[1],n=arguments[2],s=arguments[3];e={width:r,height:i,scaleMode:n,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=tt.NONE),super(null,e),this.mipmap=ei.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new hf(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Qi extends Qo{constructor(e){const r=e,i=r.naturalWidth||r.videoWidth||r.width,n=r.naturalHeight||r.videoHeight||r.height;super(i,n),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,i){i===void 0&&!r.startsWith("data:")?e.crossOrigin=e3(r):i!==!1&&(e.crossOrigin=typeof i=="string"?i:"anonymous")}upload(e,r,i,n){const s=e.gl,o=r.realWidth,a=r.realHeight;if(n=n||this.source,typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement){if(!n.complete||n.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement&&n.readyState<=1&&n.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Mr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&i.width===o&&i.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,i.type,n):(i.width=o,i.height=a,s.texImage2D(r.target,0,i.internalFormat,r.format,i.type,n)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),super.update()}dispose(){this.source=null}}class C_ extends Qi{constructor(e,r){if(r=r||{},typeof e=="string"){const i=new Image;Qi.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??se.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,i)=>{const n=this.source;this.url=n.src;const s=()=>{this.destroyed||(n.onload=null,n.onerror=null,this.resize(n.width,n.height),this._load=null,this.createBitmap?r(this.process()):r(this))};n.complete&&n.src?s():(n.onload=s,n.onerror=o=>{i(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,i=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:i?"cors":"no-cors"}).then(n=>n.blob()).then(n=>r(n,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Mr.UNPACK?"premultiply":"none"})).then(n=>this.destroyed?Promise.reject():(this.bitmap=n,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,i){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,i,this.bitmap),!this.preserveBitmap){let n=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class T_{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,i){const n=r.width,s=r.height;if(i){const o=e.width/2/n,a=e.height/2/s,l=e.x/n+o,c=e.y/s+a;i=Ke.add(i,Ke.NW),this.x0=l+o*Ke.uX(i),this.y0=c+a*Ke.uY(i),i=Ke.add(i,2),this.x1=l+o*Ke.uX(i),this.y1=c+a*Ke.uY(i),i=Ke.add(i,2),this.x2=l+o*Ke.uX(i),this.y2=c+a*Ke.uY(i),i=Ke.add(i,2),this.x3=l+o*Ke.uX(i),this.y3=c+a*Ke.uY(i)}else this.x0=e.x/n,this.y0=e.y/s,this.x1=(e.x+e.width)/n,this.y1=e.y/s,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/s,this.x3=e.x/n,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const om=new T_;function $a(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ce extends ma{constructor(e,r,i,n,s,o){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Pe(0,0,1,1)),e instanceof ce&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=n,this.valid=!1,this._uvs=om,this.uvMatrix=null,this.orig=i||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Fe(o.x,o.y):new Fe(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&hr[r.url]&&ce.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ce.removeFromCache(this),this.textureCacheIds=null}clone(){var n;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),i=new ce(this.baseTexture,!this.noFrame&&e,r,(n=this.trim)==null?void 0:n.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=e),i}updateUvs(){this._uvs===om&&(this._uvs=new T_),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},i=se.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let s=null;if(n)s=e;else if(e instanceof ve){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${zn()}`,ve.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${zn()}`}s=e._pixiId}let o=hr[s];if(n&&i&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof ve)?(r.resolution||(r.resolution=Ki(e)),o=new ce(new ve(e,r)),o.baseTexture.cacheId=s,ve.addToCache(o.baseTexture,s),ce.addToCache(o,s)):!o&&e instanceof ve&&(o=new ce(e),ce.addToCache(o,s)),o}static fromURL(e,r){const i=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),n=ce.from(e,Object.assign({resourceOptions:i},r),!1),s=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):s.load().then(()=>Promise.resolve(n))}static fromBuffer(e,r,i,n){return new ce(ve.fromBuffer(e,r,i,n))}static fromLoader(e,r,i,n){const s=new ve(e,Object.assign({scaleMode:ve.defaultOptions.scaleMode,resolution:Ki(r)},n)),{resource:o}=s;o instanceof C_&&(o.url=r);const a=new ce(s);return i||(i=r),ve.addToCache(a.baseTexture,i),ce.addToCache(a,i),i!==r&&(ve.addToCache(a.baseTexture,r),ce.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),hr[r]&&hr[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),hr[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=hr[e];if(r){const i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete hr[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)hr[e.textureCacheIds[r]]===e&&delete hr[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:i,width:n,height:s}=e,o=r+n>this.baseTexture.width,a=i+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",c=`X: ${r} + ${n} = ${r+n} > ${this.baseTexture.width}`,h=`Y: ${i} + ${s} = ${i+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${l} ${h}`)}this.valid=n&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ce._EMPTY||(ce._EMPTY=new ce(new ve),$a(ce._EMPTY),$a(ce._EMPTY.baseTexture)),ce._EMPTY}static get WHITE(){if(!ce._WHITE){const e=se.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ce._WHITE=new ce(ve.from(e)),$a(ce._WHITE),$a(ce._WHITE.baseTexture)}return ce._WHITE}}class Ji extends ce{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,i=!0){const n=this.baseTexture.resolution,s=Math.round(e*n)/n,o=Math.round(r*n)/n;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,i&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Ji(new S_(e))}}class A_{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,i=tt.NONE){const n=new S_(Object.assign({width:e,height:r,resolution:1,multisample:i},this.textureOptions));return new Ji(n)}getOptimalTexture(e,r,i=1,n=tt.NONE){let s;e=Math.ceil(e*i-1e-6),r=Math.ceil(r*i-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Dl(e),r=Dl(r),s=((e&65535)<<16|r&65535)>>>0,n>1&&(s+=n*4294967296)):s=n>1?-n:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,n)),o.filterPoolKey=s,o.setResolution(i),o}getFilterTexture(e,r,i){const n=this.getOptimalTexture(e.width,e.height,r||e.resolution,i||tt.NONE);return n.filterFrame=e.filterFrame,n}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}A_.SCREEN_KEY=-1;class F3 extends Zi{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class w_ extends Zi{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ut(this.vertices),this.uvBuffer=new ut(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+r.width/e.width,this.uvs[3]=n,this.uvs[4]=i+r.width/e.width,this.uvs[5]=n+r.height/e.height,this.uvs[6]=i,this.uvs[7]=n+r.height/e.height,i=r.x,n=r.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+r.width,this.vertices[3]=n,this.vertices[4]=i+r.width,this.vertices[5]=n+r.height,this.vertices[6]=i,this.vertices[7]=n+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class M3{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=tt.NONE,this.sourceFrame=new Pe,this.destinationFrame=new Pe,this.bindingSourceFrame=new Pe,this.bindingDestinationFrame=new Pe,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Wa=[new Fe,new Fe,new Fe,new Fe],dh=new Ye;class P_{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new A_,this.statePool=[],this.quad=new F3,this.quadUv=new w_,this.tempRect=new Pe,this.activeState={},this.globalUniforms=new Ir({outputFrame:new Pe,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const i=this.renderer,n=this.defaultFilterStack,s=this.statePool.pop()||new M3,o=this.renderer.renderTexture;let a=r[0].resolution,l=r[0].multisample,c=r[0].padding,h=r[0].autoFit,f=r[0].legacy??!0;for(let p=1;p<r.length;p++){const m=r[p];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),c=this.useMaxPadding?Math.max(c,m.padding):c+m.padding,h=h&&m.autoFit,f=f||(m.legacy??!0)}n.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),n.push(s),s.resolution=a,s.multisample=l,s.legacy=f,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);const u=this.tempRect.copyFrom(o.sourceFrame);i.projection.transform&&this.transformAABB(dh.copyFrom(i.projection.transform).invert(),u),h?(s.sourceFrame.fit(u),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(u)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:i.resolution,o.sourceFrame,o.destinationFrame,i.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const d=this.tempRect;d.x=0,d.y=0,d.width=s.sourceFrame.width,d.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=i.projection.transform,i.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,d),i.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),i=r.filters;this.activeState=r;const n=this.globalUniforms.uniforms;n.outputFrame=r.sourceFrame,n.resolution=r.resolution;const s=n.inputSize,o=n.inputPixel,a=n.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const c=n.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,r.renderTexture,l.renderTexture,Gr.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let c=r.renderTexture,h=this.getOptimalFilterTexture(c.width,c.height,r.resolution);h.filterFrame=c.filterFrame;let f=0;for(f=0;f<i.length-1;++f){f===1&&r.multisample>1&&(h=this.getOptimalFilterTexture(c.width,c.height,r.resolution),h.filterFrame=c.filterFrame),i[f].apply(this,c,h,Gr.CLEAR,r);const u=c;c=h,h=u}i[f].apply(this,c,l.renderTexture,Gr.BLEND,r),f>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(h)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Gr.CLEAR){const{renderTexture:i,state:n}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=n.stateId&1||this.forceClear;(r===Gr.CLEAR||r===Gr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,i,n){const s=this.renderer;s.state.set(e.state),this.bindAndClear(i,n),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(jr.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(jr.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:i,destinationFrame:n}=this.activeState,{orig:s}=r._texture,o=e.set(n.width,0,0,n.height,i.x,i.y),a=r.worldTransform.copyTo(Ye.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,i=1,n=tt.NONE){return this.texturePool.getOptimalTexture(e,r,i,n)}getFilterTexture(e,r,i){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,i||tt.NONE);return n.filterFrame=e.filterFrame,n}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const i=Wa[0],n=Wa[1],s=Wa[2],o=Wa[3];i.set(r.left,r.top),n.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(i,i),e.apply(n,n),e.apply(s,s),e.apply(o,o);const a=Math.min(i.x,n.x,s.x,o.x),l=Math.min(i.y,n.y,s.y,o.y),c=Math.max(i.x,n.x,s.x,o.x),h=Math.max(i.y,n.y,s.y,o.y);r.x=a,r.y=l,r.width=c-a,r.height=h-l}roundFrame(e,r,i,n,s){if(!(e.width<=0||e.height<=0||i.width<=0||i.height<=0)){if(s){const{a:o,b:a,c:l,d:c}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?dh.copyFrom(s):dh.identity(),s.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}P_.extension={type:ie.RendererSystem,name:"filter"};ue.add(P_);class O3{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=tt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const k3=new Pe;class B_{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new hf(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Pe,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;se.PREFER_ENV===Xn.WEBGL_LEGACY&&(r=null,i=null),r?e.drawBuffers=n=>r.drawBuffersWEBGL(n):(this.hasMRT=!1,e.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,i=0){const{gl:n}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==i&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=i),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,i)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>i,a=r.height>>i,l=o/r.width;this.setViewport(r.x*l,r.y*l,o,a)}else{const o=e.width>>i,a=e.height>>i;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,i,n){const s=this.viewport;e=Math.round(e),r=Math.round(r),i=Math.round(i),n=Math.round(n),(s.width!==i||s.height!==n||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=i,s.height=n,this.gl.viewport(e,r,i,n))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,i,n,s=Hu.COLOR|Hu.DEPTH){const{gl:o}=this;o.clearColor(e,r,i,n),o.clear(s)}initFramebuffer(e){const{gl:r}=this,i=new O3(r.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i}resizeFramebuffer(e){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID];i.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const n=e.colorTextures;let s=n.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=n[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&i.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:i}=this,n=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;i.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&this.canMultisampleFramebuffer(e)?n.msaaBuffer=n.msaaBuffer||i.createRenderbuffer():n.msaaBuffer&&(i.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const c=s[l],h=c.parentTextureArray||c;this.renderer.texture.bind(h,0),l===0&&n.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,n.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,h._glTextures[this.CONTEXT_UID].texture,r),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(n.stencil=n.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,n.stencil),n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,i.DEPTH24_STENCIL8,e.width,e.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,n.stencil)):n.stencil&&(i.deleteRenderbuffer(n.stencil),n.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let i=tt.NONE;if(e<=1||r===null)return i;for(let n=0;n<r.length;n++)if(r[n]<=e){i=r[n];break}return i===1&&(i=tt.NONE),i}blit(e,r,i){const{current:n,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!n)return;const l=n.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const h=n.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new hf(n.width,n.height),l.blitFramebuffer.addColorTexture(0,h)),e=l.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==n.width||e.height!==n.height)&&(e.width=n.width,e.height=n.height,e.dirtyId++,e.dirtySize++)}r||(r=k3,r.width=n.width,r.height=n.height),i||(i=r);const c=r.width===i.width&&r.height===i.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,i.left,i.top,i.right,i.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,r){const i=e.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(!i)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(n.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&n.deleteRenderbuffer(i.msaaBuffer),i.stencil&&n.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<r.length;i++)this.disposeFramebuffer(r[i],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const i=e.width,n=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,i,n):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,i,n),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Pe}destroy(){this.renderer=null}}B_.extension={type:ie.RendererSystem,name:"framebuffer"};ue.add(B_);const ph={5126:4,5123:2,5121:1};class R_{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let i=this.renderer.context.extensions.vertexArrayObject;se.PREFER_ENV===Xn.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=()=>i.createVertexArrayOES(),e.bindVertexArray=n=>i.bindVertexArrayOES(n),e.deleteVertexArray=n=>i.deleteVertexArrayOES(n)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=(n,s)=>i.vertexAttribDivisorANGLE(n,s),e.drawElementsInstanced=(n,s,o,a,l)=>i.drawElementsInstancedANGLE(n,s,o,a,l),e.drawArraysInstanced=(n,s,o,a)=>i.drawArraysInstancedANGLE(n,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:i}=this;let n=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;n||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=n={},s=!0);const o=n[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let i=0;i<e.buffers.length;i++){const n=e.buffers[i];r.update(n)}}checkCompatibility(e,r){const i=e.attributes,n=r.attributeData;for(const s in n)if(!i[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const i=e.attributes,n=r.attributeData,s=["g",e.id];for(const o in i)n[o]&&s.push(o,n[o].location);return s.join("-")}initGeometryVao(e,r,i=!0){const n=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const l=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let h=c[l];if(h)return c[a.id]=h,h;const f=e.buffers,u=e.attributes,d={},p={};for(const m in f)d[m]=0,p[m]=0;for(const m in u)!u[m].size&&a.attributeData[m]?u[m].size=a.attributeData[m].size:u[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),d[u[m].buffer]+=u[m].size*ph[u[m].type];for(const m in u){const x=u[m],y=x.size;x.stride===void 0&&(d[x.buffer]===y*ph[x.type]?x.stride=0:x.stride=d[x.buffer]),x.start===void 0&&(x.start=p[x.buffer],p[x.buffer]+=y*ph[x.type])}h=n.createVertexArray(),n.bindVertexArray(h);for(let m=0;m<f.length;m++){const x=f[m];o.bind(x),i&&x._glBuffers[s].refCount++}return this.activateVao(e,a),c[a.id]=h,c[l]=h,n.bindVertexArray(null),o.unbind(qr.ARRAY_BUFFER),h}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const i=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!i){if(o)for(let l=0;l<s.length;l++){const c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(s[l],r))}if(!r){for(const l in i)if(l[0]==="g"){const c=i[l];this._activeVao===c&&this.unbind(),n.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let i=0;i<r.length;i++)this.disposeGeometry(this.managedGeometries[r[i]],e)}activateVao(e,r){const i=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const c in a){const h=a[c],f=o[h.buffer],u=f._glBuffers[n];if(r.attributeData[c]){l!==u&&(s.bind(f),l=u);const d=r.attributeData[c].location;if(i.enableVertexAttribArray(d),i.vertexAttribPointer(d,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)i.vertexAttribDivisor(d,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,i,n){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(i||0)*a,n||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,i,r||o.getSize(),n||1):s.drawArrays(e,i,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}R_.extension={type:ie.RendererSystem,name:"geometry"};ue.add(R_);const am=new Ye;class D_{constructor(e,r){this._texture=e,this.mapCoord=new Ye,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const i=this.mapCoord;for(let n=0;n<e.length;n+=2){const s=e[n],o=e[n+1];r[n]=s*i.a+o*i.c+i.tx,r[n+1]=s*i.b+o*i.d+i.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const i=r._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const n=r.orig,s=r.trim;s&&(am.set(n.width/s.width,0,0,n.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(am));const o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(r._frame.x+l+c)/o.width,a[1]=(r._frame.y+l+c)/o.height,a[2]=(r._frame.x+r._frame.width-l+c)/o.width,a[3]=(r._frame.y+r._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var N3=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,L3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class U3 extends St{constructor(e,r,i){let n=null;typeof e!="string"&&r===void 0&&i===void 0&&(n=e,e=void 0,r=void 0,i=void 0),super(e||L3,r||N3,i),this.maskSprite=n,this.maskMatrix=new Ye}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,i,n){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new D_(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,i,n))}}class z3{constructor(e=null){this.type=ht.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=St.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=ht.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class I_{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let i=r;if(!i.isMaskData){const s=this.maskDataPool.pop()||new z3;s.pooled=!0,s.maskObject=r,i=s}const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i._colorMask=n?n._colorMask:15,i.autoDetect&&this.detect(i),i._target=e,i.type!==ht.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case ht.SCISSOR:this.renderer.scissor.push(i);break;case ht.STENCIL:this.renderer.stencil.push(i);break;case ht.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case ht.COLOR:this.pushColorMask(i);break}i.type===ht.SPRITE&&this.maskStack.push(i)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case ht.SCISSOR:this.renderer.scissor.pop(r);break;case ht.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case ht.SPRITE:this.popSpriteMask(r);break;case ht.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const i=this.maskStack[this.maskStack.length-1];i.type===ht.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=ht.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=ht.SCISSOR:e.type=ht.STENCIL:e.type=ht.COLOR}pushSpriteMask(e){const{maskObject:r}=e,i=e._target;let n=e._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex],n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new U3]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const h=o.current;a=e.resolution||h.resolution,l=e.multisample??h.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;n[0].resolution=a,n[0].multisample=l,n[0].maskSprite=r;const c=i.filterArea;i.filterArea=r.getBounds(!0),s.filter.push(i,n),i.filterArea=c,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,i=e._colorMask=r&e.colorMask;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}popColorMask(e){const r=e._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}destroy(){this.renderer=null}}I_.extension={type:ie.RendererSystem,name:"mask"};ue.add(I_);class F_{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,i=this.getStackLength();this.maskStack=e;const n=this.getStackLength();n!==i&&(n===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const lm=new Ye,cm=[],al=class extends F_{constructor(t){super(t),this.glConst=se.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:i}=this,n=i.renderTexture,s=r.getBounds(!0,cm.pop()??new Pe);this.roundFrameToPixels(s,n.current?n.current.resolution:i.resolution,n.sourceFrame,n.destinationFrame,i.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:i,d:n}=t;return(Math.abs(r)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(n)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||al.isMatrixRotated(e.worldTransform)||al.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,i,n){al.isMatrixRotated(n)||(n=n?lm.copyFrom(n):lm.identity(),n.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.renderer.filter.transformAABB(n,t),t.fit(i),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&cm.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let M_=al;M_.extension={type:ie.RendererSystem,name:"scissor"};ue.add(M_);class O_ extends F_{constructor(e){super(e),this.glConst=se.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:i}=this.renderer,n=e._stencilCounter;n===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,n,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,i.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,n=i?i._colorMask:15;n!==0&&(i._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,n!==0&&(i._colorMask=n,r.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}O_.extension={type:ie.RendererSystem,name:"stencil"};ue.add(O_);class k_{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Me("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Me("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Me("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}k_.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"_plugin"};ue.add(k_);class N_{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ye,this.transform=null}update(e,r,i,n){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,n),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,i,n){const s=this.projectionMatrix,o=n?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}N_.extension={type:ie.RendererSystem,name:"projection"};ue.add(N_);const H3=new Ud;class L_{constructor(e){this.renderer=e,this._tempMatrix=new Ye}generateTexture(e,r){const{region:i,...n}=r||{},s=i||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=Ji.create({width:s.width,height:s.height,...n});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=H3,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}L_.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"textureGenerator"};ue.add(L_);const cn=new Pe,uo=new Pe;class U_{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Pe,this.destinationFrame=new Pe,this.viewportFrame=new Pe}bind(e=null,r,i){const n=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(cn.width=e.frame.width,cn.height=e.frame.height,r=cn),i||(uo.x=e.frame.x,uo.y=e.frame.y,uo.width=r.width,uo.height=r.height,i=uo),o=s.framebuffer):(a=n.resolution,r||(cn.width=n._view.screen.width,cn.height=n._view.screen.height,r=cn),i||(i=cn,i.width=r.width,i.height=r.height));const l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,e||(l.y=n.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(i,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(i)}clear(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const i=this.destinationFrame,n=this.current?this.current.baseTexture:this.renderer._view.screen,s=i.width!==n.width||i.height!==n.height;if(s){let{x:o,y:a,width:l,height:c}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}U_.extension={type:ie.RendererSystem,name:"renderTexture"};ue.add(U_);class G3{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function $3(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const s=e.getActiveAttrib(t,n);if(s.name.startsWith("gl_"))continue;const o=v_(e,s.type),a={type:o,name:s.name,size:__(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function W3(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<i;n++){const s=e.getActiveUniform(t,n),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=v_(e,s.type);r[o]={name:o,index:n,type:l,size:s.size,isArray:a,value:x_(l,s.size)}}return r}function V3(t,e){var l;const r=tm(t,t.VERTEX_SHADER,e.vertexSrc),i=tm(t,t.FRAGMENT_SHADER,e.fragmentSrc),n=t.createProgram();t.attachShader(n,r),t.attachShader(n,i);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(n,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||y3(t,n,r,i),e.attributeData=$3(n,t),e.uniformData=W3(n,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,f)=>h>f?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(n,h,c[h]);t.linkProgram(n)}t.deleteShader(r),t.deleteShader(i);const o={};for(const c in e.uniformData){const h=e.uniformData[c];o[c]={location:t.getUniformLocation(n,c),value:x_(h.type,h.size)}}return new G3(n,o)}function j3(t,e,r,i,n){r.buffer.update(n)}const X3={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},z_={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Y3(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,i=0,n=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=z_[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,i%r!==0&&i<16){const a=i%r%16;i+=a,n+=a}i+r>16?(n=Math.ceil(n/16)*16,o.offset=n,n+=r,i=r):(o.offset=n,i+=r,n+=r)}return n=Math.ceil(n/16)*16,{uboElements:e,size:n}}function q3(t,e){const r=[];for(const i in t)e[i]&&r.push(e[i]);return r.sort((i,n)=>i.index-n.index),r}function K3(t,e){if(!t.autoManage)return{size:0,syncFunc:j3};const r=q3(t.uniforms,e),{uboElements:i,size:n}=Y3(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<i.length;o++){const a=i[o],l=t.uniforms[a.data.name],c=a.data.name;let h=!1;for(let f=0;f<ws.length;f++){const u=ws[f];if(u.codeUbo&&u.test(a.data,l)){s.push(`offset = ${a.offset/4};`,ws[f].codeUbo(a.data.name,l)),h=!0;break}}if(!h)if(a.data.size>1){const f=__(a.data.type),u=Math.max(z_[a.data.type]/16,1),d=f/u,p=(4-d%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*u}; i++)
                {
                    for(var j = 0; j < ${d}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const f=X3[a.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let Z3=0;const Va={textureCount:0,uboCount:0};class H_{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Z3++}systemCheck(){if(!E3())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const i=e.program,n=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(n.program)),r||(Va.textureCount=0,Va.uboCount=0,this.syncUniformGroup(e.uniformGroup,Va)),n}setUniforms(e){const r=this.shader.program,i=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(i.uniformData,e,this.renderer)}syncUniformGroup(e,r){const i=this.getGlProgram();(!e.static||e.dirtyId!==i.uniformDirtyGroups[e.id])&&(i.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,r))}syncUniforms(e,r,i){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,i)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=g3(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const i=this.getGlProgram();if(!e.static||e.dirtyId!==0||!i.uniformGroups[e.id]){e.dirtyId=0;const n=i.uniformGroups[e.id]||this.createSyncBufferGroup(e,i,r);e.buffer.update(),n(i.uniformData,e.uniforms,this.renderer,Va,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,i.uniformBufferBindings[r])}createSyncBufferGroup(e,r,i){const{gl:n}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,i);r.uniformBufferBindings[i]=this.shader.uniformBindCount,n.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=K3(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,i){const n=e.uniforms,s=[`${i}-`];for(const o in n)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,i=e.program,n=V3(r,i);return i.glPrograms[this.renderer.CONTEXT_UID]=n,n}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}H_.extension={type:ie.RendererSystem,name:"shader"};ue.add(H_);class G_{constructor(e){this.renderer=e}run(e){const r=this.renderer;r.emitWithCustomOptions(r.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}G_.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"startup"};ue.add(G_);function Q3(t,e=[]){return e[_e.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD]=[t.ONE,t.ONE],e[_e.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.NONE]=[0,0],e[_e.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[_e.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[_e.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[_e.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[_e.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[_e.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[_e.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const J3=0,eP=1,tP=2,rP=3,iP=4,nP=5,uf=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=_e.NONE,this._blendEq=!1,this.map=[],this.map[J3]=this.setBlend,this.map[eP]=this.setOffset,this.map[tP]=this.setCullFace,this.map[rP]=this.setDepthTest,this.map[iP]=this.setFrontFace,this.map[nP]=this.setDepthMask,this.checks=[],this.defaultState=new Ei,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=Q3(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(uf.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(uf.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let $_=uf;$_.extension={type:ie.RendererSystem,name:"state"};ue.add($_);class sP extends ma{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(n=>e.systems[n]),i=[...r,...Object.keys(e.systems).filter(n=>!r.includes(n))];for(const n of i)this.addSystem(e.systems[n],n)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Dr(r)})}addSystem(e,r){const i=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=i,this._systemsHash[r]=i;for(const n in this.runners)this.runners[n].add(i);return this}emitWithCustomOptions(e,r){const i=Object.keys(this._systemsHash);e.items.forEach(n=>{const s=i.find(o=>this._systemsHash[o]===n);n[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const ll=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=ll.defaultMaxIdle,this.checkCountMax=ll.defaultCheckCountMax,this.mode=ll.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Cd.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let i=0;i<e.length;i++){const n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){let i=0;for(let n=0;n<e.length;n++)e[n]!==null&&(e[i++]=e[n]);e.length=i}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let i=t.children.length-1;i>=0;i--)this.unload(t.children[i])}destroy(){this.renderer=null}};let Tr=ll;Tr.defaultMode=Cd.AUTO;Tr.defaultMaxIdle=60*60;Tr.defaultCheckCountMax=60*10;Tr.extension={type:ie.RendererSystem,name:"textureGC"};ue.add(Tr);class mh{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=me.UNSIGNED_BYTE,this.internalFormat=ee.RGBA,this.samplerType=0}}function oP(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[me.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA8,[ee.RGB]:t.RGB8,[ee.RG]:t.RG8,[ee.RED]:t.R8,[ee.RGBA_INTEGER]:t.RGBA8UI,[ee.RGB_INTEGER]:t.RGB8UI,[ee.RG_INTEGER]:t.RG8UI,[ee.RED_INTEGER]:t.R8UI,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[me.BYTE]:{[ee.RGBA]:t.RGBA8_SNORM,[ee.RGB]:t.RGB8_SNORM,[ee.RG]:t.RG8_SNORM,[ee.RED]:t.R8_SNORM,[ee.RGBA_INTEGER]:t.RGBA8I,[ee.RGB_INTEGER]:t.RGB8I,[ee.RG_INTEGER]:t.RG8I,[ee.RED_INTEGER]:t.R8I},[me.UNSIGNED_SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16UI,[ee.RGB_INTEGER]:t.RGB16UI,[ee.RG_INTEGER]:t.RG16UI,[ee.RED_INTEGER]:t.R16UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[me.SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16I,[ee.RGB_INTEGER]:t.RGB16I,[ee.RG_INTEGER]:t.RG16I,[ee.RED_INTEGER]:t.R16I},[me.UNSIGNED_INT]:{[ee.RGBA_INTEGER]:t.RGBA32UI,[ee.RGB_INTEGER]:t.RGB32UI,[ee.RG_INTEGER]:t.RG32UI,[ee.RED_INTEGER]:t.R32UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[me.INT]:{[ee.RGBA_INTEGER]:t.RGBA32I,[ee.RGB_INTEGER]:t.RGB32I,[ee.RG_INTEGER]:t.RG32I,[ee.RED_INTEGER]:t.R32I},[me.FLOAT]:{[ee.RGBA]:t.RGBA32F,[ee.RGB]:t.RGB32F,[ee.RG]:t.RG32F,[ee.RED]:t.R32F,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[me.HALF_FLOAT]:{[ee.RGBA]:t.RGBA16F,[ee.RGB]:t.RGB16F,[ee.RG]:t.RG16F,[ee.RED]:t.R16F},[me.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB565},[me.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA4},[me.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGB5_A1},[me.UNSIGNED_INT_2_10_10_10_REV]:{[ee.RGBA]:t.RGB10_A2,[ee.RGBA_INTEGER]:t.RGB10_A2UI},[me.UNSIGNED_INT_10F_11F_11F_REV]:{[ee.RGB]:t.R11F_G11F_B10F},[me.UNSIGNED_INT_5_9_9_9_REV]:{[ee.RGB]:t.RGB9_E5},[me.UNSIGNED_INT_24_8]:{[ee.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[me.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ee.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[me.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA,[ee.RGB]:t.RGB,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[me.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB},[me.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA},[me.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGBA}},e}class W_{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ve,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=oP(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};const i=new mh(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new mh(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let n=0;n<this.boundTextures.length;n++)this.bind(null,n)}bind(e,r=0){const{gl:i}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),this.updateTexture(e)):n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(let n=0;n<i.length;n++)i[n]===e&&(this.currentLocation!==n&&(r.activeTexture(r.TEXTURE0+n),this.currentLocation=n),r.bindTexture(e.target,this.emptyTextures[e.target].texture),i[n]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:i,CONTEXT_UID:n}=this;if(i)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[n].samplerType!==Gu.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new mh(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var i;r.internalFormat=((i=this.internalFormats[e.type])==null?void 0:i[e.format])??e.format,this.webGLVersion===2&&e.type===me.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var n;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const i=this.renderer;if(this.initTextureType(e,r),(n=e.resource)!=null&&n.upload(i,e,r))r.samplerType!==Gu.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=i.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:i}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const n=this.managedTextures.indexOf(e);n!==-1&&Ts(this.managedTextures,n,1)}}updateTextureStyle(e){var i;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===ei.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Vi.CLAMP:r.wrapMode=e.wrapMode,(i=e.resource)!=null&&i.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const i=this.gl;if(r.mipmap&&e.mipmap!==ei.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,r.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===fi.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const n=this.renderer.context.extensions.anisotropicFiltering;if(n&&e.anisotropicLevel>0&&e.scaleMode===fi.LINEAR){const s=Math.min(e.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===fi.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===fi.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}}W_.extension={type:ie.RendererSystem,name:"texture"};ue.add(W_);class V_{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glTransformFeedbacks[i]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,n)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:i,renderer:n}=this;r&&n.shader.bind(r),i.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:i,CONTEXT_UID:n}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[n]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(i.buffer.update(a),a._glBuffers[n].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[n].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const i=e._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a,r))}i&&(r||n.deleteTransformFeedback(i),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}V_.extension={type:ie.RendererSystem,name:"transformFeedback"};ue.add(V_);class j_{constructor(e){this.renderer=e}init(e){this.screen=new Pe(0,0,e.width,e.height),this.element=e.view||se.ADAPTER.createCanvas(),this.resolution=e.resolution||se.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const i=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=i,this.screen.height=n,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${n}px`),this.renderer.emit("resize",i,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}j_.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"_view"};ue.add(j_);se.PREFER_ENV=Xn.WEBGL2;se.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(se,{WRAP_MODE:{get(){return ve.defaultOptions.wrapMode},set(t){Me("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ve.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return ve.defaultOptions.scaleMode},set(t){Me("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ve.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return ve.defaultOptions.mipmap},set(t){Me("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ve.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return ve.defaultOptions.anisotropicLevel},set(t){Me("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ve.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Me("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),St.defaultResolution},set(t){St.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Me("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),St.defaultMultisample},set(t){St.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Cr.defaultMaxTextures},set(t){Me("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Cr.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Cr.defaultBatchSize},set(t){Me("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Cr.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Cr.canUploadSameBuffer},set(t){Me("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Cr.canUploadSameBuffer=t}},GC_MODE:{get(){return Tr.defaultMode},set(t){Me("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Tr.defaultMode=t}},GC_MAX_IDLE:{get(){return Tr.defaultMaxIdle},set(t){Me("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Tr.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Tr.defaultCheckCountMax},set(t){Me("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Tr.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Pr.defaultVertexPrecision},set(t){Me("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Pr.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Pr.defaultFragmentPrecision},set(t){Me("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Pr.defaultFragmentPrecision=t}}});var Ls=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Ls||{});class xh{constructor(e,r=null,i=0,n=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=i,this.once=n}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Kt=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new xh(null,null,1/0),this.deltaMS=1/Kt.targetFPMS,this.elapsedMS=1/Kt.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=Ls.NORMAL){return this._addListener(new xh(t,e,r))}addOnce(t,e,r=Ls.NORMAL){return this._addListener(new xh(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Kt.targetFPMS;const r=this._head;let i=r.next;for(;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Kt.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Kt._shared){const t=Kt._shared=new Kt;t.autoStart=!0,t._protected=!0}return Kt._shared}static get system(){if(!Kt._system){const t=Kt._system=new Kt;t.autoStart=!0,t._protected=!0}return Kt._system}};let Ut=Kt;Ut.targetFPMS=.06;Object.defineProperties(se,{TARGET_FPMS:{get(){return Ut.targetFPMS},set(t){Me("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Ut.targetFPMS=t}}});class X_{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Ls.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ut.shared:new Ut,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}X_.extension=ie.Application;ue.add(X_);const Y_=[];ue.handleByList(ie.Renderer,Y_);function aP(t){for(const e of Y_)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var lP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,cP=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const hP=lP,q_=cP;class K_{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{const i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}r>=tt.HIGH?this.multisample=tt.HIGH:r>=tt.MEDIUM?this.multisample=tt.MEDIUM:r>=tt.LOW?this.multisample=tt.LOW:this.multisample=tt.NONE}destroy(){}}K_.extension={type:ie.RendererSystem,name:"_multisample"};ue.add(K_);class uP{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Z_{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);r.bindBuffer(e.type,n.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:i,CONTEXT_UID:n}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[n]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,i){const{gl:n,CONTEXT_UID:s}=this;i=i||0;const o=e._glBuffers[s]||this.createGLBuffer(e);n.bindBufferRange(n.UNIFORM_BUFFER,r||0,o.buffer,i*256,256)}update(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);if(e._updateID!==n.updateID)if(n.updateID=e._updateID,r.bindBuffer(e.type,n.buffer),n.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;n.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const i=e._glBuffers[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this),i&&(r||n.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let i=0;i<r.length;i++)this.dispose(this.managedBuffers[r[i]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:i}=this;return e._glBuffers[r]=new uP(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}Z_.extension={type:ie.RendererSystem,name:"buffer"};ue.add(Z_);class Q_{constructor(e){this.renderer=e}render(e,r){const i=this.renderer;let n,s,o,a;if(r&&(n=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!n,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=o,!i.context.isLost){if(n||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}i.renderTexture.bind(n),i.batch.currentRenderer.start(),(s??i.background.clearBeforeRender)&&i.renderTexture.clear(),e.render(i),i.batch.currentRenderer.flush(),n&&(r.blit&&i.framebuffer.blit(),n.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Q_.extension={type:ie.RendererSystem,name:"objectRenderer"};ue.add(Q_);const ff=class extends sP{constructor(t){super(),this.type=F1.WEBGL,t=Object.assign({},se.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Ir({projectionMatrix:new Ye},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:ff.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Me("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const r={hello:t.hello,_plugin:ff.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(r)}static test(t){return t!=null&&t.forceCanvas?!1:sA()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Me("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Me("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Me("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Me("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Me("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Me("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){Me("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Me("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let ro=ff;ro.extension={type:ie.Renderer,priority:1};ro.__plugins={};ro.__systems={};ue.handleByMap(ie.RendererPlugin,ro.__plugins);ue.handleByMap(ie.RendererSystem,ro.__systems);ue.add(ro);class J_ extends Qo{constructor(e,r){const{width:i,height:n}=r||{};super(i,n),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new ve;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let i=0;i<this.length;i++)e[i]&&(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof Qo?this.addResourceAt(e[i],i):this.addResourceAt(u_(e[i],r),i))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(i=>i.resource).filter(i=>i).map(i=>i.load());return this._load=Promise.all(r).then(()=>{const{realWidth:i,realHeight:n}=this.items[0];return this.resize(i,n),Promise.resolve(this)}),this._load}}class fP extends J_{constructor(e,r){const{width:i,height:n}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:i,height:n}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Es.TEXTURE_2D_ARRAY}upload(e,r,i){const{length:n,itemDirtyIds:s,items:o}=this,{gl:a}=e;i.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,r.format,i.type,null);for(let l=0;l<n;l++){const c=o[l];s[l]<c.dirtyId&&(s[l]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,c.resource.width,c.resource.height,1,r.format,i.type,c.resource.source))}return!0}}class dP extends Qi{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const yo=class extends J_{constructor(t,e){const{width:r,height:i,autoLoad:n,linkBaseTexture:s}=e||{};if(t&&t.length!==yo.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:i});for(let o=0;o<yo.SIDES;o++)this.items[o].target=Es.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),n!==!1&&this.load()}bind(t){super.bind(t),t.target=Es.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Es.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const i=this.itemDirtyIds;for(let n=0;n<yo.SIDES;n++){const s=this.items[n];(i[n]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),i[n]=s.dirtyId):i[n]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),i[n]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===yo.SIDES}};let ev=yo;ev.SIDES=6;class ms extends Qi{constructor(e,r){r=r||{};let i,n;typeof e=="string"?(i=ms.EMPTY,n=e):(i=e,n=null),super(i),this.url=n,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const i=await se.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const n=await i.blob();if(this.destroyed)return;const s=await createImageBitmap(n,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Mr.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(i){if(this.destroyed)return;r(i),this.onError.emit(i)}}),this._load)}upload(e,r,i){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,i)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return ms._EMPTY=ms._EMPTY??se.ADAPTER.createCanvas(0,0),ms._EMPTY}}const cl=class extends Qi{constructor(t,e){e=e||{},super(se.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},cl.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Qi.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=e*this.scale,n=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/r*e,n=this._overrideHeight||this._overrideWidth/e*r),i=Math.round(i),n=Math.round(n);const s=this.source;s.width=i,s.height=n,s._pixiId=`canvas_${zn()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,i,n),this._resolve(),this._resolve=null}}static getSize(t){const e=cl.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&cl.SVG_XML.test(t)}};let Jo=cl;Jo.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;Jo.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const df=class extends Qi{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const i=t[0].src||t[0];Qi.crossOrigin(r,i,e.crossorigin);for(let n=0;n<t.length;++n){const s=document.createElement("source");let{src:o,mime:a}=t[n];o=o||t[n];const l=o.split("?").shift().toLowerCase(),c=l.slice(l.lastIndexOf(".")+1);a=a||df.MIME_TYPES[c]||`video/${c}`,s.src=o,s.type=a,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Ut.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ut.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Ut.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Ut.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Ut.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ut.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||df.TYPES.includes(e)}};let zd=df;zd.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];zd.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};of.push(ms,C_,dP,zd,Jo,_a,ev,fP);class Ml{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Pe.EMPTY:(e=e||new Pe(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:i,b:n,c:s,d:o,tx:a,ty:l}=e,c=i*r.x+s*r.y+a,h=n*r.x+o*r.y+l;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let r=this.minX,i=this.minY,n=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,this.minX=r,this.minY=i,this.maxX=n,this.maxY=s}addFrame(e,r,i,n,s){this.addFrameMatrix(e.worldTransform,r,i,n,s)}addFrameMatrix(e,r,i,n,s){const o=e.a,a=e.b,l=e.c,c=e.d,h=e.tx,f=e.ty;let u=this.minX,d=this.minY,p=this.maxX,m=this.maxY,x=o*r+l*i+h,y=a*r+c*i+f;u=x<u?x:u,d=y<d?y:d,p=x>p?x:p,m=y>m?y:m,x=o*n+l*i+h,y=a*n+c*i+f,u=x<u?x:u,d=y<d?y:d,p=x>p?x:p,m=y>m?y:m,x=o*r+l*s+h,y=a*r+c*s+f,u=x<u?x:u,d=y<d?y:d,p=x>p?x:p,m=y>m?y:m,x=o*n+l*s+h,y=a*n+c*s+f,u=x<u?x:u,d=y<d?y:d,p=x>p?x:p,m=y>m?y:m,this.minX=u,this.minY=d,this.maxX=p,this.maxY=m}addVertexData(e,r,i){let n=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=r;l<i;l+=2){const c=e[l],h=e[l+1];n=c<n?c:n,s=h<s?h:s,o=c>o?c:o,a=h>a?h:a}this.minX=n,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,i,n){this.addVerticesMatrix(e.worldTransform,r,i,n)}addVerticesMatrix(e,r,i,n,s=0,o=s){const a=e.a,l=e.b,c=e.c,h=e.d,f=e.tx,u=e.ty;let d=this.minX,p=this.minY,m=this.maxX,x=this.maxY;for(let y=i;y<n;y+=2){const _=r[y],g=r[y+1],v=a*_+c*g+f,b=h*g+l*_+u;d=Math.min(d,v-s),m=Math.max(m,v+s),p=Math.min(p,b-o),x=Math.max(x,b+o)}this.minX=d,this.minY=p,this.maxX=m,this.maxY=x}addBounds(e){const r=this.minX,i=this.minY,n=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<i?e.minY:i,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const i=e.minX>r.minX?e.minX:r.minX,n=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(i<=s&&n<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=i<a?i:a,this.minY=n<l?n:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const i=e.minX>r.x?e.minX:r.x,n=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(i<=s&&n<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=i<a?i:a,this.minY=n<l?n:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,i,n,s,o){e-=s,r-=o,i+=s,n+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>n?this.maxY:n}}class et extends ma{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Ud,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Ml,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let i=0;i<r.length;++i){const n=r[i];Object.defineProperty(et.prototype,n,Object.getOwnPropertyDescriptor(e,n))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Pe),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Pe),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Ml);const r=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const n=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=i,this.transform=r,this._bounds=n,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,i,n){return r&&(e=r.toGlobal(e,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,i=1,n=1,s=0,o=0,a=0,l=0,c=0){return this.position.x=e,this.position.y=r,this.scale.x=i||1,this.scale.y=n||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new pP),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*h3}set angle(e){this.transform.rotation=e*u3}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class pP extends et{constructor(){super(...arguments),this.sortDirty=null}}et.prototype.displayObjectUpdateTransform=et.prototype.updateTransform;const mP=new Ye;function xP(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const pf=class extends et{constructor(){super(),this.children=[],this.sortableChildren=pf.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);Ts(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,Ts(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Ts(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,i=e,n=i-r;let s;if(n>0&&n<=i){s=this.children.splice(r,n);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(n===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const i=this.children[e];i._lastSortedIndex=e,!t&&i.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(xP),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let i=0,n=this.children.length;i<n;++i){const s=this.children[i];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,i;this.cullArea?(r=this.cullArea,i=this.worldTransform):this._render!==pf.prototype._render&&(r=this.getBounds(!0));const n=t.projection.transform;if(n&&(i?(i=mP.copyFrom(i),i.prepend(n)):i=n),r&&e.intersects(r,i))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,i=this.children.length;r<i;++r)this.children[r].render(t)}}renderAdvanced(t){var n,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const i=e&&((n=this._enabledFilters)==null?void 0:n.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==ht.NONE));if(i&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}i&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let i=0;i<r.length;++i)r[i].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let Ue=pf;Ue.defaultSortableChildren=!1;Ue.prototype.containerUpdateTransform=Ue.prototype.updateTransform;Object.defineProperties(se,{SORTABLE_CHILDREN:{get(){return Ue.defaultSortableChildren},set(t){Me("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Ue.defaultSortableChildren=t}}});const fo=new Fe,gP=new Uint16Array([0,1,2,0,2,3]);class pt extends Ue{constructor(e){super(),this._anchor=new Li(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=_e.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ce.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=gP,this.pluginName="batch",this.isSprite=!0,this._roundPixels=se.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ps(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ps(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,i=r.a,n=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,c=this.vertexData,h=e.trim,f=e.orig,u=this._anchor;let d=0,p=0,m=0,x=0;if(h?(p=h.x-u._x*f.width,d=p+h.width,x=h.y-u._y*f.height,m=x+h.height):(p=-u._x*f.width,d=p+f.width,x=-u._y*f.height,m=x+f.height),c[0]=i*p+s*x+a,c[1]=o*x+n*p+l,c[2]=i*d+s*x+a,c[3]=o*x+n*d+l,c[4]=i*d+s*m+a,c[5]=o*m+n*d+l,c[6]=i*p+s*m+a,c[7]=o*m+n*p+l,this._roundPixels){const y=se.RESOLUTION;for(let _=0;_<c.length;++_)c[_]=Math.round(c[_]*y)/y}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,i=e.orig,n=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,c=s.d,h=s.tx,f=s.ty,u=-n._x*i.width,d=u+i.width,p=-n._y*i.height,m=p+i.height;r[0]=o*u+l*p+h,r[1]=c*p+a*u+f,r[2]=o*d+l*p+h,r[3]=c*p+a*d+f,r[4]=o*d+l*m+h,r[5]=c*m+a*d+f,r[6]=o*u+l*m+h,r[7]=c*m+a*u+f}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Ml),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Pe),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,fo);const r=this._texture.orig.width,i=this._texture.orig.height,n=-r*this.anchor.x;let s=0;return fo.x>=n&&fo.x<n+r&&(s=-i*this.anchor.y,fo.y>=s&&fo.y<s+i)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const i=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!i)}this._texture=null}static from(e,r){const i=e instanceof ce?e:ce.from(e,r);return new pt(i)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=ps(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=ps(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ce.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const tv=new Ye;et.prototype._cacheAsBitmap=!1;et.prototype._cacheData=null;et.prototype._cacheAsBitmapResolution=null;et.prototype._cacheAsBitmapMultisample=null;class _P{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(et.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new _P),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});et.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};et.prototype._initCachedDisplayObject=function(e){var u,d;if((u=this._cacheData)!=null&&u.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const i=this.getLocalBounds(null,!0).clone();if((d=this.filters)!=null&&d.length){const p=this.filters[0].padding;i.pad(p)}i.ceil(se.RESOLUTION);const n=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=Ji.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),c=`cacheAsBitmap_${zn()}`;this._cacheData.textureCacheId=c,ve.addToCache(l.baseTexture,c),ce.addToCache(l,c);const h=this.transform.localTransform.copyTo(tv).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(n,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const f=new pt(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(i.x/i.width),f.anchor.y=-(i.y/i.height),f.alpha=r,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};et.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};et.prototype._initCachedDisplayObjectCanvas=function(e){var h;if((h=this._cacheData)!=null&&h.sprite)return;const r=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;const n=e.canvasContext.activeContext,s=e._projTransform;r.ceil(se.RESOLUTION);const o=Ji.create({width:r.width,height:r.height}),a=`cacheAsBitmap_${zn()}`;this._cacheData.textureCacheId=a,ve.addToCache(o.baseTexture,a),ce.addToCache(o,a);const l=tv;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=r.x,l.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=n,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;const c=new pt(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(r.x/r.width),c.anchor.y=-(r.y/r.height),c.alpha=i,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};et.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};et.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};et.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ve.removeFromCache(this._cacheData.textureCacheId),ce.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};et.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};et.prototype.name=null;Ue.prototype.getChildByName=function(e,r){for(let i=0,n=this.children.length;i<n;i++)if(this.children[i].name===e)return this.children[i];if(r)for(let i=0,n=this.children.length;i<n;i++){const s=this.children[i];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};et.prototype.getGlobalPosition=function(e=new Fe,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};var vP=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class yP extends St{constructor(e=1){super(hP,vP,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const bP={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},EP=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function SP(t){const e=bP[t],r=e.length;let i=EP,n="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),n+=l,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}const CP=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function TP(t,e){const r=Math.ceil(t/2);let i=CP,n="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),n+=a,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}class mf extends St{constructor(e,r=8,i=4,n=St.defaultResolution,s=5){const o=TP(s,e),a=SP(s);super(o,a),this.horizontal=e,this.resolution=n,this._quality=0,this.quality=i,this.blur=r}apply(e,r,i,n){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/r.width):this.uniforms.strength=1/i.height*(i.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,i,n);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Gr.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,Gr.BLIT),this.uniforms.uSampler=l;const h=l;l=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,i,n),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class AP extends St{constructor(e=8,r=4,i=St.defaultResolution,n=5){super(),this.blurXFilter=new mf(!0,e,r,i,n),this.blurYFilter=new mf(!1,e,r,i,n),this.resolution=i,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,i,n){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,Gr.CLEAR),this.blurYFilter.apply(e,a,i,n),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,i,n):this.blurXFilter.apply(e,r,i,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var wP=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class xf extends St{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(q_,wP,e),this.alpha=1}_loadMatrix(e,r=!1){let i=e;r&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(e,r,i){return e[0]=r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],e[1]=r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],e[2]=r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],e[3]=r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],e[4]=r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],e[5]=r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],e[6]=r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],e[7]=r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],e[8]=r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],e[9]=r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],e[10]=r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],e[11]=r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],e[12]=r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],e[13]=r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],e[14]=r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],e[15]=r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],e[16]=r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],e[17]=r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],e[18]=r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],e[19]=r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)}tint(e,r){const i=e>>16&255,n=e>>8&255,s=e&255,o=[i/255,0,0,0,0,0,n/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const i=Math.cos(e),n=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=i+(1-i)*o,c=o*(1-i)-a*n,h=o*(1-i)+a*n,f=o*(1-i)+a*n,u=i+o*(1-i),d=o*(1-i)-a*n,p=o*(1-i)-a*n,m=o*(1-i)+a*n,x=i+o*(1-i),y=[l,c,h,0,0,f,u,d,0,0,p,m,x,0,0,0,0,0,1,0];this._loadMatrix(y,r)}contrast(e,r){const i=(e||0)+1,n=-.5*(i-1),s=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const i=e*2/3+1,n=(i-1)*-.5,s=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,i,n,s){e=e||.2,r=r||.15,i=i||16770432,n=n||3375104;const o=(i>>16&255)/255,a=(i>>8&255)/255,l=(i&255)/255,c=(n>>16&255)/255,h=(n>>8&255)/255,f=(n&255)/255,u=[.3,.59,.11,0,0,o,a,l,e,0,c,h,f,r,0,o-c,a-h,l-f,0,0];this._loadMatrix(u,s)}night(e,r){e=e||.1;const i=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(i,r)}predator(e,r){const i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}xf.prototype.grayscale=xf.prototype.greyscale;var PP=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,BP=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class RP extends St{constructor(e,r){const i=new Ye;e.renderable=!1,super(BP,PP,{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,r==null&&(r=20),this.scale=new Fe(r,r)}apply(e,r,i,n){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,i,n)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var DP=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,IP=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class FP extends St{constructor(){super(IP,DP)}}var MP=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class OP extends St{constructor(e=.5,r=Math.random()){super(q_,MP,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const hm={AlphaFilter:yP,BlurFilter:AP,BlurFilterPass:mf,ColorMatrixFilter:xf,DisplacementFilter:RP,FXAAFilter:FP,NoiseFilter:OP};Object.entries(hm).forEach(([t,e])=>{Object.defineProperty(hm,t,{get(){return Me("7.1.0",`filters.${t} has moved to ${t}`),e}})});class va{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=va.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Fe,this.page=new Fe,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,i,n,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Ol extends va{constructor(){super(...arguments),this.client=new Fe,this.movement=new Fe,this.offset=new Fe,this.global=new Fe,this.screen=new Fe}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,i,n,s,o,a,l,c,h,f,u,d,p,m){throw new Error("Method not implemented.")}}class yr extends Ol{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Us extends Ol{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Us.DOM_DELTA_PIXEL=0;Us.DOM_DELTA_LINE=1;Us.DOM_DELTA_PAGE=2;const kP=2048,NP=new Fe,gh=new Fe;class LP{constructor(e){this.dispatch=new ma,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((i,n)=>i.priority-n.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let i=0,n=r.length;i<n;i++)r[i].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){const i=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,NP.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let n=0,s=i.length-1;n<s;n++)if(e.currentTarget=i[n],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let n=i.length-2;n>=0;n--)if(e.currentTarget=i[n],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,i=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const n=i.children;if(n)for(let s=0;s<n.length;s++)this.all(e,r,n[s]);e.currentTarget=i,this.notifyTarget(e,r)}propagationPath(e){const r=[e];for(let i=0;i<kP&&e!==this.rootTarget;i++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestRecursive(e,r,i,n,s){if(!e||!e.visible||s(e,i))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],c=this.hitTestRecursive(l,r||l.interactive,i,n,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;return(c.length>0||e.interactive)&&c.push(e),c}}}return r&&n(e,i)?e.interactive?[e]:[]:null}hitPruneFn(e,r){var i;if(e.hitArea&&(e.worldTransform.applyInverse(r,gh),!e.hitArea.contains(gh.x,gh.y)))return!0;if(e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;if(n&&!((i=n.containsPoint)!=null&&i.call(n,r)))return!0}return!1}hitTestFn(e,r){return e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const i=`on${r}`;(o=(s=e.currentTarget)[i])==null||o.call(s,e);const n=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,n),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof yr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const n=r.button===2;this.dispatchEvent(r,n?"rightdown":"mousedown")}const i=this.trackingData(e.pointerId);i.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var a,l;if(!(e instanceof yr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen",n=this.trackingData(e.pointerId),s=this.findMountedTarget(n.overTargets);if(((a=n.overTargets)==null?void 0:a.length)>0&&s!==r.target){const c=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,c,s);if(this.dispatchEvent(h,"pointerout"),i&&this.dispatchEvent(h,"mouseout"),!r.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!r.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),i&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}if(s!==r.target){const c=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(r,c);this.dispatchEvent(h,"pointerover"),i&&this.dispatchEvent(h,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==r.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const d=this.clonePointerEvent(r,"pointerenter");for(d.eventPhase=d.AT_TARGET;d.target&&d.target!==s&&d.target!==this.rootTarget.parent;)d.currentTarget=d.target,this.notifyTarget(d),i&&this.notifyTarget(d,"mouseenter"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(h)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](r,"pointermove"),this.all(r,"globalpointermove"),r.pointerType==="touch"&&(this[o](r,"touchmove"),this.all(r,"globaltouchmove")),i&&(this[o](r,"mousemove"),this.all(r,"globalmousemove"),this.cursor=(l=r.target)==null?void 0:l.cursor),n.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof yr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),i=this.createPointerEvent(e),n=i.pointerType==="mouse"||i.pointerType==="pen";this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover"),i.pointerType==="mouse"&&(this.cursor=(o=i.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(i,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),n&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof yr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const i=e.pointerType==="mouse"||e.pointerType==="pen",n=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",n);this.dispatchEvent(s),i&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",n);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof yr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),i=this.createPointerEvent(e);if(this.dispatchEvent(i,"pointerup"),i.pointerType==="touch")this.dispatchEvent(i,"touchend");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const a=i.button===2;this.dispatchEvent(i,a?"rightup":"mouseup")}const n=this.trackingData(e.pointerId),s=this.findMountedTarget(n.pressTargetsByButton[e.button]);let o=s;if(s&&!i.composedPath().includes(s)){let a=s;for(;a&&!i.composedPath().includes(a);){if(i.currentTarget=a,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch")this.notifyTarget(i,"touchendoutside");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const l=i.button===2;this.notifyTarget(i,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete n.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(i,"click");a.target=o,a.path=null,n.clicksByButton[e.button]||(n.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=n.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(i)}mapPointerUpOutside(e){if(!(e instanceof yr)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),i=this.findMountedTarget(r.pressTargetsByButton[e.button]),n=this.createPointerEvent(e);if(i){let s=i;for(;s;)n.currentTarget=s,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch"?this.notifyTarget(n,"touchendoutside"):(n.pointerType==="mouse"||n.pointerType==="pen")&&this.notifyTarget(n,n.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(n)}mapWheel(e){if(!(e instanceof Us)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let i=1;i<e.length&&e[i].parent===r;i++)r=e[i];return r}createPointerEvent(e,r,i){const n=this.allocateEvent(yr);return this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=i??this.hitTest(n.global.x,n.global.y),typeof r=="string"&&(n.type=r),n}createWheelEvent(e){const r=this.allocateEvent(Us);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const i=this.allocateEvent(yr);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=r??i.type,i}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof yr&&r instanceof yr&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Ol&&r instanceof Ol&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const i=e.currentTarget._events[r];if(i)if("fn"in i)i.once&&e.currentTarget.removeListener(r,i.fn,void 0,!0),i.fn.call(i.context,e);else for(let n=0,s=i.length;n<s&&!e.propagationImmediatelyStopped;n++)i[n].once&&e.currentTarget.removeListener(r,i[n].fn,void 0,!0),i[n].fn.call(i[n].context,e)}}const UP=1,zP={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class rv{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new LP(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new yr(null),this.rootWheelEvent=new Us(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const i=this.cursorStyles[e];if(i)switch(typeof i){case"string":r&&(this.domElement.style.cursor=i);break;case"function":i(e);break;case"object":r&&Object.assign(this.domElement.style,i);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let i=0,n=r.length;i<n;i++){const s=r[i],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const r=this.normalizeToPointerData(e);for(let i=0,n=r.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,r[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const i=r!==this.domElement?"outside":"",n=this.normalizeToPointerData(e);for(let s=0,o=n.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,n[s]);a.type+=i,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const r=this.normalizeToPointerData(e);for(let i=0,n=r.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,r[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,i){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(r-n.left)*(this.domElement.width/n.width)*s,e.y=(i-n.top)*(this.domElement.height/n.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let i=0,n=e.changedTouches.length;i<n;i++){const s=e.changedTouches[i];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const i=e;typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=UP),typeof i.pressure>"u"&&(i.pressure=.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),i.isNormalized=!0,r.push(i)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=zP[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}}rv.extension={name:"events",type:[ie.RendererSystem,ie.CanvasRendererSystem]};ue.add(rv);const HP={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const i=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,n=typeof e=="function"?void 0:e;t=i?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,n)},removeEventListener(t,e,r){const i=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,n=typeof e=="function"?void 0:e;t=i?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,n)},dispatchEvent(t){if(!(t instanceof va))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};et.mixin(HP);const GP={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};et.mixin(GP);const $P=9,ja=100,WP=0,VP=0,um=2,fm=1,jP=-1e3,XP=-1e3,YP=2;class iv{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(di.tablet||di.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${ja}px`,r.style.height=`${ja}px`,r.style.position="absolute",r.style.top=`${WP}px`,r.style.left=`${VP}px`,r.style.zIndex=um.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${fm}px`,e.style.height=`${fm}px`,e.style.position="absolute",e.style.top=`${jP}px`,e.style.left=`${XP}px`,e.style.zIndex=YP.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let i=0;i<r.length;i++)this.updateAccessibleObjects(r[i])}update(){const e=performance.now();if(di.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:i,width:n,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,c=n/o*l,h=s/a*l;let f=this.div;f.style.left=`${r}px`,f.style.top=`${i}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let u=0;u<this.children.length;u++){const d=this.children[u];if(d.renderId!==this.renderId)d._accessibleActive=!1,Ts(this.children,u,1),this.div.removeChild(d._accessibleDiv),this.pool.push(d._accessibleDiv),d._accessibleDiv=null,u--;else{f=d._accessibleDiv;let p=d.hitArea;const m=d.worldTransform;d.hitArea?(f.style.left=`${(m.tx+p.x*m.a)*c}px`,f.style.top=`${(m.ty+p.y*m.d)*h}px`,f.style.width=`${p.width*m.a*c}px`,f.style.height=`${p.height*m.d*h}px`):(p=d.getBounds(),this.capHitArea(p),f.style.left=`${p.x*c}px`,f.style.top=`${p.y*h}px`,f.style.width=`${p.width*c}px`,f.style.height=`${p.height*h}px`,f.title!==d.accessibleTitle&&d.accessibleTitle!==null&&(f.title=d.accessibleTitle),f.getAttribute("aria-label")!==d.accessibleHint&&d.accessibleHint!==null&&f.setAttribute("aria-label",d.accessibleHint)),(d.accessibleTitle!==f.title||d.tabIndex!==f.tabIndex)&&(f.title=d.accessibleTitle,f.tabIndex=d.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:i}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>i&&(e.height=i-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${ja}px`,r.style.height=`${ja}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=um.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:i}=e.target,n=this.renderer.events.rootBoundary,s=Object.assign(new va(n),{target:i});n.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>n.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===$P&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}iv.extension={name:"accessibility",type:[ie.RendererPlugin,ie.CanvasRendererPlugin]};ue.add(iv);const gf=class{constructor(t){this.stage=new Ue,t=Object.assign({forceCanvas:!1},t),this.renderer=aP(t),gf._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=gf._plugins.slice(0);r.reverse(),r.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let Hd=gf;Hd._plugins=[];ue.handleByList(ie.Application,Hd._plugins);class nv{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,i;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,i=globalThis.innerHeight;else{const{clientWidth:n,clientHeight:s}=this._resizeTo;r=n,i=s}this.renderer.resize(r,i),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}nv.extension=ie.Application;ue.add(nv);const dm={loader:ie.LoadParser,resolver:ie.ResolveParser,cache:ie.CacheParser,detection:ie.DetectionParser};ue.handle(ie.Asset,t=>{const e=t.ref;Object.entries(dm).filter(([r])=>!!e[r]).forEach(([r,i])=>ue.add(Object.assign(e[r],{extension:e[r].extension??i})))},t=>{const e=t.ref;Object.keys(dm).filter(r=>!!e[r]).forEach(r=>ue.remove(e[r]))});class qP{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<r;i++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function sv(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function xc(t,e){const r=t.split("?")[0],i=Ct.extname(r).toLowerCase();return Array.isArray(e)?e.includes(i):i===e}const mi=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),_f=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function ov(t,e,r,i,n){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?ov(t.replace(i[r],a),e,r+1,i,n):n.push(t.replace(i[r],a))}}function KP(t){const e=/\{(.*?)\}/g,r=t.match(e),i=[];if(r){const n=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");n.push(o)}),ov(t,n,0,r,i)}else i.push(t);return i}const kl=t=>!Array.isArray(t);class ZP{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const i=mi(e);let n;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(r)){n=l.getCacheableAssets(i,r);break}}n||(n={},i.forEach(a=>{n[a]=r}));const s=Object.keys(n),o={cacheKeys:s,keys:i};if(i.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,n[a])}),r instanceof ce){const a=r;i.forEach(l=>{a.baseTexture!==ce.EMPTY.baseTexture&&ve.addToCache(a.baseTexture,l),ce.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const po=new ZP;class QP{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,r){const i={promise:null,parser:null};return i.promise=(async()=>{var s,o;let n=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,r,this))){n=await l.load(e,r,this),i.parser=l;break}}if(!i.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,n,r,this))&&(n=await l.parse(n,r,this)||n,i.parser=l)}return n})(),i}async load(e,r){let i=0;const n={},s=kl(e),o=mi(e,c=>({src:c})),a=o.length,l=o.map(async c=>{const h=Ct.toAbsolute(c.src);if(!n[c.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,c)),n[c.src]=await this.promiseCache[h].promise,r&&r(++i/a)}catch(f){throw delete this.promiseCache[h],delete n[c.src],new Error(`[Loader.load] Failed to load ${h}.
${f}`)}});return await Promise.all(l),s?n[o[0].src]:n}async unload(e){const i=mi(e,n=>({src:n})).map(async n=>{var a,l;const s=Ct.toAbsolute(n.src),o=this.promiseCache[s];if(o){const c=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,c,n,this),delete this.promiseCache[s]}});await Promise.all(i)}get parsers(){return this._parsers}}var ni=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(ni||{});const JP={extension:{type:ie.LoadParser,priority:ni.Low},test(t){return Ct.extname(t).toLowerCase()===".json"},async load(t){return await(await se.ADAPTER.fetch(t)).json()}};ue.add(JP);const eB={extension:{type:ie.LoadParser,priority:ni.Low},test(t){return Ct.extname(t).toLowerCase()===".txt"},async load(t){return await(await se.ADAPTER.fetch(t)).text()}};ue.add(eB);const tB=["normal","bold","100","200","300","400","500","600","700","800","900"],rB=[".ttf",".otf",".woff",".woff2"],iB=["font/ttf","font/otf","font/woff","font/woff2"];function nB(t){const e=Ct.extname(t);return Ct.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const sB={extension:{type:ie.LoadParser,priority:ni.Low},test(t){return sv(t,iB)||xc(t,rB)},async load(t,e){var i,n,s;const r=se.ADAPTER.getFontFaceSet();if(r){const o=[],a=((i=e.data)==null?void 0:i.family)??nB(t),l=((s=(n=e.data)==null?void 0:n.weights)==null?void 0:s.filter(h=>tB.includes(h)))??["normal"],c=e.data??{};for(let h=0;h<l.length;h++){const f=l[h],u=new FontFace(a,`url(${encodeURI(t)})`,{...c,weight:f});await u.load(),r.add(u),o.push(u)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>se.ADAPTER.getFontFaceSet().delete(e))}};ue.add(sB);let pm=0,_h;const oB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",aB={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${oB}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},lB={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let vh;class cB{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([aB.code],{type:"application/javascript"})),i=new Worker(r);i.addEventListener("message",n=>{i.terminate(),URL.revokeObjectURL(r),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){_h===void 0&&(_h=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<_h&&(vh||(vh=URL.createObjectURL(new Blob([lB.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(vh),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const i=new Promise((n,s)=>{this.queue.push({id:e,arguments:r,resolve:n,reject:s})});return this.next(),i}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),i=r.id;this.resolveHash[pm]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:pm++,id:i})}}const mm=new cB;function gc(t,e,r){const i=new ce(t);return i.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),i}const hB=[".jpeg",".jpg",".png",".webp",".avif"],uB=["image/jpeg","image/png","image/webp","image/avif"];async function fB(t){const e=await se.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const ea={extension:{type:ie.LoadParser,priority:ni.High},config:{preferWorkers:!0},test(t){return sv(t,uB)||xc(t,hB)},async load(t,e,r){let i=null;globalThis.createImageBitmap?this.config.preferWorkers&&await mm.isImageBitmapSupported()?i=await mm.loadImageBitmap(t):i=await fB(t):i=await new Promise(s=>{i=new Image,i.crossOrigin="anonymous",i.src=t,i.complete?s(i):i.onload=()=>{s(i)}});const n=new ve(i,{resolution:Ki(t),...e.data});return n.resource.src=t,gc(n,r,t)},unload(t){t.destroy(!0)}};ue.add(ea);const dB={extension:{type:ie.LoadParser,priority:ni.High},test(t){return Ct.extname(t).toLowerCase()===".svg"},async testParse(t){return Jo.test(t)},async parse(t,e,r){var o,a,l;const i=new Jo(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),n=new ve(i,{resolution:Ki(t),...e==null?void 0:e.data});n.resource.src=t;const s=gc(n,r,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await i.load(),s},async load(t,e){return(await se.ADAPTER.fetch(t)).text()},unload:ea.unload};ue.add(dB);class pB{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(r[i])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const i=[];Array.isArray(r)?r.forEach(n=>{if(typeof n.name=="string"){const s=this._createBundleAssetId(e,n.name);i.push(s),this.add([n.name,s],n.srcs,n.data)}else{const s=n.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{i.push(o)}),this.add([...n.name,...s],n.srcs)}}):Object.keys(r).forEach(n=>{i.push(this._createBundleAssetId(e,n)),this.add([n,this._createBundleAssetId(e,n)],r[n])}),this._bundles[e]=i}add(e,r,i){const n=mi(e);n.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=KP(r):r=[r]);const s=r.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let c=0;c<this._parsers.length;c++){const h=this._parsers[c];if(h.test(o)){a=h.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=n),(this._basePath||this._rootPath)&&(a.src=Ct.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??i,a});n.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=kl(e);e=mi(e);const i={};return e.forEach(n=>{const s=this._bundles[n];if(s){const o=this.resolve(s),a={};for(const l in o){const c=o[l];a[this._extractAssetIdFromBundle(n,l)]=c}i[n]=a}}),r?i[e[0]]:i}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const i={};for(const n in r)i[n]=r[n].src;return i}return r.src}resolve(e){const r=kl(e);e=mi(e);const i={};return e.forEach(n=>{if(!this._resolverHash[n])if(this._assetMap[n]){let s=this._assetMap[n];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(c=>{const h=s.filter(f=>f[l]?f[l]===c:!1);h.length&&(s=h)})}),this._resolverHash[n]=s[0]??a}else{let s=n;(this._basePath||this._rootPath)&&(s=Ct.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[n]={src:s}}i[n]=this._resolverHash[n]}),r?i[e[0]]:i}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const i=e[0],n=this._preferredOrder.find(s=>s.params.format.includes(i.format));if(n)return n}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class mB{constructor(){this._detections=[],this._initialized=!1,this.resolver=new pB,this.loader=new QP,this.cache=po,this._backgroundLoader=new qP(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,i=typeof r=="number"?[r]:r;let n=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;n=typeof l=="string"?[l]:l;for(const c of this._detections)await c.test()||(n=await c.remove(n))}else for(const l of this._detections)await l.test()&&(n=await l.add(n));this.resolver.prefer({params:{format:n,resolution:i}})}add(e,r,i){this.resolver.add(e,r,i)}async load(e,r){this._initialized||await this.init();const i=kl(e),n=mi(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(n),o=await this._mapLoadToResolve(s,r);return i?o[n[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let i=!1;typeof e=="string"&&(i=!0,e=[e]);const n=this.resolver.resolveBundle(e),s={},o=Object.keys(n);let a=0,l=0;const c=()=>{r==null||r(++a/l)},h=o.map(f=>{const u=n[f];return l+=Object.keys(u).length,this._mapLoadToResolve(u,c).then(d=>{s[f]=d})});return await Promise.all(h),i?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(i=>{this._backgroundLoader.add(Object.values(i))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return po.get(e);const r={};for(let i=0;i<e.length;i++)r[i]=po.get(e[i]);return r}async _mapLoadToResolve(e,r){const i=Object.values(e),n=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(i,r);this._backgroundLoader.active=!0;const o={};return i.forEach((a,l)=>{const c=s[a.src],h=[a.src];a.alias&&h.push(...a.alias),o[n[l]]=c,po.set(h,c)}),o}async unload(e){this._initialized||await this.init();const r=mi(e).map(n=>typeof n!="string"?n.src:n),i=this.resolver.resolve(r);await this._unloadFromResolved(i)}async unloadBundle(e){this._initialized||await this.init(),e=mi(e);const r=this.resolver.resolveBundle(e),i=Object.keys(r).map(n=>this._unloadFromResolved(r[n]));await Promise.all(i)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(i=>{po.remove(i.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return ea.config.preferWorkers}set preferWorkers(e){ea.config.preferWorkers=e}}const Xr=new mB;ue.handleByList(ie.LoadParser,Xr.loader.parsers).handleByList(ie.ResolveParser,Xr.resolver.parsers).handleByList(ie.CacheParser,Xr.cache.parsers).handleByList(ie.DetectionParser,Xr.detections);const xB={extension:ie.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ce),getCacheableAssets:(t,e)=>{const r={};return t.forEach(i=>{e.forEach((n,s)=>{r[i+(s===0?"":s+1)]=n})}),r}};ue.add(xB);const gB={extension:{type:ie.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await se.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ue.add(gB);const _B={extension:{type:ie.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await se.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ue.add(_B);const xm=["png","jpg","jpeg"],vB={extension:{type:ie.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...xm],remove:async t=>t.filter(e=>!xm.includes(e))};ue.add(vB);const yB={extension:ie.ResolveParser,test:ea.test,parse:t=>{var e;return{resolution:parseFloat(((e=se.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};ue.add(yB);var Zt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Zt||{});const Nl={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let li,cs;function gm(){cs={s3tc:li.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:li.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:li.getExtension("WEBGL_compressed_texture_etc"),etc1:li.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:li.getExtension("WEBGL_compressed_texture_pvrtc")||li.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:li.getExtension("WEBGL_compressed_texture_atc"),astc:li.getExtension("WEBGL_compressed_texture_astc")}}const bB={extension:{type:ie.DetectionParser,priority:2},test:async()=>{const e=se.ADAPTER.createCanvas().getContext("webgl");return e?(li=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{cs||gm();const e=[];for(const r in cs)cs[r]&&e.push(r);return[...e,...t]},remove:async t=>(cs||gm(),t.filter(e=>!(e in cs)))};ue.add(bB);class EB extends _a{constructor(e,r={width:1,height:1,autoLoad:!0}){let i,n;typeof e=="string"?(i=e,n=new Uint8Array):(i=null,n=e),super(n,r),this.origin=i,this.buffer=n?new sf(n):null,this.origin&&r.autoLoad!==!1&&this.load(),n!=null&&n.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const i=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(i),this.buffer=new sf(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),this}}class In extends EB{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=In._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||In._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,i){const n=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:c,levelHeight:h,levelBuffer:f}=this._levelBuffers[o];n.compressedTexImage2D(n.TEXTURE_2D,l,this.format,c,h,0,f)}return!0}onBlobLoaded(){this._levelBuffers=In._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,i,n,s,o,a){const l=new Array(i);let c=e.byteOffset,h=o,f=a,u=h+n-1&~(n-1),d=f+s-1&~(s-1),p=u*d*Nl[r];for(let m=0;m<i;m++)l[m]={levelID:m,levelWidth:i>1?h:u,levelHeight:i>1?f:d,levelBuffer:new Uint8Array(e.buffer,c,p)},c+=p,h=h>>1||1,f=f>>1||1,u=h+n-1&~(n-1),d=f+s-1&~(s-1),p=u*d*Nl[r];return l}}const yh=4,Xa=124,SB=32,_m=20,CB=542327876,Ya={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},TB={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},qa={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},AB=1,wB=2,PB=4,BB=64,RB=512,DB=131072,IB=827611204,FB=861165636,MB=894720068,OB=808540228,kB=4,NB={[IB]:Zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[FB]:Zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[MB]:Zt.COMPRESSED_RGBA_S3TC_DXT5_EXT},LB={70:Zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Zt.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Zt.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Zt.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Zt.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Zt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function UB(t){const e=new Uint32Array(t);if(e[0]!==CB)throw new Error("Invalid DDS file magic word");const i=new Uint32Array(t,0,Xa/Uint32Array.BYTES_PER_ELEMENT),n=i[Ya.HEIGHT],s=i[Ya.WIDTH],o=i[Ya.MIPMAP_COUNT],a=new Uint32Array(t,Ya.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,SB/Uint32Array.BYTES_PER_ELEMENT),l=a[AB];if(l&PB){const c=a[TB.FOURCC];if(c!==OB){const g=NB[c],v=yh+Xa,b=new Uint8Array(t,v);return[new In(b,{format:g,width:s,height:n,levels:o})]}const h=yh+Xa,f=new Uint32Array(e.buffer,h,_m/Uint32Array.BYTES_PER_ELEMENT),u=f[qa.DXGI_FORMAT],d=f[qa.RESOURCE_DIMENSION],p=f[qa.MISC_FLAG],m=f[qa.ARRAY_SIZE],x=LB[u];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${u}`);if(p===kB)throw new Error("DDSParser does not support cubemap textures");if(d===6)throw new Error("DDSParser does not supported 3D texture data");const y=new Array,_=yh+Xa+_m;if(m===1)y.push(new Uint8Array(t,_));else{const g=Nl[x];let v=0,b=s,E=n;for(let C=0;C<o;C++){const R=Math.max(1,b+3&-4),A=Math.max(1,E+3&-4),P=R*A*g;v+=P,b=b>>>1,E=E>>>1}let S=_;for(let C=0;C<m;C++)y.push(new Uint8Array(t,S,v)),S+=v}return y.map(g=>new In(g,{format:x,width:s,height:n,levels:o}))}throw l&BB?new Error("DDSParser does not support uncompressed texture data."):l&RB?new Error("DDSParser does not supported YUV uncompressed texture data."):l&DB?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&wB?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const vm=[171,75,84,88,32,49,49,187,13,10,26,10],zB=67305985,_r={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},vf=64,ym={[me.UNSIGNED_BYTE]:1,[me.UNSIGNED_SHORT]:2,[me.INT]:4,[me.UNSIGNED_INT]:4,[me.FLOAT]:4,[me.HALF_FLOAT]:8},HB={[ee.RGBA]:4,[ee.RGB]:3,[ee.RG]:2,[ee.RED]:1,[ee.LUMINANCE]:1,[ee.LUMINANCE_ALPHA]:2,[ee.ALPHA]:1},GB={[me.UNSIGNED_SHORT_4_4_4_4]:2,[me.UNSIGNED_SHORT_5_5_5_1]:2,[me.UNSIGNED_SHORT_5_6_5]:2};function $B(t,e,r=!1){const i=new DataView(e);if(!WB(t,i))return null;const n=i.getUint32(_r.ENDIANNESS,!0)===zB,s=i.getUint32(_r.GL_TYPE,n),o=i.getUint32(_r.GL_FORMAT,n),a=i.getUint32(_r.GL_INTERNAL_FORMAT,n),l=i.getUint32(_r.PIXEL_WIDTH,n),c=i.getUint32(_r.PIXEL_HEIGHT,n)||1,h=i.getUint32(_r.PIXEL_DEPTH,n)||1,f=i.getUint32(_r.NUMBER_OF_ARRAY_ELEMENTS,n)||1,u=i.getUint32(_r.NUMBER_OF_FACES,n),d=i.getUint32(_r.NUMBER_OF_MIPMAP_LEVELS,n),p=i.getUint32(_r.BYTES_OF_KEY_VALUE_DATA,n);if(c===0||h!==1)throw new Error("Only 2D textures are supported");if(u!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const m=4,x=4,y=l+3&-4,_=c+3&-4,g=new Array(f);let v=l*c;s===0&&(v=y*_);let b;if(s!==0?ym[s]?b=ym[s]*HB[o]:b=GB[s]:b=Nl[a],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const E=r?jB(i,p,n):null;let C=v*b,R=l,A=c,P=y,I=_,D=vf+p;for(let F=0;F<d;F++){const G=i.getUint32(D,n);let V=D+4;for(let L=0;L<f;L++){let Y=g[L];Y||(Y=g[L]=new Array(d)),Y[F]={levelID:F,levelWidth:d>1||s!==0?R:P,levelHeight:d>1||s!==0?A:I,levelBuffer:new Uint8Array(e,V,C)},V+=C}D+=G+4,D=D%4!==0?D+4-D%4:D,R=R>>1||1,A=A>>1||1,P=R+m-1&~(m-1),I=A+x-1&~(x-1),C=P*I*b}return s!==0?{uncompressed:g.map(F=>{let G=F[0].levelBuffer,V=!1;return s===me.FLOAT?G=new Float32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4):s===me.UNSIGNED_INT?(V=!0,G=new Uint32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)):s===me.INT&&(V=!0,G=new Int32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)),{resource:new _a(G,{width:F[0].levelWidth,height:F[0].levelHeight}),type:s,format:V?VB(o):o}}),kvData:E}:{compressed:g.map(F=>new In(null,{format:a,width:l,height:c,levels:d,levelBuffers:F})),kvData:E}}function WB(t,e){for(let r=0;r<vm.length;r++)if(e.getUint8(r)!==vm[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function VB(t){switch(t){case ee.RGBA:return ee.RGBA_INTEGER;case ee.RGB:return ee.RGB_INTEGER;case ee.RG:return ee.RG_INTEGER;case ee.RED:return ee.RED_INTEGER;default:return t}}function jB(t,e,r){const i=new Map;let n=0;for(;n<e;){const s=t.getUint32(vf+n,r),o=vf+n+4,a=3-(s+3)%4;if(s===0||s>e-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),h=new DataView(t.buffer,o+l+1,s-l-1);i.set(c,h),n+=4+s+a}return i}const XB={extension:{type:ie.LoadParser,priority:ni.High},test(t){return xc(t,".dds")},async load(t,e,r){const n=await(await se.ADAPTER.fetch(t)).arrayBuffer(),o=UB(n).map(a=>{const l=new ve(a,{mipmap:ei.OFF,alphaMode:Mr.NO_PREMULTIPLIED_ALPHA,resolution:Ki(t),...e.data});return gc(l,r,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ue.add(XB);const YB={extension:{type:ie.LoadParser,priority:ni.High},test(t){return xc(t,".ktx")},async load(t,e,r){const n=await(await se.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=$B(t,n),l=s??o,c={mipmap:ei.OFF,alphaMode:Mr.NO_PREMULTIPLIED_ALPHA,resolution:Ki(t),...e.data},h=l.map(f=>{l===o&&Object.assign(c,{type:f.type,format:f.format});const u=new ve(f,c);return u.ktxKeyValueData=a,gc(u,r,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ue.add(YB);const qB={extension:ie.ResolveParser,test:t=>{const r=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:t=>{var i,n;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((i=se.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((n=se.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:t.split(".").pop(),src:t}}};ue.add(qB);const KB=new Pe,ZB=4,yf=class{constructor(t){this.renderer=t}async image(t,e,r){const i=new Image;return i.src=await this.base64(t,e,r),i}async base64(t,e,r){const i=this.canvas(t);if(i.toDataURL!==void 0)return i.toDataURL(e,r);if(i.convertToBlob!==void 0){const n=await i.convertToBlob({type:e,quality:r});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(n)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:i,height:n,flipY:s}=this._rawPixels(t,e);let o=new Kp(i,n,1);const a=o.context.getImageData(0,0,i,n);if(yf.arrayPostDivide(r,a.data),o.context.putImageData(a,0,0),s){const l=new Kp(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-n),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:r}=this._rawPixels(t,e);return yf.arrayPostDivide(r,r),r}_rawPixels(t,e){const r=this.renderer;let i,n=!1,s,o=!1;if(t)if(t instanceof Ji)s=t;else{const f=r.context.webGLVersion>=2?r.multisample:tt.NONE;if(s=this.renderer.generateTexture(t,{multisample:f}),f!==tt.NONE){const u=Ji.create({width:s.width,height:s.height});r.framebuffer.bind(s.framebuffer),r.framebuffer.blit(u.framebuffer),r.framebuffer.bind(null),s.destroy(!0),s=u}o=!0}s?(i=s.baseTexture.resolution,e=e??s.frame,n=!1,r.renderTexture.bind(s)):(i=r.resolution,e||(e=KB,e.width=r.width,e.height=r.height),n=!0,r.renderTexture.bind(null));const a=Math.round(e.width*i),l=Math.round(e.height*i),c=new Uint8Array(ZB*a*l),h=r.gl;return h.readPixels(Math.round(e.x*i),Math.round(e.y*i),a,l,h.RGBA,h.UNSIGNED_BYTE,c),o&&s.destroy(!0),{pixels:c,width:a,height:l,flipY:n}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let r=0;r<t.length;r+=4){const i=e[r+3]=t[r+3];i!==0?(e[r]=Math.round(Math.min(t[r]*255/i,255)),e[r+1]=Math.round(Math.min(t[r+1]*255/i,255)),e[r+2]=Math.round(Math.min(t[r+2]*255/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}}};let av=yf;av.extension={name:"extract",type:ie.RendererSystem};ue.add(av);const Ll={build(t){const e=t.points;let r,i,n,s,o,a;if(t.type===Et.CIRC){const p=t.shape;r=p.x,i=p.y,o=a=p.radius,n=s=0}else if(t.type===Et.ELIP){const p=t.shape;r=p.x,i=p.y,o=p.width,a=p.height,n=s=0}else{const p=t.shape,m=p.width/2,x=p.height/2;r=p.x+m,i=p.y+x,o=a=Math.max(0,Math.min(p.radius,Math.min(m,x))),n=m-o,s=x-a}if(!(o>=0&&a>=0&&n>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),c=l*8+(n?4:0)+(s?4:0);if(e.length=c,c===0)return;if(l===0){e.length=8,e[0]=e[6]=r+n,e[1]=e[3]=i+s,e[2]=e[4]=r-n,e[5]=e[7]=i-s;return}let h=0,f=l*4+(n?2:0)+2,u=f,d=c;{const p=n+o,m=s,x=r+p,y=r-p,_=i+m;if(e[h++]=x,e[h++]=_,e[--f]=_,e[--f]=y,s){const g=i-m;e[u++]=y,e[u++]=g,e[--d]=g,e[--d]=x}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),x=n+Math.cos(m)*o,y=s+Math.sin(m)*a,_=r+x,g=r-x,v=i+y,b=i-y;e[h++]=_,e[h++]=v,e[--f]=v,e[--f]=g,e[u++]=g,e[u++]=b,e[--d]=b,e[--d]=_}{const p=n,m=s+a,x=r+p,y=r-p,_=i+m,g=i-m;e[h++]=x,e[h++]=_,e[--d]=g,e[--d]=x,n&&(e[h++]=y,e[h++]=_,e[--d]=g,e[--d]=y)}},triangulate(t,e){const r=t.points,i=e.points,n=e.indices;if(r.length===0)return;let s=i.length/2;const o=s;let a,l;if(t.type!==Et.RREC){const h=t.shape;a=h.x,l=h.y}else{const h=t.shape;a=h.x+h.width/2,l=h.y+h.height/2}const c=t.matrix;i.push(t.matrix?c.a*a+c.c*l+c.tx:a,t.matrix?c.b*a+c.d*l+c.ty:l),s++,i.push(r[0],r[1]);for(let h=2;h<r.length;h+=2)i.push(r[h],r[h+1]),n.push(s++,o,s);n.push(o+1,o,s)}};function bm(t,e=!1){const r=t.length;if(r<6)return;let i=0;for(let n=0,s=t[r-2],o=t[r-1];n<r;n+=2){const a=t[n],l=t[n+1];i+=(a-s)*(l+o),s=a,o=l}if(!e&&i>0||e&&i<=0){const n=r/2;for(let s=n+n%2;s<r;s+=2){const o=r-s-2,a=r-s-1,l=s,c=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[c]]=[t[c],t[a]]}}}const lv={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const i=t.holes,n=e.points,s=e.indices;if(r.length>=6){bm(r,!1);const o=[];for(let c=0;c<i.length;c++){const h=i[c];bm(h.points,!0),o.push(r.length/2),r=r.concat(h.points)}const a=ES(r,o,2);if(!a)return;const l=n.length/2;for(let c=0;c<a.length;c+=3)s.push(a[c]+l),s.push(a[c+1]+l),s.push(a[c+2]+l);for(let c=0;c<r.length;c++)n.push(r[c])}}},QB={build(t){const e=t.shape,r=e.x,i=e.y,n=e.width,s=e.height,o=t.points;o.length=0,n>=0&&s>=0&&o.push(r,i,r+n,i,r+n,i+s,r,i+s)},triangulate(t,e){const r=t.points,i=e.points;if(r.length===0)return;const n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},JB={build(t){Ll.build(t)},triangulate(t,e){Ll.triangulate(t,e)}};var Sr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Sr||{}),Tn=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Tn||{});const zs={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class Em{static curveTo(e,r,i,n,s,o){const a=o[o.length-2],c=o[o.length-1]-r,h=a-e,f=n-r,u=i-e,d=Math.abs(c*u-h*f);if(d<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const p=c*c+h*h,m=f*f+u*u,x=c*f+h*u,y=s*Math.sqrt(p)/d,_=s*Math.sqrt(m)/d,g=y*x/p,v=_*x/m,b=y*u+_*h,E=y*f+_*c,S=h*(_+g),C=c*(_+g),R=u*(y+v),A=f*(y+v),P=Math.atan2(C-E,S-b),I=Math.atan2(A-E,R-b);return{cx:b+e,cy:E+r,radius:s,startAngle:P,endAngle:I,anticlockwise:h*f>u*c}}static arc(e,r,i,n,s,o,a,l,c){const h=a-o,f=zs._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/Fl)*40),u=h/(f*2),d=u*2,p=Math.cos(u),m=Math.sin(u),x=f-1,y=x%1/x;for(let _=0;_<=x;++_){const g=_+y*_,v=u+o+d*g,b=Math.cos(v),E=-Math.sin(v);c.push((p*b+m*E)*s+i,(p*-E+m*b)*s+n)}}}class eR{constructor(){this.reset()}begin(e,r,i){this.reset(),this.style=e,this.start=r,this.attribStart=i}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Gd{static curveLength(e,r,i,n,s,o,a,l){let h=0,f=0,u=0,d=0,p=0,m=0,x=0,y=0,_=0,g=0,v=0,b=e,E=r;for(let S=1;S<=10;++S)f=S/10,u=f*f,d=u*f,p=1-f,m=p*p,x=m*p,y=x*e+3*m*f*i+3*p*u*s+d*a,_=x*r+3*m*f*n+3*p*u*o+d*l,g=b-y,v=E-_,b=y,E=_,h+=Math.sqrt(g*g+v*v);return h}static curveTo(e,r,i,n,s,o,a){const l=a[a.length-2],c=a[a.length-1];a.length-=2;const h=zs._segmentsCount(Gd.curveLength(l,c,e,r,i,n,s,o));let f=0,u=0,d=0,p=0,m=0;a.push(l,c);for(let x=1,y=0;x<=h;++x)y=x/h,f=1-y,u=f*f,d=u*f,p=y*y,m=p*y,a.push(d*l+3*u*y*e+3*f*p*i+m*s,d*c+3*u*y*r+3*f*p*n+m*o)}}function Sm(t,e,r,i,n,s,o,a){const l=t-r*n,c=e-i*n,h=t+r*s,f=e+i*s;let u,d;o?(u=i,d=-r):(u=-i,d=r);const p=l+u,m=c+d,x=h+u,y=f+d;return a.push(p,m,x,y),2}function hn(t,e,r,i,n,s,o,a){const l=r-t,c=i-e;let h=Math.atan2(l,c),f=Math.atan2(n-t,s-e);a&&h<f?h+=Math.PI*2:!a&&h>f&&(f+=Math.PI*2);let u=h;const d=f-h,p=Math.abs(d),m=Math.sqrt(l*l+c*c),x=(15*p*Math.sqrt(m)/Math.PI>>0)+1,y=d/x;if(u+=y,a){o.push(t,e,r,i);for(let _=1,g=u;_<x;_++,g+=y)o.push(t,e,t+Math.sin(g)*m,e+Math.cos(g)*m);o.push(t,e,n,s)}else{o.push(r,i,t,e);for(let _=1,g=u;_<x;_++,g+=y)o.push(t+Math.sin(g)*m,e+Math.cos(g)*m,t,e);o.push(n,s,t,e)}return x*2}function tR(t,e){const r=t.shape;let i=t.points||r.points.slice();const n=e.closePointEps;if(i.length===0)return;const s=t.lineStyle,o=new Fe(i[0],i[1]),a=new Fe(i[i.length-2],i[i.length-1]),l=r.type!==Et.POLY||r.closeStroke,c=Math.abs(o.x-a.x)<n&&Math.abs(o.y-a.y)<n;if(l){i=i.slice(),c&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));const L=(o.x+a.x)*.5,Y=(a.y+o.y)*.5;i.unshift(L,Y),i.push(L,Y)}const h=e.points,f=i.length/2;let u=i.length;const d=h.length/2,p=s.width/2,m=p*p,x=s.miterLimit*s.miterLimit;let y=i[0],_=i[1],g=i[2],v=i[3],b=0,E=0,S=-(_-v),C=y-g,R=0,A=0,P=Math.sqrt(S*S+C*C);S/=P,C/=P,S*=p,C*=p;const I=s.alignment,D=(1-I)*2,F=I*2;l||(s.cap===Tn.ROUND?u+=hn(y-S*(D-F)*.5,_-C*(D-F)*.5,y-S*D,_-C*D,y+S*F,_+C*F,h,!0)+2:s.cap===Tn.SQUARE&&(u+=Sm(y,_,S,C,D,F,!0,h))),h.push(y-S*D,_-C*D,y+S*F,_+C*F);for(let L=1;L<f-1;++L){y=i[(L-1)*2],_=i[(L-1)*2+1],g=i[L*2],v=i[L*2+1],b=i[(L+1)*2],E=i[(L+1)*2+1],S=-(_-v),C=y-g,P=Math.sqrt(S*S+C*C),S/=P,C/=P,S*=p,C*=p,R=-(v-E),A=g-b,P=Math.sqrt(R*R+A*A),R/=P,A/=P,R*=p,A*=p;const Y=g-y,ne=_-v,z=g-b,M=E-v,k=Y*z+ne*M,H=ne*z-M*Y,U=H<0;if(Math.abs(H)<.001*Math.abs(k)){h.push(g-S*D,v-C*D,g+S*F,v+C*F),k>=0&&(s.join===Sr.ROUND?u+=hn(g,v,g-S*D,v-C*D,g-R*D,v-A*D,h,!1)+4:u+=2,h.push(g-R*F,v-A*F,g+R*D,v+A*D));continue}const fe=(-S+y)*(-C+v)-(-S+g)*(-C+_),oe=(-R+b)*(-A+v)-(-R+g)*(-A+E),N=(Y*oe-z*fe)/H,$=(M*fe-ne*oe)/H,K=(N-g)*(N-g)+($-v)*($-v),J=g+(N-g)*D,le=v+($-v)*D,xe=g-(N-g)*F,T=v-($-v)*F,B=Math.min(Y*Y+ne*ne,z*z+M*M),O=U?D:F,j=B+O*O*m,W=K<=j;let q=s.join;if(q===Sr.MITER&&K/m>x&&(q=Sr.BEVEL),W)switch(q){case Sr.MITER:{h.push(J,le,xe,T);break}case Sr.BEVEL:{U?h.push(J,le,g+S*F,v+C*F,J,le,g+R*F,v+A*F):h.push(g-S*D,v-C*D,xe,T,g-R*D,v-A*D,xe,T),u+=2;break}case Sr.ROUND:{U?(h.push(J,le,g+S*F,v+C*F),u+=hn(g,v,g+S*F,v+C*F,g+R*F,v+A*F,h,!0)+4,h.push(J,le,g+R*F,v+A*F)):(h.push(g-S*D,v-C*D,xe,T),u+=hn(g,v,g-S*D,v-C*D,g-R*D,v-A*D,h,!1)+4,h.push(g-R*D,v-A*D,xe,T));break}}else{switch(h.push(g-S*D,v-C*D,g+S*F,v+C*F),q){case Sr.MITER:{U?h.push(xe,T,xe,T):h.push(J,le,J,le),u+=2;break}case Sr.ROUND:{U?u+=hn(g,v,g+S*F,v+C*F,g+R*F,v+A*F,h,!0)+2:u+=hn(g,v,g-S*D,v-C*D,g-R*D,v-A*D,h,!1)+2;break}}h.push(g-R*D,v-A*D,g+R*F,v+A*F),u+=2}}y=i[(f-2)*2],_=i[(f-2)*2+1],g=i[(f-1)*2],v=i[(f-1)*2+1],S=-(_-v),C=y-g,P=Math.sqrt(S*S+C*C),S/=P,C/=P,S*=p,C*=p,h.push(g-S*D,v-C*D,g+S*F,v+C*F),l||(s.cap===Tn.ROUND?u+=hn(g-S*(D-F)*.5,v-C*(D-F)*.5,g-S*D,v-C*D,g+S*F,v+C*F,h,!1)+2:s.cap===Tn.SQUARE&&(u+=Sm(g,v,S,C,D,F,!1,h)));const G=e.indices,V=zs.epsilon*zs.epsilon;for(let L=d;L<u+d-2;++L)y=h[L*2],_=h[L*2+1],g=h[(L+1)*2],v=h[(L+1)*2+1],b=h[(L+2)*2],E=h[(L+2)*2+1],!(Math.abs(y*(v-E)+g*(E-_)+b*(_-v))<V)&&G.push(L,L+1,L+2)}function rR(t,e){let r=0;const i=t.shape,n=t.points||i.points,s=i.type!==Et.POLY||i.closeStroke;if(n.length===0)return;const o=e.points,a=e.indices,l=n.length/2,c=o.length/2;let h=c;for(o.push(n[0],n[1]),r=1;r<l;r++)o.push(n[r*2],n[r*2+1]),a.push(h,h+1),h++;s&&a.push(h,c)}function Cm(t,e){t.lineStyle.native?rR(t,e):tR(t,e)}class $d{static curveLength(e,r,i,n,s,o){const a=e-2*i+s,l=r-2*n+o,c=2*i-2*e,h=2*n-2*r,f=4*(a*a+l*l),u=4*(a*c+l*h),d=c*c+h*h,p=2*Math.sqrt(f+u+d),m=Math.sqrt(f),x=2*f*m,y=2*Math.sqrt(d),_=u/m;return(x*p+m*u*(p-y)+(4*d*f-u*u)*Math.log((2*m+_+p)/(_+y)))/(4*x)}static curveTo(e,r,i,n,s){const o=s[s.length-2],a=s[s.length-1],l=zs._segmentsCount($d.curveLength(o,a,e,r,i,n));let c=0,h=0;for(let f=1;f<=l;++f){const u=f/l;c=o+(e-o)*u,h=a+(r-a)*u,s.push(c+(e+(i-e)*u-c)*u,h+(r+(n-r)*u-h)*u)}}}const bh={[Et.POLY]:lv,[Et.CIRC]:Ll,[Et.ELIP]:Ll,[Et.RECT]:QB,[Et.RREC]:JB},Tm=[],Ka=[];class Ul{constructor(e,r=null,i=null,n=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=i,this.fillStyle=r,this.matrix=n,this.type=e.type}clone(){return new Ul(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const is=new Fe,cv=class extends d_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Ml,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Ka.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),Tm.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,i=null){const n=new Ul(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new Ul(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const i=e[r];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(t,is):is.copyFrom(t),i.shape.contains(is.x,is.y))){let n=!1;if(i.holes){for(let s=0;s<i.holes.length;s++)if(i.holes[s].shape.contains(is.x,is.y)){n=!0;break}}if(!n)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,i=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],i=r.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],c=l.fillStyle,h=l.lineStyle;bh[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(c.visible||h.visible)&&this.processHoles(l.holes);for(let u=0;u<2;u++){const d=u===0?c:h;if(!d.visible)continue;const p=d.texture.baseTexture,m=this.indices.length,x=this.points.length/2;p.wrapMode=Vi.REPEAT,u===0?this.processFill(l):this.processLine(l);const y=this.points.length/2-x;y!==0&&(r&&!this._compareStyles(i,d)&&(r.end(m,x),r=null),r||(r=Tm.pop()||new eR,r.begin(d,m,x),this.batches.push(r),i=d),this.addUvs(this.points,t,d.texture,x,y,d.matrix))}}const n=this.indices.length,s=this.points.length/2;if(r&&r.end(n,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid||n&&!n.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const i=t[e];for(let n=0;n<i.size;n++){const s=i.start+n;this.indicesUint16[s]=this.indicesUint16[s]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<cv.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++ve._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),Ka.push(this.drawCalls[h]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let i=Ka.pop();i||(i=new af,i.texArray=new cf),i.texArray.count=0,i.start=0,i.size=0,i.type=jr.TRIANGLES;let n=0,s=null,o=0,a=!1,l=jr.TRIANGLES,c=0;this.drawCalls.push(i);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],u=8,d=f.style,p=d.texture.baseTexture;a!==!!d.native&&(a=!!d.native,l=a?jr.LINES:jr.TRIANGLES,s=null,n=u,t++),s!==p&&(s=p,p._batchEnabled!==t&&(n===u&&(t++,n=0,i.size>0&&(i=Ka.pop(),i||(i=new af,i.texArray=new cf),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=n,p.wrapMode=Vi.REPEAT,i.texArray.elements[i.texArray.count++]=p,n++)),i.size+=f.size,c+=f.size,o=p._batchLocation,this.addColors(e,d.color,d.alpha,f.attribSize,f.attribStart),this.addTextureIds(r,o,f.attribSize,f.attribStart)}ve._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(t.length*3*4),s=new Float32Array(n),o=new Uint32Array(n);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=r[l],s[a++]=i[l];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?lv.triangulate(t,this):bh[t.type].triangulate(t,this)}processLine(t){Cm(t,this);for(let e=0;e<t.holes.length;e++)Cm(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];bh[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const i=t[r*2],n=t[r*2+1];t[r*2]=e.a*i+e.c*n+e.tx,t[r*2+1]=e.b*i+e.d*n+e.ty}}addColors(t,e,r,i,n=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=Od(s,r);t.length=Math.max(t.length,n+i);for(let a=0;a<i;a++)t[n+a]=o}addTextureIds(t,e,r,i=0){t.length=Math.max(t.length,i+r);for(let n=0;n<r;n++)t[i+n]=e}addUvs(t,e,r,i,n,s=null){let o=0;const a=e.length,l=r.frame;for(;o<n;){let h=t[(i+o)*2],f=t[(i+o)*2+1];if(s){const u=s.a*h+s.c*f+s.tx;f=s.b*h+s.d*f+s.ty,h=u}o++,e.push(h/l.width,f/l.height)}const c=r.baseTexture;(l.width<c.width||l.height<c.height)&&this.adjustUvs(e,r,a,n)}adjustUvs(t,e,r,i){const n=e.baseTexture,s=1e-6,o=r+i*2,a=e.frame,l=a.width/n.width,c=a.height/n.height;let h=a.x/a.width,f=a.y/a.height,u=Math.floor(t[r]+s),d=Math.floor(t[r+1]+s);for(let p=r+2;p<o;p+=2)u=Math.min(u,Math.floor(t[p]+s)),d=Math.min(d,Math.floor(t[p+1]+s));h-=u,f-=d;for(let p=r;p<o;p+=2)t[p]=(t[p]+h)*l,t[p+1]=(t[p+1]+f)*c}};let hv=cv;hv.BATCHABLE_SIZE=100;class _c{constructor(){this.color=16777215,this.alpha=1,this.texture=ce.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new _c;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ce.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Wd extends _c{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Tn.BUTT,this.join=Sr.MITER,this.miterLimit=10}clone(){const e=new Wd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const iR=new Float32Array(3),Eh={},hl=class extends Ue{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new _c,this._lineStyle=new Wd,this._matrix=null,this._holeMode=!1,this.state=Ei.for2d(),this._geometry=t||new hv,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=_e.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new hl(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r=1,i=.5,n=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:i,native:n}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:ce.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Tn.BUTT,join:Sr.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new As,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new As,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return(i!==t||n!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,i){this._initCurve();const n=this.currentPath.points;return n.length===0&&this.moveTo(0,0),$d.curveTo(t,e,r,i,n),this}bezierCurveTo(t,e,r,i,n,s){return this._initCurve(),Gd.curveTo(t,e,r,i,n,s,this.currentPath.points),this}arcTo(t,e,r,i,n){this._initCurve(t,e);const s=this.currentPath.points,o=Em.curveTo(t,e,r,i,n,s);if(o){const{cx:a,cy:l,radius:c,startAngle:h,endAngle:f,anticlockwise:u}=o;this.arc(a,l,c,h,f,u)}return this}arc(t,e,r,i,n,s=!1){if(i===n)return this;if(!s&&n<=i?n+=Fl:s&&i<=n&&(i+=Fl),n-i===0)return this;const a=t+Math.cos(i)*r,l=e+Math.sin(i)*r,c=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const f=Math.abs(h[h.length-2]-a),u=Math.abs(h[h.length-1]-l);f<c&&u<c||h.push(a,l)}else this.moveTo(a,l),h=this.currentPath.points;return Em.arc(a,l,t,e,r,i,n,s,h),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:ce.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:ce.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,i){return this.drawShape(new Pe(t,e,r,i))}drawRoundedRect(t,e,r,i,n){return this.drawShape(new Ld(t,e,r,i,n))}drawCircle(t,e,r){return this.drawShape(new kd(t,e,r))}drawEllipse(t,e,r,i){return this.drawShape(new Nd(t,e,r,i))}drawPolygon(...t){let e,r=!0;const i=t[0];i.points?(r=i.closeStroke,e=i.points):Array.isArray(t[0])?e=t[0]:e=t;const n=new As(e);return n.closeStroke=r,this.drawShape(n),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Et.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let i=0;i<r;i++){const n=t.batches[i],s=n.style.color,o=new Float32Array(this.vertexData.buffer,n.attribStart*4*2,n.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,n.attribStart*4*2,n.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,n.start*2,n.size),c={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:Zo(s),_tintRGB:s,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=c}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,i=this.tint,n=this.worldAlpha,s=e.uniforms,o=r.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(i>>16&255)/255*n,s.tint[1]=(i>>8&255)/255*n,s.tint[2]=(i&255)/255*n,s.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,r.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:r,type:i,size:n,start:s}=e,o=r.count;for(let a=0;a<o;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!Eh[r]){const{maxTextures:i}=t.plugins[r],n=new Int32Array(i);for(let a=0;a<i;a++)n[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ye,default:Ir.from({uSamplers:n},!0)},o=t.plugins[r]._shader.program;Eh[r]=new Kr(o,s)}e=Eh[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:i,maxY:n}=t.bounds;this._bounds.addFrame(this.transform,e,r,i,n)}containsPoint(t){return this.worldTransform.applyInverse(t,hl._TEMP_POINT),this._geometry.containsPoint(hl._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=Zo(this.tint,iR);for(let e=0;e<this.batches.length;e++){const r=this.batches[e],i=r._batchRGB,n=t[0]*i[0]*255,s=t[1]*i[1]*255,o=t[2]*i[2]*255,a=(n<<16)+(s<<8)+(o|0);r._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,c=this.vertexData;let h=0;for(let f=0;f<l.length;f+=2){const u=l[f],d=l[f+1];c[h++]=r*u+n*d+o,c[h++]=s*d+i*u+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Yn=hl;Yn.curves=zs;Yn._TEMP_POINT=new Fe;class nR{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Sh=new Fe,Am=new As,uv=class extends Ue{constructor(t,e,r,i=jr.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||Ei.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=se.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===jr.TRIANGLES&&e.length<uv.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,i=e._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,l=n.d,c=n.tx,h=n.ty,f=this.vertexData;for(let u=0;u<f.length/2;u++){const d=r[u*2],p=r[u*2+1];f[u*2]=s*d+a*p+c,f[u*2+1]=o*d+l*p+h}if(this._roundPixels){const u=se.RESOLUTION;for(let d=0;d<f.length;++d)f[d]=Math.round(f[d]*u)/u}this.vertexDirty=i}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new nR(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Sh);const e=this.geometry.getBuffer("aVertexPosition").data,r=Am.points,i=this.geometry.getIndex().data,n=i.length,s=this.drawMode===4?3:1;for(let o=0;o+2<n;o+=s){const a=i[o]*2,l=i[o+1]*2,c=i[o+2]*2;if(r[0]=e[a],r[1]=e[a+1],r[2]=e[l],r[3]=e[l+1],r[4]=e[c],r[5]=e[c+1],Am.contains(Sh.x,Sh.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let bf=uv;bf.BATCHABLE_SIZE=100;class sR extends Zi{constructor(e,r,i){super();const n=new ut(e),s=new ut(r,!0),o=new ut(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,me.FLOAT).addAttribute("aTextureCoord",s,2,!1,me.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var oR=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,aR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class wm extends Kr{constructor(e,r){const i={uSampler:e,alpha:1,uTextureMatrix:Ye.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(i,r.uniforms),super(r.program||Pr.from(aR,oR),i),this._colorDirty=!1,this.uvMatrix=new D_(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this.tint=r.tint,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;l_(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class Pm{constructor(e,r,i){this.geometry=new Zi,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<e.length;++n){let s=e[n];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||me.FLOAT,offset:s.offset},r[n]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new ut(q4(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new ut(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=n,n+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new ut(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===me.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===me.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,i){for(let n=0;n<this.dynamicProperties.length;n++){const s=this.dynamicProperties[n];s.uploadFunction(e,r,i,s.type===me.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,i){for(let n=0;n<this.staticProperties.length;n++){const s=this.staticProperties[n];s.uploadFunction(e,r,i,s.type===me.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var lR=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,cR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class fv extends mc{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ye,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:me.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Kr.from(cR,lR,{}),this.state=Ei.for2d()}render(e){const r=e.children,i=e._maxSize,n=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>i&&!e.autoResize&&(o=i);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,c=l.alphaMode>0;this.state.blendMode=a_(e.blendMode,c),s.state.set(this.state);const h=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=Y4(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let u=!1;for(let d=0,p=0;d<o;d+=n,p+=1){let m=o-d;m>n&&(m=n),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const x=a[p];x.uploadDynamic(r,d,m);const y=e._bufferUpdateIDs[p]||0;u=u||x._updateID<y,u&&(x._updateID=e._updateID,x.uploadStatic(r,d,m)),s.geometry.bind(x.geometry),h.drawElements(h.TRIANGLES,m*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],i=e._maxSize,n=e._batchSize,s=e._properties;for(let o=0;o<i;o+=n)r.push(new Pm(this.properties,s,n));return r}_generateOneMoreBuffer(e){const r=e._batchSize,i=e._properties;return new Pm(this.properties,i,r)}uploadVertices(e,r,i,n,s,o){let a=0,l=0,c=0,h=0;for(let f=0;f<i;++f){const u=e[r+f],d=u._texture,p=u.scale.x,m=u.scale.y,x=d.trim,y=d.orig;x?(l=x.x-u.anchor.x*y.width,a=l+x.width,h=x.y-u.anchor.y*y.height,c=h+x.height):(a=y.width*(1-u.anchor.x),l=y.width*-u.anchor.x,c=y.height*(1-u.anchor.y),h=y.height*-u.anchor.y),n[o]=l*p,n[o+1]=h*m,n[o+s]=a*p,n[o+s+1]=h*m,n[o+s*2]=a*p,n[o+s*2+1]=c*m,n[o+s*3]=l*p,n[o+s*3+1]=c*m,o+=s*4}}uploadPosition(e,r,i,n,s,o){for(let a=0;a<i;a++){const l=e[r+a].position;n[o]=l.x,n[o+1]=l.y,n[o+s]=l.x,n[o+s+1]=l.y,n[o+s*2]=l.x,n[o+s*2+1]=l.y,n[o+s*3]=l.x,n[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,r,i,n,s,o){for(let a=0;a<i;a++){const l=e[r+a].rotation;n[o]=l,n[o+s]=l,n[o+s*2]=l,n[o+s*3]=l,o+=s*4}}uploadUvs(e,r,i,n,s,o){for(let a=0;a<i;++a){const l=e[r+a]._texture._uvs;l?(n[o]=l.x0,n[o+1]=l.y0,n[o+s]=l.x1,n[o+s+1]=l.y1,n[o+s*2]=l.x2,n[o+s*2+1]=l.y2,n[o+s*3]=l.x3,n[o+s*3+1]=l.y3,o+=s*4):(n[o]=0,n[o+1]=0,n[o+s]=0,n[o+s+1]=0,n[o+s*2]=0,n[o+s*2+1]=0,n[o+s*3]=0,n[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,i,n,s,o){for(let a=0;a<i;++a){const l=e[r+a],c=l._texture.baseTexture.alphaMode>0,h=l.alpha,f=h<1&&c?Od(l._tintRGB,h):l._tintRGB+(h*255<<24);n[o]=f,n[o+s]=f,n[o+s*2]=f,n[o+s*3]=f,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}fv.extension={name:"particle",type:ie.RendererPlugin};ue.add(fv);var vc=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(vc||{});const Za={willReadFrequently:!0},ae=class{static get experimentalLetterSpacingSupported(){let t=ae._experimentalLetterSpacingSupported;if(t!==void 0){const e=se.ADAPTER.getCanvasRenderingContext2D().prototype;t=ae._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,i,n,s,o,a,l){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,r,i=ae._canvas){r=r??e.wordWrap;const n=e.toFontString(),s=ae.measureFont(n);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=i.getContext("2d",Za);o.font=n;const l=(r?ae.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let h=0;for(let p=0;p<l.length;p++){const m=ae._measureText(l[p],e.letterSpacing,o);c[p]=m,h=Math.max(h,m)}let f=h+e.strokeThickness;e.dropShadow&&(f+=e.dropShadowDistance);const u=e.lineHeight||s.fontSize+e.strokeThickness;let d=Math.max(u,s.fontSize+e.strokeThickness*2)+(l.length-1)*(u+e.leading);return e.dropShadow&&(d+=e.dropShadowDistance),new ae(t,e,f,d,l,c,u+e.leading,h,s)}static _measureText(t,e,r){let i=!1;ae.experimentalLetterSpacingSupported&&(ae.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let n=r.measureText(t).width;return n>0&&(i?n-=e:n+=(ae.graphemeSegmenter(t).length-1)*e),n}static wordWrap(t,e,r=ae._canvas){const i=r.getContext("2d",Za);let n=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:c}=e,h=ae.collapseSpaces(c),f=ae.collapseNewlines(c);let u=!h;const d=e.wordWrapWidth+l,p=ae.tokenize(t);for(let m=0;m<p.length;m++){let x=p[m];if(ae.isNewline(x)){if(!f){o+=ae.addLine(s),u=!h,s="",n=0;continue}x=" "}if(h){const _=ae.isBreakingSpace(x),g=ae.isBreakingSpace(s[s.length-1]);if(_&&g)continue}const y=ae.getFromCache(x,l,a,i);if(y>d)if(s!==""&&(o+=ae.addLine(s),s="",n=0),ae.canBreakWords(x,e.breakWords)){const _=ae.wordWrapSplit(x);for(let g=0;g<_.length;g++){let v=_[g],b=v,E=1;for(;_[g+E];){const C=_[g+E];if(!ae.canBreakChars(b,C,x,g,e.breakWords))v+=C;else break;b=C,E++}g+=E-1;const S=ae.getFromCache(v,l,a,i);S+n>d&&(o+=ae.addLine(s),u=!1,s="",n=0),s+=v,n+=S}}else{s.length>0&&(o+=ae.addLine(s),s="",n=0);const _=m===p.length-1;o+=ae.addLine(x,!_),u=!1,s="",n=0}else y+n>d&&(u=!1,o+=ae.addLine(s),s="",n=0),(s.length>0||!ae.isBreakingSpace(x)||u)&&(s+=x,n+=y)}return o+=ae.addLine(s,!1),o}static addLine(t,e=!0){return t=ae.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,i){let n=r[t];return typeof n!="number"&&(n=ae._measureText(t,e,i)+e,r[t]=n),n}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!ae.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:ae._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:ae._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let i=0;i<t.length;i++){const n=t[i],s=t[i+1];if(ae.isBreakingSpace(n,s)||ae.isNewline(n)){r!==""&&(e.push(r),r=""),e.push(n);continue}r+=n}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,i,n){return!0}static wordWrapSplit(t){return ae.graphemeSegmenter(t)}static measureFont(t){if(ae._fonts[t])return ae._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=ae._canvas,i=ae._context;i.font=t;const n=ae.METRICS_STRING+ae.BASELINE_SYMBOL,s=Math.ceil(i.measureText(n).width);let o=Math.ceil(i.measureText(ae.BASELINE_SYMBOL).width);const a=Math.ceil(ae.HEIGHT_MULTIPLIER*o);if(o=o*ae.BASELINE_MULTIPLIER|0,s===0||a===0)return ae._fonts[t]=e,e;r.width=s,r.height=a,i.fillStyle="#f00",i.fillRect(0,0,s,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,o);const l=i.getImageData(0,0,s,a).data,c=l.length,h=s*4;let f=0,u=0,d=!1;for(f=0;f<o;++f){for(let p=0;p<h;p+=4)if(l[u+p]!==255){d=!0;break}if(!d)u+=h;else break}for(e.ascent=o-f,u=c-h,d=!1,f=a;f>o;--f){for(let p=0;p<h;p+=4)if(l[u+p]!==255){d=!0;break}if(!d)u-=h;else break}return e.descent=f-o,e.fontSize=e.ascent+e.descent,ae._fonts[t]=e,e}static clearMetrics(t=""){t?delete ae._fonts[t]:ae._fonts={}}static get _canvas(){if(!ae.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",Za);if(r!=null&&r.measureText)return ae.__canvas=e,e;t=se.ADAPTER.createCanvas()}catch{t=se.ADAPTER.createCanvas()}t.width=t.height=10,ae.__canvas=t}return ae.__canvas}static get _context(){return ae.__context||(ae.__context=ae._canvas.getContext("2d",Za)),ae.__context}};let yt=ae;yt.METRICS_STRING="|q";yt.BASELINE_SYMBOL="M";yt.BASELINE_MULTIPLIER=1.4;yt.HEIGHT_MULTIPLIER=2;yt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();yt.experimentalLetterSpacing=!1;yt._fonts={};yt._newlines=[10,13];yt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const hR=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],bo=class{constructor(t){this.styleID=0,this.reset(),Th(this,t,t)}clone(){const t={};return Th(t,this,bo.defaultStyle),new bo(t)}reset(){Th(this,bo.defaultStyle,bo.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=Ch(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=Ch(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){uR(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=Ch(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!hR.includes(i)&&(i=`"${i}"`),e[r]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Hn=bo;Hn.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:vc.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function Bm(t){return typeof t=="number"?s_(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function Ch(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=Bm(t[e]);return t}else return Bm(t)}function uR(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Th(t,e,r){for(const i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}const fR={texture:!0,children:!1,baseTexture:!0},Ef=class extends pt{constructor(t,e,r){let i=!1;r||(r=se.ADAPTER.createCanvas(),i=!0),r.width=3,r.height=3;const n=ce.from(r);n.orig=new Pe,n.trim=new Pe,super(n),this._ownCanvas=i,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=Ef.defaultResolution??se.RESOLUTION,this._autoResolution=Ef.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return yt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Me("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),yt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,i=yt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),n=i.width,s=i.height,o=i.lines,a=i.lineHeight,l=i.lineWidths,c=i.maxLineWidth,h=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,n)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let f,u;const d=e.dropShadow?2:1;for(let p=0;p<d;++p){const m=e.dropShadow&&p===0,x=m?Math.ceil(Math.max(1,s)+e.padding*2):0,y=x*this._resolution;if(m){r.fillStyle="black",r.strokeStyle="black";const g=e.dropShadowColor,v=Zo(typeof g=="number"?g:Md(g)),b=e.dropShadowBlur*this._resolution,E=e.dropShadowDistance*this._resolution;r.shadowColor=`rgba(${v[0]*255},${v[1]*255},${v[2]*255},${e.dropShadowAlpha})`,r.shadowBlur=b,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*E,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*E+y}else r.fillStyle=this._generateFillStyle(e,o,i),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let _=(a-h.fontSize)/2;a-h.fontSize<0&&(_=0);for(let g=0;g<o.length;g++)f=e.strokeThickness/2,u=e.strokeThickness/2+g*a+h.ascent+_,e.align==="right"?f+=c-l[g]:e.align==="center"&&(f+=(c-l[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[g],f+e.padding,u+e.padding-x,!0),e.fill&&this.drawLetterSpacing(o[g],f+e.padding,u+e.padding-x)}this.updateTexture()}drawLetterSpacing(t,e,r,i=!1){const s=this._style.letterSpacing;let o=!1;if(yt.experimentalLetterSpacingSupported&&(yt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let a=e;const l=yt.graphemeSegmenter(t);let c=this.context.measureText(t).width,h=0;for(let f=0;f<l.length;++f){const u=l[f];i?this.context.strokeText(u,a,r):this.context.fillText(u,a,r);let d="";for(let p=f+1;p<l.length;++p)d+=l[p];h=this.context.measureText(d).width,a+=c-h+s,c=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=J4(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,i=r.trim?0:r.padding,n=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),n.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const i=t.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let n;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,c=i.slice(),h=t.fillGradientStops.slice();if(!h.length){const f=c.length+1;for(let u=1;u<f;++u)h.push(u/f)}if(c.unshift(i[0]),h.unshift(0),c.push(i[i.length-1]),h.push(1),t.fillGradientType===vc.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,o,a/2,l+o);const f=r.fontProperties.fontSize+t.strokeThickness;for(let u=0;u<e.length;u++){const d=r.lineHeight*(u-1)+f,p=r.lineHeight*u;let m=p;u>0&&d>p&&(m=(p+d)/2);const x=p+f,y=r.lineHeight*(u+1);let _=x;u+1<e.length&&y<x&&(_=(x+y)/2);const g=(_-m)/l;for(let v=0;v<c.length;v++){let b=0;typeof h[v]=="number"?b=h[v]:b=v/c.length;let E=Math.min(1,Math.max(0,m/l+b*g));E=Number(E.toFixed(5)),n.addColorStop(E,c[v])}}}else{n=this.context.createLinearGradient(o,l/2,a+o,l/2);const f=c.length+1;let u=1;for(let d=0;d<c.length;d++){let p;typeof h[d]=="number"?p=h[d]:p=u/f,n.addColorStop(p,c[d]),u++}}return n}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},fR,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=ps(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=ps(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Hn?this._style=t:this._style=new Hn(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let yc=Ef;yc.defaultAutoResolution=!0;class dR{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function pR(t,e){var i;let r=!1;if((i=t==null?void 0:t._textures)!=null&&i.length){for(let n=0;n<t._textures.length;n++)if(t._textures[n]instanceof ce){const s=t._textures[n].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function mR(t,e){if(t.baseTexture instanceof ve){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function xR(t,e){if(t._texture&&t._texture instanceof ce){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function gR(t,e){return e instanceof yc?(e.updateText(!0),!0):!1}function _R(t,e){if(e instanceof Hn){const r=e.toFontString();return yt.measureFont(r),!0}return!1}function vR(t,e){if(t instanceof yc){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function yR(t,e){return t instanceof Hn?(e.includes(t)||e.push(t),!0):!1}const dv=class{constructor(t){this.limiter=new dR(dv.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(vR),this.registerFindHook(yR),this.registerFindHook(pR),this.registerFindHook(mR),this.registerFindHook(xR),this.registerUploadHook(gR),this.registerUploadHook(_R)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,Ut.system.addOnce(this.tick,this,Ls.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Ut.system.addOnce(this.tick,this,Ls.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof Ue)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&Ut.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let zl=dv;zl.uploadsPerFrame=4;Object.defineProperties(se,{UPLOADS_PER_FRAME:{get(){return zl.uploadsPerFrame},set(t){Me("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),zl.uploadsPerFrame=t}}});function pv(t,e){return e instanceof ve?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function bR(t,e){if(!(e instanceof Yn))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:i}=r;for(let n=0;n<i.length;n++){const{texture:s}=i[n].style;s&&pv(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function ER(t,e){return t instanceof Yn?(e.push(t),!0):!1}class mv extends zl{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(ER),this.registerUploadHook(pv),this.registerUploadHook(bR)}}mv.extension={name:"prepare",type:ie.RendererSystem};ue.add(mv);var SR=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,CR=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,TR=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Rm=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,AR=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Qa=new Ye;class xv extends mc{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new w_,this.state=Ei.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Kr.from(Rm,AR,r),this.shader=e.context.webGLVersion>1?Kr.from(CR,SR,r):Kr.from(Rm,TR,r)}render(e){const r=this.renderer,i=this.quad;let n=i.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;n=i.uvs,n[0]=n[6]=-s,n[1]=n[3]=-o,n[2]=n[4]=1-s,n[5]=n[7]=1-o,i.invalidate();const a=e._texture,l=a.baseTexture,c=l.alphaMode>0,h=e.tileTransform.localTransform,f=e.uvMatrix;let u=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;u&&(l._glTextures[r.CONTEXT_UID]?u=l.wrapMode!==Vi.CLAMP:l.wrapMode===Vi.CLAMP&&(l.wrapMode=Vi.REPEAT));const d=u?this.simpleShader:this.shader,p=a.width,m=a.height,x=e._width,y=e._height;Qa.set(h.a*p/x,h.b*p/y,h.c*m/x,h.d*m/y,h.tx/x,h.ty/y),Qa.invert(),u?Qa.prepend(f.mapCoord):(d.uniforms.uMapCoord=f.mapCoord.toArray(!0),d.uniforms.uClampFrame=f.uClampFrame,d.uniforms.uClampOffset=f.uClampOffset),d.uniforms.uTransform=Qa.toArray(!0),d.uniforms.uColor=l_(e.tint,e.worldAlpha,d.uniforms.uColor,c),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=a,r.shader.bind(d),r.geometry.bind(i),this.state.blendMode=a_(e.blendMode,c),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}xv.extension={name:"tilingSprite",type:ie.RendererPlugin};ue.add(xv);const Eo=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof ce?t:null,this.baseTexture=t instanceof ve?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=Ki(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Eo.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=Eo.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const i=this._frameKeys[e],n=this._frames[i],s=n.frame;if(s){let o=null,a=null;const l=n.trimmed!==!1&&n.sourceSize?n.sourceSize:n.frame,c=new Pe(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);n.rotated?o=new Pe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Pe(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),n.trimmed!==!1&&n.spriteSourceSize&&(a=new Pe(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new ce(this.baseTexture,o,c,a,n.rotated?2:0,n.anchor),ce.addToCache(this.textures[i],i)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const i=t[e][r];this.animations[e].push(this.textures[i])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Eo.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Eo.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let An=Eo;An.BATCH_SIZE=1e3;const wR=["jpg","png","jpeg","avif","webp"];function gv(t,e,r){const i={};if(t.forEach(n=>{i[n]=e}),Object.keys(e.textures).forEach(n=>{i[n]=e.textures[n]}),!r){const n=Ct.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=gv([`${n}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(i,a)})}return i}const PR={extension:ie.Asset,cache:{test:t=>t instanceof An,getCacheableAssets:(t,e)=>gv(t,e,!1)},resolver:{test:t=>{const r=t.split("?")[0].split("."),i=r.pop(),n=r.pop();return i==="json"&&wR.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=se.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:ie.LoadParser,priority:ni.Normal},async testParse(t,e){return Ct.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,h;let i=Ct.dirname(e.src);i&&i.lastIndexOf("/")!==i.length-1&&(i+="/");let n=i+t.meta.image;n=_f(n,e.src);const o=(await r.load([n]))[n],a=new An(o.baseTexture,t,e.src);await a.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const f=[];for(const d of l){if(typeof d!="string")continue;let p=i+d;(h=e.data)!=null&&h.ignoreMultiPack||(p=_f(p,e.src),f.push(r.load({src:p,data:{ignoreMultiPack:!0}})))}const u=await Promise.all(f);a.linkedSheets=u,u.forEach(d=>{d.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==d))})}return a},unload(t){t.destroy(!0)}}};ue.add(PR);class Hl{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class ul{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const c in a){const h=a[c].split("="),f=h[0],u=h[1].replace(/"/gm,""),d=parseFloat(u),p=isNaN(d)?u:d;l[f]=p}i[o].push(l)}const n=new Hl;return i.info.forEach(s=>n.info.push({face:s.face,size:parseInt(s.size,10)})),i.common.forEach(s=>n.common.push({lineHeight:parseInt(s.lineHeight,10)})),i.page.forEach(s=>n.page.push({id:parseInt(s.id,10),file:s.file})),i.char.forEach(s=>n.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),i.kerning.forEach(s=>n.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),i.distanceField.forEach(s=>n.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),n}}class Sf{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Hl,i=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let c=0;c<i.length;c++)r.info.push({face:i[c].getAttribute("face"),size:parseInt(i[c].getAttribute("size"),10)});for(let c=0;c<n.length;c++)r.common.push({lineHeight:parseInt(n[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const h=o[c];r.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)r.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<l.length;c++)r.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return r}}class Cf{static test(e){return typeof e=="string"&&e.includes("<font>")?Sf.test(se.ADAPTER.parseXML(e)):!1}static parse(e){return Sf.parse(se.ADAPTER.parseXML(e))}}const Ah=[ul,Sf,Cf];function BR(t){for(let e=0;e<Ah.length;e++)if(Ah[e].test(t))return Ah[e];return null}function RR(t,e,r,i,n,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,h=t.width/i-l-c*2,f=t.height/i-l-c*2,u=o.slice(),d=r.fillGradientStops.slice();if(!d.length){const p=u.length+1;for(let m=1;m<p;++m)d.push(m/p)}if(u.unshift(o[0]),d.unshift(0),u.push(o[o.length-1]),d.push(1),r.fillGradientType===vc.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,c,h/2,f+c);let p=0;const x=(s.fontProperties.fontSize+r.strokeThickness)/f;for(let y=0;y<n.length;y++){const _=s.lineHeight*y;for(let g=0;g<u.length;g++){let v=0;typeof d[g]=="number"?v=d[g]:v=g/u.length;const b=_/f+v*x;let E=Math.max(p,b);E=Math.min(E,1),a.addColorStop(E,u[g]),p=E}}}else{a=e.createLinearGradient(c,f/2,h+c,f/2);const p=u.length+1;let m=1;for(let x=0;x<u.length;x++){let y;typeof d[x]=="number"?y=d[x]:y=m/p,a.addColorStop(y,u[x]),m++}}return a}function DR(t,e,r,i,n,s,o){const a=r.text,l=r.fontProperties;e.translate(i,n),e.scale(s,s);const c=o.strokeThickness/2,h=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=RR(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,u=Zo(typeof f=="number"?f:Md(f)),d=o.dropShadowBlur*s,p=o.dropShadowDistance*s;e.shadowColor=`rgba(${u[0]*255},${u[1]*255},${u[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,c,h+r.lineHeight-l.descent),o.fill&&e.fillText(a,c,h+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function fl(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function _v(t){return Array.from?Array.from(t):t.split("")}function IR(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,i=t.length;r<i;r++){const n=t[r];if(Array.isArray(n)){if(n.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const s=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(..._v(n))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Er=class{constructor(t,e,r){var c;const[i]=t.info,[n]=t.common,[s]=t.page,[o]=t.distanceField,a=Ki(s.file),l={};this._ownsTextures=r,this.font=i.face,this.size=i.size,this.lineHeight=n.lineHeight/a,this.chars={},this.pageTextures=l;for(let h=0;h<t.page.length;h++){const{id:f,file:u}=t.page[h];l[f]=e instanceof Array?e[h]:e[u],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[f].baseTexture.alphaMode=Mr.NO_PREMULTIPLIED_ALPHA,l[f].baseTexture.mipmap=ei.OFF)}for(let h=0;h<t.char.length;h++){const{id:f,page:u}=t.char[h];let{x:d,y:p,width:m,height:x,xoffset:y,yoffset:_,xadvance:g}=t.char[h];d/=a,p/=a,m/=a,x/=a,y/=a,_/=a,g/=a;const v=new Pe(d+l[u].frame.x/a,p+l[u].frame.y/a,m,x);this.chars[f]={xOffset:y,yOffset:_,xAdvance:g,kerning:{},texture:new ce(l[u].baseTexture,v),page:u}}for(let h=0;h<t.kerning.length;h++){let{first:f,second:u,amount:d}=t.kerning[h];f/=a,u/=a,d/=a,this.chars[u]&&(this.chars[u].kerning[f]=d)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((c=o==null?void 0:o.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let i;if(t instanceof Hl)i=t;else{const s=BR(t);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(t)}e instanceof ce&&(e=[e]);const n=new Er(i,e,r);return Er.available[n.font]=n,n}static uninstall(t){const e=Er.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Er.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:n,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},Er.defaultOptions,r),c=IR(i),h=e instanceof Hn?e:new Hn(e),f=o,u=new Hl;u.info[0]={face:h.fontFamily,size:h.fontSize},u.common[0]={lineHeight:h.fontSize};let d=0,p=0,m,x,y,_=0;const g=[];for(let b=0;b<c.length;b++){m||(m=se.ADAPTER.createCanvas(),m.width=o,m.height=a,x=m.getContext("2d"),y=new ve(m,{resolution:s,...l}),g.push(new ce(y)),u.page.push({id:g.length-1,file:""}));const E=c[b],S=yt.measureText(E,h,!1,m),C=S.width,R=Math.ceil(S.height),A=Math.ceil((h.fontStyle==="italic"?2:1)*C);if(p>=a-R*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${E}')`);--b,m=null,x=null,y=null,p=0,d=0,_=0;continue}if(_=Math.max(R+S.fontProperties.descent,_),A*s+d>=f){if(d===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${E}')`);--b,p+=_*s,p=Math.ceil(p),d=0,_=0;continue}DR(m,x,S,d,p,s,h);const P=fl(S.text);u.char.push({id:P,page:g.length-1,x:d/s,y:p/s,width:A,height:R,xoffset:0,yoffset:0,xadvance:C-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),d+=(A+2*n)*s,d=Math.ceil(d)}for(let b=0,E=c.length;b<E;b++){const S=c[b];for(let C=0;C<E;C++){const R=c[C],A=x.measureText(S).width,P=x.measureText(R).width,D=x.measureText(S+R).width-(A+P);D&&u.kerning.push({first:fl(S),second:fl(R),amount:D})}}const v=new Er(u,g,!0);return Er.available[t]!==void 0&&Er.uninstall(t),Er.available[t]=v,v}};let Lt=Er;Lt.ALPHA=[["a","z"],["A","Z"]," "];Lt.NUMERIC=[["0","9"]];Lt.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Lt.ASCII=[[" ","~"]];Lt.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Er.ALPHANUMERIC};Lt.available={};var FR=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,MR=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Dm=[],Im=[],Fm=[],vv=class extends Ue{constructor(t,e={}){super(),this._tint=16777215;const{align:r,tint:i,maxWidth:n,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},vv.styleDefaults,e);if(!Lt.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tint=i,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=n,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Li(()=>{this.dirty=!0},this,0,0),this._roundPixels=se.ROUND_PIXELS,this.dirty=!0,this._resolution=se.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var A;const t=Lt.available[this._fontName],e=this.fontSize,r=e/t.size,i=new Fe,n=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=_v(a),c=this._maxWidth*t.size/e,h=t.distanceFieldType==="none"?Dm:Im;let f=null,u=0,d=0,p=0,m=-1,x=0,y=0,_=0,g=0;for(let P=0;P<l.length;P++){const I=l[P],D=fl(I);if(/(?:\s)/.test(I)&&(m=P,x=u,g++),I==="\r"||I===`
`){s.push(u),o.push(-1),d=Math.max(d,u),++p,++y,i.x=0,i.y+=t.lineHeight,f=null,g=0;continue}const F=t.chars[D];if(!F)continue;f&&F.kerning[f]&&(i.x+=F.kerning[f]);const G=Fm.pop()||{texture:ce.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Fe};G.texture=F.texture,G.line=p,G.charCode=D,G.position.x=Math.round(i.x+F.xOffset+this._letterSpacing/2),G.position.y=Math.round(i.y+F.yOffset),G.prevSpaces=g,n.push(G),u=G.position.x+Math.max(F.xAdvance-F.xOffset,F.texture.orig.width),i.x+=F.xAdvance+this._letterSpacing,_=Math.max(_,F.yOffset+F.texture.height),f=D,m!==-1&&c>0&&i.x>c&&(++y,Ts(n,1+m-y,1+P-m),P=m,m=-1,s.push(x),o.push(n.length>0?n[n.length-1].prevSpaces:0),d=Math.max(d,x),p++,i.x=0,i.y+=t.lineHeight,f=null,g=0)}const v=l[l.length-1];v!=="\r"&&v!==`
`&&(/(?:\s)/.test(v)&&(u=x),s.push(u),d=Math.max(d,u),o.push(-1));const b=[];for(let P=0;P<=p;P++){let I=0;this._align==="right"?I=d-s[P]:this._align==="center"?I=(d-s[P])/2:this._align==="justify"&&(I=o[P]<0?0:(d-s[P])/o[P]),b.push(I)}const E=n.length,S={},C=[],R=this._activePagesMeshData;h.push(...R);for(let P=0;P<E;P++){const I=n[P].texture,D=I.baseTexture.uid;if(!S[D]){let F=h.pop();if(!F){const V=new sR;let L,Y;t.distanceFieldType==="none"?(L=new wm(ce.EMPTY),Y=_e.NORMAL):(L=new wm(ce.EMPTY,{program:Pr.from(MR,FR),uniforms:{uFWidth:0}}),Y=_e.NORMAL_NPM);const ne=new bf(V,L);ne.blendMode=Y,F={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:ne,vertices:null,uvs:null,indices:null}}F.index=0,F.indexCount=0,F.vertexCount=0,F.uvsCount=0,F.total=0;const{_textureCache:G}=this;G[D]=G[D]||new ce(I.baseTexture),F.mesh.texture=G[D],F.mesh.tint=this._tint,C.push(F),S[D]=F}S[D].total++}for(let P=0;P<R.length;P++)C.includes(R[P])||this.removeChild(R[P].mesh);for(let P=0;P<C.length;P++)C[P].mesh.parent!==this&&this.addChild(C[P].mesh);this._activePagesMeshData=C;for(const P in S){const I=S[P],D=I.total;if(!(((A=I.indices)==null?void 0:A.length)>6*D)||I.vertices.length<bf.BATCHABLE_SIZE*2)I.vertices=new Float32Array(4*2*D),I.uvs=new Float32Array(4*2*D),I.indices=new Uint16Array(6*D);else{const F=I.total,G=I.vertices;for(let V=F*4*2;V<G.length;V++)G[V]=0}I.mesh.size=6*D}for(let P=0;P<E;P++){const I=n[P];let D=I.position.x+b[I.line]*(this._align==="justify"?I.prevSpaces:1);this._roundPixels&&(D=Math.round(D));const F=D*r,G=I.position.y*r,V=I.texture,L=S[V.baseTexture.uid],Y=V.frame,ne=V._uvs,z=L.index++;L.indices[z*6+0]=0+z*4,L.indices[z*6+1]=1+z*4,L.indices[z*6+2]=2+z*4,L.indices[z*6+3]=0+z*4,L.indices[z*6+4]=2+z*4,L.indices[z*6+5]=3+z*4,L.vertices[z*8+0]=F,L.vertices[z*8+1]=G,L.vertices[z*8+2]=F+Y.width*r,L.vertices[z*8+3]=G,L.vertices[z*8+4]=F+Y.width*r,L.vertices[z*8+5]=G+Y.height*r,L.vertices[z*8+6]=F,L.vertices[z*8+7]=G+Y.height*r,L.uvs[z*8+0]=ne.x0,L.uvs[z*8+1]=ne.y0,L.uvs[z*8+2]=ne.x1,L.uvs[z*8+3]=ne.y1,L.uvs[z*8+4]=ne.x2,L.uvs[z*8+5]=ne.y2,L.uvs[z*8+6]=ne.x3,L.uvs[z*8+7]=ne.y3}this._textWidth=d*r,this._textHeight=(i.y+t.lineHeight)*r;for(const P in S){const I=S[P];if(this.anchor.x!==0||this.anchor.y!==0){let V=0;const L=this._textWidth*this.anchor.x,Y=this._textHeight*this.anchor.y;for(let ne=0;ne<I.total;ne++)I.vertices[V++]-=L,I.vertices[V++]-=Y,I.vertices[V++]-=L,I.vertices[V++]-=Y,I.vertices[V++]-=L,I.vertices[V++]-=Y,I.vertices[V++]-=L,I.vertices[V++]-=Y}this._maxLineHeight=_*r;const D=I.mesh.geometry.getBuffer("aVertexPosition"),F=I.mesh.geometry.getBuffer("aTextureCoord"),G=I.mesh.geometry.getIndex();D.data=I.vertices,F.data=I.uvs,G.data=I.indices,D.update(),F.update(),G.update()}for(let P=0;P<n.length;P++)Fm.push(n[P]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:i}=Lt.available[this._fontName];if(r!=="none"){const{a:n,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(n*n+s*s),c=Math.sqrt(o*o+a*a),h=(Math.abs(l)+Math.abs(c))/2,f=this.fontSize/i,u=t._view.resolution;for(const d of this._activePagesMeshData)d.mesh.shader.uniforms.uFWidth=h*e*f*u}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Lt.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Lt.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Lt.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,i=Lt.available[this._fontName].distanceFieldType==="none"?Dm:Im;i.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],i.filter(n=>e[n.mesh.texture.baseTexture.uid]).forEach(n=>{n.mesh.texture=ce.EMPTY});for(const n in e)e[n].destroy(),delete e[n];this._font=null,this._textureCache=null,super.destroy(t)}};let OR=vv;OR.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const kR=[".xml",".fnt"],NR={extension:{type:ie.LoadParser,priority:ni.Normal},test(t){return kR.includes(Ct.extname(t).toLowerCase())},async testParse(t){return ul.test(t)||Cf.test(t)},async parse(t,e,r){const i=ul.test(t)?ul.parse(t):Cf.parse(t),{src:n}=e,{page:s}=i,o=[];for(let c=0;c<s.length;++c){const h=s[c].file;let f=Ct.join(Ct.dirname(n),h);f=_f(f,n),o.push(f)}const a=await r.load(o),l=o.map(c=>a[c]);return Lt.install(i,l,!0)},async load(t,e){return(await se.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ue.add(NR);const Cn=class Cn{constructor(){pe(this,"mRscObject");Cn.handle=this,this.mRscObject={}}static get getHandle(){return Cn.handle?Cn.handle:new Cn}get getRscList(){return this.mRscObject}async loadRsc(e,r){var s,o;const i=(o=(s=gi.getHandle.getScene)==null?void 0:s.info)==null?void 0:o.name,n=r||i;if(!this.mRscObject[`${n}/${e}`]){Xr.add(`${n}/${e}`,e);try{this.mRscObject[`${n}/${e}`]=await Xr.load(`/rsc/${r}/img/${e}`)}catch(a){console.error(a)}}}async loadAllRsc(e){var i,n;const r=(n=(i=gi.getHandle.getScene)==null?void 0:i.info)==null?void 0:n.name;for(const s of e.img)await this.loadRsc(s,r)}async loadCommonRsc(e){for(const r of e.img)await this.loadRsc(r,"common")}getRsc(e,r){var s,o;const n=`${r?"common":(o=(s=gi.getHandle.getScene)==null?void 0:s.info)==null?void 0:o.name}/${e}`;return this.mRscObject[n]?this.mRscObject[n]:(console.error(`[${n}]  .`),null)}};pe(Cn,"handle");let zt=Cn;var LR=typeof global=="object"&&global&&global.Object===Object&&global;const yv=LR;var UR=typeof self=="object"&&self&&self.Object===Object&&self,zR=yv||UR||Function("return this")();const si=zR;var HR=si.Symbol;const ti=HR;var bv=Object.prototype,GR=bv.hasOwnProperty,$R=bv.toString,mo=ti?ti.toStringTag:void 0;function WR(t){var e=GR.call(t,mo),r=t[mo];try{t[mo]=void 0;var i=!0}catch{}var n=$R.call(t);return i&&(e?t[mo]=r:delete t[mo]),n}var VR=Object.prototype,jR=VR.toString;function XR(t){return jR.call(t)}var YR="[object Null]",qR="[object Undefined]",Mm=ti?ti.toStringTag:void 0;function io(t){return t==null?t===void 0?qR:YR:Mm&&Mm in Object(t)?WR(t):XR(t)}function Hs(t){return t!=null&&typeof t=="object"}var KR="[object Symbol]";function bc(t){return typeof t=="symbol"||Hs(t)&&io(t)==KR}function Vd(t,e){for(var r=-1,i=t==null?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}var ZR=Array.isArray;const nr=ZR;var QR=1/0,Om=ti?ti.prototype:void 0,km=Om?Om.toString:void 0;function Ev(t){if(typeof t=="string")return t;if(nr(t))return Vd(t,Ev)+"";if(bc(t))return km?km.call(t):"";var e=t+"";return e=="0"&&1/t==-QR?"-0":e}var JR=/\s/;function eD(t){for(var e=t.length;e--&&JR.test(t.charAt(e)););return e}var tD=/^\s+/;function rD(t){return t&&t.slice(0,eD(t)+1).replace(tD,"")}function Gs(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Nm=0/0,iD=/^[-+]0x[0-9a-f]+$/i,nD=/^0b[01]+$/i,sD=/^0o[0-7]+$/i,oD=parseInt;function Tf(t){if(typeof t=="number")return t;if(bc(t))return Nm;if(Gs(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Gs(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=rD(t);var r=nD.test(t);return r||sD.test(t)?oD(t.slice(2),r?2:8):iD.test(t)?Nm:+t}var Lm=1/0,aD=17976931348623157e292;function lD(t){if(!t)return t===0?t:0;if(t=Tf(t),t===Lm||t===-Lm){var e=t<0?-1:1;return e*aD}return t===t?t:0}function cD(t){var e=lD(t),r=e%1;return e===e?r?e-r:e:0}function hD(t){return t}var uD="[object AsyncFunction]",fD="[object Function]",dD="[object GeneratorFunction]",pD="[object Proxy]";function Sv(t){if(!Gs(t))return!1;var e=io(t);return e==fD||e==dD||e==uD||e==pD}var mD=si["__core-js_shared__"];const wh=mD;var Um=function(){var t=/[^.]+$/.exec(wh&&wh.keys&&wh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function xD(t){return!!Um&&Um in t}var gD=Function.prototype,_D=gD.toString;function qn(t){if(t!=null){try{return _D.call(t)}catch{}try{return t+""}catch{}}return""}var vD=/[\\^$.*+?()[\]{}|]/g,yD=/^\[object .+?Constructor\]$/,bD=Function.prototype,ED=Object.prototype,SD=bD.toString,CD=ED.hasOwnProperty,TD=RegExp("^"+SD.call(CD).replace(vD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function AD(t){if(!Gs(t)||xD(t))return!1;var e=Sv(t)?TD:yD;return e.test(qn(t))}function wD(t,e){return t==null?void 0:t[e]}function no(t,e){var r=wD(t,e);return AD(r)?r:void 0}var PD=no(si,"WeakMap");const Af=PD;function BD(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}function RD(t,e,r,i){for(var n=t.length,s=r+(i?1:-1);i?s--:++s<n;)if(e(t[s],s,t))return s;return-1}var DD=9007199254740991,ID=/^(?:0|[1-9]\d*)$/;function Cv(t,e){var r=typeof t;return e=e??DD,!!e&&(r=="number"||r!="symbol"&&ID.test(t))&&t>-1&&t%1==0&&t<e}function Tv(t,e){return t===e||t!==t&&e!==e}var FD=9007199254740991;function jd(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=FD}function Ec(t){return t!=null&&jd(t.length)&&!Sv(t)}var MD=Object.prototype;function OD(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||MD;return t===r}function kD(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}var ND="[object Arguments]";function zm(t){return Hs(t)&&io(t)==ND}var Av=Object.prototype,LD=Av.hasOwnProperty,UD=Av.propertyIsEnumerable,zD=zm(function(){return arguments}())?zm:function(t){return Hs(t)&&LD.call(t,"callee")&&!UD.call(t,"callee")};const Xd=zD;function HD(){return!1}var wv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Hm=wv&&typeof module=="object"&&module&&!module.nodeType&&module,GD=Hm&&Hm.exports===wv,Gm=GD?si.Buffer:void 0,$D=Gm?Gm.isBuffer:void 0,WD=$D||HD;const wf=WD;var VD="[object Arguments]",jD="[object Array]",XD="[object Boolean]",YD="[object Date]",qD="[object Error]",KD="[object Function]",ZD="[object Map]",QD="[object Number]",JD="[object Object]",eI="[object RegExp]",tI="[object Set]",rI="[object String]",iI="[object WeakMap]",nI="[object ArrayBuffer]",sI="[object DataView]",oI="[object Float32Array]",aI="[object Float64Array]",lI="[object Int8Array]",cI="[object Int16Array]",hI="[object Int32Array]",uI="[object Uint8Array]",fI="[object Uint8ClampedArray]",dI="[object Uint16Array]",pI="[object Uint32Array]",Ve={};Ve[oI]=Ve[aI]=Ve[lI]=Ve[cI]=Ve[hI]=Ve[uI]=Ve[fI]=Ve[dI]=Ve[pI]=!0;Ve[VD]=Ve[jD]=Ve[nI]=Ve[XD]=Ve[sI]=Ve[YD]=Ve[qD]=Ve[KD]=Ve[ZD]=Ve[QD]=Ve[JD]=Ve[eI]=Ve[tI]=Ve[rI]=Ve[iI]=!1;function mI(t){return Hs(t)&&jd(t.length)&&!!Ve[io(t)]}function xI(t){return function(e){return t(e)}}var Pv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Oo=Pv&&typeof module=="object"&&module&&!module.nodeType&&module,gI=Oo&&Oo.exports===Pv,Ph=gI&&yv.process,_I=function(){try{var t=Oo&&Oo.require&&Oo.require("util").types;return t||Ph&&Ph.binding&&Ph.binding("util")}catch{}}();const $m=_I;var Wm=$m&&$m.isTypedArray,vI=Wm?xI(Wm):mI;const Bv=vI;var yI=Object.prototype,bI=yI.hasOwnProperty;function EI(t,e){var r=nr(t),i=!r&&Xd(t),n=!r&&!i&&wf(t),s=!r&&!i&&!n&&Bv(t),o=r||i||n||s,a=o?kD(t.length,String):[],l=a.length;for(var c in t)(e||bI.call(t,c))&&!(o&&(c=="length"||n&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Cv(c,l)))&&a.push(c);return a}function SI(t,e){return function(r){return t(e(r))}}var CI=SI(Object.keys,Object);const TI=CI;var AI=Object.prototype,wI=AI.hasOwnProperty;function PI(t){if(!OD(t))return TI(t);var e=[];for(var r in Object(t))wI.call(t,r)&&r!="constructor"&&e.push(r);return e}function ya(t){return Ec(t)?EI(t):PI(t)}var BI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,RI=/^\w*$/;function Yd(t,e){if(nr(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||bc(t)?!0:RI.test(t)||!BI.test(t)||e!=null&&t in Object(e)}var DI=no(Object,"create");const ta=DI;function II(){this.__data__=ta?ta(null):{},this.size=0}function FI(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var MI="__lodash_hash_undefined__",OI=Object.prototype,kI=OI.hasOwnProperty;function NI(t){var e=this.__data__;if(ta){var r=e[t];return r===MI?void 0:r}return kI.call(e,t)?e[t]:void 0}var LI=Object.prototype,UI=LI.hasOwnProperty;function zI(t){var e=this.__data__;return ta?e[t]!==void 0:UI.call(e,t)}var HI="__lodash_hash_undefined__";function GI(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ta&&e===void 0?HI:e,this}function Gn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Gn.prototype.clear=II;Gn.prototype.delete=FI;Gn.prototype.get=NI;Gn.prototype.has=zI;Gn.prototype.set=GI;function $I(){this.__data__=[],this.size=0}function Sc(t,e){for(var r=t.length;r--;)if(Tv(t[r][0],e))return r;return-1}var WI=Array.prototype,VI=WI.splice;function jI(t){var e=this.__data__,r=Sc(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():VI.call(e,r,1),--this.size,!0}function XI(t){var e=this.__data__,r=Sc(e,t);return r<0?void 0:e[r][1]}function YI(t){return Sc(this.__data__,t)>-1}function qI(t,e){var r=this.__data__,i=Sc(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}function Si(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Si.prototype.clear=$I;Si.prototype.delete=jI;Si.prototype.get=XI;Si.prototype.has=YI;Si.prototype.set=qI;var KI=no(si,"Map");const ra=KI;function ZI(){this.size=0,this.__data__={hash:new Gn,map:new(ra||Si),string:new Gn}}function QI(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Cc(t,e){var r=t.__data__;return QI(e)?r[typeof e=="string"?"string":"hash"]:r.map}function JI(t){var e=Cc(this,t).delete(t);return this.size-=e?1:0,e}function e8(t){return Cc(this,t).get(t)}function t8(t){return Cc(this,t).has(t)}function r8(t,e){var r=Cc(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}function Ci(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Ci.prototype.clear=ZI;Ci.prototype.delete=JI;Ci.prototype.get=e8;Ci.prototype.has=t8;Ci.prototype.set=r8;var i8="Expected a function";function qd(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(i8);var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],s=r.cache;if(s.has(n))return s.get(n);var o=t.apply(this,i);return r.cache=s.set(n,o)||s,o};return r.cache=new(qd.Cache||Ci),r}qd.Cache=Ci;var n8=500;function s8(t){var e=qd(t,function(i){return r.size===n8&&r.clear(),i}),r=e.cache;return e}var o8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a8=/\\(\\)?/g,l8=s8(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(o8,function(r,i,n,s){e.push(n?s.replace(a8,"$1"):i||r)}),e});const c8=l8;function h8(t){return t==null?"":Ev(t)}function Rv(t,e){return nr(t)?t:Yd(t,e)?[t]:c8(h8(t))}var u8=1/0;function Tc(t){if(typeof t=="string"||bc(t))return t;var e=t+"";return e=="0"&&1/t==-u8?"-0":e}function Dv(t,e){e=Rv(e,t);for(var r=0,i=e.length;t!=null&&r<i;)t=t[Tc(e[r++])];return r&&r==i?t:void 0}function f8(t,e,r){var i=t==null?void 0:Dv(t,e);return i===void 0?r:i}function Iv(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}var Vm=ti?ti.isConcatSpreadable:void 0;function d8(t){return nr(t)||Xd(t)||!!(Vm&&t&&t[Vm])}function Fv(t,e,r,i,n){var s=-1,o=t.length;for(r||(r=d8),n||(n=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?Fv(a,e-1,r,i,n):Iv(n,a):i||(n[n.length]=a)}return n}function p8(t){var e=t==null?0:t.length;return e?Fv(t,1):[]}function m8(){this.__data__=new Si,this.size=0}function x8(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function g8(t){return this.__data__.get(t)}function _8(t){return this.__data__.has(t)}var v8=200;function y8(t,e){var r=this.__data__;if(r instanceof Si){var i=r.__data__;if(!ra||i.length<v8-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ci(i)}return r.set(t,e),this.size=r.size,this}function xi(t){var e=this.__data__=new Si(t);this.size=e.size}xi.prototype.clear=m8;xi.prototype.delete=x8;xi.prototype.get=g8;xi.prototype.has=_8;xi.prototype.set=y8;function Mv(t,e){for(var r=-1,i=t==null?0:t.length,n=0,s=[];++r<i;){var o=t[r];e(o,r,t)&&(s[n++]=o)}return s}function b8(){return[]}var E8=Object.prototype,S8=E8.propertyIsEnumerable,jm=Object.getOwnPropertySymbols,C8=jm?function(t){return t==null?[]:(t=Object(t),Mv(jm(t),function(e){return S8.call(t,e)}))}:b8;const T8=C8;function A8(t,e,r){var i=e(t);return nr(t)?i:Iv(i,r(t))}function Xm(t){return A8(t,ya,T8)}var w8=no(si,"DataView");const Pf=w8;var P8=no(si,"Promise");const Bf=P8;var B8=no(si,"Set");const Rf=B8;var Ym="[object Map]",R8="[object Object]",qm="[object Promise]",Km="[object Set]",Zm="[object WeakMap]",Qm="[object DataView]",D8=qn(Pf),I8=qn(ra),F8=qn(Bf),M8=qn(Rf),O8=qn(Af),vn=io;(Pf&&vn(new Pf(new ArrayBuffer(1)))!=Qm||ra&&vn(new ra)!=Ym||Bf&&vn(Bf.resolve())!=qm||Rf&&vn(new Rf)!=Km||Af&&vn(new Af)!=Zm)&&(vn=function(t){var e=io(t),r=e==R8?t.constructor:void 0,i=r?qn(r):"";if(i)switch(i){case D8:return Qm;case I8:return Ym;case F8:return qm;case M8:return Km;case O8:return Zm}return e});const Jm=vn;var k8=si.Uint8Array;const ex=k8;var N8="__lodash_hash_undefined__";function L8(t){return this.__data__.set(t,N8),this}function U8(t){return this.__data__.has(t)}function Gl(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Ci;++e<r;)this.add(t[e])}Gl.prototype.add=Gl.prototype.push=L8;Gl.prototype.has=U8;function z8(t,e){for(var r=-1,i=t==null?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}function H8(t,e){return t.has(e)}var G8=1,$8=2;function Ov(t,e,r,i,n,s){var o=r&G8,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,u=!0,d=r&$8?new Gl:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var p=t[f],m=e[f];if(i)var x=o?i(m,p,f,e,t,s):i(p,m,f,t,e,s);if(x!==void 0){if(x)continue;u=!1;break}if(d){if(!z8(e,function(y,_){if(!H8(d,_)&&(p===y||n(p,y,r,i,s)))return d.push(_)})){u=!1;break}}else if(!(p===m||n(p,m,r,i,s))){u=!1;break}}return s.delete(t),s.delete(e),u}function W8(t){var e=-1,r=Array(t.size);return t.forEach(function(i,n){r[++e]=[n,i]}),r}function V8(t){var e=-1,r=Array(t.size);return t.forEach(function(i){r[++e]=i}),r}var j8=1,X8=2,Y8="[object Boolean]",q8="[object Date]",K8="[object Error]",Z8="[object Map]",Q8="[object Number]",J8="[object RegExp]",e5="[object Set]",t5="[object String]",r5="[object Symbol]",i5="[object ArrayBuffer]",n5="[object DataView]",tx=ti?ti.prototype:void 0,Bh=tx?tx.valueOf:void 0;function s5(t,e,r,i,n,s,o){switch(r){case n5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case i5:return!(t.byteLength!=e.byteLength||!s(new ex(t),new ex(e)));case Y8:case q8:case Q8:return Tv(+t,+e);case K8:return t.name==e.name&&t.message==e.message;case J8:case t5:return t==e+"";case Z8:var a=W8;case e5:var l=i&j8;if(a||(a=V8),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;i|=X8,o.set(t,e);var h=Ov(a(t),a(e),i,n,s,o);return o.delete(t),h;case r5:if(Bh)return Bh.call(t)==Bh.call(e)}return!1}var o5=1,a5=Object.prototype,l5=a5.hasOwnProperty;function c5(t,e,r,i,n,s){var o=r&o5,a=Xm(t),l=a.length,c=Xm(e),h=c.length;if(l!=h&&!o)return!1;for(var f=l;f--;){var u=a[f];if(!(o?u in e:l5.call(e,u)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var x=o;++f<l;){u=a[f];var y=t[u],_=e[u];if(i)var g=o?i(_,y,u,e,t,s):i(y,_,u,t,e,s);if(!(g===void 0?y===_||n(y,_,r,i,s):g)){m=!1;break}x||(x=u=="constructor")}if(m&&!x){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!(typeof v=="function"&&v instanceof v&&typeof b=="function"&&b instanceof b)&&(m=!1)}return s.delete(t),s.delete(e),m}var h5=1,rx="[object Arguments]",ix="[object Array]",Ja="[object Object]",u5=Object.prototype,nx=u5.hasOwnProperty;function f5(t,e,r,i,n,s){var o=nr(t),a=nr(e),l=o?ix:Jm(t),c=a?ix:Jm(e);l=l==rx?Ja:l,c=c==rx?Ja:c;var h=l==Ja,f=c==Ja,u=l==c;if(u&&wf(t)){if(!wf(e))return!1;o=!0,h=!1}if(u&&!h)return s||(s=new xi),o||Bv(t)?Ov(t,e,r,i,n,s):s5(t,e,l,r,i,n,s);if(!(r&h5)){var d=h&&nx.call(t,"__wrapped__"),p=f&&nx.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,x=p?e.value():e;return s||(s=new xi),n(m,x,r,i,s)}}return u?(s||(s=new xi),c5(t,e,r,i,n,s)):!1}function Kd(t,e,r,i,n){return t===e?!0:t==null||e==null||!Hs(t)&&!Hs(e)?t!==t&&e!==e:f5(t,e,r,i,Kd,n)}var d5=1,p5=2;function m5(t,e,r,i){var n=r.length,s=n,o=!i;if(t==null)return!s;for(t=Object(t);n--;){var a=r[n];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++n<s;){a=r[n];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new xi;if(i)var u=i(c,h,l,t,e,f);if(!(u===void 0?Kd(h,c,d5|p5,i,f):u))return!1}}return!0}function kv(t){return t===t&&!Gs(t)}function x5(t){for(var e=ya(t),r=e.length;r--;){var i=e[r],n=t[i];e[r]=[i,n,kv(n)]}return e}function Nv(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function g5(t){var e=x5(t);return e.length==1&&e[0][2]?Nv(e[0][0],e[0][1]):function(r){return r===t||m5(r,t,e)}}function _5(t,e){return t!=null&&e in Object(t)}function v5(t,e,r){e=Rv(e,t);for(var i=-1,n=e.length,s=!1;++i<n;){var o=Tc(e[i]);if(!(s=t!=null&&r(t,o)))break;t=t[o]}return s||++i!=n?s:(n=t==null?0:t.length,!!n&&jd(n)&&Cv(o,n)&&(nr(t)||Xd(t)))}function y5(t,e){return t!=null&&v5(t,e,_5)}var b5=1,E5=2;function S5(t,e){return Yd(t)&&kv(e)?Nv(Tc(t),e):function(r){var i=f8(r,t);return i===void 0&&i===e?y5(r,t):Kd(e,i,b5|E5)}}function C5(t){return function(e){return e==null?void 0:e[t]}}function T5(t){return function(e){return Dv(e,t)}}function A5(t){return Yd(t)?C5(Tc(t)):T5(t)}function Ac(t){return typeof t=="function"?t:t==null?hD:typeof t=="object"?nr(t)?S5(t[0],t[1]):g5(t):A5(t)}function w5(t){return function(e,r,i){for(var n=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[t?a:++n];if(r(s[l],l,s)===!1)break}return e}}var P5=w5();const B5=P5;function R5(t,e){return t&&B5(t,e,ya)}function D5(t,e){return function(r,i){if(r==null)return r;if(!Ec(r))return t(r,i);for(var n=r.length,s=e?n:-1,o=Object(r);(e?s--:++s<n)&&i(o[s],s,o)!==!1;);return r}}var I5=D5(R5);const Lv=I5;var F5=function(){return si.Date.now()};const Rh=F5;var M5="Expected a function",O5=Math.max,k5=Math.min;function N5(t,e,r){var i,n,s,o,a,l,c=0,h=!1,f=!1,u=!0;if(typeof t!="function")throw new TypeError(M5);e=Tf(e)||0,Gs(r)&&(h=!!r.leading,f="maxWait"in r,s=f?O5(Tf(r.maxWait)||0,e):s,u="trailing"in r?!!r.trailing:u);function d(E){var S=i,C=n;return i=n=void 0,c=E,o=t.apply(C,S),o}function p(E){return c=E,a=setTimeout(y,e),h?d(E):o}function m(E){var S=E-l,C=E-c,R=e-S;return f?k5(R,s-C):R}function x(E){var S=E-l,C=E-c;return l===void 0||S>=e||S<0||f&&C>=s}function y(){var E=Rh();if(x(E))return _(E);a=setTimeout(y,m(E))}function _(E){return a=void 0,u&&i?d(E):(i=n=void 0,o)}function g(){a!==void 0&&clearTimeout(a),c=0,i=l=n=a=void 0}function v(){return a===void 0?o:_(Rh())}function b(){var E=Rh(),S=x(E);if(i=arguments,n=this,l=E,S){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(y,e),d(l)}return a===void 0&&(a=setTimeout(y,e)),o}return b.cancel=g,b.flush=v,b}function L5(t,e){var r=[];return Lv(t,function(i,n,s){e(i,n,s)&&r.push(i)}),r}function ko(t,e){var r=nr(t)?Mv:L5;return r(t,Ac(e))}function U5(t){return function(e,r,i){var n=Object(e);if(!Ec(e)){var s=Ac(r);e=ya(e),r=function(a){return s(n[a],a,n)}}var o=t(e,r,i);return o>-1?n[s?e[o]:o]:void 0}}var z5=Math.max;function H5(t,e,r){var i=t==null?0:t.length;if(!i)return-1;var n=r==null?0:cD(r);return n<0&&(n=z5(i+n,0)),RD(t,Ac(e),n)}var G5=U5(H5);const $5=G5;function W5(t,e){var r=-1,i=Ec(t)?Array(t.length):[];return Lv(t,function(n,s,o){i[++r]=e(n,s,o)}),i}function Uv(t,e){var r=nr(t)?Vd:W5;return r(t,Ac(e))}function V5(t,e){return Vd(e,function(r){return t[r]})}function j5(t){return t==null?[]:V5(t,ya(t))}var X5=Math.floor,Y5=Math.random;function q5(t,e){return t+X5(Y5()*(e-t+1))}function zv(t,e){var r=-1,i=t.length,n=i-1;for(e=e===void 0?i:e;++r<e;){var s=q5(r,n),o=t[s];t[s]=t[r],t[r]=o}return t.length=e,t}function K5(t){return zv(BD(t))}function Z5(t){return zv(j5(t))}function Q5(t){var e=nr(t)?K5:Z5;return e(t)}const J5={big_0:{frame:{x:0,y:0,w:115,h:117},anchor:{x:.5,y:.5}},big_1:{frame:{x:115,y:0,w:73,h:117},anchor:{x:.5,y:.5}},big_2:{frame:{x:188,y:0,w:116,h:117},anchor:{x:.5,y:.5}},big_3:{frame:{x:304,y:0,w:107,h:117},anchor:{x:.5,y:.5}},big_4:{frame:{x:411,y:0,w:116,h:117},anchor:{x:.5,y:.5}},big_5:{frame:{x:527,y:0,w:110,h:117},anchor:{x:.5,y:.5}},big_6:{frame:{x:637,y:0,w:104,h:117},anchor:{x:.5,y:.5}},big_7:{frame:{x:741,y:0,w:104,h:117},anchor:{x:.5,y:.5}},big_8:{frame:{x:845,y:0,w:109,h:117},anchor:{x:.5,y:.5}},big_9:{frame:{x:954,y:0,w:104,h:117},anchor:{x:.5,y:.5}},"big_,":{frame:{x:1058,y:0,w:61,h:75},anchor:{x:.5,y:.5}}},eF={image:"../img/big_number.png",format:"RGBA8888",size:{w:1119,h:117},scale:"1"},tF={frames:J5,meta:eF},rF={watermelon:{frame:{x:0,y:0,w:140,h:140},anchor:{x:0,y:0}},bar1:{frame:{x:140,y:0,w:140,h:140},anchor:{x:0,y:0}},bar2:{frame:{x:280,y:0,w:140,h:140},anchor:{x:0,y:0}},bar3:{frame:{x:420,y:0,w:140,h:140},anchor:{x:0,y:0}},bell:{frame:{x:560,y:0,w:140,h:140},anchor:{x:0,y:0}},cherry:{frame:{x:700,y:0,w:140,h:140},anchor:{x:0,y:0}},orange:{frame:{x:840,y:0,w:140,h:140},anchor:{x:0,y:0}},seven:{frame:{x:980,y:0,w:140,h:140},anchor:{x:0,y:0}},star:{frame:{x:1120,y:0,w:140,h:140},anchor:{x:0,y:0}},target:{frame:{x:1260,y:0,w:140,h:140},anchor:{x:0,y:0}},joker:{frame:{x:1400,y:0,w:140,h:140},anchor:{x:0,y:0}}},iF={image:"../img/icon.png",format:"RGBA8888",size:{w:1540,h:140},scale:"1"},nF={frames:rF,meta:iF},sF={0:{frame:{x:0,y:857,w:22,h:33},anchor:{x:0,y:1}},1:{frame:{x:22,y:857,w:15,h:33},anchor:{x:0,y:1}},2:{frame:{x:37,y:857,w:23,h:33},anchor:{x:0,y:1}},3:{frame:{x:60,y:857,w:22,h:33},anchor:{x:0,y:1}},4:{frame:{x:82,y:857,w:25,h:33},anchor:{x:0,y:1}},5:{frame:{x:107,y:857,w:23,h:33},anchor:{x:0,y:1}},6:{frame:{x:130,y:857,w:24,h:33},anchor:{x:0,y:1}},7:{frame:{x:154,y:857,w:22,h:33},anchor:{x:0,y:1}},8:{frame:{x:176,y:857,w:24,h:33},anchor:{x:0,y:1}},9:{frame:{x:200,y:857,w:24,h:33},anchor:{x:0,y:1}},mainframe:{frame:{x:0,y:0,w:720,h:830},anchor:{x:0,y:1}},prizeLine:{frame:{x:0,y:830,w:656,h:27},anchor:{x:0,y:.5}},",":{frame:{x:224,y:857,w:12,h:14},anchor:{x:0,y:.2}}},oF={image:"../img/main_frame.png",format:"RGBA8888",size:{w:720,h:890},scale:"1"},aF={frames:sF,meta:oF},lF={x1:{frame:{x:0,y:0,w:154,h:420},anchor:{x:0,y:0}},x2:{frame:{x:154,y:0,w:154,h:420},anchor:{x:0,y:0}},x5:{frame:{x:308,y:0,w:154,h:420},anchor:{x:0,y:0}},x10:{frame:{x:462,y:0,w:154,h:420},anchor:{x:0,y:0}}},cF={image:"../img/reel.png",format:"RGBA8888",size:{w:616,h:420},scale:"1"},hF={frames:lF,meta:cF},Lr=kt({gameData:{}});function ci(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ir={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},$s={duration:.5,overwrite:!1,delay:0},Zd,Bt,Xe,fr=1e8,Ge=1/fr,Df=Math.PI*2,uF=Df/4,fF=0,Gv=Math.sqrt,dF=Math.cos,pF=Math.sin,xt=function(e){return typeof e=="string"},rt=function(e){return typeof e=="function"},_i=function(e){return typeof e=="number"},Qd=function(e){return typeof e>"u"},ri=function(e){return typeof e=="object"},Gt=function(e){return e!==!1},Jd=function(){return typeof window<"u"},el=function(e){return rt(e)||xt(e)},$v=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Rt=Array.isArray,If=/(?:-?\.?\d|\.)+/gi,Wv=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,xs=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Dh=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Vv=/[+-]=-?[.\d]+/,jv=/[^,'"\[\]\s]+/gi,mF=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ze,zr,Ff,e0,sr={},$l={},Xv,Yv=function(e){return($l=$n(e,sr))&&Yt},t0=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},ia=function(e,r){return!r&&console.warn(e)},qv=function(e,r){return e&&(sr[e]=r)&&$l&&($l[e]=r)||sr},na=function(){return 0},xF={suppressEvents:!0,isStart:!0,kill:!1},dl={suppressEvents:!0,kill:!1},gF={suppressEvents:!0},r0={},ji=[],Mf={},Kv,Qt={},Ih={},sx=30,pl=[],i0="",n0=function(e){var r=e[0],i,n;if(ri(r)||rt(r)||(e=[e]),!(i=(r._gsap||{}).harness)){for(n=pl.length;n--&&!pl[n].targetTest(r););i=pl[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new yy(e[n],i)))||e.splice(n,1);return e},Fn=function(e){return e._gsap||n0(dr(e))[0]._gsap},Zv=function(e,r,i){return(i=e[r])&&rt(i)?e[r]():Qd(i)&&e.getAttribute&&e.getAttribute(r)||i},$t=function(e,r){return(e=e.split(",")).forEach(r)||e},st=function(e){return Math.round(e*1e5)/1e5||0},mt=function(e){return Math.round(e*1e7)/1e7||0},Ps=function(e,r){var i=r.charAt(0),n=parseFloat(r.substr(2));return e=parseFloat(e),i==="+"?e+n:i==="-"?e-n:i==="*"?e*n:e/n},_F=function(e,r){for(var i=r.length,n=0;e.indexOf(r[n])<0&&++n<i;);return n<i},Wl=function(){var e=ji.length,r=ji.slice(0),i,n;for(Mf={},ji.length=0,i=0;i<e;i++)n=r[i],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},Qv=function(e,r,i,n){ji.length&&!Bt&&Wl(),e.render(r,i,n||Bt&&r<0&&(e._initted||e._startAt)),ji.length&&!Bt&&Wl()},Jv=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(jv).length<2?r:xt(e)?e.trim():e},ey=function(e){return e},mr=function(e,r){for(var i in r)i in e||(e[i]=r[i]);return e},vF=function(e){return function(r,i){for(var n in i)n in r||n==="duration"&&e||n==="ease"||(r[n]=i[n])}},$n=function(e,r){for(var i in r)e[i]=r[i];return e},ox=function t(e,r){for(var i in r)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=ri(r[i])?t(e[i]||(e[i]={}),r[i]):r[i]);return e},Vl=function(e,r){var i={},n;for(n in e)n in r||(i[n]=e[n]);return i},No=function(e){var r=e.parent||Ze,i=e.keyframes?vF(Rt(e.keyframes)):mr;if(Gt(e.inherit))for(;r;)i(e,r.vars.defaults),r=r.parent||r._dp;return e},yF=function(e,r){for(var i=e.length,n=i===r.length;n&&i--&&e[i]===r[i];);return i<0},ty=function(e,r,i,n,s){i===void 0&&(i="_first"),n===void 0&&(n="_last");var o=e[n],a;if(s)for(a=r[s];o&&o[s]>a;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[i],e[i]=r),r._next?r._next._prev=r:e[n]=r,r._prev=o,r.parent=r._dp=e,r},wc=function(e,r,i,n){i===void 0&&(i="_first"),n===void 0&&(n="_last");var s=r._prev,o=r._next;s?s._next=o:e[i]===r&&(e[i]=o),o?o._prev=s:e[n]===r&&(e[n]=s),r._next=r._prev=r.parent=null},en=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Mn=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},bF=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},Of=function(e,r,i,n){return e._startAt&&(Bt?e._startAt.revert(dl):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,n))},EF=function t(e){return!e||e._ts&&t(e.parent)},ax=function(e){return e._repeat?Ws(e._tTime,e=e.duration()+e._rDelay)*e:0},Ws=function(e,r){var i=Math.floor(e/=r);return e&&i===e?i-1:i},jl=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},Pc=function(e){return e._end=mt(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ge)||0))},Bc=function(e,r){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=mt(i._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),Pc(e),i._dirty||Mn(i,e)),e},ry=function(e,r){var i;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(i=jl(e.rawTime(),r),(!r._dur||ba(0,r.totalDuration(),i)-r._tTime>Ge)&&r.render(i,!0)),Mn(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-Ge}},Vr=function(e,r,i,n){return r.parent&&en(r),r._start=mt((_i(i)?i:i||e!==Ze?cr(e,i,r):e._time)+r._delay),r._end=mt(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),ty(e,r,"_first","_last",e._sort?"_start":0),kf(r)||(e._recent=r),n||ry(e,r),e._ts<0&&Bc(e,e._tTime),e},iy=function(e,r){return(sr.ScrollTrigger||t0("scrollTrigger",r))&&sr.ScrollTrigger.create(r,e)},ny=function(e,r,i,n,s){if(o0(e,r,s),!e._initted)return 1;if(!i&&e._pt&&!Bt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Kv!==er.frame)return ji.push(e),e._lazy=[s,n],1},SF=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},kf=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},CF=function(e,r,i,n){var s=e.ratio,o=r<0||!r&&(!e._start&&SF(e)&&!(!e._initted&&kf(e))||(e._ts<0||e._dp._ts<0)&&!kf(e))?0:1,a=e._rDelay,l=0,c,h,f;if(a&&e._repeat&&(l=ba(0,e._tDur,r),h=Ws(l,a),e._yoyo&&h&1&&(o=1-o),h!==Ws(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Bt||n||e._zTime===Ge||!r&&e._zTime){if(!e._initted&&ny(e,r,n,i,l))return;for(f=e._zTime,e._zTime=r||(i?Ge:0),i||(i=r&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;r<0&&Of(e,r,i,!0),e._onUpdate&&!i&&rr(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&rr(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&en(e,1),!i&&!Bt&&(rr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},TF=function(e,r,i){var n;if(i>r)for(n=e._first;n&&n._start<=i;){if(n.data==="isPause"&&n._start>r)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if(n.data==="isPause"&&n._start<r)return n;n=n._prev}},Vs=function(e,r,i,n){var s=e._repeat,o=mt(r)||0,a=e._tTime/e._tDur;return a&&!n&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:mt(o*(s+1)+e._rDelay*s):o,a>0&&!n&&Bc(e,e._tTime=e._tDur*a),e.parent&&Pc(e),i||Mn(e.parent,e),e},lx=function(e){return e instanceof Mt?Mn(e):Vs(e,e._dur)},AF={_start:0,endTime:na,totalDuration:na},cr=function t(e,r,i){var n=e.labels,s=e._recent||AF,o=e.duration()>=fr?s.endTime(!1):e._dur,a,l,c;return xt(r)&&(isNaN(r)||r in n)?(l=r.charAt(0),c=r.substr(-1)==="%",a=r.indexOf("="),l==="<"||l===">"?(a>=0&&(r=r.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(r in n||(n[r]=o),n[r]):(l=parseFloat(r.charAt(a-1)+r.substr(a+1)),c&&i&&(l=l/100*(Rt(i)?i[0]:i).totalDuration()),a>1?t(e,r.substr(0,a-1),i)+l:o+l)):r==null?o:+r},Lo=function(e,r,i){var n=_i(r[1]),s=(n?2:1)+(e<2?0:1),o=r[s],a,l;if(n&&(o.duration=r[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Gt(l.vars.inherit)&&l.parent;o.immediateRender=Gt(a.immediateRender),e<2?o.runBackwards=1:o.startAt=r[s-1]}return new at(r[0],o,r[s+1])},nn=function(e,r){return e||e===0?r(e):r},ba=function(e,r,i){return i<e?e:i>r?r:i},wt=function(e,r){return!xt(e)||!(r=mF.exec(e))?"":r[1]},wF=function(e,r,i){return nn(i,function(n){return ba(e,r,n)})},Nf=[].slice,sy=function(e,r){return e&&ri(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&ri(e[0]))&&!e.nodeType&&e!==zr},PF=function(e,r,i){return i===void 0&&(i=[]),e.forEach(function(n){var s;return xt(n)&&!r||sy(n,1)?(s=i).push.apply(s,dr(n)):i.push(n)})||i},dr=function(e,r,i){return Xe&&!r&&Xe.selector?Xe.selector(e):xt(e)&&!i&&(Ff||!js())?Nf.call((r||e0).querySelectorAll(e),0):Rt(e)?PF(e,i):sy(e)?Nf.call(e,0):e?[e]:[]},Lf=function(e){return e=dr(e)[0]||ia("Invalid scope")||{},function(r){var i=e.current||e.nativeElement||e;return dr(r,i.querySelectorAll?i:i===e?ia("Invalid scope")||e0.createElement("div"):e)}},oy=function(e){return e.sort(function(){return .5-Math.random()})},ay=function(e){if(rt(e))return e;var r=ri(e)?e:{each:e},i=On(r.ease),n=r.from||0,s=parseFloat(r.base)||0,o={},a=n>0&&n<1,l=isNaN(n)||a,c=r.axis,h=n,f=n;return xt(n)?h=f={center:.5,edges:.5,end:1}[n]||0:!a&&l&&(h=n[0],f=n[1]),function(u,d,p){var m=(p||r).length,x=o[m],y,_,g,v,b,E,S,C,R;if(!x){if(R=r.grid==="auto"?0:(r.grid||[1,fr])[1],!R){for(S=-fr;S<(S=p[R++].getBoundingClientRect().left)&&R<m;);R<m&&R--}for(x=o[m]=[],y=l?Math.min(R,m)*h-.5:n%R,_=R===fr?0:l?m*f/R-.5:n/R|0,S=0,C=fr,E=0;E<m;E++)g=E%R-y,v=_-(E/R|0),x[E]=b=c?Math.abs(c==="y"?v:g):Gv(g*g+v*v),b>S&&(S=b),b<C&&(C=b);n==="random"&&oy(x),x.max=S-C,x.min=C,x.v=m=(parseFloat(r.amount)||parseFloat(r.each)*(R>m?m-1:c?c==="y"?m/R:R:Math.max(R,m/R))||0)*(n==="edges"?-1:1),x.b=m<0?s-m:s,x.u=wt(r.amount||r.each)||0,i=i&&m<0?gy(i):i}return m=(x[u]-x.min)/x.max||0,mt(x.b+(i?i(m):m)*x.v)+x.u}},Uf=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var n=mt(Math.round(parseFloat(i)/e)*e*r);return(n-n%1)/r+(_i(i)?0:wt(i))}},ly=function(e,r){var i=Rt(e),n,s;return!i&&ri(e)&&(n=i=e.radius||fr,e.values?(e=dr(e.values),(s=!_i(e[0]))&&(n*=n)):e=Uf(e.increment)),nn(r,i?rt(e)?function(o){return s=e(o),Math.abs(s-o)<=n?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=fr,h=0,f=e.length,u,d;f--;)s?(u=e[f].x-a,d=e[f].y-l,u=u*u+d*d):u=Math.abs(e[f]-a),u<c&&(c=u,h=f);return h=!n||c<=n?e[h]:o,s||h===o||_i(o)?h:h+wt(o)}:Uf(e))},cy=function(e,r,i,n){return nn(Rt(e)?!r:i===!0?!!(i=0):!n,function(){return Rt(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(r-e+i*.99))/i)*i*n)/n})},BF=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return function(n){return r.reduce(function(s,o){return o(s)},n)}},RF=function(e,r){return function(i){return e(parseFloat(i))+(r||wt(i))}},DF=function(e,r,i){return uy(e,r,0,1,i)},hy=function(e,r,i){return nn(i,function(n){return e[~~r(n)]})},IF=function t(e,r,i){var n=r-e;return Rt(e)?hy(e,t(0,e.length),r):nn(i,function(s){return(n+(s-e)%n)%n+e})},FF=function t(e,r,i){var n=r-e,s=n*2;return Rt(e)?hy(e,t(0,e.length-1),r):nn(i,function(o){return o=(s+(o-e)%s)%s||0,e+(o>n?s-o:o)})},sa=function(e){for(var r=0,i="",n,s,o,a;~(n=e.indexOf("random(",r));)o=e.indexOf(")",n),a=e.charAt(n+7)==="[",s=e.substr(n+7,o-n-7).match(a?jv:If),i+=e.substr(r,n-r)+cy(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),r=o+1;return i+e.substr(r,e.length-r)},uy=function(e,r,i,n,s){var o=r-e,a=n-i;return nn(s,function(l){return i+((l-e)/o*a||0)})},MF=function t(e,r,i,n){var s=isNaN(e+r)?0:function(d){return(1-d)*e+d*r};if(!s){var o=xt(e),a={},l,c,h,f,u;if(i===!0&&(n=1)&&(i=null),o)e={p:e},r={p:r};else if(Rt(e)&&!Rt(r)){for(h=[],f=e.length,u=f-2,c=1;c<f;c++)h.push(t(e[c-1],e[c]));f--,s=function(p){p*=f;var m=Math.min(u,~~p);return h[m](p-m)},i=r}else n||(e=$n(Rt(e)?[]:{},e));if(!h){for(l in r)s0.call(a,e,l,"get",r[l]);s=function(p){return c0(p,a)||(o?e.p:e)}}}return nn(i,s)},cx=function(e,r,i){var n=e.labels,s=fr,o,a,l;for(o in n)a=n[o]-r,a<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},rr=function(e,r,i){var n=e.vars,s=n[r],o=Xe,a=e._ctx,l,c,h;if(s)return l=n[r+"Params"],c=n.callbackScope||e,i&&ji.length&&Wl(),a&&(Xe=a),h=l?s.apply(c,l):s.call(c),Xe=o,h},So=function(e){return en(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Bt),e.progress()<1&&rr(e,"onInterrupt"),e},gs,fy=[],dy=function(e){if(e)if(e=!e.name&&e.default||e,Jd()||e.headless){var r=e.name,i=rt(e),n=r&&!i&&e.init?function(){this._props=[]}:e,s={init:na,render:c0,add:s0,kill:KF,modifier:qF,rawVars:0},o={targetTest:0,get:0,getSetter:l0,aliases:{},register:0};if(js(),e!==n){if(Qt[r])return;mr(n,mr(Vl(e,s),o)),$n(n.prototype,$n(s,Vl(e,o))),Qt[n.prop=r]=n,e.targetTest&&(pl.push(n),r0[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}qv(r,n),e.register&&e.register(Yt,n,Wt)}else fy.push(e)},He=255,Co={aqua:[0,He,He],lime:[0,He,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,He],navy:[0,0,128],white:[He,He,He],olive:[128,128,0],yellow:[He,He,0],orange:[He,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[He,0,0],pink:[He,192,203],cyan:[0,He,He],transparent:[He,He,He,0]},Fh=function(e,r,i){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(i-r)*e*6:e<.5?i:e*3<2?r+(i-r)*(2/3-e)*6:r)*He+.5|0},py=function(e,r,i){var n=e?_i(e)?[e>>16,e>>8&He,e&He]:0:Co.black,s,o,a,l,c,h,f,u,d,p;if(!n){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Co[e])n=Co[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return n=parseInt(e.substr(1,6),16),[n>>16,n>>8&He,n&He,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),n=[e>>16,e>>8&He,e&He]}else if(e.substr(0,3)==="hsl"){if(n=p=e.match(If),!r)l=+n[0]%360/360,c=+n[1]/100,h=+n[2]/100,o=h<=.5?h*(c+1):h+c-h*c,s=h*2-o,n.length>3&&(n[3]*=1),n[0]=Fh(l+1/3,s,o),n[1]=Fh(l,s,o),n[2]=Fh(l-1/3,s,o);else if(~e.indexOf("="))return n=e.match(Wv),i&&n.length<4&&(n[3]=1),n}else n=e.match(If)||Co.transparent;n=n.map(Number)}return r&&!p&&(s=n[0]/He,o=n[1]/He,a=n[2]/He,f=Math.max(s,o,a),u=Math.min(s,o,a),h=(f+u)/2,f===u?l=c=0:(d=f-u,c=h>.5?d/(2-f-u):d/(f+u),l=f===s?(o-a)/d+(o<a?6:0):f===o?(a-s)/d+2:(s-o)/d+4,l*=60),n[0]=~~(l+.5),n[1]=~~(c*100+.5),n[2]=~~(h*100+.5)),i&&n.length<4&&(n[3]=1),n},my=function(e){var r=[],i=[],n=-1;return e.split(Xi).forEach(function(s){var o=s.match(xs)||[];r.push.apply(r,o),i.push(n+=o.length+1)}),r.c=i,r},hx=function(e,r,i){var n="",s=(e+n).match(Xi),o=r?"hsla(":"rgba(",a=0,l,c,h,f;if(!s)return e;if(s=s.map(function(u){return(u=py(u,r,1))&&o+(r?u[0]+","+u[1]+"%,"+u[2]+"%,"+u[3]:u.join(","))+")"}),i&&(h=my(e),l=i.c,l.join(n)!==h.c.join(n)))for(c=e.replace(Xi,"1").split(xs),f=c.length-1;a<f;a++)n+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(h.length?h:s.length?s:i).shift());if(!c)for(c=e.split(Xi),f=c.length-1;a<f;a++)n+=c[a]+s[a];return n+c[f]},Xi=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Co)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),OF=/hsl[a]?\(/,xy=function(e){var r=e.join(" "),i;if(Xi.lastIndex=0,Xi.test(r))return i=OF.test(r),e[1]=hx(e[1],i),e[0]=hx(e[0],i,my(e[1])),!0},oa,er=function(){var t=Date.now,e=500,r=33,i=t(),n=i,s=1e3/240,o=s,a=[],l,c,h,f,u,d,p=function m(x){var y=t()-n,_=x===!0,g,v,b,E;if((y>e||y<0)&&(i+=y-r),n+=y,b=n-i,g=b-o,(g>0||_)&&(E=++f.frame,u=b-f.time*1e3,f.time=b=b/1e3,o+=g+(g>=s?4:s-g),v=1),_||(l=c(m)),v)for(d=0;d<a.length;d++)a[d](b,u,E,x)};return f={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(x){return u/(1e3/(x||60))},wake:function(){Xv&&(!Ff&&Jd()&&(zr=Ff=window,e0=zr.document||{},sr.gsap=Yt,(zr.gsapVersions||(zr.gsapVersions=[])).push(Yt.version),Yv($l||zr.GreenSockGlobals||!zr.gsap&&zr||{}),fy.forEach(dy)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),c=h||function(x){return setTimeout(x,o-f.time*1e3+1|0)},oa=1,p(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(l),oa=0,c=na},lagSmoothing:function(x,y){e=x||1/0,r=Math.min(y||33,e)},fps:function(x){s=1e3/(x||240),o=f.time*1e3+s},add:function(x,y,_){var g=y?function(v,b,E,S){x(v,b,E,S),f.remove(g)}:x;return f.remove(x),a[_?"unshift":"push"](g),js(),g},remove:function(x,y){~(y=a.indexOf(x))&&a.splice(y,1)&&d>=y&&d--},_listeners:a},f}(),js=function(){return!oa&&er.wake()},Re={},kF=/^[\d.\-M][\d.\-,\s]/,NF=/["']/g,LF=function(e){for(var r={},i=e.substr(1,e.length-3).split(":"),n=i[0],s=1,o=i.length,a,l,c;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),r[n]=isNaN(c)?c.replace(NF,"").trim():+c,n=l.substr(a+1).trim();return r},UF=function(e){var r=e.indexOf("(")+1,i=e.indexOf(")"),n=e.indexOf("(",r);return e.substring(r,~n&&n<i?e.indexOf(")",i+1):i)},zF=function(e){var r=(e+"").split("("),i=Re[r[0]];return i&&r.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[LF(r[1])]:UF(e).split(",").map(Jv)):Re._CE&&kF.test(e)?Re._CE("",e):i},gy=function(e){return function(r){return 1-e(1-r)}},_y=function t(e,r){for(var i=e._first,n;i;)i instanceof Mt?t(i,r):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==r&&(i.timeline?t(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},On=function(e,r){return e&&(rt(e)?e:Re[e]||zF(e))||r},Kn=function(e,r,i,n){i===void 0&&(i=function(l){return 1-r(1-l)}),n===void 0&&(n=function(l){return l<.5?r(l*2)/2:1-r((1-l)*2)/2});var s={easeIn:r,easeOut:i,easeInOut:n},o;return $t(e,function(a){Re[a]=sr[a]=s,Re[o=a.toLowerCase()]=i;for(var l in s)Re[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Re[a+"."+l]=s[l]}),s},vy=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},Mh=function t(e,r,i){var n=r>=1?r:1,s=(i||(e?.3:.45))/(r<1?r:1),o=s/Df*(Math.asin(1/n)||0),a=function(h){return h===1?1:n*Math.pow(2,-10*h)*pF((h-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:vy(a);return s=Df/s,l.config=function(c,h){return t(e,c,h)},l},Oh=function t(e,r){r===void 0&&(r=1.70158);var i=function(o){return o?--o*o*((r+1)*o+r)+1:0},n=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:vy(i);return n.config=function(s){return t(e,s)},n};$t("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;Kn(t+",Power"+(r-1),e?function(i){return Math.pow(i,r)}:function(i){return i},function(i){return 1-Math.pow(1-i,r)},function(i){return i<.5?Math.pow(i*2,r)/2:1-Math.pow((1-i)*2,r)/2})});Re.Linear.easeNone=Re.none=Re.Linear.easeIn;Kn("Elastic",Mh("in"),Mh("out"),Mh());(function(t,e){var r=1/e,i=2*r,n=2.5*r,s=function(a){return a<r?t*a*a:a<i?t*Math.pow(a-1.5/e,2)+.75:a<n?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Kn("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Kn("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Kn("Circ",function(t){return-(Gv(1-t*t)-1)});Kn("Sine",function(t){return t===1?1:-dF(t*uF)+1});Kn("Back",Oh("in"),Oh("out"),Oh());Re.SteppedEase=Re.steps=sr.SteppedEase={config:function(e,r){e===void 0&&(e=1);var i=1/e,n=e+(r?0:1),s=r?1:0,o=1-Ge;return function(a){return((n*ba(0,o,a)|0)+s)*i}}};$s.ease=Re["quad.out"];$t("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return i0+=t+","+t+"Params,"});var yy=function(e,r){this.id=fF++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:Zv,this.set=r?r.getSetter:l0},aa=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,Vs(this,+r.duration,1,1),this.data=r.data,Xe&&(this._ctx=Xe,Xe.data.push(this)),oa||er.wake()}var e=t.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Vs(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,n){if(js(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Bc(this,i),!s._dp||s.parent||ry(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Vr(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===Ge||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),Qv(this,i,n)),this},e.time=function(i,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+ax(this))%(this._dur+this._rDelay)||(i?this._dur:0),n):this._time},e.totalProgress=function(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(i,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+ax(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,n){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,n):this._repeat?Ws(this._tTime,s)+1:1},e.timeScale=function(i,n){if(!arguments.length)return this._rts===-Ge?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?jl(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Ge?0:this._rts,this.totalTime(ba(-Math.abs(this._delay),this._tDur,s),n!==!1),Pc(this),bF(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(js(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ge&&(this._tTime-=Ge)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&Vr(n,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Gt(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var n=this.parent||this._dp;return n?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?jl(n.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=gF);var n=Bt;return Bt=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Bt=n,this},e.globalTime=function(i){for(var n=this,s=arguments.length?i:n.rawTime();n;)s=n._start+s/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,lx(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var n=this._time;return this._rDelay=i,lx(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,n){return this.totalTime(cr(this,i),Gt(n))},e.restart=function(i,n){return this.play().totalTime(i?-this._delay:0,Gt(n))},e.play=function(i,n){return i!=null&&this.seek(i,n),this.reversed(!1).paused(!1)},e.reverse=function(i,n){return i!=null&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(i,n){return i!=null&&this.seek(i,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Ge:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ge,this},e.isActive=function(){var i=this.parent||this._dp,n=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=n&&s<this.endTime(!0)-Ge)},e.eventCallback=function(i,n,s){var o=this.vars;return arguments.length>1?(n?(o[i]=n,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=n)):delete o[i],this):o[i]},e.then=function(i){var n=this;return new Promise(function(s){var o=rt(i)?i:ey,a=function(){var c=n.then;n.then=null,rt(o)&&(o=o(n))&&(o.then||o===n)&&(n.then=c),s(o),n.then=c};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?a():n._prom=a})},e.kill=function(){So(this)},t}();mr(aa.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ge,_prom:0,_ps:!1,_rts:1});var Mt=function(t){Hv(e,t);function e(i,n){var s;return i===void 0&&(i={}),s=t.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Gt(i.sortChildren),Ze&&Vr(i.parent||Ze,ci(s),n),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&iy(ci(s),i.scrollTrigger),s}var r=e.prototype;return r.to=function(n,s,o){return Lo(0,arguments,this),this},r.from=function(n,s,o){return Lo(1,arguments,this),this},r.fromTo=function(n,s,o,a){return Lo(2,arguments,this),this},r.set=function(n,s,o){return s.duration=0,s.parent=this,No(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new at(n,s,cr(this,o),1),this},r.call=function(n,s,o){return Vr(this,at.delayedCall(0,n,s),o)},r.staggerTo=function(n,s,o,a,l,c,h){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=h,o.parent=this,new at(n,o,cr(this,l)),this},r.staggerFrom=function(n,s,o,a,l,c,h){return o.runBackwards=1,No(o).immediateRender=Gt(o.immediateRender),this.staggerTo(n,s,o,a,l,c,h)},r.staggerFromTo=function(n,s,o,a,l,c,h,f){return a.startAt=o,No(a).immediateRender=Gt(a.immediateRender),this.staggerTo(n,s,a,l,c,h,f)},r.render=function(n,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,h=n<=0?0:mt(n),f=this._zTime<0!=n<0&&(this._initted||!c),u,d,p,m,x,y,_,g,v,b,E,S;if(this!==Ze&&h>l&&n>=0&&(h=l),h!==this._tTime||o||f){if(a!==this._time&&c&&(h+=this._time-a,n+=this._time-a),u=h,v=this._start,g=this._ts,y=!g,f&&(c||(a=this._zTime),(n||!s)&&(this._zTime=n)),this._repeat){if(E=this._yoyo,x=c+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(x*100+n,s,o);if(u=mt(h%x),h===l?(m=this._repeat,u=c):(m=~~(h/x),m&&m===h/x&&(u=c,m--),u>c&&(u=c)),b=Ws(this._tTime,x),!a&&this._tTime&&b!==m&&this._tTime-b*x-this._dur<=0&&(b=m),E&&m&1&&(u=c-u,S=1),m!==b&&!this._lock){var C=E&&b&1,R=C===(E&&m&1);if(m<b&&(C=!C),a=C?0:h%c?c:h,this._lock=1,this.render(a||(S?0:mt(m*x)),s,!c)._lock=0,this._tTime=h,!s&&this.parent&&rr(this,"onRepeat"),this.vars.repeatRefresh&&!S&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,R&&(this._lock=2,a=C?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!S&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;_y(this,S)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=TF(this,mt(a),mt(u)),_&&(h-=u-(u=_._start))),this._tTime=h,this._time=u,this._act=!g,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,a=0),!a&&u&&!s&&!m&&(rr(this,"onStart"),this._tTime!==h))return this;if(u>=a&&n>=0)for(d=this._first;d;){if(p=d._next,(d._act||u>=d._start)&&d._ts&&_!==d){if(d.parent!==this)return this.render(n,s,o);if(d.render(d._ts>0?(u-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(u-d._start)*d._ts,s,o),u!==this._time||!this._ts&&!y){_=0,p&&(h+=this._zTime=-Ge);break}}d=p}else{d=this._last;for(var A=n<0?n:u;d;){if(p=d._prev,(d._act||A<=d._end)&&d._ts&&_!==d){if(d.parent!==this)return this.render(n,s,o);if(d.render(d._ts>0?(A-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(A-d._start)*d._ts,s,o||Bt&&(d._initted||d._startAt)),u!==this._time||!this._ts&&!y){_=0,p&&(h+=this._zTime=A?-Ge:Ge);break}}d=p}}if(_&&!s&&(this.pause(),_.render(u>=a?0:-Ge)._zTime=u>=a?1:-1,this._ts))return this._start=v,Pc(this),this.render(n,s,o);this._onUpdate&&!s&&rr(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(v===this._start||Math.abs(g)!==Math.abs(this._ts))&&(this._lock||((n||!c)&&(h===l&&this._ts>0||!h&&this._ts<0)&&en(this,1),!s&&!(n<0&&!a)&&(h||a||!l)&&(rr(this,h===l&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(n,s){var o=this;if(_i(s)||(s=cr(this,s,n)),!(n instanceof aa)){if(Rt(n))return n.forEach(function(a){return o.add(a,s)}),this;if(xt(n))return this.addLabel(n,s);if(rt(n))n=at.delayedCall(0,n);else return this}return this!==n?Vr(this,n,s):this},r.getChildren=function(n,s,o,a){n===void 0&&(n=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-fr);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof at?s&&l.push(c):(o&&l.push(c),n&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},r.getById=function(n){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===n)return s[o]},r.remove=function(n){return xt(n)?this.removeLabel(n):rt(n)?this.killTweensOf(n):(wc(this,n),n===this._recent&&(this._recent=this._last),Mn(this))},r.totalTime=function(n,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=mt(er.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),t.prototype.totalTime.call(this,n,s),this._forcing=0,this):this._tTime},r.addLabel=function(n,s){return this.labels[n]=cr(this,s),this},r.removeLabel=function(n){return delete this.labels[n],this},r.addPause=function(n,s,o){var a=at.delayedCall(0,s||na,o);return a.data="isPause",this._hasPause=1,Vr(this,a,cr(this,n))},r.removePause=function(n){var s=this._first;for(n=cr(this,n);s;)s._start===n&&s.data==="isPause"&&en(s),s=s._next},r.killTweensOf=function(n,s,o){for(var a=this.getTweensOf(n,o),l=a.length;l--;)Ui!==a[l]&&a[l].kill(n,s);return this},r.getTweensOf=function(n,s){for(var o=[],a=dr(n),l=this._first,c=_i(s),h;l;)l instanceof at?_F(l._targets,a)&&(c?(!Ui||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(h=l.getTweensOf(a,s)).length&&o.push.apply(o,h),l=l._next;return o},r.tweenTo=function(n,s){s=s||{};var o=this,a=cr(o,n),l=s,c=l.startAt,h=l.onStart,f=l.onStartParams,u=l.immediateRender,d,p=at.to(o,mr({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Ge,onStart:function(){if(o.pause(),!d){var x=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());p._dur!==x&&Vs(p,x,0,1).render(p._time,!0,!0),d=1}h&&h.apply(p,f||[])}},s));return u?p.render(0):p},r.tweenFromTo=function(n,s,o){return this.tweenTo(s,mr({startAt:{time:cr(this,n)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(n){return n===void 0&&(n=this._time),cx(this,cr(this,n))},r.previousLabel=function(n){return n===void 0&&(n=this._time),cx(this,cr(this,n),1)},r.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+Ge)},r.shiftChildren=function(n,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=n,a._end+=n),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=n);return Mn(this)},r.invalidate=function(n){var s=this._first;for(this._lock=0;s;)s.invalidate(n),s=s._next;return t.prototype.invalidate.call(this,n)},r.clear=function(n){n===void 0&&(n=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),Mn(this)},r.totalDuration=function(n){var s=0,o=this,a=o._last,l=fr,c,h,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-n:n));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Vr(o,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(s-=h,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;Vs(o,o===Ze&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(n){if(Ze._ts&&(Qv(Ze,jl(n,Ze)),Kv=er.frame),er.frame>=sx){sx+=ir.autoSleep||120;var s=Ze._first;if((!s||!s._ts)&&ir.autoSleep&&er._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||er.sleep()}}},e}(aa);mr(Mt.prototype,{_lock:0,_hasPause:0,_forcing:0});var HF=function(e,r,i,n,s,o,a){var l=new Wt(this._pt,e,r,0,1,Ay,null,s),c=0,h=0,f,u,d,p,m,x,y,_;for(l.b=i,l.e=n,i+="",n+="",(y=~n.indexOf("random("))&&(n=sa(n)),o&&(_=[i,n],o(_,e,r),i=_[0],n=_[1]),u=i.match(Dh)||[];f=Dh.exec(n);)p=f[0],m=n.substring(c,f.index),d?d=(d+1)%5:m.substr(-5)==="rgba("&&(d=1),p!==u[h++]&&(x=parseFloat(u[h-1])||0,l._pt={_next:l._pt,p:m||h===1?m:",",s:x,c:p.charAt(1)==="="?Ps(x,p)-x:parseFloat(p)-x,m:d&&d<4?Math.round:0},c=Dh.lastIndex);return l.c=c<n.length?n.substring(c,n.length):"",l.fp=a,(Vv.test(n)||y)&&(l.e=0),this._pt=l,l},s0=function(e,r,i,n,s,o,a,l,c,h){rt(n)&&(n=n(s||0,e,o));var f=e[r],u=i!=="get"?i:rt(f)?c?e[r.indexOf("set")||!rt(e["get"+r.substr(3)])?r:"get"+r.substr(3)](c):e[r]():f,d=rt(f)?c?jF:Cy:a0,p;if(xt(n)&&(~n.indexOf("random(")&&(n=sa(n)),n.charAt(1)==="="&&(p=Ps(u,n)+(wt(u)||0),(p||p===0)&&(n=p))),!h||u!==n||zf)return!isNaN(u*n)&&n!==""?(p=new Wt(this._pt,e,r,+u||0,n-(u||0),typeof f=="boolean"?YF:Ty,0,d),c&&(p.fp=c),a&&p.modifier(a,this,e),this._pt=p):(!f&&!(r in e)&&t0(r,n),HF.call(this,e,r,u,n,d,l||ir.stringFilter,c))},GF=function(e,r,i,n,s){if(rt(e)&&(e=Uo(e,s,r,i,n)),!ri(e)||e.style&&e.nodeType||Rt(e)||$v(e))return xt(e)?Uo(e,s,r,i,n):e;var o={},a;for(a in e)o[a]=Uo(e[a],s,r,i,n);return o},by=function(e,r,i,n,s,o){var a,l,c,h;if(Qt[e]&&(a=new Qt[e]).init(s,a.rawVars?r[e]:GF(r[e],n,s,o,i),i,n,o)!==!1&&(i._pt=l=new Wt(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==gs))for(c=i._ptLookup[i._targets.indexOf(s)],h=a._props.length;h--;)c[a._props[h]]=l;return a},Ui,zf,o0=function t(e,r,i){var n=e.vars,s=n.ease,o=n.startAt,a=n.immediateRender,l=n.lazy,c=n.onUpdate,h=n.runBackwards,f=n.yoyoEase,u=n.keyframes,d=n.autoRevert,p=e._dur,m=e._startAt,x=e._targets,y=e.parent,_=y&&y.data==="nested"?y.vars.targets:x,g=e._overwrite==="auto"&&!Zd,v=e.timeline,b,E,S,C,R,A,P,I,D,F,G,V,L;if(v&&(!u||!s)&&(s="none"),e._ease=On(s,$s.ease),e._yEase=f?gy(On(f===!0?s:f,$s.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!v&&!!n.runBackwards,!v||u&&!n.stagger){if(I=x[0]?Fn(x[0]).harness:0,V=I&&n[I.prop],b=Vl(n,r0),m&&(m._zTime<0&&m.progress(1),r<0&&h&&a&&!d?m.render(-1,!0):m.revert(h&&p?dl:xF),m._lazy=0),o){if(en(e._startAt=at.set(x,mr({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!m&&Gt(l),startAt:null,delay:0,onUpdate:c&&function(){return rr(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Bt||!a&&!d)&&e._startAt.revert(dl),a&&p&&r<=0&&i<=0){r&&(e._zTime=r);return}}else if(h&&p&&!m){if(r&&(a=!1),S=mr({overwrite:!1,data:"isFromStart",lazy:a&&!m&&Gt(l),immediateRender:a,stagger:0,parent:y},b),V&&(S[I.prop]=V),en(e._startAt=at.set(x,S)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Bt?e._startAt.revert(dl):e._startAt.render(-1,!0)),e._zTime=r,!a)t(e._startAt,Ge,Ge);else if(!r)return}for(e._pt=e._ptCache=0,l=p&&Gt(l)||l&&!p,E=0;E<x.length;E++){if(R=x[E],P=R._gsap||n0(x)[E]._gsap,e._ptLookup[E]=F={},Mf[P.id]&&ji.length&&Wl(),G=_===x?E:_.indexOf(R),I&&(D=new I).init(R,V||b,e,G,_)!==!1&&(e._pt=C=new Wt(e._pt,R,D.name,0,1,D.render,D,0,D.priority),D._props.forEach(function(Y){F[Y]=C}),D.priority&&(A=1)),!I||V)for(S in b)Qt[S]&&(D=by(S,b,e,G,R,_))?D.priority&&(A=1):F[S]=C=s0.call(e,R,S,"get",b[S],G,_,0,n.stringFilter);e._op&&e._op[E]&&e.kill(R,e._op[E]),g&&e._pt&&(Ui=e,Ze.killTweensOf(R,F,e.globalTime(r)),L=!e.parent,Ui=0),e._pt&&l&&(Mf[P.id]=1)}A&&wy(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!L,u&&r<=0&&v.render(fr,!0,!0)},$F=function(e,r,i,n,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[r],h,f,u,d;if(!c)for(c=e._ptCache[r]=[],u=e._ptLookup,d=e._targets.length;d--;){if(h=u[d][r],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==r&&h.fp!==r;)h=h._next;if(!h)return zf=1,e.vars[r]="+=0",o0(e,a),zf=0,l?ia(r+" not eligible for reset"):1;c.push(h)}for(d=c.length;d--;)f=c[d],h=f._pt||f,h.s=(n||n===0)&&!s?n:h.s+(n||0)+o*h.c,h.c=i-h.s,f.e&&(f.e=st(i)+wt(f.e)),f.b&&(f.b=h.s+wt(f.b))},WF=function(e,r){var i=e[0]?Fn(e[0]).harness:0,n=i&&i.aliases,s,o,a,l;if(!n)return r;s=$n({},r);for(o in n)if(o in s)for(l=n[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},VF=function(e,r,i,n){var s=r.ease||n||"power1.inOut",o,a;if(Rt(r))a=i[e]||(i[e]=[]),r.forEach(function(l,c){return a.push({t:c/(r.length-1)*100,v:l,e:s})});else for(o in r)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:r[o],e:s})},Uo=function(e,r,i,n,s){return rt(e)?e.call(r,i,n,s):xt(e)&&~e.indexOf("random(")?sa(e):e},Ey=i0+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Sy={};$t(Ey+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Sy[t]=1});var at=function(t){Hv(e,t);function e(i,n,s,o){var a;typeof n=="number"&&(s.duration=n,n=s,s=null),a=t.call(this,o?n:No(n))||this;var l=a.vars,c=l.duration,h=l.delay,f=l.immediateRender,u=l.stagger,d=l.overwrite,p=l.keyframes,m=l.defaults,x=l.scrollTrigger,y=l.yoyoEase,_=n.parent||Ze,g=(Rt(i)||$v(i)?_i(i[0]):"length"in n)?[i]:dr(i),v,b,E,S,C,R,A,P;if(a._targets=g.length?n0(g):ia("GSAP target "+i+" not found. https://gsap.com",!ir.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=d,p||u||el(c)||el(h)){if(n=a.vars,v=a.timeline=new Mt({data:"nested",defaults:m||{},targets:_&&_.data==="nested"?_.vars.targets:g}),v.kill(),v.parent=v._dp=ci(a),v._start=0,u||el(c)||el(h)){if(S=g.length,A=u&&ay(u),ri(u))for(C in u)~Ey.indexOf(C)&&(P||(P={}),P[C]=u[C]);for(b=0;b<S;b++)E=Vl(n,Sy),E.stagger=0,y&&(E.yoyoEase=y),P&&$n(E,P),R=g[b],E.duration=+Uo(c,ci(a),b,R,g),E.delay=(+Uo(h,ci(a),b,R,g)||0)-a._delay,!u&&S===1&&E.delay&&(a._delay=h=E.delay,a._start+=h,E.delay=0),v.to(R,E,A?A(b,R,g):0),v._ease=Re.none;v.duration()?c=h=0:a.timeline=0}else if(p){No(mr(v.vars.defaults,{ease:"none"})),v._ease=On(p.ease||n.ease||"none");var I=0,D,F,G;if(Rt(p))p.forEach(function(V){return v.to(g,V,">")}),v.duration();else{E={};for(C in p)C==="ease"||C==="easeEach"||VF(C,p[C],E,p.easeEach);for(C in E)for(D=E[C].sort(function(V,L){return V.t-L.t}),I=0,b=0;b<D.length;b++)F=D[b],G={ease:F.e,duration:(F.t-(b?D[b-1].t:0))/100*c},G[C]=F.v,v.to(g,G,I),I+=G.duration;v.duration()<c&&v.to({},{duration:c-v.duration()})}}c||a.duration(c=v.duration())}else a.timeline=0;return d===!0&&!Zd&&(Ui=ci(a),Ze.killTweensOf(g),Ui=0),Vr(_,ci(a),s),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(f||!c&&!p&&a._start===mt(_._time)&&Gt(f)&&EF(ci(a))&&_.data!=="nested")&&(a._tTime=-Ge,a.render(Math.max(0,-h)||0)),x&&iy(ci(a),x),a}var r=e.prototype;return r.render=function(n,s,o){var a=this._time,l=this._tDur,c=this._dur,h=n<0,f=n>l-Ge&&!h?l:n<Ge?0:n,u,d,p,m,x,y,_,g,v;if(!c)CF(this,n,s,o);else if(f!==this._tTime||!n||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h){if(u=f,g=this.timeline,this._repeat){if(m=c+this._rDelay,this._repeat<-1&&h)return this.totalTime(m*100+n,s,o);if(u=mt(f%m),f===l?(p=this._repeat,u=c):(p=~~(f/m),p&&p===mt(f/m)&&(u=c,p--),u>c&&(u=c)),y=this._yoyo&&p&1,y&&(v=this._yEase,u=c-u),x=Ws(this._tTime,m),u===a&&!o&&this._initted&&p===x)return this._tTime=f,this;p!==x&&(g&&this._yEase&&_y(g,y),this.vars.repeatRefresh&&!y&&!this._lock&&this._time!==m&&this._initted&&(this._lock=o=1,this.render(mt(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(ny(this,h?n:u,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&p!==x))return this;if(c!==this._dur)return this.render(n,s,o)}if(this._tTime=f,this._time=u,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(v||this._ease)(u/c),this._from&&(this.ratio=_=1-_),u&&!a&&!s&&!p&&(rr(this,"onStart"),this._tTime!==f))return this;for(d=this._pt;d;)d.r(_,d.d),d=d._next;g&&g.render(n<0?n:g._dur*g._ease(u/this._dur),s,o)||this._startAt&&(this._zTime=n),this._onUpdate&&!s&&(h&&Of(this,n,s,o),rr(this,"onUpdate")),this._repeat&&p!==x&&this.vars.onRepeat&&!s&&this.parent&&rr(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(h&&!this._onUpdate&&Of(this,n,!0,!0),(n||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&en(this,1),!s&&!(h&&!a)&&(f||a||y)&&(rr(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),t.prototype.invalidate.call(this,n)},r.resetTo=function(n,s,o,a,l){oa||er.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||o0(this,c),h=this._ease(c/this._dur),$F(this,n,s,o,a,h,c,l)?this.resetTo(n,s,o,a,1):(Bc(this,0),this.parent||ty(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(n,s){if(s===void 0&&(s="all"),!n&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?So(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(n,s,Ui&&Ui.vars.overwrite!==!0)._first||So(this),this.parent&&o!==this.timeline.totalDuration()&&Vs(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=n?dr(n):a,c=this._ptLookup,h=this._pt,f,u,d,p,m,x,y;if((!s||s==="all")&&yF(a,l))return s==="all"&&(this._pt=0),So(this);for(f=this._op=this._op||[],s!=="all"&&(xt(s)&&(m={},$t(s,function(_){return m[_]=1}),s=m),s=WF(a,s)),y=a.length;y--;)if(~l.indexOf(a[y])){u=c[y],s==="all"?(f[y]=s,p=u,d={}):(d=f[y]=f[y]||{},p=s);for(m in p)x=u&&u[m],x&&((!("kill"in x.d)||x.d.kill(m)===!0)&&wc(this,x,"_pt"),delete u[m]),d!=="all"&&(d[m]=1)}return this._initted&&!this._pt&&h&&So(this),this},e.to=function(n,s){return new e(n,s,arguments[2])},e.from=function(n,s){return Lo(1,arguments)},e.delayedCall=function(n,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(n,s,o){return Lo(2,arguments)},e.set=function(n,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(n,s)},e.killTweensOf=function(n,s,o){return Ze.killTweensOf(n,s,o)},e}(aa);mr(at.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});$t("staggerTo,staggerFrom,staggerFromTo",function(t){at[t]=function(){var e=new Mt,r=Nf.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var a0=function(e,r,i){return e[r]=i},Cy=function(e,r,i){return e[r](i)},jF=function(e,r,i,n){return e[r](n.fp,i)},XF=function(e,r,i){return e.setAttribute(r,i)},l0=function(e,r){return rt(e[r])?Cy:Qd(e[r])&&e.setAttribute?XF:a0},Ty=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},YF=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},Ay=function(e,r){var i=r._pt,n="";if(!e&&r.b)n=r.b;else if(e===1&&r.e)n=r.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+n,i=i._next;n+=r.c}r.set(r.t,r.p,n,r)},c0=function(e,r){for(var i=r._pt;i;)i.r(e,i.d),i=i._next},qF=function(e,r,i,n){for(var s=this._pt,o;s;)o=s._next,s.p===n&&s.modifier(e,r,i),s=o},KF=function(e){for(var r=this._pt,i,n;r;)n=r._next,r.p===e&&!r.op||r.op===e?wc(this,r,"_pt"):r.dep||(i=1),r=n;return!i},ZF=function(e,r,i,n){n.mSet(e,r,n.m.call(n.tween,i,n.mt),n)},wy=function(e){for(var r=e._pt,i,n,s,o;r;){for(i=r._next,n=s;n&&n.pr>r.pr;)n=n._next;(r._prev=n?n._prev:o)?r._prev._next=r:s=r,(r._next=n)?n._prev=r:o=r,r=i}e._pt=s},Wt=function(){function t(r,i,n,s,o,a,l,c,h){this.t=i,this.s=s,this.c=o,this.p=n,this.r=a||Ty,this.d=l||this,this.set=c||a0,this.pr=h||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(i,n,s){this.mSet=this.mSet||this.set,this.set=ZF,this.m=i,this.mt=s,this.tween=n},t}();$t(i0+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return r0[t]=1});sr.TweenMax=sr.TweenLite=at;sr.TimelineLite=sr.TimelineMax=Mt;Ze=new Mt({sortChildren:!1,defaults:$s,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ir.stringFilter=xy;var kn=[],ml={},QF=[],ux=0,JF=0,kh=function(e){return(ml[e]||QF).map(function(r){return r()})},Hf=function(){var e=Date.now(),r=[];e-ux>2&&(kh("matchMediaInit"),kn.forEach(function(i){var n=i.queries,s=i.conditions,o,a,l,c;for(a in n)o=zr.matchMedia(n[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(i.revert(),l&&r.push(i))}),kh("matchMediaRevert"),r.forEach(function(i){return i.onMatch(i,function(n){return i.add(null,n)})}),ux=e,kh("matchMedia"))},Py=function(){function t(r,i){this.selector=i&&Lf(i),this.data=[],this._r=[],this.isReverted=!1,this.id=JF++,r&&this.add(r)}var e=t.prototype;return e.add=function(i,n,s){rt(i)&&(s=n,n=i,i=rt);var o=this,a=function(){var c=Xe,h=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=Lf(s)),Xe=o,f=n.apply(o,arguments),rt(f)&&o._r.push(f),Xe=c,o.selector=h,o.isReverted=!1,f};return o.last=a,i===rt?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},e.ignore=function(i){var n=Xe;Xe=null,i(this),Xe=n},e.getTweens=function(){var i=[];return this.data.forEach(function(n){return n instanceof t?i.push.apply(i,n.getTweens()):n instanceof at&&!(n.parent&&n.parent.data==="nested")&&i.push(n)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,n){var s=this;if(i?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(h){return a.splice(a.indexOf(h),1)}));for(a.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,f){return f.g-h.g||-1/0}).forEach(function(h){return h.t.revert(i)}),l=s.data.length;l--;)c=s.data[l],c instanceof Mt?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof at)&&c.revert&&c.revert(i);s._r.forEach(function(h){return h(i,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),n)for(var o=kn.length;o--;)kn[o].id===this.id&&kn.splice(o,1)},e.revert=function(i){this.kill(i||{})},t}(),e6=function(){function t(r){this.contexts=[],this.scope=r,Xe&&Xe.data.push(this)}var e=t.prototype;return e.add=function(i,n,s){ri(i)||(i={matches:i});var o=new Py(0,s||this.scope),a=o.conditions={},l,c,h;Xe&&!o.selector&&(o.selector=Xe.selector),this.contexts.push(o),n=o.add("onMatch",n),o.queries=i;for(c in i)c==="all"?h=1:(l=zr.matchMedia(i[c]),l&&(kn.indexOf(o)<0&&kn.push(o),(a[c]=l.matches)&&(h=1),l.addListener?l.addListener(Hf):l.addEventListener("change",Hf)));return h&&n(o,function(f){return o.add(null,f)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(n){return n.kill(i,!0)})},t}(),Xl={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];r.forEach(function(n){return dy(n)})},timeline:function(e){return new Mt(e)},getTweensOf:function(e,r){return Ze.getTweensOf(e,r)},getProperty:function(e,r,i,n){xt(e)&&(e=dr(e)[0]);var s=Fn(e||{}).get,o=i?ey:Jv;return i==="native"&&(i=""),e&&(r?o((Qt[r]&&Qt[r].get||s)(e,r,i,n)):function(a,l,c){return o((Qt[a]&&Qt[a].get||s)(e,a,l,c))})},quickSetter:function(e,r,i){if(e=dr(e),e.length>1){var n=e.map(function(h){return Yt.quickSetter(h,r,i)}),s=n.length;return function(h){for(var f=s;f--;)n[f](h)}}e=e[0]||{};var o=Qt[r],a=Fn(e),l=a.harness&&(a.harness.aliases||{})[r]||r,c=o?function(h){var f=new o;gs._pt=0,f.init(e,i?h+i:h,gs,0,[e]),f.render(1,f),gs._pt&&c0(1,gs)}:a.set(e,l);return o?c:function(h){return c(e,l,i?h+i:h,a,1)}},quickTo:function(e,r,i){var n,s=Yt.to(e,$n((n={},n[r]="+=0.1",n.paused=!0,n),i||{})),o=function(l,c,h){return s.resetTo(r,l,c,h)};return o.tween=s,o},isTweening:function(e){return Ze.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=On(e.ease,$s.ease)),ox($s,e||{})},config:function(e){return ox(ir,e||{})},registerEffect:function(e){var r=e.name,i=e.effect,n=e.plugins,s=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach(function(a){return a&&!Qt[a]&&!sr[a]&&ia(r+" effect requires "+a+" plugin.")}),Ih[r]=function(a,l,c){return i(dr(a),mr(l||{},s),c)},o&&(Mt.prototype[r]=function(a,l,c){return this.add(Ih[r](a,ri(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,r){Re[e]=On(r)},parseEase:function(e,r){return arguments.length?On(e,r):Re},getById:function(e){return Ze.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var i=new Mt(e),n,s;for(i.smoothChildTiming=Gt(e.smoothChildTiming),Ze.remove(i),i._dp=0,i._time=i._tTime=Ze._time,n=Ze._first;n;)s=n._next,(r||!(!n._dur&&n instanceof at&&n.vars.onComplete===n._targets[0]))&&Vr(i,n,n._start-n._delay),n=s;return Vr(Ze,i,0),i},context:function(e,r){return e?new Py(e,r):Xe},matchMedia:function(e){return new e6(e)},matchMediaRefresh:function(){return kn.forEach(function(e){var r=e.conditions,i,n;for(n in r)r[n]&&(r[n]=!1,i=1);i&&e.revert()})||Hf()},addEventListener:function(e,r){var i=ml[e]||(ml[e]=[]);~i.indexOf(r)||i.push(r)},removeEventListener:function(e,r){var i=ml[e],n=i&&i.indexOf(r);n>=0&&i.splice(n,1)},utils:{wrap:IF,wrapYoyo:FF,distribute:ay,random:cy,snap:ly,normalize:DF,getUnit:wt,clamp:wF,splitColor:py,toArray:dr,selector:Lf,mapRange:uy,pipe:BF,unitize:RF,interpolate:MF,shuffle:oy},install:Yv,effects:Ih,ticker:er,updateRoot:Mt.updateRoot,plugins:Qt,globalTimeline:Ze,core:{PropTween:Wt,globals:qv,Tween:at,Timeline:Mt,Animation:aa,getCache:Fn,_removeLinkedListItem:wc,reverting:function(){return Bt},context:function(e){return e&&Xe&&(Xe.data.push(e),e._ctx=Xe),Xe},suppressOverwrites:function(e){return Zd=e}}};$t("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Xl[t]=at[t]});er.add(Mt.updateRoot);gs=Xl.to({},{duration:0});var t6=function(e,r){for(var i=e._pt;i&&i.p!==r&&i.op!==r&&i.fp!==r;)i=i._next;return i},r6=function(e,r){var i=e._targets,n,s,o;for(n in r)for(s=i.length;s--;)o=e._ptLookup[s][n],o&&(o=o.d)&&(o._pt&&(o=t6(o,n)),o&&o.modifier&&o.modifier(r[n],e,i[s],n))},Nh=function(e,r){return{name:e,rawVars:1,init:function(n,s,o){o._onInit=function(a){var l,c;if(xt(s)&&(l={},$t(s,function(h){return l[h]=1}),s=l),r){l={};for(c in s)l[c]=r(s[c]);s=l}r6(a,s)}}}},Yt=Xl.registerPlugin({name:"attr",init:function(e,r,i,n,s){var o,a,l;this.tween=i;for(o in r)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",r[o],n,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,r){for(var i=r._pt;i;)Bt?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,r){for(var i=r.length;i--;)this.add(e,i,e[i]||0,r[i],0,0,0,0,0,1)}},Nh("roundProps",Uf),Nh("modifiers"),Nh("snap",ly))||Xl;at.version=Mt.version=Yt.version="3.12.5";Xv=1;Jd()&&js();Re.Power0;Re.Power1;Re.Power2;Re.Power3;Re.Power4;Re.Linear;Re.Quad;Re.Cubic;Re.Quart;Re.Quint;Re.Strong;Re.Elastic;Re.Back;Re.SteppedEase;Re.Bounce;Re.Sine;Re.Expo;Re.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var fx,zi,Bs,h0,wn,dx,u0,i6=function(){return typeof window<"u"},vi={},yn=180/Math.PI,Rs=Math.PI/180,ns=Math.atan2,px=1e8,f0=/([A-Z])/g,n6=/(left|right|width|margin|padding|x)/i,s6=/[\s,\(]\S/,Yr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Gf=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},o6=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},a6=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},l6=function(e,r){var i=r.s+r.c*e;r.set(r.t,r.p,~~(i+(i<0?-.5:.5))+r.u,r)},By=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},Ry=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},c6=function(e,r,i){return e.style[r]=i},h6=function(e,r,i){return e.style.setProperty(r,i)},u6=function(e,r,i){return e._gsap[r]=i},f6=function(e,r,i){return e._gsap.scaleX=e._gsap.scaleY=i},d6=function(e,r,i,n,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},p6=function(e,r,i,n,s){var o=e._gsap;o[r]=i,o.renderTransform(s,o)},Je="transform",Vt=Je+"Origin",m6=function t(e,r){var i=this,n=this.target,s=n.style,o=n._gsap;if(e in vi&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Yr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=hi(n,a)}):this.tfm[e]=o.x?o[e]:hi(n,e),e===Vt&&(this.tfm.zOrigin=o.zOrigin);else return Yr.transform.split(",").forEach(function(a){return t.call(i,a,r)});if(this.props.indexOf(Je)>=0)return;o.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(Vt,r,"")),e=Je}(s||r)&&this.props.push(e,r,s[e])},Dy=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},x6=function(){var e=this.props,r=this.target,i=r.style,n=r._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?r[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(f0,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)n[o]=this.tfm[o];n.svg&&(n.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),s=u0(),(!s||!s.isStart)&&!i[Je]&&(Dy(i),n.zOrigin&&i[Vt]&&(i[Vt]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},Iy=function(e,r){var i={target:e,props:[],revert:x6,save:m6};return e._gsap||Yt.core.getCache(e),r&&r.split(",").forEach(function(n){return i.save(n)}),i},Fy,$f=function(e,r){var i=zi.createElementNS?zi.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):zi.createElement(e);return i&&i.style?i:zi.createElement(e)},Zr=function t(e,r,i){var n=getComputedStyle(e);return n[r]||n.getPropertyValue(r.replace(f0,"-$1").toLowerCase())||n.getPropertyValue(r)||!i&&t(e,Xs(r)||r,1)||""},mx="O,Moz,ms,Ms,Webkit".split(","),Xs=function(e,r,i){var n=r||wn,s=n.style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(mx[o]+e in s););return o<0?null:(o===3?"ms":o>=0?mx[o]:"")+e},Wf=function(){i6()&&window.document&&(fx=window,zi=fx.document,Bs=zi.documentElement,wn=$f("div")||{style:{}},$f("div"),Je=Xs(Je),Vt=Je+"Origin",wn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Fy=!!Xs("perspective"),u0=Yt.core.reverting,h0=1)},Lh=function t(e){var r=$f("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,n=this.nextSibling,s=this.style.cssText,o;if(Bs.appendChild(r),r.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return i&&(n?i.insertBefore(this,n):i.appendChild(this)),Bs.removeChild(r),this.style.cssText=s,o},xx=function(e,r){for(var i=r.length;i--;)if(e.hasAttribute(r[i]))return e.getAttribute(r[i])},My=function(e){var r;try{r=e.getBBox()}catch{r=Lh.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===Lh||(r=Lh.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+xx(e,["x","cx","x1"])||0,y:+xx(e,["y","cy","y1"])||0,width:0,height:0}:r},Oy=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&My(e))},Wn=function(e,r){if(r){var i=e.style,n;r in vi&&r!==Vt&&(r=Je),i.removeProperty?(n=r.substr(0,2),(n==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),i.removeProperty(n==="--"?r:r.replace(f0,"-$1").toLowerCase())):i.removeAttribute(r)}},Hi=function(e,r,i,n,s,o){var a=new Wt(e._pt,r,i,0,1,o?Ry:By);return e._pt=a,a.b=n,a.e=s,e._props.push(i),a},gx={deg:1,rad:1,turn:1},g6={grid:1,flex:1},tn=function t(e,r,i,n){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=wn.style,l=n6.test(r),c=e.tagName.toLowerCase()==="svg",h=(c?"client":"offset")+(l?"Width":"Height"),f=100,u=n==="px",d=n==="%",p,m,x,y;if(n===o||!s||gx[n]||gx[o])return s;if(o!=="px"&&!u&&(s=t(e,r,i,"px")),y=e.getCTM&&Oy(e),(d||o==="%")&&(vi[r]||~r.indexOf("adius")))return p=y?e.getBBox()[l?"width":"height"]:e[h],st(d?s/p*f:s/100*p);if(a[l?"width":"height"]=f+(u?o:n),m=~r.indexOf("adius")||n==="em"&&e.appendChild&&!c?e:e.parentNode,y&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===zi||!m.appendChild)&&(m=zi.body),x=m._gsap,x&&d&&x.width&&l&&x.time===er.time&&!x.uncache)return st(s/x.width*f);if(d&&(r==="height"||r==="width")){var _=e.style[r];e.style[r]=f+n,p=e[h],_?e.style[r]=_:Wn(e,r)}else(d||o==="%")&&!g6[Zr(m,"display")]&&(a.position=Zr(e,"position")),m===e&&(a.position="static"),m.appendChild(wn),p=wn[h],m.removeChild(wn),a.position="absolute";return l&&d&&(x=Fn(m),x.time=er.time,x.width=m[h]),st(u?p*s/f:p&&s?f/p*s:0)},hi=function(e,r,i,n){var s;return h0||Wf(),r in Yr&&r!=="transform"&&(r=Yr[r],~r.indexOf(",")&&(r=r.split(",")[0])),vi[r]&&r!=="transform"?(s=ca(e,n),s=r!=="transformOrigin"?s[r]:s.svg?s.origin:ql(Zr(e,Vt))+" "+s.zOrigin+"px"):(s=e.style[r],(!s||s==="auto"||n||~(s+"").indexOf("calc("))&&(s=Yl[r]&&Yl[r](e,r,i)||Zr(e,r)||Zv(e,r)||(r==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?tn(e,r,s,i)+i:s},_6=function(e,r,i,n){if(!i||i==="none"){var s=Xs(r,e,1),o=s&&Zr(e,s,1);o&&o!==i?(r=s,i=o):r==="borderColor"&&(i=Zr(e,"borderTopColor"))}var a=new Wt(this._pt,e.style,r,0,1,Ay),l=0,c=0,h,f,u,d,p,m,x,y,_,g,v,b;if(a.b=i,a.e=n,i+="",n+="",n==="auto"&&(m=e.style[r],e.style[r]=n,n=Zr(e,r)||n,m?e.style[r]=m:Wn(e,r)),h=[i,n],xy(h),i=h[0],n=h[1],u=i.match(xs)||[],b=n.match(xs)||[],b.length){for(;f=xs.exec(n);)x=f[0],_=n.substring(l,f.index),p?p=(p+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(p=1),x!==(m=u[c++]||"")&&(d=parseFloat(m)||0,v=m.substr((d+"").length),x.charAt(1)==="="&&(x=Ps(d,x)+v),y=parseFloat(x),g=x.substr((y+"").length),l=xs.lastIndex-g.length,g||(g=g||ir.units[r]||v,l===n.length&&(n+=g,a.e+=g)),v!==g&&(d=tn(e,r,m,g)||0),a._pt={_next:a._pt,p:_||c===1?_:",",s:d,c:y-d,m:p&&p<4||r==="zIndex"?Math.round:0});a.c=l<n.length?n.substring(l,n.length):""}else a.r=r==="display"&&n==="none"?Ry:By;return Vv.test(n)&&(a.e=0),this._pt=a,a},_x={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},v6=function(e){var r=e.split(" "),i=r[0],n=r[1]||"50%";return(i==="top"||i==="bottom"||n==="left"||n==="right")&&(e=i,i=n,n=e),r[0]=_x[i]||i,r[1]=_x[n]||n,r.join(" ")},y6=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var i=r.t,n=i.style,s=r.u,o=i._gsap,a,l,c;if(s==="all"||s===!0)n.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],vi[a]&&(l=1,a=a==="transformOrigin"?Vt:Je),Wn(i,a);l&&(Wn(i,Je),o&&(o.svg&&i.removeAttribute("transform"),ca(i,1),o.uncache=1,Dy(n)))}},Yl={clearProps:function(e,r,i,n,s){if(s.data!=="isFromStart"){var o=e._pt=new Wt(e._pt,r,i,0,0,y6);return o.u=n,o.pr=-10,o.tween=s,e._props.push(i),1}}},la=[1,0,0,1,0,0],ky={},Ny=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},vx=function(e){var r=Zr(e,Je);return Ny(r)?la:r.substr(7).match(Wv).map(st)},d0=function(e,r){var i=e._gsap||Fn(e),n=e.style,s=vx(e),o,a,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?la:s):(s===la&&!e.offsetParent&&e!==Bs&&!i.svg&&(l=n.display,n.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Bs.appendChild(e)),s=vx(e),l?n.display=l:Wn(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Bs.removeChild(e))),r&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Vf=function(e,r,i,n,s,o){var a=e._gsap,l=s||d0(e,!0),c=a.xOrigin||0,h=a.yOrigin||0,f=a.xOffset||0,u=a.yOffset||0,d=l[0],p=l[1],m=l[2],x=l[3],y=l[4],_=l[5],g=r.split(" "),v=parseFloat(g[0])||0,b=parseFloat(g[1])||0,E,S,C,R;i?l!==la&&(S=d*x-p*m)&&(C=v*(x/S)+b*(-m/S)+(m*_-x*y)/S,R=v*(-p/S)+b*(d/S)-(d*_-p*y)/S,v=C,b=R):(E=My(e),v=E.x+(~g[0].indexOf("%")?v/100*E.width:v),b=E.y+(~(g[1]||g[0]).indexOf("%")?b/100*E.height:b)),n||n!==!1&&a.smooth?(y=v-c,_=b-h,a.xOffset=f+(y*d+_*m)-y,a.yOffset=u+(y*p+_*x)-_):a.xOffset=a.yOffset=0,a.xOrigin=v,a.yOrigin=b,a.smooth=!!n,a.origin=r,a.originIsAbsolute=!!i,e.style[Vt]="0px 0px",o&&(Hi(o,a,"xOrigin",c,v),Hi(o,a,"yOrigin",h,b),Hi(o,a,"xOffset",f,a.xOffset),Hi(o,a,"yOffset",u,a.yOffset)),e.setAttribute("data-svg-origin",v+" "+b)},ca=function(e,r){var i=e._gsap||new yy(e);if("x"in i&&!r&&!i.uncache)return i;var n=e.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Zr(e,Vt)||"0",h,f,u,d,p,m,x,y,_,g,v,b,E,S,C,R,A,P,I,D,F,G,V,L,Y,ne,z,M,k,H,U,fe;return h=f=u=m=x=y=_=g=v=0,d=p=1,i.svg=!!(e.getCTM&&Oy(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(n[Je]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Je]!=="none"?l[Je]:"")),n.scale=n.rotate=n.translate="none"),S=d0(e,i.svg),i.svg&&(i.uncache?(Y=e.getBBox(),c=i.xOrigin-Y.x+"px "+(i.yOrigin-Y.y)+"px",L=""):L=!r&&e.getAttribute("data-svg-origin"),Vf(e,L||c,!!L||i.originIsAbsolute,i.smooth!==!1,S)),b=i.xOrigin||0,E=i.yOrigin||0,S!==la&&(P=S[0],I=S[1],D=S[2],F=S[3],h=G=S[4],f=V=S[5],S.length===6?(d=Math.sqrt(P*P+I*I),p=Math.sqrt(F*F+D*D),m=P||I?ns(I,P)*yn:0,_=D||F?ns(D,F)*yn+m:0,_&&(p*=Math.abs(Math.cos(_*Rs))),i.svg&&(h-=b-(b*P+E*D),f-=E-(b*I+E*F))):(fe=S[6],H=S[7],z=S[8],M=S[9],k=S[10],U=S[11],h=S[12],f=S[13],u=S[14],C=ns(fe,k),x=C*yn,C&&(R=Math.cos(-C),A=Math.sin(-C),L=G*R+z*A,Y=V*R+M*A,ne=fe*R+k*A,z=G*-A+z*R,M=V*-A+M*R,k=fe*-A+k*R,U=H*-A+U*R,G=L,V=Y,fe=ne),C=ns(-D,k),y=C*yn,C&&(R=Math.cos(-C),A=Math.sin(-C),L=P*R-z*A,Y=I*R-M*A,ne=D*R-k*A,U=F*A+U*R,P=L,I=Y,D=ne),C=ns(I,P),m=C*yn,C&&(R=Math.cos(C),A=Math.sin(C),L=P*R+I*A,Y=G*R+V*A,I=I*R-P*A,V=V*R-G*A,P=L,G=Y),x&&Math.abs(x)+Math.abs(m)>359.9&&(x=m=0,y=180-y),d=st(Math.sqrt(P*P+I*I+D*D)),p=st(Math.sqrt(V*V+fe*fe)),C=ns(G,V),_=Math.abs(C)>2e-4?C*yn:0,v=U?1/(U<0?-U:U):0),i.svg&&(L=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!Ny(Zr(e,Je)),L&&e.setAttribute("transform",L))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(d*=-1,_+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,_+=_<=0?180:-180)),r=r||i.uncache,i.x=h-((i.xPercent=h&&(!r&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=f-((i.yPercent=f&&(!r&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=u+o,i.scaleX=st(d),i.scaleY=st(p),i.rotation=st(m)+a,i.rotationX=st(x)+a,i.rotationY=st(y)+a,i.skewX=_+a,i.skewY=g+a,i.transformPerspective=v+o,(i.zOrigin=parseFloat(c.split(" ")[2])||!r&&i.zOrigin||0)&&(n[Vt]=ql(c)),i.xOffset=i.yOffset=0,i.force3D=ir.force3D,i.renderTransform=i.svg?E6:Fy?Ly:b6,i.uncache=0,i},ql=function(e){return(e=e.split(" "))[0]+" "+e[1]},Uh=function(e,r,i){var n=wt(r);return st(parseFloat(r)+parseFloat(tn(e,"x",i+"px",n)))+n},b6=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,Ly(e,r)},un="0deg",xo="0px",fn=") ",Ly=function(e,r){var i=r||this,n=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,h=i.rotationY,f=i.rotationX,u=i.skewX,d=i.skewY,p=i.scaleX,m=i.scaleY,x=i.transformPerspective,y=i.force3D,_=i.target,g=i.zOrigin,v="",b=y==="auto"&&e&&e!==1||y===!0;if(g&&(f!==un||h!==un)){var E=parseFloat(h)*Rs,S=Math.sin(E),C=Math.cos(E),R;E=parseFloat(f)*Rs,R=Math.cos(E),o=Uh(_,o,S*R*-g),a=Uh(_,a,-Math.sin(E)*-g),l=Uh(_,l,C*R*-g+g)}x!==xo&&(v+="perspective("+x+fn),(n||s)&&(v+="translate("+n+"%, "+s+"%) "),(b||o!==xo||a!==xo||l!==xo)&&(v+=l!==xo||b?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+fn),c!==un&&(v+="rotate("+c+fn),h!==un&&(v+="rotateY("+h+fn),f!==un&&(v+="rotateX("+f+fn),(u!==un||d!==un)&&(v+="skew("+u+", "+d+fn),(p!==1||m!==1)&&(v+="scale("+p+", "+m+fn),_.style[Je]=v||"translate(0, 0)"},E6=function(e,r){var i=r||this,n=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,h=i.skewY,f=i.scaleX,u=i.scaleY,d=i.target,p=i.xOrigin,m=i.yOrigin,x=i.xOffset,y=i.yOffset,_=i.forceCSS,g=parseFloat(o),v=parseFloat(a),b,E,S,C,R;l=parseFloat(l),c=parseFloat(c),h=parseFloat(h),h&&(h=parseFloat(h),c+=h,l+=h),l||c?(l*=Rs,c*=Rs,b=Math.cos(l)*f,E=Math.sin(l)*f,S=Math.sin(l-c)*-u,C=Math.cos(l-c)*u,c&&(h*=Rs,R=Math.tan(c-h),R=Math.sqrt(1+R*R),S*=R,C*=R,h&&(R=Math.tan(h),R=Math.sqrt(1+R*R),b*=R,E*=R)),b=st(b),E=st(E),S=st(S),C=st(C)):(b=f,C=u,E=S=0),(g&&!~(o+"").indexOf("px")||v&&!~(a+"").indexOf("px"))&&(g=tn(d,"x",o,"px"),v=tn(d,"y",a,"px")),(p||m||x||y)&&(g=st(g+p-(p*b+m*S)+x),v=st(v+m-(p*E+m*C)+y)),(n||s)&&(R=d.getBBox(),g=st(g+n/100*R.width),v=st(v+s/100*R.height)),R="matrix("+b+","+E+","+S+","+C+","+g+","+v+")",d.setAttribute("transform",R),_&&(d.style[Je]=R)},S6=function(e,r,i,n,s){var o=360,a=xt(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?yn:1),c=l-n,h=n+c+"deg",f,u;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*px)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*px)%o-~~(c/o)*o)),e._pt=u=new Wt(e._pt,r,i,n,c,o6),u.e=h,u.u="deg",e._props.push(i),u},yx=function(e,r){for(var i in r)e[i]=r[i];return e},C6=function(e,r,i){var n=yx({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,c,h,f,u,d,p;n.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[Je]=r,a=ca(i,1),Wn(i,Je),i.setAttribute("transform",c)):(c=getComputedStyle(i)[Je],o[Je]=r,a=ca(i,1),o[Je]=c);for(l in vi)c=n[l],h=a[l],c!==h&&s.indexOf(l)<0&&(d=wt(c),p=wt(h),f=d!==p?tn(i,l,c,p):parseFloat(c),u=parseFloat(h),e._pt=new Wt(e._pt,a,l,f,u-f,Gf),e._pt.u=p||0,e._props.push(l));yx(a,n)};$t("padding,margin,Width,Radius",function(t,e){var r="Top",i="Right",n="Bottom",s="Left",o=(e<3?[r,i,n,s]:[r+s,r+i,n+i,n+s]).map(function(a){return e<2?t+a:"border"+a+t});Yl[e>1?"border"+t:t]=function(a,l,c,h,f){var u,d;if(arguments.length<4)return u=o.map(function(p){return hi(a,p,c)}),d=u.join(" "),d.split(u[0]).length===5?u[0]:d;u=(h+"").split(" "),d={},o.forEach(function(p,m){return d[p]=u[m]=u[m]||u[(m-1)/2|0]}),a.init(l,d,f)}});var Uy={name:"css",register:Wf,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,i,n,s){var o=this._props,a=e.style,l=i.vars.startAt,c,h,f,u,d,p,m,x,y,_,g,v,b,E,S,C;h0||Wf(),this.styles=this.styles||Iy(e),C=this.styles.props,this.tween=i;for(m in r)if(m!=="autoRound"&&(h=r[m],!(Qt[m]&&by(m,r,i,n,e,s)))){if(d=typeof h,p=Yl[m],d==="function"&&(h=h.call(i,n,e,s),d=typeof h),d==="string"&&~h.indexOf("random(")&&(h=sa(h)),p)p(this,e,m,h,i)&&(S=1);else if(m.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(m)+"").trim(),h+="",Xi.lastIndex=0,Xi.test(c)||(x=wt(c),y=wt(h)),y?x!==y&&(c=tn(e,m,c,y)+y):x&&(h+=x),this.add(a,"setProperty",c,h,n,s,0,0,m),o.push(m),C.push(m,0,a[m]);else if(d!=="undefined"){if(l&&m in l?(c=typeof l[m]=="function"?l[m].call(i,n,e,s):l[m],xt(c)&&~c.indexOf("random(")&&(c=sa(c)),wt(c+"")||c==="auto"||(c+=ir.units[m]||wt(hi(e,m))||""),(c+"").charAt(1)==="="&&(c=hi(e,m))):c=hi(e,m),u=parseFloat(c),_=d==="string"&&h.charAt(1)==="="&&h.substr(0,2),_&&(h=h.substr(2)),f=parseFloat(h),m in Yr&&(m==="autoAlpha"&&(u===1&&hi(e,"visibility")==="hidden"&&f&&(u=0),C.push("visibility",0,a.visibility),Hi(this,a,"visibility",u?"inherit":"hidden",f?"inherit":"hidden",!f)),m!=="scale"&&m!=="transform"&&(m=Yr[m],~m.indexOf(",")&&(m=m.split(",")[0]))),g=m in vi,g){if(this.styles.save(m),v||(b=e._gsap,b.renderTransform&&!r.parseTransform||ca(e,r.parseTransform),E=r.smoothOrigin!==!1&&b.smooth,v=this._pt=new Wt(this._pt,a,Je,0,1,b.renderTransform,b,0,-1),v.dep=1),m==="scale")this._pt=new Wt(this._pt,b,"scaleY",b.scaleY,(_?Ps(b.scaleY,_+f):f)-b.scaleY||0,Gf),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){C.push(Vt,0,a[Vt]),h=v6(h),b.svg?Vf(e,h,0,E,0,this):(y=parseFloat(h.split(" ")[2])||0,y!==b.zOrigin&&Hi(this,b,"zOrigin",b.zOrigin,y),Hi(this,a,m,ql(c),ql(h)));continue}else if(m==="svgOrigin"){Vf(e,h,1,E,0,this);continue}else if(m in ky){S6(this,b,m,u,_?Ps(u,_+h):h);continue}else if(m==="smoothOrigin"){Hi(this,b,"smooth",b.smooth,h);continue}else if(m==="force3D"){b[m]=h;continue}else if(m==="transform"){C6(this,h,e);continue}}else m in a||(m=Xs(m)||m);if(g||(f||f===0)&&(u||u===0)&&!s6.test(h)&&m in a)x=(c+"").substr((u+"").length),f||(f=0),y=wt(h)||(m in ir.units?ir.units[m]:x),x!==y&&(u=tn(e,m,c,y)),this._pt=new Wt(this._pt,g?b:a,m,u,(_?Ps(u,_+f):f)-u,!g&&(y==="px"||m==="zIndex")&&r.autoRound!==!1?l6:Gf),this._pt.u=y||0,x!==y&&y!=="%"&&(this._pt.b=c,this._pt.r=a6);else if(m in a)_6.call(this,e,m,c,_?_+h:h);else if(m in e)this.add(e,m,c||e[m],_?_+h:h,n,s);else if(m!=="parseTransform"){t0(m,h);continue}g||(m in a?C.push(m,0,a[m]):C.push(m,1,c||e[m])),o.push(m)}}S&&wy(this)},render:function(e,r){if(r.tween._time||!u0())for(var i=r._pt;i;)i.r(e,i.d),i=i._next;else r.styles.revert()},get:hi,aliases:Yr,getSetter:function(e,r,i){var n=Yr[r];return n&&n.indexOf(",")<0&&(r=n),r in vi&&r!==Vt&&(e._gsap.x||hi(e,"x"))?i&&dx===i?r==="scale"?f6:u6:(dx=i||{})&&(r==="scale"?d6:p6):e.style&&!Qd(e.style[r])?c6:~r.indexOf("-")?h6:l0(e,r)},core:{_removeProperty:Wn,_getMatrix:d0}};Yt.utils.checkPrefix=Xs;Yt.core.getStyleSaver=Iy;(function(t,e,r,i){var n=$t(t+","+e+","+r,function(s){vi[s]=1});$t(e,function(s){ir.units[s]="deg",ky[s]=1}),Yr[n[13]]=t+","+e,$t(i,function(s){var o=s.split(":");Yr[o[1]]=n[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");$t("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){ir.units[t]="px"});Yt.registerPlugin(Uy);var ot=Yt.registerPlugin(Uy)||Yt;ot.core.Tween;class T6 extends Ue{constructor(r,i,n){super();pe(this,"mInfo");pe(this,"mEventManager");this.mEventManager=n,this.mInfo={sceneId:r,name:i}}get info(){return this.mInfo}get evtManager(){return this.mEventManager}async init(){}async startGame(){}usePointerEvent(){this.on("pointermove",i=>{i.preventDefault(),i.stopPropagation(),i.defaultPrevented=!0,this.onPointerMove(i)}),this.on("pointerdown",i=>{i.preventDefault(),i.stopPropagation(),i.defaultPrevented=!0,this.onPointerDown(i)});const r=["up","cancel","leave"];for(let i=0;i<r.length;i++){const n=`pointer${r[i]}`;this.on(n,s=>{s.preventDefault(),s.stopPropagation(),s.defaultPrevented=!0,this.disablePointerEvt(s)})}}onPointerMove(r){}onPointerDown(r){}disablePointerEvt(r){}async endGame(){ot.globalTimeline.clear(),this.removeChildren()}}function dn(t){t.sort(()=>Math.random()-.5)}var We=(t=>(t[t._first=0]="_first",t[t.eBar1=1]="eBar1",t[t.eBar2=2]="eBar2",t[t.eBar3=3]="eBar3",t[t.eCherry=4]="eCherry",t[t.eJoker=5]="eJoker",t[t.eBell=6]="eBell",t[t.eWaterMelon=7]="eWaterMelon",t[t.eOrange=8]="eOrange",t[t.eSeven=9]="eSeven",t[t.eStar=10]="eStar",t[t.eTarget=11]="eTarget",t[t._last=12]="_last",t))(We||{});function _t(t){switch(t){case 1:return"bar1";case 2:return"bar2";case 3:return"bar3";case 4:return"cherry";case 5:return"joker";case 6:return"bell";case 7:return"watermelon";case 8:return"orange";case 9:return"seven";case 10:return"star";case 11:return"target";default:return"undefined"}}class A6{checkReelIconCount(e,r){let i=0;for(const n of r)i+=e.includes(n)?1:0;return i}getRandomIcon(e){let r=1+Math.floor(Math.random()*10);do r=0+1+Math.floor(Math.random()*(12-2));while(e.includes(r));return r}_makerZeroProc4Joker(e,r){return[5].includes(e[0])&&[5].includes(e[1])&&[5].includes(e[2])&&[5].includes(e[3])?(e[0]=this.getRandomIcon(r?[5,r[0]]:[5]),e[1]=this.getRandomIcon(r?[5,r[1]]:[5]),e[2]=this.getRandomIcon(r?[5,r[2]]:[5]),e[3]=this.getRandomIcon(r?[5,r[3]]:[5]),!0):!1}_makerZeroProc3Joker(e,r){return[5].includes(e[0])&&[5].includes(e[1])&&[5].includes(e[2])?(e[0]=this.getRandomIcon(r?[5,r[0]]:[5]),e[1]=this.getRandomIcon(r?[5,r[1]]:[5]),e[2]=this.getRandomIcon(r?[5,r[2]]:[5]),!0):[5].includes(e[1])&&[5].includes(e[2])&&[5].includes(e[3])?(e[1]=this.getRandomIcon(r?[5,r[1]]:[5]),e[2]=this.getRandomIcon(r?[5,r[2]]:[5]),e[3]=this.getRandomIcon(r?[5,r[3]]:[5]),!0):!1}_makerZeroProc37st(e,r){return[3,5].includes(e[0])&&[9,5].includes(e[1])&&[10,5].includes(e[2])&&[11,5].includes(e[3])?(e[0]=this.getRandomIcon(r?[3,r[0]]:[3]),e[1]=this.getRandomIcon(r?[9,r[1]]:[9]),e[2]=this.getRandomIcon(r?[10,r[2]]:[10]),e[3]=this.getRandomIcon(r?[11,r[3]]:[11]),!0):!1}_makerZeroProc4bars(e,r){return this.checkReelIconCount([5,3,2,1],e)==4?(e[0]=this.getRandomIcon(r?[5,3,2,1,r[0]]:[5,3,2,1]),e[1]=this.getRandomIcon(r?[5,3,2,1,r[1]]:[5,3,2,1]),e[2]=this.getRandomIcon(r?[5,3,2,1,r[2]]:[5,3,2,1]),e[3]=this.getRandomIcon(r?[5,3,2,1,r[3]]:[5,3,2,1]),!0):!1}_makerZeroProc3bars(e,r){return this.checkReelIconCount([5,3,2,1],e.slice(0,3))==3?(e[0]=this.getRandomIcon(r?[5,3,2,1,r[0]]:[5,3,2,1]),e[1]=this.getRandomIcon(r?[5,3,2,1,r[1]]:[5,3,2,1]),e[2]=this.getRandomIcon(r?[5,3,2,1,r[2]]:[5,3,2,1]),!0):this.checkReelIconCount([5,3,2,1],e.slice(1,4))==3?(e[1]=this.getRandomIcon(r?[5,3,2,1,r[1]]:[5,3,2,1]),e[2]=this.getRandomIcon(r?[5,3,2,1,r[2]]:[5,3,2,1]),e[3]=this.getRandomIcon(r?[5,3,2,1,r[3]]:[5,3,2,1]),!0):!1}_makeZeroProc4Prize(e,r,i){return this.checkReelIconCount([5,e],r)==4?(r[0]=this.getRandomIcon(i?[5,e,i[0]]:[5,e]),r[1]=this.getRandomIcon(i?[5,e,i[1]]:[5,e]),r[2]=this.getRandomIcon(i?[5,e,i[2]]:[5,e]),r[3]=this.getRandomIcon(i?[5,e,i[3]]:[5,e]),!0):!1}_makeZeroProc3Prize(e,r,i){return this.checkReelIconCount([5,e],r.slice(0,3))==3?(r[0]=this.getRandomIcon(i?[5,e,i[0]]:[5,e]),r[1]=this.getRandomIcon(i?[5,e,i[1]]:[5,e]),r[2]=this.getRandomIcon(i?[5,e,i[2]]:[5,e]),!0):this.checkReelIconCount([5,e],r.slice(1,4))==3?(r[1]=this.getRandomIcon(i?[5,e,i[1]]:[5,e]),r[2]=this.getRandomIcon(i?[5,e,i[2]]:[5,e]),r[3]=this.getRandomIcon(i?[5,e,i[3]]:[5,e]),!0):!1}_makeZeroProc2Prize(e,r,i){return this.checkReelIconCount([5,e],r.slice(0,2))==2?(r[0]=this.getRandomIcon(i?[5,e,i[0]]:[5,e]),r[1]=this.getRandomIcon(i?[5,e,i[1]]:[5,e]),!0):this.checkReelIconCount([5,e],r.slice(2,4))==2?(r[2]=this.getRandomIcon(i?[5,e,i[2]]:[5,e]),r[3]=this.getRandomIcon(i?[5,e,i[3]]:[5,e]),!0):!1}_makeZeroProcCherry(e,r){return this.checkReelIconCount([5,4],e.slice(0,2))==2?(e[0]=this.getRandomIcon(r?[5,4,r[0]]:[5,4]),e[1]=this.getRandomIcon(r?[5,4,r[1]]:[5,4]),!0):this.checkReelIconCount([5,4],e.slice(2,4))==2?(e[2]=this.getRandomIcon(r?[5,4,r[2]]:[5,4]),e[3]=this.getRandomIcon(r?[5,4,r[3]]:[5,4]),!0):e[0]==4?(e[0]=this.getRandomIcon(r?[5,4,r[0]]:[5,4]),!0):e[3]==4?(e[3]=this.getRandomIcon(r?[5,4,r[3]]:[5,4]),!0):!1}_makeAvoidTarget(e,r){if(r!=null){if(e[0]==r[0])return e[0]=this.getRandomIcon([r[0]]),!0;if(e[1]==r[1])return e[1]=this.getRandomIcon([r[1]]),!0;if(e[2]==r[2])return e[2]=this.getRandomIcon([r[2]]),!0;if(e[3]==r[3])return e[3]=this.getRandomIcon([r[3]]),!0}return!1}makePrizeLine0(e){const r=[this.getRandomIcon(e?[e[0]]:[]),this.getRandomIcon(e?[e[1]]:[]),this.getRandomIcon(e?[e[2]]:[]),this.getRandomIcon(e?[e[3]]:[])];for(;;)if(!this._makerZeroProc4Joker(r,e)&&!this._makerZeroProc3Joker(r,e)&&!this._makerZeroProc37st(r,e)&&!this._makerZeroProc4bars(r,e)&&!this._makerZeroProc3bars(r,e)&&!this._makeZeroProc4Prize(6,r,e)&&!this._makeZeroProc4Prize(4,r,e)&&!this._makeZeroProc4Prize(5,r,e)&&!this._makeZeroProc4Prize(8,r,e)&&!this._makeZeroProc4Prize(9,r,e)&&!this._makeZeroProc4Prize(10,r,e)&&!this._makeZeroProc4Prize(11,r,e)&&!this._makeZeroProc4Prize(7,r,e)&&!this._makeZeroProc3Prize(6,r,e)&&!this._makeZeroProc3Prize(4,r,e)&&!this._makeZeroProc3Prize(5,r,e)&&!this._makeZeroProc3Prize(8,r,e)&&!this._makeZeroProc3Prize(9,r,e)&&!this._makeZeroProc3Prize(10,r,e)&&!this._makeZeroProc3Prize(11,r,e)&&!this._makeZeroProc3Prize(7,r,e)&&!this._makeZeroProc2Prize(9,r,e)&&!this._makeZeroProc2Prize(10,r,e)&&!this._makeZeroProc2Prize(11,r,e)&&!this._makeZeroProcCherry(r,e)&&!this._makeAvoidTarget(r,e))return{iconTable:r,displayIconTable:r,iconAniFlag:[!1,!1,!1,!1]}}make1CherryLine(e){const r=Math.round(Math.random())==1,i=this.makePrizeLine0(e);return r?(i.iconAniFlag=[!0,!1,!1,!1],i.iconTable[0]=4,[4,5].includes(i.iconTable[1])&&(i.iconTable[1]=this.getRandomIcon(e==null?[4,5]:[4,5,e[1]]))):(i.iconAniFlag=[!1,!1,!1,!0],i.iconTable[3]=4,[4,5].includes(i.iconTable[2])&&(i.iconTable[2]=this.getRandomIcon(e==null?[4,5]:[4,5,e[2]]))),i.displayIconTable={...i.iconTable},i}make2CherryLine(e){const r=Math.round(Math.random())==1,i=this.makePrizeLine0(e);return r?(i.iconAniFlag=[!0,!0,!1,!1],i.iconTable[0]=4,i.iconTable[1]=4,[4,5].includes(i.iconTable[2])&&(i.iconTable[2]=this.getRandomIcon(e==null?[4,5]:[4,5,e[2]]))):(i.iconAniFlag=[!1,!1,!0,!0],i.iconTable[2]=4,i.iconTable[3]=4,[4,5].includes(i.iconTable[1])&&(i.iconTable[1]=this.getRandomIcon(e==null?[4,5]:[4,5,e[1]]))),i.displayIconTable={...i.iconTable},i}make3BarNLine(e){const r=Math.round(Math.random())==1,i=this.makePrizeLine0(e);if(r){const n=[1,1,2,2,3,3];dn(n),i.iconAniFlag=[!0,!0,!0,!1],i.iconTable[0]=n[0],i.iconTable[1]=n[1],i.iconTable[2]=n[2],[1,2,3,5].includes(i.iconTable[3])&&(i.iconTable[3]=this.getRandomIcon(e==null?[1,2,3,5,4]:[1,2,3,5,4,e[3]]))}else{const n=[1,1,2,2,3,3];dn(n),i.iconAniFlag=[!1,!0,!0,!0],i.iconTable[1]=n[0],i.iconTable[2]=n[1],i.iconTable[3]=n[2],[1,2,3,5].includes(i.iconTable[0])&&(i.iconTable[0]=this.getRandomIcon(e==null?[1,2,3,4,5]:[1,2,3,4,5,e[0]]))}return i.displayIconTable={...i.iconTable},i}make4BarNLine(e=0){const r=[1,1,1,2,2,2,3,3,3];dn(r);const i={iconAniFlag:[!0,!0,!0,!0],iconTable:[r[0],r[1],r[2],r[3]],displayIconTable:[r[0],r[1],r[2],r[3]]};if(e>0){e>2&&(e=2);const n=[0,1,2,3];dn(n);for(let s=0;s<e;s++)i.displayIconTable[n[s]]=5}return i}make2PrizeLine(e,r){const i=Math.round(Math.random())==1,n=this.makePrizeLine0(r);return i?(n.iconAniFlag=[!0,!0,!1,!1],n.iconTable[0]=e,n.iconTable[1]=e,[e,5].includes(n.iconTable[2])&&(n.iconTable[2]=this.getRandomIcon(r==null?[e,5]:[e,5,r[2]]))):(n.iconAniFlag=[!1,!1,!0,!0],n.iconTable[2]=e,n.iconTable[3]=e,[e,5].includes(n.iconTable[1])&&(n.iconTable[1]=this.getRandomIcon(r==null?[e,5]:[e,5,r[1]]))),n.displayIconTable={...n.iconTable},n}make3PrizeLine(e,r,i=0){const n=Math.round(Math.random())==1,s=this.makePrizeLine0(r);let o=[];if(i>0&&i>1&&(i=1),n?(i>0&&(o=[0,1,2]),s.iconAniFlag=[!0,!0,!0,!1],s.iconTable[0]=e,s.iconTable[1]=e,s.iconTable[2]=e,[1,2,3].includes(e)?[1,2,3,5].includes(s.iconTable[3])&&(s.iconTable[3]=this.getRandomIcon(r==null?[1,2,3,5,4]:[1,2,3,5,4,r[3]])):[e,5].includes(s.iconTable[3])&&(s.iconTable[3]=this.getRandomIcon(r==null?[e,5,4]:[e,5,4,r[3]]))):(i>0&&(o=[1,2,3]),s.iconAniFlag=[!1,!0,!0,!0],s.iconTable[1]=e,s.iconTable[2]=e,s.iconTable[3]=e,[1,2,3].includes(e)?[1,2,3,5].includes(s.iconTable[0])&&(s.iconTable[0]=this.getRandomIcon(r==null?[1,2,3,4,5]:[1,2,3,4,5,r[0]])):[e,5].includes(s.iconTable[0])&&(s.iconTable[0]=this.getRandomIcon(r==null?[e,4,5]:[e,4,5,r[0]]))),s.displayIconTable={...s.iconTable},i>0){dn(o);for(let a=0;a<i;a++)s.displayIconTable[o[a]]=5}return s}make4PrizeLine(e,r=0){const i={iconAniFlag:[!0,!0,!0,!0],iconTable:[e,e,e,e],displayIconTable:[e,e,e,e]};if(r>0){r>3&&(r=3);const n=[0,1,2,3];dn(n);for(let s=0;s<r;s++)i.displayIconTable[n[s]]=5}return i}make37stPrizeLine(e=0){const r={iconAniFlag:[!0,!0,!0,!0],iconTable:[3,9,10,11],displayIconTable:[3,9,10,11]};if(e>0){e>3&&(e=3);const i=[0,1,2,3];dn(i);for(let n=0;n<e;n++)r.displayIconTable[i[n]]=5}return r}printLine(e){console.log(`${_t(e[0])}	${_t(e[1])}	${_t(e[2])}	${_t(e[3])}`)}printPattern(e){console.log(`${_t(e[0][0])}	${_t(e[1][0])}	${_t(e[2][0])}	${_t(e[3][0])}`),console.log(`${_t(e[0][1])}	${_t(e[1][1])}	${_t(e[2][1])}	${_t(e[3][1])}`),console.log(`${_t(e[0][2])}	${_t(e[1][2])}	${_t(e[2][2])}	${_t(e[3][2])}`),console.log("")}}const bx=[1,2,4,5,7,8,10,14,20,35,40,50,70,80,100,120,160,200,240,250,320,400,480,500,600,640,800,960,1e3,1200,1250,1600,2e3,2400,2500,3200,4e3,4800,5e3],w6=()=>({1:[{prize:w.e1Cherry,center:!0,dividend:1,baseScore:1},{prize:w.e1Cherry,center:!1,dividend:1,baseScore:1},{prize:w.e2Target,center:!0,dividend:1,baseScore:1},{prize:w.e2Target,center:!1,dividend:1,baseScore:1},{prize:w.e2Star,center:!0,dividend:1,baseScore:1},{prize:w.e2Star,center:!1,dividend:1,baseScore:1},{prize:w.e2Seven,center:!0,dividend:1,baseScore:1},{prize:w.e2Seven,center:!1,dividend:1,baseScore:1}],2:[{prize:w.e1Cherry,center:!0,dividend:2,baseScore:1},{prize:w.e1Cherry,center:!1,dividend:2,baseScore:1},{prize:w.e2Cherry,center:!0,dividend:1,baseScore:2},{prize:w.e2Cherry,center:!1,dividend:1,baseScore:2},{prize:w.e2Target,center:!0,dividend:2,baseScore:1},{prize:w.e2Target,center:!1,dividend:2,baseScore:1},{prize:w.e2Star,center:!0,dividend:2,baseScore:1},{prize:w.e2Star,center:!1,dividend:2,baseScore:1},{prize:w.e2Seven,center:!0,dividend:2,baseScore:1},{prize:w.e2Seven,center:!1,dividend:2,baseScore:1}],4:[{prize:w.e2Cherry,center:!0,dividend:2,baseScore:2},{prize:w.e2Cherry,center:!1,dividend:2,baseScore:2},{prize:w.e3Cherry,center:!0,dividend:1,baseScore:4},{prize:w.e3Cherry,center:!1,dividend:1,baseScore:4},{prize:w.e3Orange,center:!0,dividend:1,baseScore:4},{prize:w.e3Orange,center:!1,dividend:1,baseScore:4},{prize:w.e3WaterMelon,center:!0,dividend:1,baseScore:4},{prize:w.e3WaterMelon,center:!1,dividend:1,baseScore:4}],5:[{prize:w.e1Cherry,center:!0,dividend:5,baseScore:1},{prize:w.e1Cherry,center:!1,dividend:5,baseScore:1},{prize:w.e2Target,center:!0,dividend:5,baseScore:1},{prize:w.e2Target,center:!1,dividend:5,baseScore:1},{prize:w.e2Star,center:!0,dividend:5,baseScore:1},{prize:w.e2Star,center:!1,dividend:5,baseScore:1},{prize:w.e2Seven,center:!0,dividend:5,baseScore:1},{prize:w.e2Seven,center:!1,dividend:5,baseScore:1}],7:[{prize:w.e4Cherry,center:!0,dividend:1,baseScore:7},{prize:w.e4Cherry,center:!1,dividend:1,baseScore:7},{prize:w.e4Orange,center:!0,dividend:1,baseScore:7},{prize:w.e4Orange,center:!1,dividend:1,baseScore:7},{prize:w.e4WaterMelon,center:!0,dividend:1,baseScore:7},{prize:w.e4WaterMelon,center:!1,dividend:1,baseScore:7},{prize:w.e3Bell,center:!0,dividend:1,baseScore:7},{prize:w.e3Bell,center:!1,dividend:1,baseScore:7},{prize:w.e3Target,center:!0,dividend:1,baseScore:7},{prize:w.e3Target,center:!1,dividend:1,baseScore:7},{prize:w.e3Star,center:!0,dividend:1,baseScore:7},{prize:w.e3Star,center:!1,dividend:1,baseScore:7},{prize:w.e3Seven,center:!0,dividend:1,baseScore:7},{prize:w.e3Seven,center:!1,dividend:1,baseScore:7},{prize:w.e3BarN,center:!0,dividend:1,baseScore:7},{prize:w.e3BarN,center:!1,dividend:1,baseScore:7}],8:[{prize:w.e3Cherry,center:!0,dividend:2,baseScore:4},{prize:w.e3Cherry,center:!1,dividend:2,baseScore:4},{prize:w.e3Orange,center:!0,dividend:2,baseScore:4},{prize:w.e3Orange,center:!1,dividend:2,baseScore:4},{prize:w.e3WaterMelon,center:!0,dividend:2,baseScore:4},{prize:w.e3WaterMelon,center:!1,dividend:2,baseScore:4}],10:[{prize:w.e1Cherry,center:!0,dividend:10,baseScore:1},{prize:w.e1Cherry,center:!1,dividend:10,baseScore:1},{prize:w.e2Cherry,center:!0,dividend:5,baseScore:2},{prize:w.e2Cherry,center:!1,dividend:5,baseScore:2},{prize:w.e2Target,center:!0,dividend:10,baseScore:1},{prize:w.e2Target,center:!1,dividend:10,baseScore:1},{prize:w.e2Star,center:!0,dividend:10,baseScore:1},{prize:w.e2Star,center:!1,dividend:10,baseScore:1},{prize:w.e2Seven,center:!0,dividend:10,baseScore:1},{prize:w.e2Seven,center:!1,dividend:10,baseScore:1},{prize:w.e4BarN,center:!0,dividend:1,baseScore:10},{prize:w.e4BarN,center:!1,dividend:1,baseScore:10}],14:[{prize:w.e4Cherry,center:!0,dividend:2,baseScore:7},{prize:w.e4Cherry,center:!1,dividend:2,baseScore:7},{prize:w.e4Orange,center:!0,dividend:2,baseScore:7},{prize:w.e4Orange,center:!1,dividend:2,baseScore:7},{prize:w.e4WaterMelon,center:!0,dividend:2,baseScore:7},{prize:w.e4WaterMelon,center:!1,dividend:2,baseScore:7},{prize:w.e3Bell,center:!0,dividend:2,baseScore:7},{prize:w.e3Bell,center:!1,dividend:2,baseScore:7},{prize:w.e3Target,center:!0,dividend:2,baseScore:7},{prize:w.e3Target,center:!1,dividend:2,baseScore:7},{prize:w.e3Star,center:!0,dividend:2,baseScore:7},{prize:w.e3Star,center:!1,dividend:2,baseScore:7},{prize:w.e3Seven,center:!0,dividend:2,baseScore:7},{prize:w.e3Seven,center:!1,dividend:2,baseScore:7},{prize:w.e3BarN,center:!0,dividend:2,baseScore:7},{prize:w.e3BarN,center:!1,dividend:2,baseScore:7}],20:[{prize:w.e2Cherry,center:!0,dividend:10,baseScore:2},{prize:w.e2Cherry,center:!1,dividend:10,baseScore:2},{prize:w.e3Cherry,center:!0,dividend:5,baseScore:4},{prize:w.e3Cherry,center:!1,dividend:5,baseScore:4},{prize:w.e3Orange,center:!0,dividend:5,baseScore:4},{prize:w.e3Orange,center:!1,dividend:5,baseScore:4},{prize:w.e3WaterMelon,center:!0,dividend:5,baseScore:4},{prize:w.e3WaterMelon,center:!1,dividend:5,baseScore:4},{prize:w.e4Bell,center:!1,dividend:1,baseScore:20},{prize:w.e3Bar1,center:!1,dividend:1,baseScore:20},{prize:w.e4BarN,center:!0,dividend:2,baseScore:10},{prize:w.e4BarN,center:!1,dividend:2,baseScore:10}],35:[{prize:w.e4Cherry,center:!0,dividend:5,baseScore:7},{prize:w.e4Cherry,center:!1,dividend:5,baseScore:7},{prize:w.e4Orange,center:!0,dividend:5,baseScore:7},{prize:w.e4Orange,center:!1,dividend:5,baseScore:7},{prize:w.e4WaterMelon,center:!0,dividend:5,baseScore:7},{prize:w.e4WaterMelon,center:!1,dividend:5,baseScore:7},{prize:w.e3Bell,center:!0,dividend:5,baseScore:7},{prize:w.e3Bell,center:!1,dividend:5,baseScore:7},{prize:w.e3Target,center:!0,dividend:5,baseScore:7},{prize:w.e3Target,center:!1,dividend:5,baseScore:7},{prize:w.e3Star,center:!0,dividend:5,baseScore:7},{prize:w.e3Star,center:!1,dividend:5,baseScore:7},{prize:w.e3Seven,center:!0,dividend:5,baseScore:7},{prize:w.e3Seven,center:!1,dividend:5,baseScore:7},{prize:w.e3BarN,center:!0,dividend:5,baseScore:7},{prize:w.e3BarN,center:!1,dividend:5,baseScore:7}],40:[{prize:w.e3Cherry,center:!0,dividend:10,baseScore:4},{prize:w.e3Cherry,center:!1,dividend:10,baseScore:4},{prize:w.e3Orange,center:!0,dividend:10,baseScore:4},{prize:w.e3Orange,center:!1,dividend:10,baseScore:4},{prize:w.e3WaterMelon,center:!0,dividend:10,baseScore:4},{prize:w.e3WaterMelon,center:!1,dividend:10,baseScore:4},{prize:w.e4Bell,center:!0,dividend:1,baseScore:40},{prize:w.e4Bell,center:!1,dividend:2,baseScore:20},{prize:w.e3Bar1,center:!0,dividend:1,baseScore:40},{prize:w.e3Bar1,center:!1,dividend:2,baseScore:20}],50:[{prize:w.e3Bar2,center:!1,dividend:1,baseScore:50},{prize:w.e4BarN,center:!0,dividend:5,baseScore:10},{prize:w.e4BarN,center:!1,dividend:5,baseScore:10}],70:[{prize:w.e4Cherry,center:!0,dividend:10,baseScore:7},{prize:w.e4Cherry,center:!1,dividend:10,baseScore:7},{prize:w.e4Orange,center:!0,dividend:10,baseScore:7},{prize:w.e4Orange,center:!1,dividend:10,baseScore:7},{prize:w.e4WaterMelon,center:!0,dividend:10,baseScore:7},{prize:w.e4WaterMelon,center:!1,dividend:10,baseScore:7},{prize:w.e3Bell,center:!0,dividend:10,baseScore:7},{prize:w.e3Bell,center:!1,dividend:10,baseScore:7},{prize:w.e3Target,center:!0,dividend:10,baseScore:7},{prize:w.e3Target,center:!1,dividend:10,baseScore:7},{prize:w.e3Star,center:!0,dividend:10,baseScore:7},{prize:w.e3Star,center:!1,dividend:10,baseScore:7},{prize:w.e3Seven,center:!0,dividend:10,baseScore:7},{prize:w.e3Seven,center:!1,dividend:10,baseScore:7},{prize:w.e3BarN,center:!0,dividend:10,baseScore:7},{prize:w.e3BarN,center:!1,dividend:10,baseScore:7}],80:[{prize:w.e4Bell,center:!0,dividend:2,baseScore:40},{prize:w.e3Bar1,center:!0,dividend:2,baseScore:40}],100:[{prize:w.e4Bell,center:!1,dividend:5,baseScore:20},{prize:w.e3Bar1,center:!1,dividend:5,baseScore:20},{prize:w.e3Bar2,center:!0,dividend:1,baseScore:100},{prize:w.e3Bar2,center:!1,dividend:2,baseScore:50},{prize:w.e3Bar3,center:!1,dividend:1,baseScore:100},{prize:w.e4BarN,center:!0,dividend:10,baseScore:10},{prize:w.e4BarN,center:!1,dividend:10,baseScore:10}],120:[{prize:w.e4Target,center:!1,dividend:1,baseScore:120},{prize:w.e4Star,center:!1,dividend:1,baseScore:120},{prize:w.e4Seven,center:!1,dividend:1,baseScore:120},{prize:w.e4Joker,center:!1,dividend:1,baseScore:120}],160:[{prize:w.e4Bar1,center:!1,dividend:1,baseScore:160}],200:[{prize:w.e4Bell,center:!0,dividend:5,baseScore:40},{prize:w.e4Bell,center:!1,dividend:10,baseScore:20},{prize:w.e3Bar1,center:!0,dividend:5,baseScore:40},{prize:w.e3Bar1,center:!1,dividend:10,baseScore:20},{prize:w.e3Bar2,center:!0,dividend:2,baseScore:100},{prize:w.e4Bar2,center:!1,dividend:1,baseScore:200},{prize:w.e3Bar3,center:!0,dividend:1,baseScore:200},{prize:w.e3Bar3,center:!1,dividend:2,baseScore:100}],240:[{prize:w.e4Target,center:!0,dividend:1,baseScore:240},{prize:w.e4Target,center:!1,dividend:2,baseScore:120},{prize:w.e4Star,center:!0,dividend:1,baseScore:240},{prize:w.e4Star,center:!1,dividend:2,baseScore:120},{prize:w.e4Seven,center:!0,dividend:1,baseScore:240},{prize:w.e4Seven,center:!1,dividend:2,baseScore:120},{prize:w.e4Bar3,center:!1,dividend:1,baseScore:240},{prize:w.e4Joker,center:!0,dividend:1,baseScore:240},{prize:w.e4Joker,center:!1,dividend:2,baseScore:120}],250:[{prize:w.e3Bar2,center:!1,dividend:5,baseScore:50},{prize:w.e37ST,center:!1,dividend:1,baseScore:250}],320:[{prize:w.e4Bar1,center:!0,dividend:1,baseScore:320},{prize:w.e4Bar1,center:!1,dividend:2,baseScore:160}],400:[{prize:w.e4Bell,center:!0,dividend:10,baseScore:40},{prize:w.e3Bar1,center:!0,dividend:10,baseScore:40},{prize:w.e4Bar2,center:!0,dividend:1,baseScore:400},{prize:w.e4Bar2,center:!1,dividend:2,baseScore:200},{prize:w.e3Bar3,center:!0,dividend:2,baseScore:200}],480:[{prize:w.e4Target,center:!0,dividend:2,baseScore:240},{prize:w.e4Star,center:!0,dividend:2,baseScore:240},{prize:w.e4Seven,center:!0,dividend:2,baseScore:240},{prize:w.e4Bar3,center:!0,dividend:1,baseScore:480},{prize:w.e4Bar3,center:!1,dividend:2,baseScore:240},{prize:w.e4Joker,center:!0,dividend:2,baseScore:240}],500:[{prize:w.e3Bar2,center:!0,dividend:5,baseScore:100},{prize:w.e3Bar2,center:!1,dividend:10,baseScore:50},{prize:w.e3Bar3,center:!1,dividend:5,baseScore:100},{prize:w.e37ST,center:!0,dividend:1,baseScore:500},{prize:w.e37ST,center:!1,dividend:2,baseScore:250}],600:[{prize:w.e4Target,center:!1,dividend:5,baseScore:120},{prize:w.e4Star,center:!1,dividend:5,baseScore:120},{prize:w.e4Seven,center:!1,dividend:5,baseScore:120},{prize:w.e4Joker,center:!1,dividend:5,baseScore:120}],640:[{prize:w.e4Bar1,center:!0,dividend:2,baseScore:320}],800:[{prize:w.e4Bar1,center:!1,dividend:5,baseScore:160},{prize:w.e4Bar2,center:!0,dividend:2,baseScore:400}],960:[{prize:w.e4Bar3,center:!0,dividend:2,baseScore:480}],1e3:[{prize:w.e3Bar2,center:!0,dividend:10,baseScore:100},{prize:w.e4Bar2,center:!1,dividend:5,baseScore:200},{prize:w.e3Bar3,center:!0,dividend:5,baseScore:200},{prize:w.e3Bar3,center:!1,dividend:10,baseScore:100},{prize:w.e37ST,center:!0,dividend:2,baseScore:500}],1200:[{prize:w.e4Target,center:!0,dividend:5,baseScore:240},{prize:w.e4Target,center:!1,dividend:10,baseScore:120},{prize:w.e4Star,center:!0,dividend:5,baseScore:240},{prize:w.e4Star,center:!1,dividend:10,baseScore:120},{prize:w.e4Seven,center:!0,dividend:5,baseScore:240},{prize:w.e4Seven,center:!1,dividend:10,baseScore:120},{prize:w.e4Bar3,center:!1,dividend:5,baseScore:240},{prize:w.e4Joker,center:!0,dividend:5,baseScore:240},{prize:w.e4Joker,center:!1,dividend:10,baseScore:120}],1250:[{prize:w.e37ST,center:!1,dividend:5,baseScore:250}],1600:[{prize:w.e4Bar1,center:!0,dividend:5,baseScore:320},{prize:w.e4Bar1,center:!1,dividend:10,baseScore:160}],2e3:[{prize:w.e4Bar2,center:!0,dividend:5,baseScore:400},{prize:w.e4Bar2,center:!1,dividend:10,baseScore:200},{prize:w.e3Bar3,center:!0,dividend:10,baseScore:200}],2400:[{prize:w.e4Target,center:!0,dividend:10,baseScore:240},{prize:w.e4Star,center:!0,dividend:10,baseScore:240},{prize:w.e4Seven,center:!0,dividend:10,baseScore:240},{prize:w.e4Bar3,center:!0,dividend:5,baseScore:480},{prize:w.e4Bar3,center:!1,dividend:10,baseScore:240},{prize:w.e4Joker,center:!0,dividend:10,baseScore:240}],2500:[{prize:w.e37ST,center:!0,dividend:5,baseScore:500},{prize:w.e37ST,center:!1,dividend:10,baseScore:250}],3200:[{prize:w.e4Bar1,center:!0,dividend:10,baseScore:320}],4e3:[{prize:w.e4Bar2,center:!0,dividend:10,baseScore:400}],4800:[{prize:w.e4Bar3,center:!0,dividend:10,baseScore:480}],5e3:[{prize:w.e37ST,center:!0,dividend:10,baseScore:500}]});var w=(t=>(t[t._first=0]="_first",t[t.eZeroScore=1]="eZeroScore",t[t.e1Cherry=2]="e1Cherry",t[t.e2Cherry=3]="e2Cherry",t[t.e3Cherry=4]="e3Cherry",t[t.e4Cherry=5]="e4Cherry",t[t.e3Orange=6]="e3Orange",t[t.e4Orange=7]="e4Orange",t[t.e3WaterMelon=8]="e3WaterMelon",t[t.e4WaterMelon=9]="e4WaterMelon",t[t.e3Bell=10]="e3Bell",t[t.e4Bell=11]="e4Bell",t[t.e2Target=12]="e2Target",t[t.e3Target=13]="e3Target",t[t.e4Target=14]="e4Target",t[t.e2Star=15]="e2Star",t[t.e3Star=16]="e3Star",t[t.e4Star=17]="e4Star",t[t.e2Seven=18]="e2Seven",t[t.e3Seven=19]="e3Seven",t[t.e4Seven=20]="e4Seven",t[t.e3Bar1=21]="e3Bar1",t[t.e4Bar1=22]="e4Bar1",t[t.e3Bar2=23]="e3Bar2",t[t.e4Bar2=24]="e4Bar2",t[t.e3Bar3=25]="e3Bar3",t[t.e4Bar3=26]="e4Bar3",t[t.e3BarN=27]="e3BarN",t[t.e4BarN=28]="e4BarN",t[t.e4Joker=29]="e4Joker",t[t.e37ST=30]="e37ST",t[t._last=31]="_last",t))(w||{});const P6=[1,2,5,10];class B6{getPrizeSet(e){const r=w6(),i=bx.findIndex((o,a)=>o>=e),n=bx[i-1],s=Math.floor(Math.random()*r[n].length);return r[n][s]}}const R6=new B6,Ae=new A6;function D6(t){t.sort(()=>Math.random()-.5)}async function I6(){const t=[...P6];D6(t);const e=Ae.makePrizeLine0(null),r=Ae.makePrizeLine0(e.iconTable),i=Ae.makePrizeLine0(r.iconTable);return{prize:w.eZeroScore,score:0,baseScore:0,dividend:t[0],priceLineIDX:0,useJoker:!1,iconTable:[[e.iconTable[0],r.iconTable[0],i.iconTable[0]],[e.iconTable[1],r.iconTable[1],i.iconTable[1]],[e.iconTable[2],r.iconTable[2],i.iconTable[2]],[e.iconTable[3],r.iconTable[3],i.iconTable[3]]],displayIconTable:zy([[e.displayIconTable[0],r.displayIconTable[0],i.displayIconTable[0]],[e.displayIconTable[1],r.displayIconTable[1],i.displayIconTable[1]],[e.displayIconTable[2],r.displayIconTable[2],i.displayIconTable[2]],[e.displayIconTable[3],r.displayIconTable[3],i.displayIconTable[3]]]),iconAniFlag:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]]}}async function F6(t){if(t==0)return await I6();{let e=Math.random()>.7;const r=R6.getPrizeSet(t);let i={};switch(r.prize){case w.e1Cherry:i=Ae.make1CherryLine(null);break;case w.e2Cherry:i=Ae.make2CherryLine(null);break;case w.e3Cherry:i=Ae.make3PrizeLine(We.eCherry,null,e?1:0);break;case w.e4Cherry:i=Ae.make4PrizeLine(We.eCherry,e?Math.floor(Math.random()*3):0);break;case w.e3Orange:i=Ae.make3PrizeLine(We.eOrange,null,e?1:0);break;case w.e4Orange:i=Ae.make4PrizeLine(We.eOrange,e?Math.floor(Math.random()*3):0);break;case w.e3WaterMelon:i=Ae.make3PrizeLine(We.eWaterMelon,null,e?1:0);break;case w.e4WaterMelon:i=Ae.make4PrizeLine(We.eWaterMelon,e?Math.floor(Math.random()*3):0);break;case w.e3Bell:i=Ae.make3PrizeLine(We.eBell,null,e?1:0);break;case w.e4Bell:i=Ae.make4PrizeLine(We.eBell,e?Math.floor(Math.random()*3):0);break;case w.e2Target:i=Ae.make2PrizeLine(We.eTarget,null);break;case w.e3Target:i=Ae.make3PrizeLine(We.eTarget,null,e?1:0);break;case w.e4Target:i=Ae.make4PrizeLine(We.eTarget,e?Math.floor(Math.random()*3):0);break;case w.e2Star:i=Ae.make2PrizeLine(We.eStar,null);break;case w.e3Star:i=Ae.make3PrizeLine(We.eStar,null,e?1:0);break;case w.e4Star:i=Ae.make4PrizeLine(We.eStar,e?Math.floor(Math.random()*3):0);break;case w.e2Seven:i=Ae.make2PrizeLine(We.eSeven,null);break;case w.e3Seven:i=Ae.make3PrizeLine(We.eSeven,null,e?1:0);break;case w.e4Seven:i=Ae.make4PrizeLine(We.eSeven,e?Math.floor(Math.random()*3):0);break;case w.e3Bar1:i=Ae.make3PrizeLine(We.eBar1,null,e?1:0);break;case w.e4Bar1:i=Ae.make4PrizeLine(We.eBar1,e?Math.floor(Math.random()*3):0);break;case w.e3Bar2:i=Ae.make3PrizeLine(We.eBar2,null,e?1:0);break;case w.e4Bar2:i=Ae.make4PrizeLine(We.eBar2,e?Math.floor(Math.random()*3):0);break;case w.e3Bar3:i=Ae.make3PrizeLine(We.eBar3,null,e?1:0);break;case w.e4Bar3:i=Ae.make4PrizeLine(We.eBar3,e?Math.floor(Math.random()*3):0);break;case w.e3BarN:e=!1,i=Ae.make3BarNLine(null);break;case w.e4BarN:i=Ae.make4BarNLine(e?Math.floor(Math.random()*2):0);break;case w.e4Joker:e=!1,i=Ae.make4PrizeLine(We.eJoker,0);break;case w.e37ST:i=Ae.make37stPrizeLine(e?1+Math.floor(Math.random()*2):0);break}let n=0;r.center?n=2:n=Math.round(Math.random())<.5?1:3;let s,o,a;return n==1?(s=i,o=Ae.makePrizeLine0(i.iconTable),a=Ae.makePrizeLine0(o.iconTable)):n==2?(s=Ae.makePrizeLine0(i.iconTable),o=i,a=Ae.makePrizeLine0(i.iconTable)):n==3&&(o=Ae.makePrizeLine0(i.iconTable),s=Ae.makePrizeLine0(o.iconTable),a=i),{prize:r.prize,score:r.dividend*r.baseScore,baseScore:r.baseScore,dividend:r.dividend,priceLineIDX:n,useJoker:e,iconTable:[[s.iconTable[0],o.iconTable[0],a.iconTable[0]],[s.iconTable[1],o.iconTable[1],a.iconTable[1]],[s.iconTable[2],o.iconTable[2],a.iconTable[2]],[s.iconTable[3],o.iconTable[3],a.iconTable[3]]],displayIconTable:zy([[s.displayIconTable[0],o.displayIconTable[0],a.displayIconTable[0]],[s.displayIconTable[1],o.displayIconTable[1],a.displayIconTable[1]],[s.displayIconTable[2],o.displayIconTable[2],a.displayIconTable[2]],[s.displayIconTable[3],o.displayIconTable[3],a.displayIconTable[3]]]),iconAniFlag:[[s.iconAniFlag[0],o.iconAniFlag[0],a.iconAniFlag[0]],[s.iconAniFlag[1],o.iconAniFlag[1],a.iconAniFlag[1]],[s.iconAniFlag[2],o.iconAniFlag[2],a.iconAniFlag[2]],[s.iconAniFlag[3],o.iconAniFlag[3],a.iconAniFlag[3]]]}}}function zy(t){const e=[[],[],[],[]];for(let r=0;r<t.length;r++)for(let i=0;i<t[r].length;i++)e[r].push(_t(t[r][i]));return e}const{width:zh,height:Hh,emoji:lr}=Js;class M6 extends Ue{constructor(){super();pe(this,"mDimmed");pe(this,"mStartReel");pe(this,"mReel");pe(this,"mReelAni");pe(this,"mDividend");pe(this,"mText");pe(this,"mBusy");pe(this,"mSlot");this.mBusy=!1,this.mStartReel=0,this.mReel=[["","","",""],["","","",""],["","","",""]],this.mReelAni=[[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1]]}set busy(r){this.mBusy=r}set setText(r){this.mText.text=r,this.mText.anchor.set(.5),this.mDimmed.visible=r!=""}async init(){this.mSlot=this.parent,await this.createDimmed(),await this.createText(),this.cursor="pointer",this.interactive=!0,this.hitArea=new Pe(0,0,zh,Hh),this.mStartReel=0,this.on("pointerdown",N5(async r=>{r.bubbles=!1,r.defaultPrevented=!0;try{if(this.mBusy)return;switch(this.busy=!0,this.mStartReel=(this.mStartReel+1)%2,this.mStartReel){case 0:await this.clickOnStopReel();break;case 1:await this.clickOnStartReel();break;default:this.mStartReel=0,await this.clickOnStopReel();break}}catch(i){console.error(i),this.busy=!1}},500,{trailing:!1,leading:!0}))}async clickOnStartReel(){try{await this.getTurnData(),await this.getPattern(),await this.mSlot.startReel(),this.mSlot.onSetDisplayEvent(),this.mSlot.onSetDividend(this.mDividend),setTimeout(async()=>this.busy=!1,2e3)}catch(r){console.error(r)}}async clickOnStopReel(){try{this.mSlot.endVideo(),await this.mSlot.stopReel(this.mReel),ko(p8(this.mReelAni),r=>r)[0]?(setTimeout(async()=>await this.mSlot.completeAni(this.mReelAni),1e3),setTimeout(async()=>this.busy=!1,3e3)):this.busy=!1}catch(r){console.error(r)}}async getTurnData(){try{const{ok:r,data:i}={ok:!0,data:eS};r?(this.setText="",Lr.gameData=i[0]):(Lr.gameData={},this.setText="  .")}catch(r){Lr.gameData={},this.setText=r}}async createDimmed(){this.mDimmed=new Yn,this.mDimmed.beginFill(0,.8),this.mDimmed.drawRect(0,0,zh,Hh),this.mDimmed.endFill(),this.mDimmed.cursor="wait",this.addChild(this.mDimmed),this.mDimmed.visible=!1}async createText(){this.mText=new yc("",{fill:16777215,fontSize:48}),this.mText.anchor.set(.5),this.mText.position.set(zh/2,Hh/2),this.mDimmed.addChild(this.mText)}async getPattern(){try{const r=await F6(Lr.gameData.score);this.mDividend=r.dividend,this.mReel=r.displayIconTable,this.mReelAni=r.iconAniFlag,await this.showReelTableLog(r)}catch(r){console.error(r)}}async showReelTableLog(r){const i=[[lr[this.mReel[0][0]],lr[this.mReel[1][0]],lr[this.mReel[2][0]],lr[this.mReel[3][0]]],[lr[this.mReel[0][1]],lr[this.mReel[1][1]],lr[this.mReel[2][1]],lr[this.mReel[3][1]]],[lr[this.mReel[0][2]],lr[this.mReel[1][2]],lr[this.mReel[2][2]],lr[this.mReel[3][2]]]];for(let n=0;n<3;n++){const s=i[n],o=[this.mReelAni[0][n]?"ani":"not",this.mReelAni[1][n]?"ani":"not",this.mReelAni[2][n]?"ani":"not",this.mReelAni[3][n]?"ani":"not"],a=[this.mReelAni[0][n]?"red":"black",this.mReelAni[1][n]?"red":"black",this.mReelAni[2][n]?"red":"black",this.mReelAni[3][n]?"red":"black"];console.log(`%c ${s[0]} - ${o[0]} %c ${s[1]} - ${o[1]}  %c ${s[2]} - ${o[2]}  %c ${s[3]} - ${o[3]} `,`padding:10px 0; margin:10px 0; border:2px ${a[0]} solid;`,`padding:10px 0; margin:10px 0; border:2px ${a[1]} solid;`,`padding:10px 0; margin:10px 0; border:2px ${a[2]} solid;`,`padding:10px 0; margin:10px 0; border:2px ${a[3]} solid; `)}console.log({turnCount:Lr.gameData.turnCount,turnInPrize:Ce.turnInPrize,prizeTurn:Ce.prizeTurn,currentGroupIndex:Ce.currentGroupIndex,Pcode:Lr.gameData.Pcode,Ycode:Lr.gameData.Ycode,score:r.score})}async clickScore(r){this.mBusy||(this.busy=!0,Lr.gameData={Pcode:`P${Math.round(Math.random())+1}`,Ycode:`Y${Math.round(Math.random())+1}`,score:r,turnCount:1},await this.getPattern(),await this.mSlot.startReel(),this.mSlot.onSetDisplayEvent(),this.mSlot.onSetDividend(this.mDividend),setTimeout(async()=>this.clickOnStopReel(),2e3))}}const{atlasData:O6,slotIconScale:Pi,gapIconInReel:k6,slotScaleAry:bn,centerSlotIndex:ss,stopCount:Ex}=Js,pn=bn.length;class N6 extends Ue{constructor(){super();pe(this,"mSpriteAry");pe(this,"mIconList");pe(this,"mYPos");this.mIconList=[],this.mYPos=[]}get stopNameAry(){return[this.mIconList[ss-1],this.mIconList[ss],this.mIconList[ss+1]]}async init(){this.mIconList=Q5(O6),this.mSpriteAry=[],await this.makeIcon()}async makeIcon(){let r=-(Pi*bn[0])*2;for(let i=0;i<pn;i++){const n=new L6;await n.init(),n.setTexture(this.mIconList[i]),n.position.set(0,r),n.width=Pi,n.height=bn[i]*Pi,n.zIndex=1,this.mSpriteAry.push(n),this.addChild(n),this.mYPos.push(r),r+=Pi*bn[i]+k6}}reelAni(r,i){if(i!=1)for(let n=0;n<pn;n++){const s=n+1>=pn?0:bn[n+1]*Pi,o=n+1>=pn?this.mYPos[n]+Pi:this.mYPos[(n+1)%pn];ot.to(this.mSpriteAry[n],{height:s,y:o,duration:r}).timeScale(i)}}async next(){return new Promise((r,i)=>{const n=this.mIconList.length-1;this.mIconList=[...this.mIconList.slice(n),...this.mIconList.slice(0,n)];for(let s=0;s<pn;s++)ot.killTweensOf(this.mSpriteAry[s]),this.mSpriteAry[s].setTexture(this.mIconList[s]),this.mSpriteAry[s].height=bn[s]*Pi,this.mSpriteAry[s].y=this.mYPos[s];r(1)})}async setStopIconIndex(r){return new Promise((i,n)=>{const s=ko(this.mIconList,o=>!r.includes(o));this.mIconList=[...s.slice(s.length-Ex),...r,...s.slice(0,s.length-Ex)];for(let o=0;o<pn;o++)ot.killTweensOf(this.mSpriteAry[o]),this.mSpriteAry[o].setTexture(this.mIconList[o]),this.mSpriteAry[o].height=bn[o]*Pi,this.mSpriteAry[o].y=this.mYPos[o];i(1)})}async completeAni(r){const i=[this.mSpriteAry[ss-1],this.mSpriteAry[ss],this.mSpriteAry[ss+1]];Uv(r,(n,s)=>n?i[s].completeAni():null)}}class L6 extends Ue{constructor(){super();pe(this,"mSprite");pe(this,"mSheet");pe(this,"mIconName")}get name(){return this.mIconName}async init(){this.mSheet=gi.getHandle.getScene.sheet.icon,this.mSprite=new pt,this.mIconName="",this.addChild(this.mSprite)}async setTexture(r){this.mIconName=r,this.mSprite.texture=this.mSheet.textures[r],this.mSprite.anchor.set(.5),this.mSprite.position.set(this.mSprite.width/2,this.mSprite.height/2)}completeAni(){return new Promise((r,i)=>{const n="bounce",o=ot.timeline();o.to(this.mSprite.scale,{x:1.2,y:1.2,ease:n,duration:.5}),o.to(this.mSprite.scale,{x:-1.2,y:1.2,duration:.25}),o.to(this.mSprite.scale,{x:1.2,y:1.2,duration:.25}),o.to(this.mSprite.scale,{x:-1.2,y:1.2,duration:.25}),o.to(this.mSprite.scale,{x:1.2,y:1.2,duration:.25}),o.to(this.mSprite.scale,{x:1,y:1,ease:n,duration:.5,onComplete:()=>r(1)})})}}const{startDelay:U6,stopCount:E7}=Js;class z6 extends Ue{constructor(r){super();pe(this,"mSheet");pe(this,"mDividend");pe(this,"mDividendSprite");pe(this,"mSpinAni");pe(this,"mIconReel");this.mDividend=r}get dividend(){return this.mDividend}set dividend(r){this.mDividend=r,this.mDividendSprite.texture=this.mSheet.textures[`x${r}`]}async init(){this.mSheet=gi.getHandle.getScene.sheet.reel,this.removeChildren(),await this.makeIcon()}async makeIcon(){const r=new pt(this.mSheet.textures.x1);r.zIndex=0,this.mDividendSprite=new pt,this.mDividendSprite.texture=this.mSheet.textures.x1,this.mDividendSprite.zIndex=1,this.mIconReel=new N6,await this.mIconReel.init(),this.mIconReel.x=(154-140)/2,this.mIconReel.position.set((154-140)/2,0),this.mDividendSprite.zIndex=2,this.addChild(r,this.mDividendSprite,this.mIconReel)}async changeDividend(r){this.mDividend!==r&&(r==1?ot.to(this.mDividendSprite,{alpha:0,duration:.5}):ot.to(this.mDividendSprite,{alpha:0,duration:.5,onComplete:()=>{this.mDividendSprite.texture=this.mSheet.textures[`x${r}`],ot.to(this.mDividendSprite,{alpha:1,duration:1})}}),this.mDividend=r)}start(){return new Promise((r,i)=>{var o;(o=this.mSpinAni)==null||o.kill();const n=.01,s="circ.out";this.mSpinAni=ot.timeline({repeat:-1}),this.mSpinAni.timeScale(.005),this.mSpinAni.to(this.mIconReel,{duration:n,ease:s,onStart:()=>{const a=this.mSpinAni.timeScale()+.04>1?1:this.mSpinAni.timeScale()+.04;this.mSpinAni.timeScale(a),a<1&&this.mIconReel.reelAni(n,a)},onComplete:async()=>await this.mIconReel.next()}),setTimeout(()=>r(1),U6*1e3)})}stop(r){return new Promise((i,n)=>{const o="circ.out";this.mIconReel.setStopIconIndex(r),this.mSpinAni.kill(),this.mSpinAni=ot.timeline({repeat:-1}),this.mSpinAni.timeScale(1);let a=1;this.mSpinAni.to(this.mIconReel,{duration:.05,ease:o,onStart:async()=>{a=a-.05<.05?.05:a-.05,this.mSpinAni.timeScale(a),this.mIconReel.reelAni(.05,a)},onComplete:async()=>{if(await this.mIconReel.next(),this.mIconReel.stopNameAry[0]==r[0]&&this.mIconReel.stopNameAry[1]==r[1]&&this.mIconReel.stopNameAry[2]==r[2])return await this.mSpinAni.kill(),this.mSpinAni=null,i(1)}})})}async completeAni(r){await this.mIconReel.completeAni(r)}}const{width:Gh,debug:H6}=Js;class G6 extends Ue{constructor(r){super();pe(this,"mReelContainer");pe(this,"mScoreObj");pe(this,"mSheet");pe(this,"mReelAry");pe(this,"mRazer");this.mSheet=r,this.mReelAry=[]}get sheet(){return this.mSheet}async init(){this.mScoreObj={score:null,credit:null,win:null},this.removeChildren(),await this.makeBg(),await this.makeScoreBoard(),await this.makeReelMask(),await this.makeReel(),await this.makeRazer()}async makeBg(){const r=new pt;r.texture=this.mSheet.textures.mainframe;const i=this.mSheet.data.frames.mainframe.anchor;r.anchor.set(i.x,i.y),r.y=r.height*i.y,this.addChild(r)}async makeScoreBoard(){const r=["score","credit","win"],i=[Gh/2-220,Gh/2,Gh/2+230],n=r.length;for(let s=0;s<n;s++){const o=new $6(r[s],(s+1)*1e3+(s+2)*100);this.addChild(o),await o.init(),o.position.set(i[s],814),this.mScoreObj[r[s]]=o}}async makeReelMask(){this.mReelContainer=new Ue,this.mReelContainer.position.set(50,312);const r=yM(16777215,616,420);r.position.set(this.mReelContainer.x,this.mReelContainer.y),H6?r.visible=!1:this.mReelContainer.mask=r,this.addChild(this.mReelContainer,r)}async makeReel(){for(let r=0;r<4;r++)this.mReelAry[r]=new z6(1),await this.mReelAry[r].init(),this.mReelAry[r].position.set(154*r,0),this.mReelContainer.addChild(this.mReelAry[r])}async makeRazer(){this.mRazer=[];const r=[374,520,650];for(let i=0;i<3;i++){const n=new pt;n.texture=this.mSheet.textures.prizeLine;const s=this.mSheet.data.frames.prizeLine.anchor;n.anchor.set(s.x,s.y),n.position.set(34,r[i]),n.alpha=0,this.mRazer.push(n),this.addChild(n)}}async completeAni(r){const{length:i}=this.mReelAry,n=[r[0][0]&&r[1][0]&&r[2][0]&&r[3][0],r[0][1]&&r[1][1]&&r[2][1]&&r[3][1],r[0][2]&&r[1][2]&&r[2][2]&&r[3][2]];for(let s=0;s<i;s++)n[s]&&ot.to(this.mRazer[s],{alpha:1,duration:.25,onComplete:()=>this.mRazer[s].alpha=0}).repeat(4).yoyo(!0),await this.mReelAry[s].completeAni(r[s])}async stopReel(r){const i=[0,3,1,2],{length:n}=this.mReelAry;for(let s=0;s<n;s++){const o=i[s];await this.mReelAry[o].stop(r[o])}}async startReel(){this.changeScoreValue("credit",this.mScoreObj.credit.info.value-100<0?0:this.mScoreObj.credit.info.value-100);const{length:r}=this.mReelAry;for(let i=0;i<r;i++)await this.mReelAry[i].start()}changeDividend(r){for(let i=0;i<4;i++)this.mReelAry[i].changeDividend(r)}changeScoreValue(r,i){this.mScoreObj[r].setValueSprite(i)}}class $6 extends Ue{constructor(r,i){super();pe(this,"mRole");pe(this,"mValue");pe(this,"mValueTextContiner");this.mRole=r,this.mValue=i}get info(){return{role:this.mRole,value:this.mValue}}get sheet(){return this.parent.sheet}async init(){this.removeChildren(),this.mValueTextContiner=new Ue,this.addChild(this.mValueTextContiner),await this.setValueSprite(this.mValue)}async setValueSprite(r){this.mValue=r,this.mValueTextContiner.removeChildren(),this.mValueTextContiner.position.set(0,0);const i=SM(this.mValue);let n=0;for(let s=0;s<i.length;s++){const o=new pt;o.texture=this.sheet.textures[i[s]],o.x=n,n+=o.width;const{anchor:a}=this.sheet.data.frames[i[s]];o.anchor.set(a.x,a.y),this.mValueTextContiner.addChild(o)}this.mValueTextContiner.x=-this.mValueTextContiner.width/2}}const{width:Sx,height:Cx}=Js;class W6 extends T6{constructor(){super(0,"slot",new M6);pe(this,"mSheet");pe(this,"mDirectionWrap");pe(this,"mDirectionSprite");pe(this,"mWebmWrap");pe(this,"mWebmSprite");pe(this,"mVideo");pe(this,"mReelDisplay");pe(this,"mReelWrap");pe(this,"mDimmed");pe(this,"mCurrentReel");this.mCurrentReel=0,this.mVideo=null}get sheet(){return this.mSheet}get currentReel(){return this.mCurrentReel}async init(){console.log("%c slot init","padding:6px; border:2px purple solid;"),this.removeChildren(),this.sortableChildren=!0,await this.createDimmed(),await this.loadingSpriteSheet(),await this.createVideoWrap(),await this.createReelWrap(),this.mDimmed.on("pointerdown",()=>this.offDimmed())}offDimmed(){this.mDimmed&&this.removeChild(this.mDimmed),this.mDimmed=null}async createDimmed(){this.mDimmed=new Yn,this.mDimmed.beginFill(0,.6),this.mDimmed.drawRect(0,0,Sx,Cx),this.mDimmed.endFill(),this.mDimmed.zIndex=6,this.mDimmed.interactive=!0,this.mDimmed.cursor="pointer",this.addChild(this.mDimmed)}async loadingSpriteSheet(){await Xr.load("/rsc/slot/json/icon.json"),await Xr.load("/rsc/slot/json/big_number.json"),await Xr.load("/rsc/slot/json/mainframe.json"),await Xr.load("/rsc/slot/json/reel.json"),Z4(),this.mSheet={icon:new An(zt.getHandle.getRsc("icon.png"),nF),number:new An(zt.getHandle.getRsc("big_number.png"),tF),mainframe:new An(zt.getHandle.getRsc("main_frame.png"),aF),reel:new An(zt.getHandle.getRsc("reel.png"),hF)},await this.mSheet.icon.parse(),await this.mSheet.number.parse(),await this.mSheet.mainframe.parse(),await this.mSheet.reel.parse()}async createVideoWrap(){this.mDirectionSprite=new V6,this.mDirectionWrap=new Ue,this.mDirectionWrap.zIndex=1,this.mDirectionWrap.addChild(this.mDirectionSprite),this.mWebmSprite=new pt,this.mWebmSprite.alpha=0,this.mWebmSprite.width=Sx,this.mWebmSprite.height=Cx,this.mWebmWrap=new Ue,this.mWebmWrap.zIndex=3,this.mWebmWrap.addChild(this.mWebmSprite),this.addChild(this.mDirectionWrap,this.mWebmWrap)}async createReelWrap(){this.mReelWrap=new Ue,this.mReelWrap.zIndex=2,this.mReelWrap.y=450,this.mReelWrap.sortableChildren=!0,this.addChild(this.mReelWrap),this.mReelDisplay=new G6(this.mSheet.mainframe),this.mReelDisplay.position.set(0,0),await this.mReelDisplay.init(),this.mReelWrap.addChild(this.mReelDisplay)}changeVideo(r){return new Promise((i,n)=>{this.mVideo&&(this.mVideo.pause(),this.mVideo=null,this.mWebmSprite.alpha=0),this.mVideo=document.createElement("video"),this.mVideo.loop=!0,this.mVideo.autoplay=!1,this.mVideo.src=r,this.mVideo.oncanplay=()=>{ot.killTweensOf(this.mWebmSprite),this.mWebmSprite.alpha=0,this.mWebmSprite.texture=ce.from(this.mVideo),this.mVideo.play(),ot.to(this.mWebmSprite,{alpha:.8,duration:.5,onComplete:()=>i(1)})},ot.to(this.mWebmSprite,{alpha:0,duration:.5})})}endVideo(){this.mWebmSprite.alpha=0,this.mVideo&&(this.mVideo.pause(),this.mVideo=null)}async startGame(){this.addChild(this.evtManager),this.evtManager.zIndex=3,await this.evtManager.init()}async startReel(){this.mReelDisplay.startReel()}async stopReel(r){await this.mReelDisplay.stopReel(r)}async completeAni(r){await this.mReelDisplay.completeAni(r)}onSetDisplayEvent(){const r=Lr.gameData.Pcode.toUpperCase(),i=Lr.gameData.Ycode.toUpperCase();switch(r){case"P1":this.changeVideo("/rsc/slot/video/P1.webm");break;case"P2":this.changeVideo("/rsc/slot/video/P2.webm");break}switch(i){case"Y1":this.mDirectionSprite.hidden();break;case"Y2":this.mDirectionSprite.show();break;default:this.changeVideo("/rsc/slot/video/test1.webm"),this.mDirectionSprite.show();break}}onSetDividend(r){this.mReelDisplay.changeDividend(r)}}class V6 extends Ue{constructor(){super();pe(this,"mDay");pe(this,"mNight");pe(this,"mDayTree");pe(this,"mDayTreeList");pe(this,"mNightTree");pe(this,"mNightTreeList");this.mDay=new pt(zt.getHandle.getRsc("bg_day.png")),this.mNight=new pt(zt.getHandle.getRsc("bg_night.png")),this.mDayTree=new Ue,this.mDayTreeList=[new pt(zt.getHandle.getRsc("bg_day_tree.png")),new pt(zt.getHandle.getRsc("bg_day_tree.png"))],this.mDayTreeList[1].x=this.mDayTreeList[1].width,this.mDayTree.addChild(this.mDayTreeList[0],this.mDayTreeList[1]),this.mDayTree.position.set(0,this.mDay.height-this.mDayTree.height),this.mNightTree=new Ue,this.mNightTreeList=[new pt(zt.getHandle.getRsc("bg_night_tree.png")),new pt(zt.getHandle.getRsc("bg_night_tree.png"))],this.mNightTreeList[1].x=this.mNightTreeList[1].width,this.mNightTree.addChild(this.mNightTreeList[0],this.mNightTreeList[1]),this.mNightTree.position.set(0,this.mNight.height-this.mNightTree.height),this.mDay.addChild(this.mDayTree),this.mNight.addChild(this.mNightTree),this.addChild(this.mNight,this.mDay)}hidden(){const r=this.mNightTree.width/2;ot.to(this.mNightTree,{x:-r,duration:40,ease:"none",onComplete:()=>this.mNightTree.x=0}).repeat(-1),ot.to(this.mDay,{alpha:0,duration:5,onComplete:()=>ot.killTweensOf(this.mDayTree)})}show(){ot.killTweensOf(this.mNightTree);const r=this.mDayTree.width/2;ot.to(this.mDayTree,{x:-r,duration:40,ease:"none",onComplete:()=>this.mDayTree.x=0}).repeat(-1),ot.to(this.mDay,{alpha:1,duration:5})}}class j6 extends Ue{constructor(){super();pe(this,"mSceneAry");pe(this,"mCurrentSceneIdx");this.mSceneAry=[],this.mCurrentSceneIdx=0}get currentScene(){return this.mSceneAry[this.mCurrentSceneIdx]}get currentSceneInfo(){return this.mSceneAry[this.mCurrentSceneIdx].info}async init(){this.mCurrentSceneIdx=0,this.mSceneAry=[new W6]}async start(){try{Ln.isLoading=!0;const{name:r}=this.mSceneAry[0].info;await zt.getHandle.loadAllRsc(ap[r]),await this.changeScene(r)}catch(r){console.error(r)}finally{Ln.isLoading=!1}}async changeScene(r){var n;await zt.getHandle.loadAllRsc(ap[r]),this.removeChildren(),await((n=this.mSceneAry[this.mCurrentSceneIdx])==null?void 0:n.endGame());const i=$5(this.mSceneAry,s=>r===s.info.name);await i.init(),this.addChild(i),await i.startGame()}}const $o=class $o extends Hd{constructor({backgroundColor:r,width:i,height:n,view:s}){super({backgroundColor:r,width:i,height:n,view:s});pe(this,"mSceneManager");this.renderer.options.antialias=!0,$o.handle=this}static get getHandle(){return $o.handle}get getScene(){return this.mSceneManager.currentScene}async init(){this.stage.removeChildren(),this.mSceneManager=new j6,this.stage.addChild(this.mSceneManager),this.stage.sortableChildren=!0,this.mSceneManager.zIndex=1,EM(),await this.mSceneManager.init(),await this.mSceneManager.start()}onHiddenTab(){console.log("  ")}onViewTab(){console.log("  ")}async clickScore(r){var i;this.getScene.offDimmed(),await((i=this.getScene.evtManager)==null?void 0:i.clickScore(r))}};pe($o,"handle");let gi=$o;var Hy={exports:{}};function X6(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $h={exports:{}},Tx;function De(){return Tx||(Tx=1,function(t,e){(function(r,i){t.exports=i()})(be,function(){var r=r||function(i,n){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof be<"u"&&be.crypto&&(s=be.crypto),!s&&typeof X6=="function")try{s=V1}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function _(){}return function(g){var v;return _.prototype=g,v=new _,_.prototype=null,v}}(),l={},c=l.lib={},h=c.Base=function(){return{extend:function(_){var g=a(this);return _&&g.mixIn(_),(!g.hasOwnProperty("init")||this.init===g.init)&&(g.init=function(){g.$super.init.apply(this,arguments)}),g.init.prototype=g,g.$super=this,g},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var g in _)_.hasOwnProperty(g)&&(this[g]=_[g]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=c.WordArray=h.extend({init:function(_,g){_=this.words=_||[],g!=n?this.sigBytes=g:this.sigBytes=_.length*4},toString:function(_){return(_||d).stringify(this)},concat:function(_){var g=this.words,v=_.words,b=this.sigBytes,E=_.sigBytes;if(this.clamp(),b%4)for(var S=0;S<E;S++){var C=v[S>>>2]>>>24-S%4*8&255;g[b+S>>>2]|=C<<24-(b+S)%4*8}else for(var R=0;R<E;R+=4)g[b+R>>>2]=v[R>>>2];return this.sigBytes+=E,this},clamp:function(){var _=this.words,g=this.sigBytes;_[g>>>2]&=4294967295<<32-g%4*8,_.length=i.ceil(g/4)},clone:function(){var _=h.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var g=[],v=0;v<_;v+=4)g.push(o());return new f.init(g,_)}}),u=l.enc={},d=u.Hex={stringify:function(_){for(var g=_.words,v=_.sigBytes,b=[],E=0;E<v;E++){var S=g[E>>>2]>>>24-E%4*8&255;b.push((S>>>4).toString(16)),b.push((S&15).toString(16))}return b.join("")},parse:function(_){for(var g=_.length,v=[],b=0;b<g;b+=2)v[b>>>3]|=parseInt(_.substr(b,2),16)<<24-b%8*4;return new f.init(v,g/2)}},p=u.Latin1={stringify:function(_){for(var g=_.words,v=_.sigBytes,b=[],E=0;E<v;E++){var S=g[E>>>2]>>>24-E%4*8&255;b.push(String.fromCharCode(S))}return b.join("")},parse:function(_){for(var g=_.length,v=[],b=0;b<g;b++)v[b>>>2]|=(_.charCodeAt(b)&255)<<24-b%4*8;return new f.init(v,g)}},m=u.Utf8={stringify:function(_){try{return decodeURIComponent(escape(p.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return p.parse(unescape(encodeURIComponent(_)))}},x=c.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=m.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var g,v=this._data,b=v.words,E=v.sigBytes,S=this.blockSize,C=S*4,R=E/C;_?R=i.ceil(R):R=i.max((R|0)-this._minBufferSize,0);var A=R*S,P=i.min(A*4,E);if(A){for(var I=0;I<A;I+=S)this._doProcessBlock(b,I);g=b.splice(0,A),v.sigBytes-=P}return new f.init(g,P)},clone:function(){var _=h.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});c.Hasher=x.extend({cfg:h.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var g=this._doFinalize();return g},blockSize:16,_createHelper:function(_){return function(g,v){return new _.init(v).finalize(g)}},_createHmacHelper:function(_){return function(g,v){return new y.HMAC.init(_,v).finalize(g)}}});var y=l.algo={};return l}(Math);return r})}($h)),$h.exports}var Wh={exports:{}},Ax;function Rc(){return Ax||(Ax=1,function(t,e){(function(r,i){t.exports=i(De())})(be,function(r){return function(i){var n=r,s=n.lib,o=s.Base,a=s.WordArray,l=n.x64={};l.Word=o.extend({init:function(c,h){this.high=c,this.low=h}}),l.WordArray=o.extend({init:function(c,h){c=this.words=c||[],h!=i?this.sigBytes=h:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,h=c.length,f=[],u=0;u<h;u++){var d=c[u];f.push(d.high),f.push(d.low)}return a.create(f,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),h=c.words=this.words.slice(0),f=h.length,u=0;u<f;u++)h[u]=h[u].clone();return c}})}(),r})}(Wh)),Wh.exports}var Vh={exports:{}},wx;function Y6(){return wx||(wx=1,function(t,e){(function(r,i){t.exports=i(De())})(be,function(r){return function(){if(typeof ArrayBuffer=="function"){var i=r,n=i.lib,s=n.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,h=[],f=0;f<c;f++)h[f>>>2]|=l[f]<<24-f%4*8;o.call(this,h,c)}else o.apply(this,arguments)};a.prototype=s}}(),r.lib.WordArray})}(Vh)),Vh.exports}var jh={exports:{}},Px;function q6(){return Px||(Px=1,function(t,e){(function(r,i){t.exports=i(De())})(be,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=i.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var c=l.words,h=l.sigBytes,f=[],u=0;u<h;u+=2){var d=c[u>>>2]>>>16-u%4*8&65535;f.push(String.fromCharCode(d))}return f.join("")},parse:function(l){for(var c=l.length,h=[],f=0;f<c;f++)h[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return s.create(h,c*2)}},o.Utf16LE={stringify:function(l){for(var c=l.words,h=l.sigBytes,f=[],u=0;u<h;u+=2){var d=a(c[u>>>2]>>>16-u%4*8&65535);f.push(String.fromCharCode(d))}return f.join("")},parse:function(l){for(var c=l.length,h=[],f=0;f<c;f++)h[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return s.create(h,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),r.enc.Utf16})}(jh)),jh.exports}var Xh={exports:{}},Bx;function Zn(){return Bx||(Bx=1,function(t,e){(function(r,i){t.exports=i(De())})(be,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=i.enc;o.Base64={stringify:function(l){var c=l.words,h=l.sigBytes,f=this._map;l.clamp();for(var u=[],d=0;d<h;d+=3)for(var p=c[d>>>2]>>>24-d%4*8&255,m=c[d+1>>>2]>>>24-(d+1)%4*8&255,x=c[d+2>>>2]>>>24-(d+2)%4*8&255,y=p<<16|m<<8|x,_=0;_<4&&d+_*.75<h;_++)u.push(f.charAt(y>>>6*(3-_)&63));var g=f.charAt(64);if(g)for(;u.length%4;)u.push(g);return u.join("")},parse:function(l){var c=l.length,h=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var u=0;u<h.length;u++)f[h.charCodeAt(u)]=u}var d=h.charAt(64);if(d){var p=l.indexOf(d);p!==-1&&(c=p)}return a(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,h){for(var f=[],u=0,d=0;d<c;d++)if(d%4){var p=h[l.charCodeAt(d-1)]<<d%4*2,m=h[l.charCodeAt(d)]>>>6-d%4*2,x=p|m;f[u>>>2]|=x<<24-u%4*8,u++}return s.create(f,u)}}(),r.enc.Base64})}(Xh)),Xh.exports}var Yh={exports:{}},Rx;function K6(){return Rx||(Rx=1,function(t,e){(function(r,i){t.exports=i(De())})(be,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=i.enc;o.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var h=l.words,f=l.sigBytes,u=c?this._safe_map:this._map;l.clamp();for(var d=[],p=0;p<f;p+=3)for(var m=h[p>>>2]>>>24-p%4*8&255,x=h[p+1>>>2]>>>24-(p+1)%4*8&255,y=h[p+2>>>2]>>>24-(p+2)%4*8&255,_=m<<16|x<<8|y,g=0;g<4&&p+g*.75<f;g++)d.push(u.charAt(_>>>6*(3-g)&63));var v=u.charAt(64);if(v)for(;d.length%4;)d.push(v);return d.join("")},parse:function(l,c){c===void 0&&(c=!0);var h=l.length,f=c?this._safe_map:this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var d=0;d<f.length;d++)u[f.charCodeAt(d)]=d}var p=f.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(h=m)}return a(l,h,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,h){for(var f=[],u=0,d=0;d<c;d++)if(d%4){var p=h[l.charCodeAt(d-1)]<<d%4*2,m=h[l.charCodeAt(d)]>>>6-d%4*2,x=p|m;f[u>>>2]|=x<<24-u%4*8,u++}return s.create(f,u)}}(),r.enc.Base64url})}(Yh)),Yh.exports}var qh={exports:{}},Dx;function Qn(){return Dx||(Dx=1,function(t,e){(function(r,i){t.exports=i(De())})(be,function(r){return function(i){var n=r,s=n.lib,o=s.WordArray,a=s.Hasher,l=n.algo,c=[];(function(){for(var m=0;m<64;m++)c[m]=i.abs(i.sin(m+1))*4294967296|0})();var h=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,x){for(var y=0;y<16;y++){var _=x+y,g=m[_];m[_]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var v=this._hash.words,b=m[x+0],E=m[x+1],S=m[x+2],C=m[x+3],R=m[x+4],A=m[x+5],P=m[x+6],I=m[x+7],D=m[x+8],F=m[x+9],G=m[x+10],V=m[x+11],L=m[x+12],Y=m[x+13],ne=m[x+14],z=m[x+15],M=v[0],k=v[1],H=v[2],U=v[3];M=f(M,k,H,U,b,7,c[0]),U=f(U,M,k,H,E,12,c[1]),H=f(H,U,M,k,S,17,c[2]),k=f(k,H,U,M,C,22,c[3]),M=f(M,k,H,U,R,7,c[4]),U=f(U,M,k,H,A,12,c[5]),H=f(H,U,M,k,P,17,c[6]),k=f(k,H,U,M,I,22,c[7]),M=f(M,k,H,U,D,7,c[8]),U=f(U,M,k,H,F,12,c[9]),H=f(H,U,M,k,G,17,c[10]),k=f(k,H,U,M,V,22,c[11]),M=f(M,k,H,U,L,7,c[12]),U=f(U,M,k,H,Y,12,c[13]),H=f(H,U,M,k,ne,17,c[14]),k=f(k,H,U,M,z,22,c[15]),M=u(M,k,H,U,E,5,c[16]),U=u(U,M,k,H,P,9,c[17]),H=u(H,U,M,k,V,14,c[18]),k=u(k,H,U,M,b,20,c[19]),M=u(M,k,H,U,A,5,c[20]),U=u(U,M,k,H,G,9,c[21]),H=u(H,U,M,k,z,14,c[22]),k=u(k,H,U,M,R,20,c[23]),M=u(M,k,H,U,F,5,c[24]),U=u(U,M,k,H,ne,9,c[25]),H=u(H,U,M,k,C,14,c[26]),k=u(k,H,U,M,D,20,c[27]),M=u(M,k,H,U,Y,5,c[28]),U=u(U,M,k,H,S,9,c[29]),H=u(H,U,M,k,I,14,c[30]),k=u(k,H,U,M,L,20,c[31]),M=d(M,k,H,U,A,4,c[32]),U=d(U,M,k,H,D,11,c[33]),H=d(H,U,M,k,V,16,c[34]),k=d(k,H,U,M,ne,23,c[35]),M=d(M,k,H,U,E,4,c[36]),U=d(U,M,k,H,R,11,c[37]),H=d(H,U,M,k,I,16,c[38]),k=d(k,H,U,M,G,23,c[39]),M=d(M,k,H,U,Y,4,c[40]),U=d(U,M,k,H,b,11,c[41]),H=d(H,U,M,k,C,16,c[42]),k=d(k,H,U,M,P,23,c[43]),M=d(M,k,H,U,F,4,c[44]),U=d(U,M,k,H,L,11,c[45]),H=d(H,U,M,k,z,16,c[46]),k=d(k,H,U,M,S,23,c[47]),M=p(M,k,H,U,b,6,c[48]),U=p(U,M,k,H,I,10,c[49]),H=p(H,U,M,k,ne,15,c[50]),k=p(k,H,U,M,A,21,c[51]),M=p(M,k,H,U,L,6,c[52]),U=p(U,M,k,H,C,10,c[53]),H=p(H,U,M,k,G,15,c[54]),k=p(k,H,U,M,E,21,c[55]),M=p(M,k,H,U,D,6,c[56]),U=p(U,M,k,H,z,10,c[57]),H=p(H,U,M,k,P,15,c[58]),k=p(k,H,U,M,Y,21,c[59]),M=p(M,k,H,U,R,6,c[60]),U=p(U,M,k,H,V,10,c[61]),H=p(H,U,M,k,S,15,c[62]),k=p(k,H,U,M,F,21,c[63]),v[0]=v[0]+M|0,v[1]=v[1]+k|0,v[2]=v[2]+H|0,v[3]=v[3]+U|0},_doFinalize:function(){var m=this._data,x=m.words,y=this._nDataBytes*8,_=m.sigBytes*8;x[_>>>5]|=128<<24-_%32;var g=i.floor(y/4294967296),v=y;x[(_+64>>>9<<4)+15]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,x[(_+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,m.sigBytes=(x.length+1)*4,this._process();for(var b=this._hash,E=b.words,S=0;S<4;S++){var C=E[S];E[S]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}return b},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function f(m,x,y,_,g,v,b){var E=m+(x&y|~x&_)+g+b;return(E<<v|E>>>32-v)+x}function u(m,x,y,_,g,v,b){var E=m+(x&_|y&~_)+g+b;return(E<<v|E>>>32-v)+x}function d(m,x,y,_,g,v,b){var E=m+(x^y^_)+g+b;return(E<<v|E>>>32-v)+x}function p(m,x,y,_,g,v,b){var E=m+(y^(x|~_))+g+b;return(E<<v|E>>>32-v)+x}n.MD5=a._createHelper(h),n.HmacMD5=a._createHmacHelper(h)}(Math),r.MD5})}(qh)),qh.exports}var Kh={exports:{}},Ix;function Gy(){return Ix||(Ix=1,function(t,e){(function(r,i){t.exports=i(De())})(be,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=n.Hasher,a=i.algo,l=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(h,f){for(var u=this._hash.words,d=u[0],p=u[1],m=u[2],x=u[3],y=u[4],_=0;_<80;_++){if(_<16)l[_]=h[f+_]|0;else{var g=l[_-3]^l[_-8]^l[_-14]^l[_-16];l[_]=g<<1|g>>>31}var v=(d<<5|d>>>27)+y+l[_];_<20?v+=(p&m|~p&x)+1518500249:_<40?v+=(p^m^x)+1859775393:_<60?v+=(p&m|p&x|m&x)-1894007588:v+=(p^m^x)-899497514,y=x,x=m,m=p<<30|p>>>2,p=d,d=v}u[0]=u[0]+d|0,u[1]=u[1]+p|0,u[2]=u[2]+m|0,u[3]=u[3]+x|0,u[4]=u[4]+y|0},_doFinalize:function(){var h=this._data,f=h.words,u=this._nDataBytes*8,d=h.sigBytes*8;return f[d>>>5]|=128<<24-d%32,f[(d+64>>>9<<4)+14]=Math.floor(u/4294967296),f[(d+64>>>9<<4)+15]=u,h.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var h=o.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA1=o._createHelper(c),i.HmacSHA1=o._createHmacHelper(c)}(),r.SHA1})}(Kh)),Kh.exports}var Zh={exports:{}},Fx;function p0(){return Fx||(Fx=1,function(t,e){(function(r,i){t.exports=i(De())})(be,function(r){return function(i){var n=r,s=n.lib,o=s.WordArray,a=s.Hasher,l=n.algo,c=[],h=[];(function(){function d(y){for(var _=i.sqrt(y),g=2;g<=_;g++)if(!(y%g))return!1;return!0}function p(y){return(y-(y|0))*4294967296|0}for(var m=2,x=0;x<64;)d(m)&&(x<8&&(c[x]=p(i.pow(m,1/2))),h[x]=p(i.pow(m,1/3)),x++),m++})();var f=[],u=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(d,p){for(var m=this._hash.words,x=m[0],y=m[1],_=m[2],g=m[3],v=m[4],b=m[5],E=m[6],S=m[7],C=0;C<64;C++){if(C<16)f[C]=d[p+C]|0;else{var R=f[C-15],A=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,P=f[C-2],I=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;f[C]=A+f[C-7]+I+f[C-16]}var D=v&b^~v&E,F=x&y^x&_^y&_,G=(x<<30|x>>>2)^(x<<19|x>>>13)^(x<<10|x>>>22),V=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),L=S+V+D+h[C]+f[C],Y=G+F;S=E,E=b,b=v,v=g+L|0,g=_,_=y,y=x,x=L+Y|0}m[0]=m[0]+x|0,m[1]=m[1]+y|0,m[2]=m[2]+_|0,m[3]=m[3]+g|0,m[4]=m[4]+v|0,m[5]=m[5]+b|0,m[6]=m[6]+E|0,m[7]=m[7]+S|0},_doFinalize:function(){var d=this._data,p=d.words,m=this._nDataBytes*8,x=d.sigBytes*8;return p[x>>>5]|=128<<24-x%32,p[(x+64>>>9<<4)+14]=i.floor(m/4294967296),p[(x+64>>>9<<4)+15]=m,d.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA256=a._createHelper(u),n.HmacSHA256=a._createHmacHelper(u)}(Math),r.SHA256})}(Zh)),Zh.exports}var Qh={exports:{}},Mx;function Z6(){return Mx||(Mx=1,function(t,e){(function(r,i,n){t.exports=i(De(),p0())})(be,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=i.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});i.SHA224=a._createHelper(l),i.HmacSHA224=a._createHmacHelper(l)}(),r.SHA224})}(Qh)),Qh.exports}var Jh={exports:{}},Ox;function $y(){return Ox||(Ox=1,function(t,e){(function(r,i,n){t.exports=i(De(),Rc())})(be,function(r){return function(){var i=r,n=i.lib,s=n.Hasher,o=i.x64,a=o.Word,l=o.WordArray,c=i.algo;function h(){return a.create.apply(a,arguments)}var f=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],u=[];(function(){for(var p=0;p<80;p++)u[p]=h()})();var d=c.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var x=this._hash.words,y=x[0],_=x[1],g=x[2],v=x[3],b=x[4],E=x[5],S=x[6],C=x[7],R=y.high,A=y.low,P=_.high,I=_.low,D=g.high,F=g.low,G=v.high,V=v.low,L=b.high,Y=b.low,ne=E.high,z=E.low,M=S.high,k=S.low,H=C.high,U=C.low,fe=R,oe=A,N=P,$=I,K=D,J=F,le=G,xe=V,T=L,B=Y,O=ne,j=z,W=M,q=k,te=H,Z=U,Q=0;Q<80;Q++){var X,re,de=u[Q];if(Q<16)re=de.high=p[m+Q*2]|0,X=de.low=p[m+Q*2+1]|0;else{var he=u[Q-15],ge=he.high,Ee=he.low,Oe=(ge>>>1|Ee<<31)^(ge>>>8|Ee<<24)^ge>>>7,ze=(Ee>>>1|ge<<31)^(Ee>>>8|ge<<24)^(Ee>>>7|ge<<25),it=u[Q-2],ft=it.high,or=it.low,Ca=(ft>>>19|or<<13)^(ft<<3|or>>>29)^ft>>>6,Ti=(or>>>19|ft<<13)^(or<<3|ft>>>29)^(or>>>6|ft<<26),so=u[Q-7],It=so.high,ar=so.low,oo=u[Q-16],bb=oo.high,b0=oo.low;X=ze+ar,re=Oe+It+(X>>>0<ze>>>0?1:0),X=X+Ti,re=re+Ca+(X>>>0<Ti>>>0?1:0),X=X+b0,re=re+bb+(X>>>0<b0>>>0?1:0),de.high=re,de.low=X}var Eb=T&O^~T&W,E0=B&j^~B&q,Sb=fe&N^fe&K^N&K,Cb=oe&$^oe&J^$&J,Tb=(fe>>>28|oe<<4)^(fe<<30|oe>>>2)^(fe<<25|oe>>>7),S0=(oe>>>28|fe<<4)^(oe<<30|fe>>>2)^(oe<<25|fe>>>7),Ab=(T>>>14|B<<18)^(T>>>18|B<<14)^(T<<23|B>>>9),wb=(B>>>14|T<<18)^(B>>>18|T<<14)^(B<<23|T>>>9),C0=f[Q],Pb=C0.high,T0=C0.low,qt=Z+wb,Ai=te+Ab+(qt>>>0<Z>>>0?1:0),qt=qt+E0,Ai=Ai+Eb+(qt>>>0<E0>>>0?1:0),qt=qt+T0,Ai=Ai+Pb+(qt>>>0<T0>>>0?1:0),qt=qt+X,Ai=Ai+re+(qt>>>0<X>>>0?1:0),A0=S0+Cb,Bb=Tb+Sb+(A0>>>0<S0>>>0?1:0);te=W,Z=q,W=O,q=j,O=T,j=B,B=xe+qt|0,T=le+Ai+(B>>>0<xe>>>0?1:0)|0,le=K,xe=J,K=N,J=$,N=fe,$=oe,oe=qt+A0|0,fe=Ai+Bb+(oe>>>0<qt>>>0?1:0)|0}A=y.low=A+oe,y.high=R+fe+(A>>>0<oe>>>0?1:0),I=_.low=I+$,_.high=P+N+(I>>>0<$>>>0?1:0),F=g.low=F+J,g.high=D+K+(F>>>0<J>>>0?1:0),V=v.low=V+xe,v.high=G+le+(V>>>0<xe>>>0?1:0),Y=b.low=Y+B,b.high=L+T+(Y>>>0<B>>>0?1:0),z=E.low=z+j,E.high=ne+O+(z>>>0<j>>>0?1:0),k=S.low=k+q,S.high=M+W+(k>>>0<q>>>0?1:0),U=C.low=U+Z,C.high=H+te+(U>>>0<Z>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,x=this._nDataBytes*8,y=p.sigBytes*8;m[y>>>5]|=128<<24-y%32,m[(y+128>>>10<<5)+30]=Math.floor(x/4294967296),m[(y+128>>>10<<5)+31]=x,p.sigBytes=m.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});i.SHA512=s._createHelper(d),i.HmacSHA512=s._createHmacHelper(d)}(),r.SHA512})}(Jh)),Jh.exports}var eu={exports:{}},kx;function Q6(){return kx||(kx=1,function(t,e){(function(r,i,n){t.exports=i(De(),Rc(),$y())})(be,function(r){return function(){var i=r,n=i.x64,s=n.Word,o=n.WordArray,a=i.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var h=l._doFinalize.call(this);return h.sigBytes-=16,h}});i.SHA384=l._createHelper(c),i.HmacSHA384=l._createHmacHelper(c)}(),r.SHA384})}(eu)),eu.exports}var tu={exports:{}},Nx;function J6(){return Nx||(Nx=1,function(t,e){(function(r,i,n){t.exports=i(De(),Rc())})(be,function(r){return function(i){var n=r,s=n.lib,o=s.WordArray,a=s.Hasher,l=n.x64,c=l.Word,h=n.algo,f=[],u=[],d=[];(function(){for(var x=1,y=0,_=0;_<24;_++){f[x+5*y]=(_+1)*(_+2)/2%64;var g=y%5,v=(2*x+3*y)%5;x=g,y=v}for(var x=0;x<5;x++)for(var y=0;y<5;y++)u[x+5*y]=y+(2*x+3*y)%5*5;for(var b=1,E=0;E<24;E++){for(var S=0,C=0,R=0;R<7;R++){if(b&1){var A=(1<<R)-1;A<32?C^=1<<A:S^=1<<A-32}b&128?b=b<<1^113:b<<=1}d[E]=c.create(S,C)}})();var p=[];(function(){for(var x=0;x<25;x++)p[x]=c.create()})();var m=h.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var x=this._state=[],y=0;y<25;y++)x[y]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(x,y){for(var _=this._state,g=this.blockSize/2,v=0;v<g;v++){var b=x[y+2*v],E=x[y+2*v+1];b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var S=_[v];S.high^=E,S.low^=b}for(var C=0;C<24;C++){for(var R=0;R<5;R++){for(var A=0,P=0,I=0;I<5;I++){var S=_[R+5*I];A^=S.high,P^=S.low}var D=p[R];D.high=A,D.low=P}for(var R=0;R<5;R++)for(var F=p[(R+4)%5],G=p[(R+1)%5],V=G.high,L=G.low,A=F.high^(V<<1|L>>>31),P=F.low^(L<<1|V>>>31),I=0;I<5;I++){var S=_[R+5*I];S.high^=A,S.low^=P}for(var Y=1;Y<25;Y++){var A,P,S=_[Y],ne=S.high,z=S.low,M=f[Y];M<32?(A=ne<<M|z>>>32-M,P=z<<M|ne>>>32-M):(A=z<<M-32|ne>>>64-M,P=ne<<M-32|z>>>64-M);var k=p[u[Y]];k.high=A,k.low=P}var H=p[0],U=_[0];H.high=U.high,H.low=U.low;for(var R=0;R<5;R++)for(var I=0;I<5;I++){var Y=R+5*I,S=_[Y],fe=p[Y],oe=p[(R+1)%5+5*I],N=p[(R+2)%5+5*I];S.high=fe.high^~oe.high&N.high,S.low=fe.low^~oe.low&N.low}var S=_[0],$=d[C];S.high^=$.high,S.low^=$.low}},_doFinalize:function(){var x=this._data,y=x.words;this._nDataBytes*8;var _=x.sigBytes*8,g=this.blockSize*32;y[_>>>5]|=1<<24-_%32,y[(i.ceil((_+1)/g)*g>>>5)-1]|=128,x.sigBytes=y.length*4,this._process();for(var v=this._state,b=this.cfg.outputLength/8,E=b/8,S=[],C=0;C<E;C++){var R=v[C],A=R.high,P=R.low;A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,S.push(P),S.push(A)}return new o.init(S,b)},clone:function(){for(var x=a.clone.call(this),y=x._state=this._state.slice(0),_=0;_<25;_++)y[_]=y[_].clone();return x}});n.SHA3=a._createHelper(m),n.HmacSHA3=a._createHmacHelper(m)}(Math),r.SHA3})}(tu)),tu.exports}var ru={exports:{}},Lx;function eM(){return Lx||(Lx=1,function(t,e){(function(r,i){t.exports=i(De())})(be,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(i){var n=r,s=n.lib,o=s.WordArray,a=s.Hasher,l=n.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,S){for(var C=0;C<16;C++){var R=S+C,A=E[R];E[R]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}var P=this._hash.words,I=d.words,D=p.words,F=c.words,G=h.words,V=f.words,L=u.words,Y,ne,z,M,k,H,U,fe,oe,N;H=Y=P[0],U=ne=P[1],fe=z=P[2],oe=M=P[3],N=k=P[4];for(var $,C=0;C<80;C+=1)$=Y+E[S+F[C]]|0,C<16?$+=x(ne,z,M)+I[0]:C<32?$+=y(ne,z,M)+I[1]:C<48?$+=_(ne,z,M)+I[2]:C<64?$+=g(ne,z,M)+I[3]:$+=v(ne,z,M)+I[4],$=$|0,$=b($,V[C]),$=$+k|0,Y=k,k=M,M=b(z,10),z=ne,ne=$,$=H+E[S+G[C]]|0,C<16?$+=v(U,fe,oe)+D[0]:C<32?$+=g(U,fe,oe)+D[1]:C<48?$+=_(U,fe,oe)+D[2]:C<64?$+=y(U,fe,oe)+D[3]:$+=x(U,fe,oe)+D[4],$=$|0,$=b($,L[C]),$=$+N|0,H=N,N=oe,oe=b(fe,10),fe=U,U=$;$=P[1]+z+oe|0,P[1]=P[2]+M+N|0,P[2]=P[3]+k+H|0,P[3]=P[4]+Y+U|0,P[4]=P[0]+ne+fe|0,P[0]=$},_doFinalize:function(){var E=this._data,S=E.words,C=this._nDataBytes*8,R=E.sigBytes*8;S[R>>>5]|=128<<24-R%32,S[(R+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,E.sigBytes=(S.length+1)*4,this._process();for(var A=this._hash,P=A.words,I=0;I<5;I++){var D=P[I];P[I]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return A},clone:function(){var E=a.clone.call(this);return E._hash=this._hash.clone(),E}});function x(E,S,C){return E^S^C}function y(E,S,C){return E&S|~E&C}function _(E,S,C){return(E|~S)^C}function g(E,S,C){return E&C|S&~C}function v(E,S,C){return E^(S|~C)}function b(E,S){return E<<S|E>>>32-S}n.RIPEMD160=a._createHelper(m),n.HmacRIPEMD160=a._createHmacHelper(m)}(),r.RIPEMD160})}(ru)),ru.exports}var iu={exports:{}},Ux;function m0(){return Ux||(Ux=1,function(t,e){(function(r,i){t.exports=i(De())})(be,function(r){(function(){var i=r,n=i.lib,s=n.Base,o=i.enc,a=o.Utf8,l=i.algo;l.HMAC=s.extend({init:function(c,h){c=this._hasher=new c.init,typeof h=="string"&&(h=a.parse(h));var f=c.blockSize,u=f*4;h.sigBytes>u&&(h=c.finalize(h)),h.clamp();for(var d=this._oKey=h.clone(),p=this._iKey=h.clone(),m=d.words,x=p.words,y=0;y<f;y++)m[y]^=1549556828,x[y]^=909522486;d.sigBytes=p.sigBytes=u,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var h=this._hasher,f=h.finalize(c);h.reset();var u=h.finalize(this._oKey.clone().concat(f));return u}})})()})}(iu)),iu.exports}var nu={exports:{}},zx;function tM(){return zx||(zx=1,function(t,e){(function(r,i,n){t.exports=i(De(),p0(),m0())})(be,function(r){return function(){var i=r,n=i.lib,s=n.Base,o=n.WordArray,a=i.algo,l=a.SHA256,c=a.HMAC,h=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,u){for(var d=this.cfg,p=c.create(d.hasher,f),m=o.create(),x=o.create([1]),y=m.words,_=x.words,g=d.keySize,v=d.iterations;y.length<g;){var b=p.update(u).finalize(x);p.reset();for(var E=b.words,S=E.length,C=b,R=1;R<v;R++){C=p.finalize(C),p.reset();for(var A=C.words,P=0;P<S;P++)E[P]^=A[P]}m.concat(b),_[0]++}return m.sigBytes=g*4,m}});i.PBKDF2=function(f,u,d){return h.create(d).compute(f,u)}}(),r.PBKDF2})}(nu)),nu.exports}var su={exports:{}},Hx;function sn(){return Hx||(Hx=1,function(t,e){(function(r,i,n){t.exports=i(De(),Gy(),m0())})(be,function(r){return function(){var i=r,n=i.lib,s=n.Base,o=n.WordArray,a=i.algo,l=a.MD5,c=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var u,d=this.cfg,p=d.hasher.create(),m=o.create(),x=m.words,y=d.keySize,_=d.iterations;x.length<y;){u&&p.update(u),u=p.update(h).finalize(f),p.reset();for(var g=1;g<_;g++)u=p.finalize(u),p.reset();m.concat(u)}return m.sigBytes=y*4,m}});i.EvpKDF=function(h,f,u){return c.create(u).compute(h,f)}}(),r.EvpKDF})}(su)),su.exports}var ou={exports:{}},Gx;function gt(){return Gx||(Gx=1,function(t,e){(function(r,i,n){t.exports=i(De(),sn())})(be,function(r){r.lib.Cipher||function(i){var n=r,s=n.lib,o=s.Base,a=s.WordArray,l=s.BufferedBlockAlgorithm,c=n.enc;c.Utf8;var h=c.Base64,f=n.algo,u=f.EvpKDF,d=s.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(A,P){return this.create(this._ENC_XFORM_MODE,A,P)},createDecryptor:function(A,P){return this.create(this._DEC_XFORM_MODE,A,P)},init:function(A,P,I){this.cfg=this.cfg.extend(I),this._xformMode=A,this._key=P,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(A){return this._append(A),this._process()},finalize:function(A){A&&this._append(A);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function A(P){return typeof P=="string"?R:E}return function(P){return{encrypt:function(I,D,F){return A(D).encrypt(P,I,D,F)},decrypt:function(I,D,F){return A(D).decrypt(P,I,D,F)}}}}()});s.StreamCipher=d.extend({_doFinalize:function(){var A=this._process(!0);return A},blockSize:1});var p=n.mode={},m=s.BlockCipherMode=o.extend({createEncryptor:function(A,P){return this.Encryptor.create(A,P)},createDecryptor:function(A,P){return this.Decryptor.create(A,P)},init:function(A,P){this._cipher=A,this._iv=P}}),x=p.CBC=function(){var A=m.extend();A.Encryptor=A.extend({processBlock:function(I,D){var F=this._cipher,G=F.blockSize;P.call(this,I,D,G),F.encryptBlock(I,D),this._prevBlock=I.slice(D,D+G)}}),A.Decryptor=A.extend({processBlock:function(I,D){var F=this._cipher,G=F.blockSize,V=I.slice(D,D+G);F.decryptBlock(I,D),P.call(this,I,D,G),this._prevBlock=V}});function P(I,D,F){var G,V=this._iv;V?(G=V,this._iv=i):G=this._prevBlock;for(var L=0;L<F;L++)I[D+L]^=G[L]}return A}(),y=n.pad={},_=y.Pkcs7={pad:function(A,P){for(var I=P*4,D=I-A.sigBytes%I,F=D<<24|D<<16|D<<8|D,G=[],V=0;V<D;V+=4)G.push(F);var L=a.create(G,D);A.concat(L)},unpad:function(A){var P=A.words[A.sigBytes-1>>>2]&255;A.sigBytes-=P}};s.BlockCipher=d.extend({cfg:d.cfg.extend({mode:x,padding:_}),reset:function(){var A;d.reset.call(this);var P=this.cfg,I=P.iv,D=P.mode;this._xformMode==this._ENC_XFORM_MODE?A=D.createEncryptor:(A=D.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==A?this._mode.init(this,I&&I.words):(this._mode=A.call(D,this,I&&I.words),this._mode.__creator=A)},_doProcessBlock:function(A,P){this._mode.processBlock(A,P)},_doFinalize:function(){var A,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),A=this._process(!0)):(A=this._process(!0),P.unpad(A)),A},blockSize:128/32});var g=s.CipherParams=o.extend({init:function(A){this.mixIn(A)},toString:function(A){return(A||this.formatter).stringify(this)}}),v=n.format={},b=v.OpenSSL={stringify:function(A){var P,I=A.ciphertext,D=A.salt;return D?P=a.create([1398893684,1701076831]).concat(D).concat(I):P=I,P.toString(h)},parse:function(A){var P,I=h.parse(A),D=I.words;return D[0]==1398893684&&D[1]==1701076831&&(P=a.create(D.slice(2,4)),D.splice(0,4),I.sigBytes-=16),g.create({ciphertext:I,salt:P})}},E=s.SerializableCipher=o.extend({cfg:o.extend({format:b}),encrypt:function(A,P,I,D){D=this.cfg.extend(D);var F=A.createEncryptor(I,D),G=F.finalize(P),V=F.cfg;return g.create({ciphertext:G,key:I,iv:V.iv,algorithm:A,mode:V.mode,padding:V.padding,blockSize:A.blockSize,formatter:D.format})},decrypt:function(A,P,I,D){D=this.cfg.extend(D),P=this._parse(P,D.format);var F=A.createDecryptor(I,D).finalize(P.ciphertext);return F},_parse:function(A,P){return typeof A=="string"?P.parse(A,this):A}}),S=n.kdf={},C=S.OpenSSL={execute:function(A,P,I,D,F){if(D||(D=a.random(64/8)),F)var G=u.create({keySize:P+I,hasher:F}).compute(A,D);else var G=u.create({keySize:P+I}).compute(A,D);var V=a.create(G.words.slice(P),I*4);return G.sigBytes=P*4,g.create({key:G,iv:V,salt:D})}},R=s.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:C}),encrypt:function(A,P,I,D){D=this.cfg.extend(D);var F=D.kdf.execute(I,A.keySize,A.ivSize,D.salt,D.hasher);D.iv=F.iv;var G=E.encrypt.call(this,A,P,F.key,D);return G.mixIn(F),G},decrypt:function(A,P,I,D){D=this.cfg.extend(D),P=this._parse(P,D.format);var F=D.kdf.execute(I,A.keySize,A.ivSize,P.salt,D.hasher);D.iv=F.iv;var G=E.decrypt.call(this,A,P,F.key,D);return G}})}()})}(ou)),ou.exports}var au={exports:{}},$x;function rM(){return $x||($x=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(be,function(r){return r.mode.CFB=function(){var i=r.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize;n.call(this,s,o,l,a),this._prevBlock=s.slice(o,o+l)}}),i.Decryptor=i.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=s.slice(o,o+l);n.call(this,s,o,l,a),this._prevBlock=c}});function n(s,o,a,l){var c,h=this._iv;h?(c=h.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var f=0;f<a;f++)s[o+f]^=c[f]}return i}(),r.mode.CFB})}(au)),au.exports}var lu={exports:{}},Wx;function iM(){return Wx||(Wx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(be,function(r){return r.mode.CTR=function(){var i=r.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,h=this._counter;c&&(h=this._counter=c.slice(0),this._iv=void 0);var f=h.slice(0);a.encryptBlock(f,0),h[l-1]=h[l-1]+1|0;for(var u=0;u<l;u++)s[o+u]^=f[u]}});return i.Decryptor=n,i}(),r.mode.CTR})}(lu)),lu.exports}var cu={exports:{}},Vx;function nM(){return Vx||(Vx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(be,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var i=r.lib.BlockCipherMode.extend();function n(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,h=a&255;l===255?(l=0,c===255?(c=0,h===255?h=0:++h):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=h}else a+=1<<24;return a}function s(a){return(a[0]=n(a[0]))===0&&(a[1]=n(a[1])),a}var o=i.Encryptor=i.extend({processBlock:function(a,l){var c=this._cipher,h=c.blockSize,f=this._iv,u=this._counter;f&&(u=this._counter=f.slice(0),this._iv=void 0),s(u);var d=u.slice(0);c.encryptBlock(d,0);for(var p=0;p<h;p++)a[l+p]^=d[p]}});return i.Decryptor=o,i}(),r.mode.CTRGladman})}(cu)),cu.exports}var hu={exports:{}},jx;function sM(){return jx||(jx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(be,function(r){return r.mode.OFB=function(){var i=r.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,h=this._keystream;c&&(h=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(h,0);for(var f=0;f<l;f++)s[o+f]^=h[f]}});return i.Decryptor=n,i}(),r.mode.OFB})}(hu)),hu.exports}var uu={exports:{}},Xx;function oM(){return Xx||(Xx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(be,function(r){return r.mode.ECB=function(){var i=r.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(n,s){this._cipher.encryptBlock(n,s)}}),i.Decryptor=i.extend({processBlock:function(n,s){this._cipher.decryptBlock(n,s)}}),i}(),r.mode.ECB})}(uu)),uu.exports}var fu={exports:{}},Yx;function aM(){return Yx||(Yx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(be,function(r){return r.pad.AnsiX923={pad:function(i,n){var s=i.sigBytes,o=n*4,a=o-s%o,l=s+a-1;i.clamp(),i.words[l>>>2]|=a<<24-l%4*8,i.sigBytes+=a},unpad:function(i){var n=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=n}},r.pad.Ansix923})}(fu)),fu.exports}var du={exports:{}},qx;function lM(){return qx||(qx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(be,function(r){return r.pad.Iso10126={pad:function(i,n){var s=n*4,o=s-i.sigBytes%s;i.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(i){var n=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=n}},r.pad.Iso10126})}(du)),du.exports}var pu={exports:{}},Kx;function cM(){return Kx||(Kx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(be,function(r){return r.pad.Iso97971={pad:function(i,n){i.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(i,n)},unpad:function(i){r.pad.ZeroPadding.unpad(i),i.sigBytes--}},r.pad.Iso97971})}(pu)),pu.exports}var mu={exports:{}},Zx;function hM(){return Zx||(Zx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(be,function(r){return r.pad.ZeroPadding={pad:function(i,n){var s=n*4;i.clamp(),i.sigBytes+=s-(i.sigBytes%s||s)},unpad:function(i){for(var n=i.words,s=i.sigBytes-1,s=i.sigBytes-1;s>=0;s--)if(n[s>>>2]>>>24-s%4*8&255){i.sigBytes=s+1;break}}},r.pad.ZeroPadding})}(mu)),mu.exports}var xu={exports:{}},Qx;function uM(){return Qx||(Qx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(be,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(xu)),xu.exports}var gu={exports:{}},Jx;function fM(){return Jx||(Jx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(be,function(r){return function(i){var n=r,s=n.lib,o=s.CipherParams,a=n.enc,l=a.Hex,c=n.format;c.Hex={stringify:function(h){return h.ciphertext.toString(l)},parse:function(h){var f=l.parse(h);return o.create({ciphertext:f})}}}(),r.format.Hex})}(gu)),gu.exports}var _u={exports:{}},eg;function dM(){return eg||(eg=1,function(t,e){(function(r,i,n){t.exports=i(De(),Zn(),Qn(),sn(),gt())})(be,function(r){return function(){var i=r,n=i.lib,s=n.BlockCipher,o=i.algo,a=[],l=[],c=[],h=[],f=[],u=[],d=[],p=[],m=[],x=[];(function(){for(var g=[],v=0;v<256;v++)v<128?g[v]=v<<1:g[v]=v<<1^283;for(var b=0,E=0,v=0;v<256;v++){var S=E^E<<1^E<<2^E<<3^E<<4;S=S>>>8^S&255^99,a[b]=S,l[S]=b;var C=g[b],R=g[C],A=g[R],P=g[S]*257^S*16843008;c[b]=P<<24|P>>>8,h[b]=P<<16|P>>>16,f[b]=P<<8|P>>>24,u[b]=P;var P=A*16843009^R*65537^C*257^b*16843008;d[S]=P<<24|P>>>8,p[S]=P<<16|P>>>16,m[S]=P<<8|P>>>24,x[S]=P,b?(b=C^g[g[g[A^C]]],E^=g[g[E]]):b=E=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=s.extend({_doReset:function(){var g;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var v=this._keyPriorReset=this._key,b=v.words,E=v.sigBytes/4,S=this._nRounds=E+6,C=(S+1)*4,R=this._keySchedule=[],A=0;A<C;A++)A<E?R[A]=b[A]:(g=R[A-1],A%E?E>6&&A%E==4&&(g=a[g>>>24]<<24|a[g>>>16&255]<<16|a[g>>>8&255]<<8|a[g&255]):(g=g<<8|g>>>24,g=a[g>>>24]<<24|a[g>>>16&255]<<16|a[g>>>8&255]<<8|a[g&255],g^=y[A/E|0]<<24),R[A]=R[A-E]^g);for(var P=this._invKeySchedule=[],I=0;I<C;I++){var A=C-I;if(I%4)var g=R[A];else var g=R[A-4];I<4||A<=4?P[I]=g:P[I]=d[a[g>>>24]]^p[a[g>>>16&255]]^m[a[g>>>8&255]]^x[a[g&255]]}}},encryptBlock:function(g,v){this._doCryptBlock(g,v,this._keySchedule,c,h,f,u,a)},decryptBlock:function(g,v){var b=g[v+1];g[v+1]=g[v+3],g[v+3]=b,this._doCryptBlock(g,v,this._invKeySchedule,d,p,m,x,l);var b=g[v+1];g[v+1]=g[v+3],g[v+3]=b},_doCryptBlock:function(g,v,b,E,S,C,R,A){for(var P=this._nRounds,I=g[v]^b[0],D=g[v+1]^b[1],F=g[v+2]^b[2],G=g[v+3]^b[3],V=4,L=1;L<P;L++){var Y=E[I>>>24]^S[D>>>16&255]^C[F>>>8&255]^R[G&255]^b[V++],ne=E[D>>>24]^S[F>>>16&255]^C[G>>>8&255]^R[I&255]^b[V++],z=E[F>>>24]^S[G>>>16&255]^C[I>>>8&255]^R[D&255]^b[V++],M=E[G>>>24]^S[I>>>16&255]^C[D>>>8&255]^R[F&255]^b[V++];I=Y,D=ne,F=z,G=M}var Y=(A[I>>>24]<<24|A[D>>>16&255]<<16|A[F>>>8&255]<<8|A[G&255])^b[V++],ne=(A[D>>>24]<<24|A[F>>>16&255]<<16|A[G>>>8&255]<<8|A[I&255])^b[V++],z=(A[F>>>24]<<24|A[G>>>16&255]<<16|A[I>>>8&255]<<8|A[D&255])^b[V++],M=(A[G>>>24]<<24|A[I>>>16&255]<<16|A[D>>>8&255]<<8|A[F&255])^b[V++];g[v]=Y,g[v+1]=ne,g[v+2]=z,g[v+3]=M},keySize:256/32});i.AES=s._createHelper(_)}(),r.AES})}(_u)),_u.exports}var vu={exports:{}},tg;function pM(){return tg||(tg=1,function(t,e){(function(r,i,n){t.exports=i(De(),Zn(),Qn(),sn(),gt())})(be,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=n.BlockCipher,a=i.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],h=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=a.DES=o.extend({_doReset:function(){for(var y=this._key,_=y.words,g=[],v=0;v<56;v++){var b=l[v]-1;g[v]=_[b>>>5]>>>31-b%32&1}for(var E=this._subKeys=[],S=0;S<16;S++){for(var C=E[S]=[],R=h[S],v=0;v<24;v++)C[v/6|0]|=g[(c[v]-1+R)%28]<<31-v%6,C[4+(v/6|0)]|=g[28+(c[v+24]-1+R)%28]<<31-v%6;C[0]=C[0]<<1|C[0]>>>31;for(var v=1;v<7;v++)C[v]=C[v]>>>(v-1)*4+3;C[7]=C[7]<<5|C[7]>>>27}for(var A=this._invSubKeys=[],v=0;v<16;v++)A[v]=E[15-v]},encryptBlock:function(y,_){this._doCryptBlock(y,_,this._subKeys)},decryptBlock:function(y,_){this._doCryptBlock(y,_,this._invSubKeys)},_doCryptBlock:function(y,_,g){this._lBlock=y[_],this._rBlock=y[_+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var v=0;v<16;v++){for(var b=g[v],E=this._lBlock,S=this._rBlock,C=0,R=0;R<8;R++)C|=f[R][((S^b[R])&u[R])>>>0];this._lBlock=S,this._rBlock=E^C}var A=this._lBlock;this._lBlock=this._rBlock,this._rBlock=A,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),y[_]=this._lBlock,y[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(y,_){var g=(this._lBlock>>>y^this._rBlock)&_;this._rBlock^=g,this._lBlock^=g<<y}function m(y,_){var g=(this._rBlock>>>y^this._lBlock)&_;this._lBlock^=g,this._rBlock^=g<<y}i.DES=o._createHelper(d);var x=a.TripleDES=o.extend({_doReset:function(){var y=this._key,_=y.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var g=_.slice(0,2),v=_.length<4?_.slice(0,2):_.slice(2,4),b=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=d.createEncryptor(s.create(g)),this._des2=d.createEncryptor(s.create(v)),this._des3=d.createEncryptor(s.create(b))},encryptBlock:function(y,_){this._des1.encryptBlock(y,_),this._des2.decryptBlock(y,_),this._des3.encryptBlock(y,_)},decryptBlock:function(y,_){this._des3.decryptBlock(y,_),this._des2.encryptBlock(y,_),this._des1.decryptBlock(y,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=o._createHelper(x)}(),r.TripleDES})}(vu)),vu.exports}var yu={exports:{}},rg;function mM(){return rg||(rg=1,function(t,e){(function(r,i,n){t.exports=i(De(),Zn(),Qn(),sn(),gt())})(be,function(r){return function(){var i=r,n=i.lib,s=n.StreamCipher,o=i.algo,a=o.RC4=s.extend({_doReset:function(){for(var h=this._key,f=h.words,u=h.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,m=0;p<256;p++){var x=p%u,y=f[x>>>2]>>>24-x%4*8&255;m=(m+d[p]+y)%256;var _=d[p];d[p]=d[m],d[m]=_}this._i=this._j=0},_doProcessBlock:function(h,f){h[f]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var h=this._S,f=this._i,u=this._j,d=0,p=0;p<4;p++){f=(f+1)%256,u=(u+h[f])%256;var m=h[f];h[f]=h[u],h[u]=m,d|=h[(h[f]+h[u])%256]<<24-p*8}return this._i=f,this._j=u,d}i.RC4=s._createHelper(a);var c=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var h=this.cfg.drop;h>0;h--)l.call(this)}});i.RC4Drop=s._createHelper(c)}(),r.RC4})}(yu)),yu.exports}var bu={exports:{}},ig;function xM(){return ig||(ig=1,function(t,e){(function(r,i,n){t.exports=i(De(),Zn(),Qn(),sn(),gt())})(be,function(r){return function(){var i=r,n=i.lib,s=n.StreamCipher,o=i.algo,a=[],l=[],c=[],h=o.Rabbit=s.extend({_doReset:function(){for(var u=this._key.words,d=this.cfg.iv,p=0;p<4;p++)u[p]=(u[p]<<8|u[p]>>>24)&16711935|(u[p]<<24|u[p]>>>8)&4278255360;var m=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],x=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var p=0;p<4;p++)f.call(this);for(var p=0;p<8;p++)x[p]^=m[p+4&7];if(d){var y=d.words,_=y[0],g=y[1],v=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,b=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,E=v>>>16|b&4294901760,S=b<<16|v&65535;x[0]^=v,x[1]^=E,x[2]^=b,x[3]^=S,x[4]^=v,x[5]^=E,x[6]^=b,x[7]^=S;for(var p=0;p<4;p++)f.call(this)}},_doProcessBlock:function(u,d){var p=this._X;f.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,u[d+m]^=a[m]},blockSize:128/32,ivSize:64/32});function f(){for(var u=this._X,d=this._C,p=0;p<8;p++)l[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=u[p]+d[p],x=m&65535,y=m>>>16,_=((x*x>>>17)+x*y>>>15)+y*y,g=((m&4294901760)*m|0)+((m&65535)*m|0);c[p]=_^g}u[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,u[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,u[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,u[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,u[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,u[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,u[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,u[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}i.Rabbit=s._createHelper(h)}(),r.Rabbit})}(bu)),bu.exports}var Eu={exports:{}},ng;function gM(){return ng||(ng=1,function(t,e){(function(r,i,n){t.exports=i(De(),Zn(),Qn(),sn(),gt())})(be,function(r){return function(){var i=r,n=i.lib,s=n.StreamCipher,o=i.algo,a=[],l=[],c=[],h=o.RabbitLegacy=s.extend({_doReset:function(){var u=this._key.words,d=this.cfg.iv,p=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],m=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var x=0;x<4;x++)f.call(this);for(var x=0;x<8;x++)m[x]^=p[x+4&7];if(d){var y=d.words,_=y[0],g=y[1],v=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,b=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,E=v>>>16|b&4294901760,S=b<<16|v&65535;m[0]^=v,m[1]^=E,m[2]^=b,m[3]^=S,m[4]^=v,m[5]^=E,m[6]^=b,m[7]^=S;for(var x=0;x<4;x++)f.call(this)}},_doProcessBlock:function(u,d){var p=this._X;f.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,u[d+m]^=a[m]},blockSize:128/32,ivSize:64/32});function f(){for(var u=this._X,d=this._C,p=0;p<8;p++)l[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=u[p]+d[p],x=m&65535,y=m>>>16,_=((x*x>>>17)+x*y>>>15)+y*y,g=((m&4294901760)*m|0)+((m&65535)*m|0);c[p]=_^g}u[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,u[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,u[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,u[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,u[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,u[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,u[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,u[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}i.RabbitLegacy=s._createHelper(h)}(),r.RabbitLegacy})}(Eu)),Eu.exports}var Su={exports:{}},sg;function _M(){return sg||(sg=1,function(t,e){(function(r,i,n){t.exports=i(De(),Zn(),Qn(),sn(),gt())})(be,function(r){return function(){var i=r,n=i.lib,s=n.BlockCipher,o=i.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var h={pbox:[],sbox:[]};function f(x,y){let _=y>>24&255,g=y>>16&255,v=y>>8&255,b=y&255,E=x.sbox[0][_]+x.sbox[1][g];return E=E^x.sbox[2][v],E=E+x.sbox[3][b],E}function u(x,y,_){let g=y,v=_,b;for(let E=0;E<a;++E)g=g^x.pbox[E],v=f(x,g)^v,b=g,g=v,v=b;return b=g,g=v,v=b,v=v^x.pbox[a],g=g^x.pbox[a+1],{left:g,right:v}}function d(x,y,_){let g=y,v=_,b;for(let E=a+1;E>1;--E)g=g^x.pbox[E],v=f(x,g)^v,b=g,g=v,v=b;return b=g,g=v,v=b,v=v^x.pbox[1],g=g^x.pbox[0],{left:g,right:v}}function p(x,y,_){for(let S=0;S<4;S++){x.sbox[S]=[];for(let C=0;C<256;C++)x.sbox[S][C]=c[S][C]}let g=0;for(let S=0;S<a+2;S++)x.pbox[S]=l[S]^y[g],g++,g>=_&&(g=0);let v=0,b=0,E=0;for(let S=0;S<a+2;S+=2)E=u(x,v,b),v=E.left,b=E.right,x.pbox[S]=v,x.pbox[S+1]=b;for(let S=0;S<4;S++)for(let C=0;C<256;C+=2)E=u(x,v,b),v=E.left,b=E.right,x.sbox[S][C]=v,x.sbox[S][C+1]=b;return!0}var m=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var x=this._keyPriorReset=this._key,y=x.words,_=x.sigBytes/4;p(h,y,_)}},encryptBlock:function(x,y){var _=u(h,x[y],x[y+1]);x[y]=_.left,x[y+1]=_.right},decryptBlock:function(x,y){var _=d(h,x[y],x[y+1]);x[y]=_.left,x[y+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=s._createHelper(m)}(),r.Blowfish})}(Su)),Su.exports}(function(t,e){(function(r,i,n){t.exports=i(De(),Rc(),Y6(),q6(),Zn(),K6(),Qn(),Gy(),p0(),Z6(),$y(),Q6(),J6(),eM(),m0(),tM(),sn(),gt(),rM(),iM(),nM(),sM(),oM(),aM(),lM(),cM(),hM(),uM(),fM(),dM(),pM(),mM(),xM(),gM(),_M())})(be,function(r){return r})})(Hy);var vM=Hy.exports;const og=Td(vM),yM=(t,e,r,i)=>{const n=new Yn;return n.beginFill(t,i),n.drawRect(0,0,e,r),n.endFill(),n},S7=t=>{if(!t)return;const{innerWidth:e,innerHeight:r}=window;if(r>e/.5625&&e<Js.width){const i=Math.round(e/.5625);t.style.width=`${e}px`,t.style.height=`${i}px`}else{const i=Math.round(r/1.777);t.style.width=`${i}px`,t.style.height=`${r}px`}},bM=(t,e)=>{if(!t)return null;const i=og.AES.decrypt(t,e).toString(og.enc.Utf8);return JSON.parse(i)},EM=()=>{document.addEventListener("visibilitychange",()=>{const t=document.hidden;t&&gi.getHandle.onHiddenTab(),t||gi.getHandle.onViewTab()})},SM=t=>{const e=`${t}`.replaceAll(",","");return+e>-1?e.replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"};function jf(t,e={},r){for(const i in t){const n=t[i],s=r?`${r}:${i}`:i;typeof n=="object"&&n!==null?jf(n,e,s):typeof n=="function"&&(e[s]=n)}return e}const CM={run:t=>t()},TM=()=>CM,Wy=typeof console.createTask<"u"?console.createTask:TM;function AM(t,e){const r=e.shift(),i=Wy(r);return t.reduce((n,s)=>n.then(()=>i.run(()=>s(...e))),Promise.resolve())}function wM(t,e){const r=e.shift(),i=Wy(r);return Promise.all(t.map(n=>i.run(()=>n(...e))))}function Cu(t,e){for(const r of[...t])r(e)}class PM{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,r,i={}){if(!e||typeof r!="function")return()=>{};const n=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!i.allowDeprecated){let o=s.message;o||(o=`${n} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!r.name)try{Object.defineProperty(r,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(r),()=>{r&&(this.removeHook(e,r),r=void 0)}}hookOnce(e,r){let i,n=(...s)=>(typeof i=="function"&&i(),i=void 0,n=void 0,r(...s));return i=this.hook(e,n),i}removeHook(e,r){if(this._hooks[e]){const i=this._hooks[e].indexOf(r);i!==-1&&this._hooks[e].splice(i,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,r){this._deprecatedHooks[e]=typeof r=="string"?{to:r}:r;const i=this._hooks[e]||[];delete this._hooks[e];for(const n of i)this.hook(e,n)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const r in e)this.deprecateHook(r,e[r])}addHooks(e){const r=jf(e),i=Object.keys(r).map(n=>this.hook(n,r[n]));return()=>{for(const n of i.splice(0,i.length))n()}}removeHooks(e){const r=jf(e);for(const i in r)this.removeHook(i,r[i])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...r){return r.unshift(e),this.callHookWith(AM,e,...r)}callHookParallel(e,...r){return r.unshift(e),this.callHookWith(wM,e,...r)}callHookWith(e,r,...i){const n=this._before||this._after?{name:r,args:i,context:{}}:void 0;this._before&&Cu(this._before,n);const s=e(r in this._hooks?[...this._hooks[r]]:[],i);return s instanceof Promise?s.finally(()=>{this._after&&n&&Cu(this._after,n)}):(this._after&&n&&Cu(this._after,n),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const r=this._before.indexOf(e);r!==-1&&this._before.splice(r,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const r=this._after.indexOf(e);r!==-1&&this._after.splice(r,1)}}}}function BM(){return new PM}function RM(t){return Array.isArray(t)?t:[t]}const DM=["title","titleTemplate","script","style","noscript"],xl=["base","meta","link","style","script","noscript"],IM=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],FM=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],Vy=["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"],MM=typeof window<"u";function x0(t){let e=9;for(let r=0;r<t.length;)e=Math.imul(e^t.charCodeAt(r++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function ag(t){return t._h||x0(t._d?t._d:`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([e,r])=>`${e}:${String(r)}`).join(",")}`)}function jy(t,e){const{props:r,tag:i}=t;if(FM.includes(i))return i;if(i==="link"&&r.rel==="canonical")return"canonical";if(r.charset)return"charset";const n=["id"];i==="meta"&&n.push("name","property","http-equiv");for(const s of n)if(typeof r[s]<"u"){const o=String(r[s]);return e&&!e(o)?!1:`${i}:${s}:${o}`}return!1}function lg(t,e){return t==null?e||null:typeof t=="function"?t(e):t}async function OM(t,e,r){const i={tag:t,props:await Xy(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[["script","noscript","style"].includes(t)?"innerHTML":"textContent"]:e},["templateParams","titleTemplate"].includes(t))};return Vy.forEach(n=>{const s=typeof i.props[n]<"u"?i.props[n]:r[n];typeof s<"u"&&((!["innerHTML","textContent","children"].includes(n)||DM.includes(i.tag))&&(i[n==="children"?"innerHTML":n]=s),delete i.props[n])}),i.props.body&&(i.tagPosition="bodyClose",delete i.props.body),i.tag==="script"&&typeof i.innerHTML=="object"&&(i.innerHTML=JSON.stringify(i.innerHTML),i.props.type=i.props.type||"application/json"),Array.isArray(i.props.content)?i.props.content.map(n=>({...i,props:{...i.props,content:n}})):i}function kM(t,e){const r=t==="class"?" ":";";return typeof e=="object"&&!Array.isArray(e)&&(e=Object.entries(e).filter(([,i])=>i).map(([i,n])=>t==="style"?`${i}:${n}`:i)),(Array.isArray(e)?e.join(r):e).split(r).filter(i=>i.trim()).filter(Boolean).join(r)}async function Xy(t,e){for(const r of Object.keys(t)){if(["class","style"].includes(r)){t[r]=kM(r,t[r]);continue}if(t[r]instanceof Promise&&(t[r]=await t[r]),!e&&!Vy.includes(r)){const i=String(t[r]),n=r.startsWith("data-");i==="true"||i===""?t[r]=n?"true":!0:t[r]||(n&&i==="false"?t[r]="false":delete t[r])}}return t}const NM=10;async function LM(t){const e=[];return Object.entries(t.resolvedInput).filter(([r,i])=>typeof i<"u"&&IM.includes(r)).forEach(([r,i])=>{const n=RM(i);e.push(...n.map(s=>OM(r,s,t)).flat())}),(await Promise.all(e)).flat().filter(Boolean).map((r,i)=>(r._e=t._i,t.mode&&(r._m=t.mode),r._p=(t._i<<NM)+i,r))}const cg={base:-10,title:10},hg={critical:-80,high:-10,low:20};function Kl(t){let e=100;const r=t.tagPriority;return typeof r=="number"?r:(t.tag==="meta"?(t.props["http-equiv"]==="content-security-policy"&&(e=-30),t.props.charset&&(e=-20),t.props.name==="viewport"&&(e=-15)):t.tag==="link"&&t.props.rel==="preconnect"?e=20:t.tag in cg&&(e=cg[t.tag]),typeof r=="string"&&r in hg?e+hg[r]:e)}const UM=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],ug=["onload","onerror","onabort","onprogress","onloadstart"],Bi="%separator";function gl(t,e,r){if(typeof t!="string"||!t.includes("%"))return t;function i(o){let a;return["s","pageTitle"].includes(o)?a=e.pageTitle:o.includes(".")?a=o.split(".").reduce((l,c)=>l&&l[c]||void 0,e):a=e[o],typeof a<"u"?(a||"").replace(/"/g,'\\"'):!1}let n=t;try{n=decodeURI(t)}catch{}return(n.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(o=>{const a=i(o.slice(1));typeof a=="string"&&(t=t.replace(new RegExp(`\\${o}(\\W|$)`,"g"),(l,c)=>`${a}${c}`).trim())}),t.includes(Bi)&&(t.endsWith(Bi)&&(t=t.slice(0,-Bi.length).trim()),t.startsWith(Bi)&&(t=t.slice(Bi.length).trim()),t=t.replace(new RegExp(`\\${Bi}\\s*\\${Bi}`,"g"),Bi),t=gl(t,{separator:r},r)),t}async function Yy(t,e={}){var h;const r=e.document||t.resolvedOptions.document;if(!r||!t.dirty)return;const i={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",i),!i.shouldRender)return;const n=(await t.resolveTags()).map(f=>({tag:f,id:xl.includes(f.tag)?ag(f):f.tag,shouldRender:!0}));let s=t._dom;if(!s){s={elMap:{htmlAttrs:r.documentElement,bodyAttrs:r.body}};for(const f of["body","head"]){const u=(h=r[f])==null?void 0:h.children,d=[];for(const p of[...u].filter(m=>xl.includes(m.tagName.toLowerCase()))){const m={tag:p.tagName.toLowerCase(),props:await Xy(p.getAttributeNames().reduce((_,g)=>({..._,[g]:p.getAttribute(g)}),{})),innerHTML:p.innerHTML};let x=1,y=jy(m);for(;y&&d.find(_=>_._d===y);)y=`${y}:${x++}`;m._d=y||void 0,d.push(m),s.elMap[p.getAttribute("data-hid")||ag(m)]=p}}}s.pendingSideEffects={...s.sideEffects||{}},s.sideEffects={};function o(f,u,d){const p=`${f}:${u}`;s.sideEffects[p]=d,delete s.pendingSideEffects[p]}function a({id:f,$el:u,tag:d}){const p=d.tag.endsWith("Attrs");s.elMap[f]=u,p||(["textContent","innerHTML"].forEach(m=>{d[m]&&d[m]!==u[m]&&(u[m]=d[m])}),o(f,"el",()=>{var m;(m=s.elMap[f])==null||m.remove(),delete s.elMap[f]}));for(const[m,x]of Object.entries(d._eventHandlers||{}))u.getAttribute(`data-${m}`)!==""&&((d.tag==="bodyAttrs"?r.defaultView:u).addEventListener(m.replace("on",""),x.bind(u)),u.setAttribute(`data-${m}`,""));Object.entries(d.props).forEach(([m,x])=>{const y=`attr:${m}`;if(m==="class")for(const _ of(x||"").split(" ").filter(Boolean))p&&o(f,`${y}:${_}`,()=>u.classList.remove(_)),!u.classList.contains(_)&&u.classList.add(_);else if(m==="style")for(const _ of(x||"").split(";").filter(Boolean)){const[g,...v]=_.split(":").map(b=>b.trim());o(f,`${y}:${_}:${g}`,()=>{u.style.removeProperty(g)}),u.style.setProperty(g,v.join(":"))}else u.getAttribute(m)!==x&&u.setAttribute(m,x===!0?"":String(x)),p&&o(f,y,()=>u.removeAttribute(m))})}const l=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const f of n){const{tag:u,shouldRender:d,id:p}=f;if(d){if(u.tag==="title"){r.title=u.textContent;continue}f.$el=f.$el||s.elMap[p],f.$el?a(f):xl.includes(u.tag)&&l.push(f)}}for(const f of l){const u=f.tag.tagPosition||"head";f.$el=r.createElement(f.tag.tag),a(f),c[u]=c[u]||r.createDocumentFragment(),c[u].appendChild(f.$el)}for(const f of n)await t.hooks.callHook("dom:renderTag",f,r,o);c.head&&r.head.appendChild(c.head),c.bodyOpen&&r.body.insertBefore(c.bodyOpen,r.body.firstChild),c.bodyClose&&r.body.appendChild(c.bodyClose),Object.values(s.pendingSideEffects).forEach(f=>f()),t._dom=s,t.dirty=!1,await t.hooks.callHook("dom:rendered",{renders:n})}async function qy(t,e={}){const r=e.delayFn||(i=>setTimeout(i,10));return t._domUpdatePromise=t._domUpdatePromise||new Promise(i=>r(async()=>{await Yy(t,e),delete t._domUpdatePromise,i()}))}function zM(t){return e=>{var i,n;const r=((n=(i=e.resolvedOptions.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:n.innerHTML)||!1;return r&&e.push(JSON.parse(r)),{mode:"client",hooks:{"entries:updated":function(s){qy(s,t)}}}}}const HM=["templateParams","htmlAttrs","bodyAttrs"],GM={hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(i=>{t.props[i]&&(t.key=t.props[i],delete t.props[i])});const r=jy(t)||(t.key?`${t.tag}:${t.key}`:!1);r&&(t._d=r)},"tags:resolve":function(t){const e={};t.tags.forEach(i=>{const n=(i.key?`${i.tag}:${i.key}`:i._d)||i._p,s=e[n];if(s){let a=i==null?void 0:i.tagDuplicateStrategy;if(!a&&HM.includes(i.tag)&&(a="merge"),a==="merge"){const l=s.props;["class","style"].forEach(c=>{l[c]&&(i.props[c]?(c==="style"&&!l[c].endsWith(";")&&(l[c]+=";"),i.props[c]=`${l[c]} ${i.props[c]}`):i.props[c]=l[c])}),e[n].props={...l,...i.props};return}else if(i._e===s._e){s._duped=s._duped||[],i._d=`${s._d}:${s._duped.length+1}`,s._duped.push(i);return}else if(Kl(i)>Kl(s))return}const o=Object.keys(i.props).length+(i.innerHTML?1:0)+(i.textContent?1:0);if(xl.includes(i.tag)&&o===0){delete e[n];return}e[n]=i});const r=[];Object.values(e).forEach(i=>{const n=i._duped;delete i._duped,r.push(i),n&&r.push(...n)}),t.tags=r,t.tags=t.tags.filter(i=>!(i.tag==="meta"&&(i.props.name||i.props.property)&&!i.props.content))}}},$M={mode:"server",hooks:{"tags:resolve":function(t){const e={};t.tags.filter(r=>["titleTemplate","templateParams","title"].includes(r.tag)&&r._m==="server").forEach(r=>{e[r.tag]=r.tag.startsWith("title")?r.textContent:r.props}),Object.keys(e).length&&t.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},WM=["script","link","bodyAttrs"],VM=t=>({hooks:{"tags:resolve":function(e){for(const r of e.tags.filter(i=>WM.includes(i.tag)))Object.entries(r.props).forEach(([i,n])=>{i.startsWith("on")&&typeof n=="function"&&(t.ssr&&ug.includes(i)?r.props[i]=`this.dataset.${i}fired = true`:delete r.props[i],r._eventHandlers=r._eventHandlers||{},r._eventHandlers[i]=n)}),t.ssr&&r._eventHandlers&&(r.props.src||r.props.href)&&(r.key=r.key||x0(r.props.src||r.props.href))},"dom:renderTag":function({$el:e,tag:r}){var i,n;for(const s of Object.keys((e==null?void 0:e.dataset)||{}).filter(o=>ug.some(a=>`${a}fired`===o))){const o=s.replace("fired","");(n=(i=r._eventHandlers)==null?void 0:i[o])==null||n.call(e,new Event(o.replace("on","")))}}}}),jM=["link","style","script","noscript"],XM={hooks:{"tag:normalise":({tag:t})=>{t.key&&jM.includes(t.tag)&&(t.props["data-hid"]=t._h=x0(t.key))}}},YM={hooks:{"tags:resolve":t=>{const e=r=>{var i;return(i=t.tags.find(n=>n._d===r))==null?void 0:i._p};for(const{prefix:r,offset:i}of UM)for(const n of t.tags.filter(s=>typeof s.tagPriority=="string"&&s.tagPriority.startsWith(r))){const s=e(n.tagPriority.replace(r,""));typeof s<"u"&&(n._p=s+i)}t.tags.sort((r,i)=>r._p-i._p).sort((r,i)=>Kl(r)-Kl(i))}}},qM={meta:"content",link:"href",htmlAttrs:"lang"},KM=t=>({hooks:{"tags:resolve":e=>{var a;const{tags:r}=e,i=(a=r.find(l=>l.tag==="title"))==null?void 0:a.textContent,n=r.findIndex(l=>l.tag==="templateParams"),s=n!==-1?r[n].props:{},o=s.separator||"|";delete s.separator,s.pageTitle=gl(s.pageTitle||i||"",s,o);for(const l of r.filter(c=>c.processTemplateParams!==!1)){const c=qM[l.tag];c&&typeof l.props[c]=="string"?l.props[c]=gl(l.props[c],s,o):(l.processTemplateParams===!0||["titleTemplate","title"].includes(l.tag))&&["innerHTML","textContent"].forEach(h=>{typeof l[h]=="string"&&(l[h]=gl(l[h],s,o))})}t._templateParams=s,t._separator=o,e.tags=r.filter(l=>l.tag!=="templateParams")}}}),ZM={hooks:{"tags:resolve":t=>{const{tags:e}=t;let r=e.findIndex(n=>n.tag==="titleTemplate");const i=e.findIndex(n=>n.tag==="title");if(i!==-1&&r!==-1){const n=lg(e[r].textContent,e[i].textContent);n!==null?e[i].textContent=n||e[i].textContent:delete e[i]}else if(r!==-1){const n=lg(e[r].textContent);n!==null&&(e[r].textContent=n,e[r].tag="title",r=-1)}r!==-1&&delete e[r],t.tags=e.filter(Boolean)}}},QM={hooks:{"tags:afterResolve":function(t){for(const e of t.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&["application/ld+json","application/json"].includes(e.props.type)?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let Ky;function JM(t={}){const e=eO(t);return e.use(zM()),Ky=e}function fg(t,e){return!t||t==="server"&&e||t==="client"&&!e}function eO(t={}){const e=BM();e.addHooks(t.hooks||{}),t.document=t.document||(MM?document:void 0);const r=!t.document,i=()=>{a.dirty=!0,e.callHook("entries:updated",a)};let n=0,s=[];const o=[],a={plugins:o,dirty:!1,resolvedOptions:t,hooks:e,headEntries(){return s},use(l){const c=typeof l=="function"?l(a):l;(!c.key||!o.some(h=>h.key===c.key))&&(o.push(c),fg(c.mode,r)&&e.addHooks(c.hooks||{}))},push(l,c){c==null||delete c.head;const h={_i:n++,input:l,...c};return fg(h.mode,r)&&(s.push(h),i()),{dispose(){s=s.filter(f=>f._i!==h._i),e.callHook("entries:updated",a),i()},patch(f){s=s.map(u=>(u._i===h._i&&(u.input=h.input=f),u)),i()}}},async resolveTags(){const l={tags:[],entries:[...s]};await e.callHook("entries:resolve",l);for(const c of l.entries){const h=c.resolvedInput||c.input;if(c.resolvedInput=await(c.transform?c.transform(h):h),c.resolvedInput)for(const f of await LM(c)){const u={tag:f,entry:c,resolvedOptions:a.resolvedOptions};await e.callHook("tag:normalise",u),l.tags.push(u.tag)}}return await e.callHook("tags:beforeResolve",l),await e.callHook("tags:resolve",l),await e.callHook("tags:afterResolve",l),l.tags},ssr:r};return[GM,$M,VM,XM,YM,KM,ZM,QM,...(t==null?void 0:t.plugins)||[]].forEach(l=>a.use(l)),a.hooks.callHook("init",a),a}function tO(){return Ky}const rO=Sd.startsWith("3");function iO(t){return typeof t=="function"?t():Ht(t)}function Zl(t,e=""){if(t instanceof Promise)return t;const r=iO(t);return!t||!r?r:Array.isArray(r)?r.map(i=>Zl(i,e)):typeof r=="object"?Object.fromEntries(Object.entries(r).map(([i,n])=>i==="titleTemplate"||i.startsWith("on")?[i,Ht(n)]:[i,Zl(n,i)])):r}const nO={hooks:{"entries:resolve":function(t){for(const e of t.entries)e.resolvedInput=Zl(e.input)}}},Zy="usehead";function sO(t){return{install(r){rO&&(r.config.globalProperties.$unhead=t,r.config.globalProperties.$head=t,r.provide(Zy,t))}}.install}function oO(t={}){t.domDelayFn=t.domDelayFn||(r=>da(()=>setTimeout(()=>r(),0)));const e=JM(t);return e.use(nO),e.install=sO(e),e}const dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pg="__unhead_injection_handler__";function aO(){if(pg in dg)return dg[pg]();const t=pr(Zy);return t||tO()}function Qy(t,e={}){const r=e.head||aO();if(r)return r.ssr?r.push(t,e):lO(r,t,e)}function lO(t,e,r={}){const i=ui(!1),n=ui({});Ao(()=>{n.value=i.value?{}:Zl(e)});const s=t.push(n.value,r);return wo(n,a=>{s.patch(a)}),g2()&&(g1(()=>{s.dispose()}),m1(()=>{i.value=!0}),p1(()=>{i.value=!1})),s}function cO(t,e){const r=oO(e||{}),i={unhead:r,install(n){Sd.startsWith("3")&&(n.config.globalProperties.$head=r,n.provide("usehead",r))},use(n){r.use(n)},resolveTags(){return r.resolveTags()},headEntries(){return r.headEntries()},headTags(){return r.resolveTags()},push(n,s){return r.push(n,s)},addEntry(n,s){return r.push(n,s)},addHeadObjs(n,s){return r.push(n,s)},addReactiveEntry(n,s){const o=Qy(n,s);return typeof o<"u"?o.dispose:()=>{}},removeHeadObjs(){},updateDOM(n,s){s?Yy(r,{document:n}):qy(r,{delayFn:o=>setTimeout(()=>o(),50),document:n})},internalHooks:r.hooks,hooks:{"before:dom":[],"resolved:tags":[],"resolved:entries":[]}};return r.addHeadObjs=i.addHeadObjs,r.updateDOM=i.updateDOM,r.hooks.hook("dom:beforeRender",n=>{for(const s of i.hooks["before:dom"])s()===!1&&(n.shouldRender=!1)}),t&&i.addHeadObjs(t),i}/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const hs=typeof document<"u";function hO(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ne=Object.assign;function Tu(t,e){const r={};for(const i in e){const n=e[i];r[i]=Fr(n)?n.map(t):t(n)}return r}const zo=()=>{},Fr=Array.isArray,Jy=/#/g,uO=/&/g,fO=/\//g,dO=/=/g,pO=/\?/g,eb=/\+/g,mO=/%5B/g,xO=/%5D/g,tb=/%5E/g,gO=/%60/g,rb=/%7B/g,_O=/%7C/g,ib=/%7D/g,vO=/%20/g;function g0(t){return encodeURI(""+t).replace(_O,"|").replace(mO,"[").replace(xO,"]")}function yO(t){return g0(t).replace(rb,"{").replace(ib,"}").replace(tb,"^")}function Xf(t){return g0(t).replace(eb,"%2B").replace(vO,"+").replace(Jy,"%23").replace(uO,"%26").replace(gO,"`").replace(rb,"{").replace(ib,"}").replace(tb,"^")}function bO(t){return Xf(t).replace(dO,"%3D")}function EO(t){return g0(t).replace(Jy,"%23").replace(pO,"%3F")}function SO(t){return t==null?"":EO(t).replace(fO,"%2F")}function ha(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const CO=/\/$/,TO=t=>t.replace(CO,"");function Au(t,e,r="/"){let i,n={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),n=t(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=BO(i??e,r),{fullPath:i+(s&&"?")+s+o,path:i,query:n,hash:ha(o)}}function AO(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function mg(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function wO(t,e,r){const i=e.matched.length-1,n=r.matched.length-1;return i>-1&&i===n&&Ys(e.matched[i],r.matched[n])&&nb(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Ys(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function nb(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!PO(t[r],e[r]))return!1;return!0}function PO(t,e){return Fr(t)?xg(t,e):Fr(e)?xg(e,t):t===e}function xg(t,e){return Fr(e)?t.length===e.length&&t.every((r,i)=>r===e[i]):t.length===1&&t[0]===e}function BO(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),i=t.split("/"),n=i[i.length-1];(n===".."||n===".")&&i.push("");let s=r.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+i.slice(o).join("/")}var ua;(function(t){t.pop="pop",t.push="push"})(ua||(ua={}));var Ho;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ho||(Ho={}));function RO(t){if(!t)if(hs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),TO(t)}const DO=/^[^#]+#/;function IO(t,e){return t.replace(DO,"#")+e}function FO(t,e){const r=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-r.left-(e.left||0),top:i.top-r.top-(e.top||0)}}const Dc=()=>({left:window.scrollX,top:window.scrollY});function MO(t){let e;if("el"in t){const r=t.el,i=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=FO(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function gg(t,e){return(history.state?history.state.position-e:-1)+t}const Yf=new Map;function OO(t,e){Yf.set(t,e)}function kO(t){const e=Yf.get(t);return Yf.delete(t),e}let NO=()=>location.protocol+"//"+location.host;function sb(t,e){const{pathname:r,search:i,hash:n}=e,s=t.indexOf("#");if(s>-1){let a=n.includes(t.slice(s))?t.slice(s).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),mg(l,"")}return mg(r,t)+i+n}function LO(t,e,r,i){let n=[],s=[],o=null;const a=({state:u})=>{const d=sb(t,location),p=r.value,m=e.value;let x=0;if(u){if(r.value=d,e.value=u,o&&o===p){o=null;return}x=m?u.position-m.position:0}else i(d);n.forEach(y=>{y(r.value,p,{delta:x,type:ua.pop,direction:x?x>0?Ho.forward:Ho.back:Ho.unknown})})};function l(){o=r.value}function c(u){n.push(u);const d=()=>{const p=n.indexOf(u);p>-1&&n.splice(p,1)};return s.push(d),d}function h(){const{history:u}=window;u.state&&u.replaceState(Ne({},u.state,{scroll:Dc()}),"")}function f(){for(const u of s)u();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function _g(t,e,r,i=!1,n=!1){return{back:t,current:e,forward:r,replaced:i,position:window.history.length,scroll:n?Dc():null}}function UO(t){const{history:e,location:r}=window,i={value:sb(t,r)},n={value:e.state};n.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,h){const f=t.indexOf("#"),u=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+l:NO()+t+l;try{e[h?"replaceState":"pushState"](c,"",u),n.value=c}catch(d){console.error(d),r[h?"replace":"assign"](u)}}function o(l,c){const h=Ne({},e.state,_g(n.value.back,l,n.value.forward,!0),c,{position:n.value.position});s(l,h,!0),i.value=l}function a(l,c){const h=Ne({},n.value,e.state,{forward:l,scroll:Dc()});s(h.current,h,!0);const f=Ne({},_g(i.value,l,null),{position:h.position+1},c);s(l,f,!1),i.value=l}return{location:i,state:n,push:a,replace:o}}function zO(t){t=RO(t);const e=UO(t),r=LO(t,e.state,e.location,e.replace);function i(s,o=!0){o||r.pauseListeners(),history.go(s)}const n=Ne({location:"",base:t,go:i,createHref:IO.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function HO(t){return typeof t=="string"||t&&typeof t=="object"}function ob(t){return typeof t=="string"||typeof t=="symbol"}const Ri={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ab=Symbol("");var vg;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(vg||(vg={}));function qs(t,e){return Ne(new Error,{type:t,[ab]:!0},e)}function ai(t,e){return t instanceof Error&&ab in t&&(e==null||!!(t.type&e))}const yg="[^/]+?",GO={sensitive:!1,strict:!1,start:!0,end:!0},$O=/[.+*?^${}()[\]/\\]/g;function WO(t,e){const r=Ne({},GO,e),i=[];let n=r.start?"^":"";const s=[];for(const c of t){const h=c.length?[]:[90];r.strict&&!c.length&&(n+="/");for(let f=0;f<c.length;f++){const u=c[f];let d=40+(r.sensitive?.25:0);if(u.type===0)f||(n+="/"),n+=u.value.replace($O,"\\$&"),d+=40;else if(u.type===1){const{value:p,repeatable:m,optional:x,regexp:y}=u;s.push({name:p,repeatable:m,optional:x});const _=y||yg;if(_!==yg){d+=10;try{new RegExp(`(${_})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+v.message)}}let g=m?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;f||(g=x&&c.length<2?`(?:/${g})`:"/"+g),x&&(g+="?"),n+=g,d+=20,x&&(d+=-8),m&&(d+=-20),_===".*"&&(d+=-50)}h.push(d)}i.push(h)}if(r.strict&&r.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&(n+="(?:/|$)");const o=new RegExp(n,r.sensitive?"":"i");function a(c){const h=c.match(o),f={};if(!h)return null;for(let u=1;u<h.length;u++){const d=h[u]||"",p=s[u-1];f[p.name]=d&&p.repeatable?d.split("/"):d}return f}function l(c){let h="",f=!1;for(const u of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const d of u)if(d.type===0)h+=d.value;else if(d.type===1){const{value:p,repeatable:m,optional:x}=d,y=p in c?c[p]:"";if(Fr(y)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=Fr(y)?y.join("/"):y;if(!_)if(x)u.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);h+=_}}return h||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function VO(t,e){let r=0;for(;r<t.length&&r<e.length;){const i=e[r]-t[r];if(i)return i;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function jO(t,e){let r=0;const i=t.score,n=e.score;for(;r<i.length&&r<n.length;){const s=VO(i[r],n[r]);if(s)return s;r++}if(Math.abs(n.length-i.length)===1){if(bg(i))return 1;if(bg(n))return-1}return n.length-i.length}function bg(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const XO={type:0,value:""},YO=/[a-zA-Z0-9_]/;function qO(t){if(!t)return[[]];if(t==="/")return[[XO]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${r})/"${c}": ${d}`)}let r=0,i=r;const n=[];let s;function o(){s&&n.push(s),s=[]}let a=0,l,c="",h="";function f(){c&&(r===0?s.push({type:0,value:c}):r===1||r===2||r===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function u(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),r=1):u();break;case 4:u(),r=i;break;case 1:l==="("?r=2:YO.test(l)?u():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:r=3:h+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),n}function KO(t,e,r){const i=WO(qO(t.path),r),n=Ne(i,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function ZO(t,e){const r=[],i=new Map;e=Cg({strict:!1,end:!0,sensitive:!1},e);function n(h){return i.get(h)}function s(h,f,u){const d=!u,p=QO(h);p.aliasOf=u&&u.record;const m=Cg(e,h),x=[p];if("alias"in h){const g=typeof h.alias=="string"?[h.alias]:h.alias;for(const v of g)x.push(Ne({},p,{components:u?u.record.components:p.components,path:v,aliasOf:u?u.record:p}))}let y,_;for(const g of x){const{path:v}=g;if(f&&v[0]!=="/"){const b=f.record.path,E=b[b.length-1]==="/"?"":"/";g.path=f.record.path+(v&&E+v)}if(y=KO(g,f,m),u?u.alias.push(y):(_=_||y,_!==y&&_.alias.push(y),d&&h.name&&!Sg(y)&&o(h.name)),p.children){const b=p.children;for(let E=0;E<b.length;E++)s(b[E],y,u&&u.children[E])}u=u||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return _?()=>{o(_)}:zo}function o(h){if(ob(h)){const f=i.get(h);f&&(i.delete(h),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(h);f>-1&&(r.splice(f,1),h.record.name&&i.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return r}function l(h){let f=0;for(;f<r.length&&jO(h,r[f])>=0&&(h.record.path!==r[f].record.path||!lb(h,r[f]));)f++;r.splice(f,0,h),h.record.name&&!Sg(h)&&i.set(h.record.name,h)}function c(h,f){let u,d={},p,m;if("name"in h&&h.name){if(u=i.get(h.name),!u)throw qs(1,{location:h});m=u.record.name,d=Ne(Eg(f.params,u.keys.filter(_=>!_.optional).concat(u.parent?u.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),h.params&&Eg(h.params,u.keys.map(_=>_.name))),p=u.stringify(d)}else if(h.path!=null)p=h.path,u=r.find(_=>_.re.test(p)),u&&(d=u.parse(p),m=u.record.name);else{if(u=f.name?i.get(f.name):r.find(_=>_.re.test(f.path)),!u)throw qs(1,{location:h,currentLocation:f});m=u.record.name,d=Ne({},f.params,h.params),p=u.stringify(d)}const x=[];let y=u;for(;y;)x.unshift(y.record),y=y.parent;return{name:m,path:p,params:d,matched:x,meta:ek(x)}}return t.forEach(h=>s(h)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:n}}function Eg(t,e){const r={};for(const i of e)i in t&&(r[i]=t[i]);return r}function QO(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:JO(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function JO(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const i in t.components)e[i]=typeof r=="object"?r[i]:r;return e}function Sg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ek(t){return t.reduce((e,r)=>Ne(e,r.meta),{})}function Cg(t,e){const r={};for(const i in t)r[i]=i in e?e[i]:t[i];return r}function lb(t,e){return e.children.some(r=>r===t||lb(t,r))}function tk(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<i.length;++n){const s=i[n].replace(eb," "),o=s.indexOf("="),a=ha(o<0?s:s.slice(0,o)),l=o<0?null:ha(s.slice(o+1));if(a in e){let c=e[a];Fr(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Tg(t){let e="";for(let r in t){const i=t[r];if(r=bO(r),i==null){i!==void 0&&(e+=(e.length?"&":"")+r);continue}(Fr(i)?i.map(s=>s&&Xf(s)):[i&&Xf(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function rk(t){const e={};for(const r in t){const i=t[r];i!==void 0&&(e[r]=Fr(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return e}const ik=Symbol(""),Ag=Symbol(""),Ic=Symbol(""),_0=Symbol(""),qf=Symbol("");function go(){let t=[];function e(i){return t.push(i),()=>{const n=t.indexOf(i);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Oi(t,e,r,i,n,s=o=>o()){const o=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=u=>{u===!1?l(qs(4,{from:r,to:e})):u instanceof Error?l(u):HO(u)?l(qs(2,{from:e,to:u})):(o&&i.enterCallbacks[n]===o&&typeof u=="function"&&o.push(u),a())},h=s(()=>t.call(i&&i.instances[n],e,r,c));let f=Promise.resolve(h);t.length<3&&(f=f.then(c)),f.catch(u=>l(u))})}function wu(t,e,r,i,n=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(nk(l)){const h=(l.__vccOpts||l)[e];h&&s.push(Oi(h,r,i,o,a,n))}else{let c=l();s.push(()=>c.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const f=hO(h)?h.default:h;o.components[a]=f;const d=(f.__vccOpts||f)[e];return d&&Oi(d,r,i,o,a,n)()}))}}return s}function nk(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function wg(t){const e=pr(Ic),r=pr(_0),i=Le(()=>e.resolve(Ht(t.to))),n=Le(()=>{const{matched:l}=i.value,{length:c}=l,h=l[c-1],f=r.matched;if(!h||!f.length)return-1;const u=f.findIndex(Ys.bind(null,h));if(u>-1)return u;const d=Pg(l[c-2]);return c>1&&Pg(h)===d&&f[f.length-1].path!==d?f.findIndex(Ys.bind(null,l[c-2])):u}),s=Le(()=>n.value>-1&&lk(r.params,i.value.params)),o=Le(()=>n.value>-1&&n.value===r.matched.length-1&&nb(r.params,i.value.params));function a(l={}){return ak(l)?e[Ht(t.replace)?"replace":"push"](Ht(t.to)).catch(zo):Promise.resolve()}return{route:i,href:Le(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const sk=xr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:wg,setup(t,{slots:e}){const r=kt(wg(t)),{options:i}=pr(Ic),n=Le(()=>({[Bg(t.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[Bg(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&e.default(r);return t.custom?s:fs("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},s)}}}),ok=sk;function ak(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function lk(t,e){for(const r in e){const i=e[r],n=t[r];if(typeof i=="string"){if(i!==n)return!1}else if(!Fr(n)||n.length!==i.length||i.some((s,o)=>s!==n[o]))return!1}return!0}function Pg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Bg=(t,e,r)=>t??e??r,ck=xr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const i=pr(qf),n=Le(()=>t.route||i.value),s=pr(Ag,0),o=Le(()=>{let c=Ht(s);const{matched:h}=n.value;let f;for(;(f=h[c])&&!f.components;)c++;return c}),a=Le(()=>n.value.matched[o.value]);rl(Ag,Le(()=>o.value+1)),rl(ik,a),rl(qf,n);const l=ui();return wo(()=>[l.value,a.value,t.name],([c,h,f],[u,d,p])=>{h&&(h.instances[f]=c,d&&d!==h&&c&&c===u&&(h.leaveGuards.size||(h.leaveGuards=d.leaveGuards),h.updateGuards.size||(h.updateGuards=d.updateGuards))),c&&h&&(!d||!Ys(h,d)||!u)&&(h.enterCallbacks[f]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=n.value,h=t.name,f=a.value,u=f&&f.components[h];if(!u)return Rg(r.default,{Component:u,route:c});const d=f.props[h],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,x=fs(u,Ne({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[h]=null)},ref:l}));return Rg(r.default,{Component:x,route:c})||x}}});function Rg(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const v0=ck;function hk(t){const e=ZO(t.routes,t),r=t.parseQuery||tk,i=t.stringifyQuery||Tg,n=t.history,s=go(),o=go(),a=go(),l=pE(Ri);let c=Ri;hs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Tu.bind(null,N=>""+N),f=Tu.bind(null,SO),u=Tu.bind(null,ha);function d(N,$){let K,J;return ob(N)?(K=e.getRecordMatcher(N),J=$):J=N,e.addRoute(J,K)}function p(N){const $=e.getRecordMatcher(N);$&&e.removeRoute($)}function m(){return e.getRoutes().map(N=>N.record)}function x(N){return!!e.getRecordMatcher(N)}function y(N,$){if($=Ne({},$||l.value),typeof N=="string"){const B=Au(r,N,$.path),O=e.resolve({path:B.path},$),j=n.createHref(B.fullPath);return Ne(B,O,{params:u(O.params),hash:ha(B.hash),redirectedFrom:void 0,href:j})}let K;if(N.path!=null)K=Ne({},N,{path:Au(r,N.path,$.path).path});else{const B=Ne({},N.params);for(const O in B)B[O]==null&&delete B[O];K=Ne({},N,{params:f(B)}),$.params=f($.params)}const J=e.resolve(K,$),le=N.hash||"";J.params=h(u(J.params));const xe=AO(i,Ne({},N,{hash:yO(le),path:J.path})),T=n.createHref(xe);return Ne({fullPath:xe,hash:le,query:i===Tg?rk(N.query):N.query||{}},J,{redirectedFrom:void 0,href:T})}function _(N){return typeof N=="string"?Au(r,N,l.value.path):Ne({},N)}function g(N,$){if(c!==N)return qs(8,{from:$,to:N})}function v(N){return S(N)}function b(N){return v(Ne(_(N),{replace:!0}))}function E(N){const $=N.matched[N.matched.length-1];if($&&$.redirect){const{redirect:K}=$;let J=typeof K=="function"?K(N):K;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=_(J):{path:J},J.params={}),Ne({query:N.query,hash:N.hash,params:J.path!=null?{}:N.params},J)}}function S(N,$){const K=c=y(N),J=l.value,le=N.state,xe=N.force,T=N.replace===!0,B=E(K);if(B)return S(Ne(_(B),{state:typeof B=="object"?Ne({},le,B.state):le,force:xe,replace:T}),$||K);const O=K;O.redirectedFrom=$;let j;return!xe&&wO(i,J,K)&&(j=qs(16,{to:O,from:J}),M(J,J,!0,!1)),(j?Promise.resolve(j):A(O,J)).catch(W=>ai(W)?ai(W,2)?W:z(W):Y(W,O,J)).then(W=>{if(W){if(ai(W,2))return S(Ne({replace:T},_(W.to),{state:typeof W.to=="object"?Ne({},le,W.to.state):le,force:xe}),$||O)}else W=I(O,J,!0,T,le);return P(O,J,W),W})}function C(N,$){const K=g(N,$);return K?Promise.reject(K):Promise.resolve()}function R(N){const $=U.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(N):N()}function A(N,$){let K;const[J,le,xe]=uk(N,$);K=wu(J.reverse(),"beforeRouteLeave",N,$);for(const B of J)B.leaveGuards.forEach(O=>{K.push(Oi(O,N,$))});const T=C.bind(null,N,$);return K.push(T),oe(K).then(()=>{K=[];for(const B of s.list())K.push(Oi(B,N,$));return K.push(T),oe(K)}).then(()=>{K=wu(le,"beforeRouteUpdate",N,$);for(const B of le)B.updateGuards.forEach(O=>{K.push(Oi(O,N,$))});return K.push(T),oe(K)}).then(()=>{K=[];for(const B of xe)if(B.beforeEnter)if(Fr(B.beforeEnter))for(const O of B.beforeEnter)K.push(Oi(O,N,$));else K.push(Oi(B.beforeEnter,N,$));return K.push(T),oe(K)}).then(()=>(N.matched.forEach(B=>B.enterCallbacks={}),K=wu(xe,"beforeRouteEnter",N,$,R),K.push(T),oe(K))).then(()=>{K=[];for(const B of o.list())K.push(Oi(B,N,$));return K.push(T),oe(K)}).catch(B=>ai(B,8)?B:Promise.reject(B))}function P(N,$,K){a.list().forEach(J=>R(()=>J(N,$,K)))}function I(N,$,K,J,le){const xe=g(N,$);if(xe)return xe;const T=$===Ri,B=hs?history.state:{};K&&(J||T?n.replace(N.fullPath,Ne({scroll:T&&B&&B.scroll},le)):n.push(N.fullPath,le)),l.value=N,M(N,$,K,T),z()}let D;function F(){D||(D=n.listen((N,$,K)=>{if(!fe.listening)return;const J=y(N),le=E(J);if(le){S(Ne(le,{replace:!0}),J).catch(zo);return}c=J;const xe=l.value;hs&&OO(gg(xe.fullPath,K.delta),Dc()),A(J,xe).catch(T=>ai(T,12)?T:ai(T,2)?(S(T.to,J).then(B=>{ai(B,20)&&!K.delta&&K.type===ua.pop&&n.go(-1,!1)}).catch(zo),Promise.reject()):(K.delta&&n.go(-K.delta,!1),Y(T,J,xe))).then(T=>{T=T||I(J,xe,!1),T&&(K.delta&&!ai(T,8)?n.go(-K.delta,!1):K.type===ua.pop&&ai(T,20)&&n.go(-1,!1)),P(J,xe,T)}).catch(zo)}))}let G=go(),V=go(),L;function Y(N,$,K){z(N);const J=V.list();return J.length?J.forEach(le=>le(N,$,K)):console.error(N),Promise.reject(N)}function ne(){return L&&l.value!==Ri?Promise.resolve():new Promise((N,$)=>{G.add([N,$])})}function z(N){return L||(L=!N,F(),G.list().forEach(([$,K])=>N?K(N):$()),G.reset()),N}function M(N,$,K,J){const{scrollBehavior:le}=t;if(!hs||!le)return Promise.resolve();const xe=!K&&kO(gg(N.fullPath,0))||(J||!K)&&history.state&&history.state.scroll||null;return da().then(()=>le(N,$,xe)).then(T=>T&&MO(T)).catch(T=>Y(T,N,$))}const k=N=>n.go(N);let H;const U=new Set,fe={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:x,getRoutes:m,resolve:y,options:t,push:v,replace:b,go:k,back:()=>k(-1),forward:()=>k(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:V.add,isReady:ne,install(N){const $=this;N.component("RouterLink",ok),N.component("RouterView",v0),N.config.globalProperties.$router=$,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Ht(l)}),hs&&!H&&l.value===Ri&&(H=!0,v(n.location).catch(le=>{}));const K={};for(const le in Ri)Object.defineProperty(K,le,{get:()=>l.value[le],enumerable:!0});N.provide(Ic,$),N.provide(_0,Kg(K)),N.provide(qf,l);const J=N.unmount;U.add(N),N.unmount=function(){U.delete(N),U.size<1&&(c=Ri,D&&D(),D=null,l.value=Ri,H=!1,L=!1),J()}}};function oe(N){return N.reduce(($,K)=>$.then(()=>R(K)),Promise.resolve())}return fe}function uk(t,e){const r=[],i=[],n=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ys(c,a))?i.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ys(c,l))||n.push(l))}return[r,i,n]}function fk(){return pr(Ic)}function dk(){return pr(_0)}const Ea={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ks={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Ot={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},pk={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom"},cb={dangerouslyHTMLString:!1,multiple:!0,position:Ea.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},mk={rtl:!1,newestOnTop:!1,toastClassName:""},hb={...cb,...mk};({...cb,type:Ot.DEFAULT});var ke=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(ke||{}),Kf=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(Kf||{});const xk={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},gk={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},_k={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},vk={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"};function ub(t){let e=xk;if(!t||typeof t=="string")switch(t){case"flip":e=vk;break;case"zoom":e=_k;break;case"slide":e=gk;break}else e=t;return e}function yk(t){return t.containerId||String(t.position)}const Fc="will-unmount";function bk(t=Ea.TOP_RIGHT){return!!document.querySelector(".".concat(ke.CSS_NAMESPACE,"__toast-container--").concat(t))}function Ek(t=Ea.TOP_RIGHT){return"".concat(ke.CSS_NAMESPACE,"__toast-container--").concat(t)}function Sk(t,e,r=!1){const i=["".concat(ke.CSS_NAMESPACE,"__toast-container"),"".concat(ke.CSS_NAMESPACE,"__toast-container--").concat(t),r?"".concat(ke.CSS_NAMESPACE,"__toast-container--rtl"):null].filter(Boolean).join(" ");return Ds(e)?e({position:t,rtl:r,defaultClassName:i}):"".concat(i," ").concat(e||"")}function Ck(t){var e;const{position:r,containerClassName:i,rtl:n=!1,style:s={}}=t,o=ke.CSS_NAMESPACE,a=Ek(r),l=document.querySelector(".".concat(o)),c=document.querySelector(".".concat(a)),h=!!c&&!((e=c.className)!=null&&e.includes(Fc)),f=l||document.createElement("div"),u=document.createElement("div");u.className=Sk(r,i,n),u.dataset.testid="".concat(ke.CSS_NAMESPACE,"__toast-container--").concat(r),u.id=yk(t);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const p=s[d];u.style[d]=p}return l||(f.className=ke.CSS_NAMESPACE,document.body.appendChild(f)),h||f.appendChild(u),u}function Zf(t){var e,r,i;const n=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((r=t.target)==null?void 0:r.id),s=document.getElementById(n);s&&s.removeEventListener("animationend",Zf,!1);try{fa[n].unmount(),(i=document.getElementById(n))==null||i.remove(),delete fa[n],delete vt[n]}catch{}}const fa=kt({});function Tk(t,e){const r=document.getElementById(String(e));r&&(fa[r.id]=t)}function Qf(t,e=!0){const r=String(t);if(!fa[r])return;const i=document.getElementById(r);i&&i.classList.add(Fc),e?(wk(t),i&&i.addEventListener("animationend",Zf,!1)):Zf(r),ii.items=ii.items.filter(n=>n.containerId!==t)}function Ak(t){for(const e in fa)Qf(e,t);ii.items=[]}function fb(t,e){const r=document.getElementById(t.toastId);if(r){let i=t;i={...i,...ub(i.transition)};const n=i.appendPosition?"".concat(i.exit,"--").concat(i.position):i.exit;r.className+=" ".concat(n),e&&e(r)}}function wk(t){for(const e in vt)if(e===t)for(const r of vt[e]||[])fb(r)}function Pk(t){const e=Sa().find(r=>r.toastId===t);return e==null?void 0:e.containerId}function y0(t){return document.getElementById(t)}function Bk(t){const e=y0(t.containerId);return e&&e.classList.contains(Fc)}function Dg(t){var e;const r=Ms(t.content)?Se(t.content.props):null;return r??Se((e=t.data)!=null?e:{})}function Rk(t){return t?ii.items.filter(e=>e.containerId===t).length>0:ii.items.length>0}function Dk(){if(ii.items.length>0){const t=ii.items.shift();_l(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const vt=kt({}),ii=kt({items:[]});function Sa(){const t=Se(vt);return Object.values(t).reduce((e,r)=>[...e,...r],[])}function Ik(t){return Sa().find(e=>e.toastId===t)}function _l(t,e={}){if(Bk(e)){const r=y0(e.containerId);r&&r.addEventListener("animationend",Jf.bind(null,t,e),!1)}else Jf(t,e)}function Jf(t,e={}){const r=y0(e.containerId);r&&r.removeEventListener("animationend",Jf.bind(null,t,e),!1);const i=vt[e.containerId]||[],n=i.length>0;if(!n&&!bk(e.position)){const s=Ck(e),o=I1(Zk,e);o.mount(s),Tk(o,s.id)}n&&(e.position=i[0].position),da(()=>{e.updateId?Qr.update(e):Qr.add(t,e)})}const Qr={add(t,e){const{containerId:r=""}=e;r&&(vt[r]=vt[r]||[],vt[r].find(i=>i.toastId===e.toastId)||setTimeout(()=>{var i,n;e.newestOnTop?(i=vt[r])==null||i.unshift(e):(n=vt[r])==null||n.push(e),e.onOpen&&e.onOpen(Dg(e))},e.delay||0))},remove(t){if(t){const e=Pk(t);if(e){const r=vt[e];let i=r.find(n=>n.toastId===t);vt[e]=r.filter(n=>n.toastId!==t),!vt[e].length&&!Rk(e)&&Qf(e,!1),Dk(),da(()=>{i!=null&&i.onClose&&(i.onClose(Dg(i)),i=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){vt[e]=vt[e]||[];const r=vt[e].find(i=>i.toastId===t.toastId);r&&setTimeout(()=>{for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const n=t[i];r[i]=n}},t.delay||0)}},clear(t,e=!0){t?Qf(t,e):Ak(e)},dismissCallback(t){var e;const r=(e=t.currentTarget)==null?void 0:e.id,i=document.getElementById(r);i&&(i.removeEventListener("animationend",Qr.dismissCallback,!1),setTimeout(()=>{Qr.remove(r)}))},dismiss(t){if(t){const e=Sa();for(const r of e)if(r.toastId===t){fb(r,i=>{i.addEventListener("animationend",Qr.dismissCallback,!1)});break}}}},db=kt({}),Ql=kt({});function pb(){return Math.random().toString(36).substring(2,9)}function Fk(t){return typeof t=="number"&&!isNaN(t)}function ed(t){return typeof t=="string"}function Ds(t){return typeof t=="function"}function Mc(...t){return bi(...t)}function vl(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function Mk(t={}){db["".concat(ke.CSS_NAMESPACE,"-default-options")]=t}function Ok(){return db["".concat(ke.CSS_NAMESPACE,"-default-options")]||hb}function kk(){return document.documentElement.classList.contains("dark")?"dark":"light"}var yl=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(yl||{});const mb={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Ea.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Ks.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Ot.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""}},Nk={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Ot.DEFAULT},theme:{type:String,required:!1,default:Ks.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},Lk=xr({name:"ProgressBar",props:Nk,setup(t,{attrs:e}){const r=ui(),i=Le(()=>t.hide?"true":"false"),n=Le(()=>({...e.style||{},animationDuration:"".concat(t.autoClose===!0?5e3:t.autoClose,"ms"),animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?"scaleX(".concat(t.progress,")"):"none"})),s=Le(()=>["".concat(ke.CSS_NAMESPACE,"__progress-bar"),t.controlledProgress?"".concat(ke.CSS_NAMESPACE,"__progress-bar--controlled"):"".concat(ke.CSS_NAMESPACE,"__progress-bar--animated"),"".concat(ke.CSS_NAMESPACE,"__progress-bar-theme--").concat(t.theme),"".concat(ke.CSS_NAMESPACE,"__progress-bar--").concat(t.type),t.rtl?"".concat(ke.CSS_NAMESPACE,"__progress-bar--rtl"):null].filter(Boolean).join(" ")),o=Le(()=>"".concat(s.value," ").concat((e==null?void 0:e.class)||"")),a=()=>{r.value&&(r.value.onanimationend=null,r.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),a())},c=Le(()=>t.controlledProgress?null:l),h=Le(()=>t.controlledProgress?l:null);return Ao(()=>{r.value&&(a(),r.value.onanimationend=c.value,r.value.ontransitionend=h.value)}),()=>we("div",{ref:r,role:"progressbar","aria-hidden":i.value,"aria-label":"notification timer",class:o.value,style:n.value},null)}}),Uk=xr({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Ks.AUTO},type:{type:String,required:!1,default:Ks.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>we("button",{class:"".concat(ke.CSS_NAMESPACE,"__close-button ").concat(ke.CSS_NAMESPACE,"__close-button--").concat(t.theme),type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[we("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[we("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),Oc=({theme:t,type:e,path:r,...i})=>we("svg",bi({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":"var(--toastify-icon-color-".concat(e,")")},i),[we("path",{d:r},null)]);function zk(t){return we(Oc,bi(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function Hk(t){return we(Oc,bi(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function Gk(t){return we(Oc,bi(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function $k(t){return we(Oc,bi(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function Wk(){return we("div",{class:"".concat(ke.CSS_NAMESPACE,"__spinner")},null)}const td={info:Hk,warning:zk,success:Gk,error:$k,spinner:Wk},Vk=t=>t in td;function jk({theme:t,type:e,isLoading:r,icon:i}){let n;const s={theme:t,type:e};return r?n=td.spinner():i===!1?n=void 0:vl(i)?n=Se(i):Ds(i)?n=i(s):Ms(i)?n=Nn(i,s):ed(i)||Fk(i)?n=i:Vk(e)&&(n=td[e](s)),n}const Xk=()=>{};function Yk(t,e,r=ke.COLLAPSE_DURATION){const{scrollHeight:i,style:n}=t,s=r;requestAnimationFrame(()=>{n.minHeight="initial",n.height=i+"px",n.transition="all ".concat(s,"ms"),requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(e,s)})})}function qk(t){const e=ui(!1),r=ui(!1),i=ui(!1),n=ui(yl.Enter),s=kt({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||ke.COLLAPSE_DURATION}),o=s.done||Xk,a=Le(()=>s.appendPosition?"".concat(s.enter,"--").concat(s.position):s.enter),l=Le(()=>s.appendPosition?"".concat(s.exit,"--").concat(s.position):s.exit),c=Le(()=>t.pauseOnHover?{onMouseenter:x,onMouseleave:m}:{});function h(){const _=a.value.split(" ");u().addEventListener(Kf.ENTRANCE_ANIMATION_END,m,{once:!0});const g=b=>{const E=u();b.target===E&&(E.dispatchEvent(new Event(Kf.ENTRANCE_ANIMATION_END)),E.removeEventListener("animationend",g),E.removeEventListener("animationcancel",g),n.value===yl.Enter&&b.type!=="animationcancel"&&E.classList.remove(..._))},v=()=>{const b=u();b.classList.add(..._),b.addEventListener("animationend",g),b.addEventListener("animationcancel",g)};t.pauseOnFocusLoss&&d(),v()}function f(){if(!u())return;const _=()=>{const v=u();v.removeEventListener("animationend",_),s.collapse?Yk(v,o,s.collapseDuration):o()},g=()=>{const v=u();n.value=yl.Exit,v&&(v.className+=" ".concat(l.value),v.addEventListener("animationend",_))};r.value||(i.value?_():setTimeout(g))}function u(){return t.toastRef.value}function d(){document.hasFocus()||x(),window.addEventListener("focus",m),window.addEventListener("blur",x)}function p(){window.removeEventListener("focus",m),window.removeEventListener("blur",x)}function m(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function x(){e.value=!1}function y(_){_&&(_.stopPropagation(),_.preventDefault()),r.value=!1}return Ao(f),Ao(()=>{const _=Sa();r.value=_.findIndex(g=>g.toastId===s.toastId)>-1}),Ao(()=>{t.isLoading!==void 0&&(t.loading.value?x():m())}),gd(h),lc(()=>{t.pauseOnFocusLoss&&p()}),{isIn:r,isRunning:e,hideToast:y,eventHandlers:c}}const Kk=xr({name:"ToastItem",inheritAttrs:!1,props:mb,setup(t){const e=ui(),r=Le(()=>!!t.isLoading),i=Le(()=>t.progress!==void 0&&t.progress!==null),n=Le(()=>jk(t)),s=Le(()=>["".concat(ke.CSS_NAMESPACE,"__toast"),"".concat(ke.CSS_NAMESPACE,"__toast-theme--").concat(t.theme),"".concat(ke.CSS_NAMESPACE,"__toast--").concat(t.type),t.rtl?"".concat(ke.CSS_NAMESPACE,"__toast--rtl"):void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:o,isIn:a,hideToast:l,eventHandlers:c}=qk({toastRef:e,loading:r,done:()=>{Qr.remove(t.toastId)},...ub(t.transition),...t});return()=>we("div",bi({id:t.toastId,class:s.value,style:t.toastStyle||{},ref:e,"data-testid":"toast-item-".concat(t.toastId),onClick:h=>{t.closeOnClick&&l(),t.onClick&&t.onClick(h)}},c.value),[we("div",{role:t.role,"data-testid":"toast-body",class:"".concat(ke.CSS_NAMESPACE,"__toast-body ").concat(t.bodyClassName||"")},[n.value!=null&&we("div",{"data-testid":"toast-icon-".concat(t.type),class:["".concat(ke.CSS_NAMESPACE,"__toast-icon"),t.isLoading?"":"".concat(ke.CSS_NAMESPACE,"--animate-icon ").concat(ke.CSS_NAMESPACE,"__zoom-enter")].join(" ")},[vl(n.value)?fs(Se(n.value),{theme:t.theme,type:t.type}):Ds(n.value)?n.value({theme:t.theme,type:t.type}):n.value]),we("div",{"data-testid":"toast-content"},[vl(t.content)?fs(Se(t.content),{toastProps:Se(t),closeToast:l,data:t.data}):Ds(t.content)?t.content({toastProps:Se(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?fs("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&we(Uk,{theme:t.theme,closeToast:h=>{h.stopPropagation(),h.preventDefault(),l()}},null),vl(t.closeButton)?fs(Se(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):Ds(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,we(Lk,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:a.value,type:t.type,hide:t.hideProgressBar,isRunning:o.value,autoClose:t.autoClose,controlledProgress:i.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let Go=0;function xb(){typeof window>"u"||(Go&&window.cancelAnimationFrame(Go),Go=window.requestAnimationFrame(xb),Ql.lastUrl!==window.location.href&&(Ql.lastUrl=window.location.href,Qr.clear()))}const Zk=xr({name:"ToastifyContainer",inheritAttrs:!1,props:mb,setup(t){const e=Le(()=>t.containerId),r=Le(()=>vt[e.value]||[]),i=Le(()=>r.value.filter(n=>n.position===t.position));return gd(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(xb)}),lc(()=>{typeof window<"u"&&Go&&(window.cancelAnimationFrame(Go),Ql.lastUrl="")}),()=>we(Jt,null,[i.value.map(n=>{const{toastId:s=""}=n;return we(Kk,bi({key:s},n),null)})])}});let Pu=!1;function gb(){const t=[];return Sa().forEach(e=>{const r=document.getElementById(e.containerId);r&&!r.classList.contains(Fc)&&t.push(e)}),t}function Qk(t){const e=gb().length,r=t??0;return r>0&&e+ii.items.length>=r}function Jk(t){Qk(t.limit)&&!t.updateId&&ii.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function on(t,e,r={}){if(Pu)return;r=Mc(Ok(),{type:e},Se(r)),(!r.toastId||typeof r.toastId!="string"&&typeof r.toastId!="number")&&(r.toastId=pb()),r={...r,content:t,containerId:r.containerId||String(r.position)};const i=Number(r==null?void 0:r.progress);return i<0&&(r.progress=0),i>1&&(r.progress=1),r.theme==="auto"&&(r.theme=kk()),Jk(r),Ql.lastUrl=window.location.href,r.multiple?ii.items.length?r.updateId&&_l(t,r):_l(t,r):(Pu=!0,$e.clearAll(void 0,!1),setTimeout(()=>{_l(t,r)},0),setTimeout(()=>{Pu=!1},390)),r.toastId}const $e=(t,e)=>on(t,Ot.DEFAULT,e);$e.info=(t,e)=>on(t,Ot.DEFAULT,{...e,type:Ot.INFO});$e.error=(t,e)=>on(t,Ot.DEFAULT,{...e,type:Ot.ERROR});$e.warning=(t,e)=>on(t,Ot.DEFAULT,{...e,type:Ot.WARNING});$e.warn=$e.warning;$e.success=(t,e)=>on(t,Ot.DEFAULT,{...e,type:Ot.SUCCESS});$e.loading=(t,e)=>on(t,Ot.DEFAULT,Mc(e,{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1}));$e.dark=(t,e)=>on(t,Ot.DEFAULT,Mc(e,{theme:Ks.DARK}));$e.remove=t=>{t?Qr.dismiss(t):Qr.clear()};$e.clearAll=(t,e)=>{Qr.clear(t,e)};$e.isActive=t=>{let e=!1;return e=gb().findIndex(r=>r.toastId===t)>-1,e};$e.update=(t,e={})=>{setTimeout(()=>{const r=Ik(t);if(r){const i=Se(r),{content:n}=i,s={...i,...e,toastId:e.toastId||t,updateId:pb()},o=s.render||n;delete s.render,on(o,s.type,s)}},0)};$e.done=t=>{$e.update(t,{isLoading:!1,progress:1})};$e.promise=e7;function e7(t,{pending:e,error:r,success:i},n){var s,o,a;let l;const c={...n||{},autoClose:!1};e&&(l=ed(e)?$e.loading(e,c):$e.loading(e.render,{...c,...e}));const h={autoClose:(s=n==null?void 0:n.autoClose)!=null?s:!0,closeOnClick:(o=n==null?void 0:n.closeOnClick)!=null?o:!0,closeButton:(a=n==null?void 0:n.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},f=(d,p,m)=>{if(p==null){$e.remove(l);return}const x={type:d,...h,...n,data:m},y=ed(p)?{render:p}:p;return l?$e.update(l,{...x,...y,isLoading:!1}):$e(y.render,{...x,...y,isLoading:!1}),m},u=Ds(t)?t():t;return u.then(d=>{f("success",i,d)}).catch(d=>{f("error",r,d)}),u}$e.POSITION=Ea;$e.THEME=Ks;$e.TYPE=Ot;$e.TRANSITIONS=pk;const _b={install(t,e={}){t7(e)}};typeof window<"u"&&(window.Vue3Toastify=_b);function t7(t={}){const e=Mc(hb,t);Mk(e)}const vb=hk({history:zO(),routes:[{path:"/",name:"home",component:()=>op(()=>import("./home-c4d643ac.js"),[]),meta:{authRequired:!1,layout:"clearLayout",nav:!0}},{path:"/:pathMatch(.*)*",redirect:"/404"},{path:"/:catchAll(.*)*",redirect:"/404"},{path:"/404",name:"404",component:()=>op(()=>import("./404-b95eb7aa.js"),[]),meta:{layout:"hasLayout",authRequired:!0}}]});vb.beforeEach(async(t,e,r)=>{const i=localStorage.getItem("k"),n=Ce.userID&&Ce.accessToken&&Ce.refreshToken&&Ce.gameName&&Ce.turnInPrize&&Ce.currentGroupIndex;if(i&&!n)try{const a=JSON.parse(bM(i,"login-info"));Ce.userID=a.userID,Ce.accessToken=a.accessToken,Ce.refreshToken=a.refreshToken,Ce.gameName=a.gameTable,Ce.turnInPrize=a.turnInPrize,Ce.currentGroupIndex=a.currentGroupIndex,Ce.signedIn=!0}catch(a){console.log(a),localStorage.clear(),Ce.userID="",Ce.accessToken="",Ce.refreshToken="",Ce.currentGroupIndex=0,Ce.turnInPrize=0,Ce.gameName="",Ce.signedIn=!1}if(i||(localStorage.clear(),Ce.userID="",Ce.accessToken="",Ce.refreshToken="",Ce.currentGroupIndex=0,Ce.turnInPrize=0,Ce.gameName="",Ce.signedIn=!1),t.meta.authRequired&&!Ce.signedIn){r({name:"login"}),Ln.currentNav="login",setTimeout(()=>$e.error(" ."),500);return}(t.path==="/login"||t.path==="/sign-up")&&(localStorage.clear(),Ce.userID="",Ce.accessToken="",Ce.refreshToken="",Ce.currentGroupIndex=0,Ce.turnInPrize=0,Ce.gameName="",Ce.signedIn=!1);const s=t.name.toString().split(""),o=Uv(s,a=>a=isNaN(+a)&&a===a.toUpperCase()?`-${a.toUpperCase()}`:a.toUpperCase());Qy({title:o.join("")}),Ln.currentNav=t.name.toString(),r()});const r7={class:"relative min-h-screen w-full"},i7=xr({__name:"clearLayout",setup(t){return(e,r)=>(wr(),ki("div",r7,[we(Ht(v0),{class:"z-[1] h-full w-full overflow-y-auto"})]))}}),n7={class:"flex h-[40px] w-full flex-wrap justify-center border-b-2 border-black bg-white"},s7={class:"flex h-full flex-wrap duration-300 mobile:gap-0 tablet:gap-[30px] desktop:gap-[60px]"},o7=["onClick"],a7=xr({__name:"tNav",setup(t){const e=fk(),r=kt({pageList:Le(()=>Ce.signedIn?ko(i,o=>o.meta.nav&&o.meta.authRequired&&o.name!=="logout"):ko(i,o=>o.meta.nav&&!o.meta.authRequired))}),i=ko(e.getRoutes(),s=>s.redirect!="/404"&&s.name!="404"),n=s=>{s==="logout"?(localStorage.clear(),Ce.signedIn=!1,e.push({name:"login"})):e.push({name:s})};return(s,o)=>(wr(),ki("div",n7,[Wi("div",s7,[(wr(!0),ki(Jt,null,WE(r.pageList,(a,l)=>(wr(),ki("button",{key:l,class:"nav-btn group",onClick:c=>n(a.name.toString())},[Uu(Wb(a.name)+" ",1),Wi("hr",{class:Is([Ht(Ln).currentNav===a.name?"!w-[80px] !bg-main-2":"","group-hover:w-[80px] group-hover:bg-main-3"])},null,2)],8,o7))),128))]),Ht(Ce).signedIn?(wr(),ki("button",{key:0,class:"nav-btn group !absolute right-0 top-0",onClick:o[0]||(o[0]=a=>n("logout"))},[Uu(" logout "),Wi("hr",{class:Is([Ht(Ln).currentNav==="logout"?"!w-[80px] !bg-main-2":"","group-hover:w-[80px] group-hover:bg-main-3"])},null,2)])):d2("",!0)]))}});const yb=(t,e)=>{const r=t.__vccOpts||t;for(const[i,n]of e)r[i]=n;return r},l7=yb(a7,[["__scopeId","data-v-6a89fc8b"]]),c7={class:"relative flex h-screen w-full flex-col items-center"},h7={class:"sticky top-0 z-[3] flex w-full max-w-[1300px] flex-col items-center gap-[1px]"},u7=xr({__name:"hasLayout",setup(t){return(e,r)=>(wr(),ki("div",c7,[Wi("div",h7,[we(l7)]),we(Ht(v0),{class:"flex h-full w-full max-w-[1300px] flex-1 flex-col overflow-y-auto"})]))}}),f7=xr({__name:"defaultLayout",setup(t){const e=dk(),r={clearLayout:i7,hasLayout:u7},i=kt({layout:Le(()=>{var n;switch((n=e==null?void 0:e.meta)==null?void 0:n.layout){case"hasLayout":return"hasLayout";case"clearLayout":return"clearLayout";default:return e.meta.layout}})});return(n,s)=>(wr(),yd(BE(r[i.layout]),null,{default:c1(()=>[VE(n.$slots,"default")]),_:3}))}}),d7=t=>(SE("data-v-b1c60533"),t=t(),CE(),t),p7=d7(()=>Wi("div",{class:"h-full w-full bg-black opacity-50"},[Wi("div",{class:"circle animate-[spin_2s_linear_infinite]"})],-1)),m7=[p7],x7=xr({__name:"tLoading",setup(t){return(e,r)=>(wr(),ki("div",{class:Is(["loading-wrap",Ht(Ln).isLoading?"animate-fadeIn":"animate-fadeOut"])},m7,2))}});const g7=yb(x7,[["__scopeId","data-v-b1c60533"]]),_7={class:"justufy-center relative flex h-screen w-full items-center"},v7=xr({__name:"App",setup(t){return document.addEventListener("contextmenu",e=>{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},{passive:!1}),document.addEventListener("dragstart",e=>{e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},{passive:!1}),(e,r)=>(wr(),ki("div",_7,[we(g7,{class:"z-[3]"}),we(f7,{class:"z-[2]"})]))}});const kc=I1(v7),y7=cO();kc.use(_b,{position:"top-center",autoClose:500,pauseOnHover:!0,hideProgressBar:!0,transition:"flip",closeOnClick:!0,theme:"colored"});kc.use(vb);kc.use(y7);kc.mount("#app");export{gi as A,Jt as F,yb as _,wr as a,Wi as b,ki as c,xr as d,WE as e,Js as f,Uu as g,gd as o,S7 as r,Wb as t,Ln as u};
