var Db=Object.defineProperty;var Ib=(t,e,r)=>e in t?Db(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var pe=(t,e,r)=>(Ib(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function n0(t,e){const r=new Set(t.split(","));return e?i=>r.has(i.toLowerCase()):i=>r.has(i)}const Xe={},vs=[],rr=()=>{},Fb=()=>!1,tc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),s0=t=>t.startsWith("onUpdate:"),St=Object.assign,o0=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Mb=Object.prototype.hasOwnProperty,Ie=(t,e)=>Mb.call(t,e),be=Array.isArray,ys=t=>rc(t)==="[object Map]",Fg=t=>rc(t)==="[object Set]",Se=t=>typeof t=="function",lt=t=>typeof t=="string",Qs=t=>typeof t=="symbol",Ke=t=>t!==null&&typeof t=="object",Mg=t=>(Ke(t)||Se(t))&&Se(t.then)&&Se(t.catch),Og=Object.prototype.toString,rc=t=>Og.call(t),Ob=t=>rc(t).slice(8,-1),kg=t=>rc(t)==="[object Object]",a0=t=>lt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Co=n0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ic=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},kb=/-(\w)/g,Jr=ic(t=>t.replace(kb,(e,r)=>r?r.toUpperCase():"")),Nb=/\B([A-Z])/g,Js=ic(t=>t.replace(Nb,"-$1").toLowerCase()),nc=ic(t=>t.charAt(0).toUpperCase()+t.slice(1)),Uc=ic(t=>t?`on${nc(t)}`:""),Yi=(t,e)=>!Object.is(t,e),zc=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Tl=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},Lb=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Pd;const Ng=()=>Pd||(Pd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function l0(t){if(be(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],n=lt(i)?Gb(i):l0(i);if(n)for(const s in n)e[s]=n[s]}return e}else if(lt(t)||Ke(t))return t}const Ub=/;(?![^(]*\))/g,zb=/:([^]+)/,Hb=/\/\*[^]*?\*\//g;function Gb(t){const e={};return t.replace(Hb,"").split(Ub).forEach(r=>{if(r){const i=r.split(zb);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Fs(t){let e="";if(lt(t))e=t;else if(be(t))for(let r=0;r<t.length;r++){const i=Fs(t[r]);i&&(e+=i+" ")}else if(Ke(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const $b="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wb=n0($b);function Lg(t){return!!t||t===""}const Vb=t=>lt(t)?t:t==null?"":be(t)||Ke(t)&&(t.toString===Og||!Se(t.toString))?JSON.stringify(t,Ug,2):String(t),Ug=(t,e)=>e&&e.__v_isRef?Ug(t,e.value):ys(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,n],s)=>(r[Hc(i,s)+" =>"]=n,r),{})}:Fg(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Hc(r))}:Qs(e)?Hc(e):Ke(e)&&!be(e)&&!kg(e)?String(e):e,Hc=(t,e="")=>{var r;return Qs(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Er;class jb{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Er,!e&&Er&&(this.index=(Er.scopes||(Er.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=Er;try{return Er=this,e()}finally{Er=r}}}on(){Er=this}off(){Er=this.parent}stop(e){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function Xb(t,e=Er){e&&e.active&&e.effects.push(t)}function qb(){return Er}let Pn;class c0{constructor(e,r,i,n){this.fn=e,this.trigger=r,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Xb(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,jn();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(Yb(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Xn()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=$i,r=Pn;try{return $i=!0,Pn=this,this._runnings++,Rd(this),this.fn()}finally{Dd(this),this._runnings--,Pn=r,$i=e}}stop(){var e;this.active&&(Rd(this),Dd(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function Yb(t){return t.value}function Rd(t){t._trackId++,t._depsLength=0}function Dd(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)zg(t.deps[e],t);t.deps.length=t._depsLength}}function zg(t,e){const r=t.get(e);r!==void 0&&e._trackId!==r&&(t.delete(e),t.size===0&&t.cleanup())}let $i=!0,Ru=0;const Hg=[];function jn(){Hg.push($i),$i=!1}function Xn(){const t=Hg.pop();$i=t===void 0?!0:t}function h0(){Ru++}function u0(){for(Ru--;!Ru&&Du.length;)Du.shift()()}function Gg(t,e,r){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&zg(i,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Du=[];function $g(t,e,r){h0();for(const i of t.keys()){let n;i._dirtyLevel<e&&(n??(n=t.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(n??(n=t.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&Du.push(i.scheduler)))}u0()}const Wg=(t,e)=>{const r=new Map;return r.cleanup=t,r.computed=e,r},Iu=new WeakMap,Rn=Symbol(""),Fu=Symbol("");function Xt(t,e,r){if($i&&Pn){let i=Iu.get(t);i||Iu.set(t,i=new Map);let n=i.get(r);n||i.set(r,n=Wg(()=>i.delete(r))),Gg(Pn,n)}}function pi(t,e,r,i,n,s){const o=Iu.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(r==="length"&&be(t)){const l=Number(i);o.forEach((c,h)=>{(h==="length"||!Qs(h)&&h>=l)&&a.push(c)})}else switch(r!==void 0&&a.push(o.get(r)),e){case"add":be(t)?a0(r)&&a.push(o.get("length")):(a.push(o.get(Rn)),ys(t)&&a.push(o.get(Fu)));break;case"delete":be(t)||(a.push(o.get(Rn)),ys(t)&&a.push(o.get(Fu)));break;case"set":ys(t)&&a.push(o.get(Rn));break}h0();for(const l of a)l&&$g(l,4);u0()}const Kb=n0("__proto__,__v_isRef,__isVue"),Vg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Qs)),Id=Zb();function Zb(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const i=Ae(this);for(let s=0,o=this.length;s<o;s++)Xt(i,"get",s+"");const n=i[e](...r);return n===-1||n===!1?i[e](...r.map(Ae)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){jn(),h0();const i=Ae(this)[e].apply(this,r);return u0(),Xn(),i}}),t}function Qb(t){const e=Ae(this);return Xt(e,"has",t),e.hasOwnProperty(t)}class jg{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,i){const n=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return s;if(r==="__v_raw")return i===(n?s?uE:Kg:s?Yg:qg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=be(e);if(!n){if(o&&Ie(Id,r))return Reflect.get(Id,r,i);if(r==="hasOwnProperty")return Qb}const a=Reflect.get(e,r,i);return(Qs(r)?Vg.has(r):Kb(r))||(n||Xt(e,"get",r),s)?a:qt(a)?o&&a0(r)?a:a.value:Ke(a)?n?Qg(a):kt(a):a}}class Xg extends jg{constructor(e=!1){super(!1,e)}set(e,r,i,n){let s=e[r];if(!this._isShallow){const l=Ms(s);if(!Al(i)&&!Ms(i)&&(s=Ae(s),i=Ae(i)),!be(e)&&qt(s)&&!qt(i))return l?!1:(s.value=i,!0)}const o=be(e)&&a0(r)?Number(r)<e.length:Ie(e,r),a=Reflect.set(e,r,i,n);return e===Ae(n)&&(o?Yi(i,s)&&pi(e,"set",r,i):pi(e,"add",r,i)),a}deleteProperty(e,r){const i=Ie(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&i&&pi(e,"delete",r,void 0),n}has(e,r){const i=Reflect.has(e,r);return(!Qs(r)||!Vg.has(r))&&Xt(e,"has",r),i}ownKeys(e){return Xt(e,"iterate",be(e)?"length":Rn),Reflect.ownKeys(e)}}class Jb extends jg{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const eE=new Xg,tE=new Jb,rE=new Xg(!0),f0=t=>t,sc=t=>Reflect.getPrototypeOf(t);function Ca(t,e,r=!1,i=!1){t=t.__v_raw;const n=Ae(t),s=Ae(e);r||(Yi(e,s)&&Xt(n,"get",e),Xt(n,"get",s));const{has:o}=sc(n),a=i?f0:r?m0:jo;if(o.call(n,e))return a(t.get(e));if(o.call(n,s))return a(t.get(s));t!==n&&t.get(e)}function Ba(t,e=!1){const r=this.__v_raw,i=Ae(r),n=Ae(t);return e||(Yi(t,n)&&Xt(i,"has",t),Xt(i,"has",n)),t===n?r.has(t):r.has(t)||r.has(n)}function Pa(t,e=!1){return t=t.__v_raw,!e&&Xt(Ae(t),"iterate",Rn),Reflect.get(t,"size",t)}function Fd(t){t=Ae(t);const e=Ae(this);return sc(e).has.call(e,t)||(e.add(t),pi(e,"add",t,t)),this}function Md(t,e){e=Ae(e);const r=Ae(this),{has:i,get:n}=sc(r);let s=i.call(r,t);s||(t=Ae(t),s=i.call(r,t));const o=n.call(r,t);return r.set(t,e),s?Yi(e,o)&&pi(r,"set",t,e):pi(r,"add",t,e),this}function Od(t){const e=Ae(this),{has:r,get:i}=sc(e);let n=r.call(e,t);n||(t=Ae(t),n=r.call(e,t)),i&&i.call(e,t);const s=e.delete(t);return n&&pi(e,"delete",t,void 0),s}function kd(){const t=Ae(this),e=t.size!==0,r=t.clear();return e&&pi(t,"clear",void 0,void 0),r}function Ra(t,e){return function(i,n){const s=this,o=s.__v_raw,a=Ae(o),l=e?f0:t?m0:jo;return!t&&Xt(a,"iterate",Rn),o.forEach((c,h)=>i.call(n,l(c),l(h),s))}}function Da(t,e,r){return function(...i){const n=this.__v_raw,s=Ae(n),o=ys(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...i),h=r?f0:e?m0:jo;return!e&&Xt(s,"iterate",l?Fu:Rn),{next(){const{value:f,done:u}=c.next();return u?{value:f,done:u}:{value:a?[h(f[0]),h(f[1])]:h(f),done:u}},[Symbol.iterator](){return this}}}}function Ci(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function iE(){const t={get(s){return Ca(this,s)},get size(){return Pa(this)},has:Ba,add:Fd,set:Md,delete:Od,clear:kd,forEach:Ra(!1,!1)},e={get(s){return Ca(this,s,!1,!0)},get size(){return Pa(this)},has:Ba,add:Fd,set:Md,delete:Od,clear:kd,forEach:Ra(!1,!0)},r={get(s){return Ca(this,s,!0)},get size(){return Pa(this,!0)},has(s){return Ba.call(this,s,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:Ra(!0,!1)},i={get(s){return Ca(this,s,!0,!0)},get size(){return Pa(this,!0)},has(s){return Ba.call(this,s,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:Ra(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Da(s,!1,!1),r[s]=Da(s,!0,!1),e[s]=Da(s,!1,!0),i[s]=Da(s,!0,!0)}),[t,r,e,i]}const[nE,sE,oE,aE]=iE();function d0(t,e){const r=e?t?aE:oE:t?sE:nE;return(i,n,s)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(Ie(r,n)&&n in i?r:i,n,s)}const lE={get:d0(!1,!1)},cE={get:d0(!1,!0)},hE={get:d0(!0,!1)},qg=new WeakMap,Yg=new WeakMap,Kg=new WeakMap,uE=new WeakMap;function fE(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dE(t){return t.__v_skip||!Object.isExtensible(t)?0:fE(Ob(t))}function kt(t){return Ms(t)?t:p0(t,!1,eE,lE,qg)}function Zg(t){return p0(t,!1,rE,cE,Yg)}function Qg(t){return p0(t,!0,tE,hE,Kg)}function p0(t,e,r,i,n){if(!Ke(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=n.get(t);if(s)return s;const o=dE(t);if(o===0)return t;const a=new Proxy(t,o===2?i:r);return n.set(t,a),a}function bs(t){return Ms(t)?bs(t.__v_raw):!!(t&&t.__v_isReactive)}function Ms(t){return!!(t&&t.__v_isReadonly)}function Al(t){return!!(t&&t.__v_isShallow)}function Jg(t){return bs(t)||Ms(t)}function Ae(t){const e=t&&t.__v_raw;return e?Ae(e):t}function e_(t){return Object.isExtensible(t)&&Tl(t,"__v_skip",!0),t}const jo=t=>Ke(t)?kt(t):t,m0=t=>Ke(t)?Qg(t):t;class t_{constructor(e,r,i,n){this.getter=e,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new c0(()=>e(this._value),()=>il(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const e=Ae(this);return(!e._cacheable||e.effect.dirty)&&Yi(e._value,e._value=e.effect.run())&&il(e,4),r_(e),e.effect._dirtyLevel>=2&&il(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function pE(t,e,r=!1){let i,n;const s=Se(t);return s?(i=t,n=rr):(i=t.get,n=t.set),new t_(i,n,s||!n,r)}function r_(t){var e;$i&&Pn&&(t=Ae(t),Gg(Pn,(e=t.dep)!=null?e:t.dep=Wg(()=>t.dep=void 0,t instanceof t_?t:void 0)))}function il(t,e=4,r){t=Ae(t);const i=t.dep;i&&$g(i,e)}function qt(t){return!!(t&&t.__v_isRef===!0)}function ui(t){return i_(t,!1)}function mE(t){return i_(t,!0)}function i_(t,e){return qt(t)?t:new xE(t,e)}class xE{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:Ae(e),this._value=r?e:jo(e)}get value(){return r_(this),this._value}set value(e){const r=this.__v_isShallow||Al(e)||Ms(e);e=r?e:Ae(e),Yi(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:jo(e),il(this,4))}}function Gt(t){return qt(t)?t.value:t}const gE={get:(t,e,r)=>Gt(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const n=t[e];return qt(n)&&!qt(r)?(n.value=r,!0):Reflect.set(t,e,r,i)}};function n_(t){return bs(t)?t:new Proxy(t,gE)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wi(t,e,r,i){try{return i?t(...i):t()}catch(n){oc(n,e,r)}}function Rr(t,e,r,i){if(Se(t)){const s=Wi(t,e,r,i);return s&&Mg(s)&&s.catch(o=>{oc(o,e,r)}),s}const n=[];for(let s=0;s<t.length;s++)n.push(Rr(t[s],e,r,i));return n}function oc(t,e,r,i=!0){const n=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${r}`;for(;s;){const c=s.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Wi(l,null,10,[t,o,a]);return}}_E(t,r,n,i)}function _E(t,e,r,i=!0){console.error(t)}let Xo=!1,Mu=!1;const wt=[];let Wr=0;const Es=[];let Di=null,Tn=0;const s_=Promise.resolve();let x0=null;function ma(t){const e=x0||s_;return t?e.then(this?t.bind(this):t):e}function vE(t){let e=Wr+1,r=wt.length;for(;e<r;){const i=e+r>>>1,n=wt[i],s=qo(n);s<t||s===t&&n.pre?e=i+1:r=i}return e}function g0(t){(!wt.length||!wt.includes(t,Xo&&t.allowRecurse?Wr+1:Wr))&&(t.id==null?wt.push(t):wt.splice(vE(t.id),0,t),o_())}function o_(){!Xo&&!Mu&&(Mu=!0,x0=s_.then(l_))}function yE(t){const e=wt.indexOf(t);e>Wr&&wt.splice(e,1)}function bE(t){be(t)?Es.push(...t):(!Di||!Di.includes(t,t.allowRecurse?Tn+1:Tn))&&Es.push(t),o_()}function Nd(t,e,r=Xo?Wr+1:0){for(;r<wt.length;r++){const i=wt[r];if(i&&i.pre){if(t&&i.id!==t.uid)continue;wt.splice(r,1),r--,i()}}}function a_(t){if(Es.length){const e=[...new Set(Es)].sort((r,i)=>qo(r)-qo(i));if(Es.length=0,Di){Di.push(...e);return}for(Di=e,Tn=0;Tn<Di.length;Tn++)Di[Tn]();Di=null,Tn=0}}const qo=t=>t.id==null?1/0:t.id,EE=(t,e)=>{const r=qo(t)-qo(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function l_(t){Mu=!1,Xo=!0,wt.sort(EE);const e=rr;try{for(Wr=0;Wr<wt.length;Wr++){const r=wt[Wr];r&&r.active!==!1&&Wi(r,null,14)}}finally{Wr=0,wt.length=0,a_(),Xo=!1,x0=null,(wt.length||Es.length)&&l_()}}function TE(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||Xe;let n=r;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in i){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:u}=i[h]||Xe;u&&(n=r.map(d=>lt(d)?d.trim():d)),f&&(n=r.map(Lb))}let a,l=i[a=Uc(e)]||i[a=Uc(Jr(e))];!l&&s&&(l=i[a=Uc(Js(e))]),l&&Rr(l,t,6,n);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Rr(c,t,6,n)}}function c_(t,e,r=!1){const i=e.emitsCache,n=i.get(t);if(n!==void 0)return n;const s=t.emits;let o={},a=!1;if(!Se(t)){const l=c=>{const h=c_(c,e,!0);h&&(a=!0,St(o,h))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Ke(t)&&i.set(t,null),null):(be(s)?s.forEach(l=>o[l]=null):St(o,s),Ke(t)&&i.set(t,o),o)}function ac(t,e){return!t||!tc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ie(t,e[0].toLowerCase()+e.slice(1))||Ie(t,Js(e))||Ie(t,e))}let Bt=null,lc=null;function Sl(t){const e=Bt;return Bt=t,lc=t&&t.type.__scopeId||null,e}function AE(t){lc=t}function SE(){lc=null}function h_(t,e=Bt,r){if(!e||t._n)return t;const i=(...n)=>{i._d&&qd(-1);const s=Sl(e);let o;try{o=t(...n)}finally{Sl(s),i._d&&qd(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Gc(t){const{type:e,vnode:r,proxy:i,withProxy:n,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:h,renderCache:f,data:u,setupState:d,ctx:p,inheritAttrs:m}=t;let x,y;const _=Sl(t);try{if(r.shapeFlag&4){const v=n||i,b=v;x=Hr(h.call(b,v,f,s,d,u,p)),y=l}else{const v=e;x=Hr(v.length>1?v(s,{attrs:l,slots:a,emit:c}):v(s,null)),y=e.props?l:wE(l)}}catch(v){Fo.length=0,oc(v,t,1),x=Ce(Ki)}let g=x;if(y&&m!==!1){const v=Object.keys(y),{shapeFlag:b}=g;v.length&&b&7&&(o&&v.some(s0)&&(y=CE(y,o)),g=Ln(g,y))}return r.dirs&&(g=Ln(g),g.dirs=g.dirs?g.dirs.concat(r.dirs):r.dirs),r.transition&&(g.transition=r.transition),x=g,Sl(_),x}const wE=t=>{let e;for(const r in t)(r==="class"||r==="style"||tc(r))&&((e||(e={}))[r]=t[r]);return e},CE=(t,e)=>{const r={};for(const i in t)(!s0(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function BE(t,e,r){const{props:i,children:n,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?Ld(i,o,c):!!o;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const u=h[f];if(o[u]!==i[u]&&!ac(c,u))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Ld(i,o,c):!0:!!o;return!1}function Ld(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const s=i[n];if(e[s]!==t[s]&&!ac(r,s))return!0}return!1}function PE({vnode:t,parent:e},r){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=r,e=e.parent;else break}}const u_="components",f_=Symbol.for("v-ndc");function RE(t){return lt(t)?DE(u_,t,!1)||t:t||f_}function DE(t,e,r=!0,i=!1){const n=Bt||bt;if(n){const s=n.type;if(t===u_){const a=T2(s,!1);if(a&&(a===e||a===Jr(e)||a===nc(Jr(e))))return s}const o=Ud(n[t]||s[t],e)||Ud(n.appContext[t],e);return!o&&i?s:o}}function Ud(t,e){return t&&(t[e]||t[Jr(e)]||t[nc(Jr(e))])}const IE=t=>t.__isSuspense;function FE(t,e){e&&e.pendingBranch?be(t)?e.effects.push(...t):e.effects.push(t):bE(t)}const ME=Symbol.for("v-scx"),OE=()=>mr(ME);function Bo(t,e){return _0(t,null,e)}const Ia={};function Po(t,e,r){return _0(t,e,r)}function _0(t,e,{immediate:r,deep:i,flush:n,once:s,onTrack:o,onTrigger:a}=Xe){if(e&&s){const E=e;e=(...T)=>{E(...T),b()}}const l=bt,c=E=>i===!0?E:fs(E,i===!1?1:void 0);let h,f=!1,u=!1;if(qt(t)?(h=()=>t.value,f=Al(t)):bs(t)?(h=()=>c(t),f=!0):be(t)?(u=!0,f=t.some(E=>bs(E)||Al(E)),h=()=>t.map(E=>{if(qt(E))return E.value;if(bs(E))return c(E);if(Se(E))return Wi(E,l,2)})):Se(t)?e?h=()=>Wi(t,l,2):h=()=>(d&&d(),Rr(t,l,3,[p])):h=rr,e&&i){const E=h;h=()=>fs(E())}let d,p=E=>{d=g.onStop=()=>{Wi(E,l,4),d=g.onStop=void 0}},m;if(dc)if(p=rr,e?r&&Rr(e,l,3,[h(),u?[]:void 0,p]):h(),n==="sync"){const E=OE();m=E.__watcherHandles||(E.__watcherHandles=[])}else return rr;let x=u?new Array(t.length).fill(Ia):Ia;const y=()=>{if(!(!g.active||!g.dirty))if(e){const E=g.run();(i||f||(u?E.some((T,A)=>Yi(T,x[A])):Yi(E,x)))&&(d&&d(),Rr(e,l,3,[E,x===Ia?void 0:u&&x[0]===Ia?[]:x,p]),x=E)}else g.run()};y.allowRecurse=!!e;let _;n==="sync"?_=y:n==="post"?_=()=>Nt(y,l&&l.suspense):(y.pre=!0,l&&(y.id=l.uid),_=()=>g0(y));const g=new c0(h,rr,_),v=qb(),b=()=>{g.stop(),v&&o0(v.effects,g)};return e?r?y():x=g.run():n==="post"?Nt(g.run.bind(g),l&&l.suspense):g.run(),m&&m.push(b),b}function kE(t,e,r){const i=this.proxy,n=lt(t)?t.includes(".")?d_(i,t):()=>i[t]:t.bind(i,i);let s;Se(e)?s=e:(s=e.handler,r=e);const o=xa(this),a=_0(n,s.bind(i),r);return o(),a}function d_(t,e){const r=e.split(".");return()=>{let i=t;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}function fs(t,e,r=0,i){if(!Ke(t)||t.__v_skip)return t;if(e&&e>0){if(r>=e)return t;r++}if(i=i||new Set,i.has(t))return t;if(i.add(t),qt(t))fs(t.value,e,r,i);else if(be(t))for(let n=0;n<t.length;n++)fs(t[n],e,r,i);else if(Fg(t)||ys(t))t.forEach(n=>{fs(n,e,r,i)});else if(kg(t))for(const n in t)fs(t[n],e,r,i);return t}function ln(t,e,r,i){const n=t.dirs,s=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(jn(),Rr(l,r,8,[t.el,a,t,e]),Xn())}}/*! #__NO_SIDE_EFFECTS__ */function gr(t,e){return Se(t)?(()=>St({name:t.name},e,{setup:t}))():t}const Ro=t=>!!t.type.__asyncLoader,p_=t=>t.type.__isKeepAlive;function m_(t,e){g_(t,"a",e)}function x_(t,e){g_(t,"da",e)}function g_(t,e,r=bt){const i=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(cc(e,i,r),r){let n=r.parent;for(;n&&n.parent;)p_(n.parent.vnode)&&NE(i,e,r,n),n=n.parent}}function NE(t,e,r,i){const n=cc(e,t,i,!0);hc(()=>{o0(i[e],n)},r)}function cc(t,e,r=bt,i=!1){if(r){const n=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(r.isUnmounted)return;jn();const a=xa(r),l=Rr(e,r,t,o);return a(),Xn(),l});return i?n.unshift(s):n.push(s),s}}const yi=t=>(e,r=bt)=>(!dc||t==="sp")&&cc(t,(...i)=>e(...i),r),LE=yi("bm"),v0=yi("m"),UE=yi("bu"),zE=yi("u"),__=yi("bum"),hc=yi("um"),HE=yi("sp"),GE=yi("rtg"),$E=yi("rtc");function WE(t,e=bt){cc("ec",t,e)}function VE(t,e,r,i){let n;const s=r&&r[i];if(be(t)||lt(t)){n=new Array(t.length);for(let o=0,a=t.length;o<a;o++)n[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o+1,o,void 0,s&&s[o])}else if(Ke(t))if(t[Symbol.iterator])n=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);n=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];n[a]=e(t[c],c,a,s&&s[a])}}else n=[];return r&&(r[i]=n),n}function jE(t,e,r={},i,n){if(Bt.isCE||Bt.parent&&Ro(Bt.parent)&&Bt.parent.isCE)return e!=="default"&&(r.name=e),Ce("slot",r,i&&i());let s=t[e];s&&s._c&&(s._d=!1),Br();const o=s&&v_(s(r)),a=E0(er,{key:r.key||o&&o.key||`_${e}`},o||(i?i():[]),o&&t._===1?64:-2);return!n&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function v_(t){return t.some(e=>Os(e)?!(e.type===Ki||e.type===er&&!v_(e.children)):!0)?t:null}const Ou=t=>t?D_(t)?A0(t)||t.proxy:Ou(t.parent):null,Do=St(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ou(t.parent),$root:t=>Ou(t.root),$emit:t=>t.emit,$options:t=>y0(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,g0(t.update)}),$nextTick:t=>t.n||(t.n=ma.bind(t.proxy)),$watch:t=>kE.bind(t)}),$c=(t,e)=>t!==Xe&&!t.__isScriptSetup&&Ie(t,e),XE={get({_:t},e){const{ctx:r,setupState:i,data:n,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return n[e];case 4:return r[e];case 3:return s[e]}else{if($c(i,e))return o[e]=1,i[e];if(n!==Xe&&Ie(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&Ie(c,e))return o[e]=3,s[e];if(r!==Xe&&Ie(r,e))return o[e]=4,r[e];ku&&(o[e]=0)}}const h=Do[e];let f,u;if(h)return e==="$attrs"&&Xt(t,"get",e),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==Xe&&Ie(r,e))return o[e]=4,r[e];if(u=l.config.globalProperties,Ie(u,e))return u[e]},set({_:t},e,r){const{data:i,setupState:n,ctx:s}=t;return $c(n,e)?(n[e]=r,!0):i!==Xe&&Ie(i,e)?(i[e]=r,!0):Ie(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:n,propsOptions:s}},o){let a;return!!r[o]||t!==Xe&&Ie(t,o)||$c(e,o)||(a=s[0])&&Ie(a,o)||Ie(i,o)||Ie(Do,o)||Ie(n.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Ie(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function zd(t){return be(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let ku=!0;function qE(t){const e=y0(t),r=t.proxy,i=t.ctx;ku=!1,e.beforeCreate&&Hd(e.beforeCreate,t,"bc");const{data:n,computed:s,methods:o,watch:a,provide:l,inject:c,created:h,beforeMount:f,mounted:u,beforeUpdate:d,updated:p,activated:m,deactivated:x,beforeDestroy:y,beforeUnmount:_,destroyed:g,unmounted:v,render:b,renderTracked:E,renderTriggered:T,errorCaptured:A,serverPrefetch:R,expose:w,inheritAttrs:B,components:I,directives:D,filters:F}=e;if(c&&YE(c,i,null),o)for(const L in o){const q=o[L];Se(q)&&(i[L]=q.bind(r))}if(n){const L=n.call(r,r);Ke(L)&&(t.data=kt(L))}if(ku=!0,s)for(const L in s){const q=s[L],ne=Se(q)?q.bind(r,r):Se(q.get)?q.get.bind(r,r):rr,z=!Se(q)&&Se(q.set)?q.set.bind(r):rr,M=Le({get:ne,set:z});Object.defineProperty(i,L,{enumerable:!0,configurable:!0,get:()=>M.value,set:k=>M.value=k})}if(a)for(const L in a)y_(a[L],i,r,L);if(l){const L=Se(l)?l.call(r):l;Reflect.ownKeys(L).forEach(q=>{nl(q,L[q])})}h&&Hd(h,t,"c");function V(L,q){be(q)?q.forEach(ne=>L(ne.bind(r))):q&&L(q.bind(r))}if(V(LE,f),V(v0,u),V(UE,d),V(zE,p),V(m_,m),V(x_,x),V(WE,A),V($E,E),V(GE,T),V(__,_),V(hc,v),V(HE,R),be(w))if(w.length){const L=t.exposed||(t.exposed={});w.forEach(q=>{Object.defineProperty(L,q,{get:()=>r[q],set:ne=>r[q]=ne})})}else t.exposed||(t.exposed={});b&&t.render===rr&&(t.render=b),B!=null&&(t.inheritAttrs=B),I&&(t.components=I),D&&(t.directives=D)}function YE(t,e,r=rr){be(t)&&(t=Nu(t));for(const i in t){const n=t[i];let s;Ke(n)?"default"in n?s=mr(n.from||i,n.default,!0):s=mr(n.from||i):s=mr(n),qt(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function Hd(t,e,r){Rr(be(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function y_(t,e,r,i){const n=i.includes(".")?d_(r,i):()=>r[i];if(lt(t)){const s=e[t];Se(s)&&Po(n,s)}else if(Se(t))Po(n,t.bind(r));else if(Ke(t))if(be(t))t.forEach(s=>y_(s,e,r,i));else{const s=Se(t.handler)?t.handler.bind(r):e[t.handler];Se(s)&&Po(n,s,t)}}function y0(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:n,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!n.length&&!r&&!i?l=e:(l={},n.length&&n.forEach(c=>wl(l,c,o,!0)),wl(l,e,o)),Ke(e)&&s.set(e,l),l}function wl(t,e,r,i=!1){const{mixins:n,extends:s}=e;s&&wl(t,s,r,!0),n&&n.forEach(o=>wl(t,o,r,!0));for(const o in e)if(!(i&&o==="expose")){const a=KE[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const KE={data:Gd,props:$d,emits:$d,methods:yo,computed:yo,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:yo,directives:yo,watch:QE,provide:Gd,inject:ZE};function Gd(t,e){return e?t?function(){return St(Se(t)?t.call(this,this):t,Se(e)?e.call(this,this):e)}:e:t}function ZE(t,e){return yo(Nu(t),Nu(e))}function Nu(t){if(be(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Ft(t,e){return t?[...new Set([].concat(t,e))]:e}function yo(t,e){return t?St(Object.create(null),t,e):e}function $d(t,e){return t?be(t)&&be(e)?[...new Set([...t,...e])]:St(Object.create(null),zd(t),zd(e??{})):e}function QE(t,e){if(!t)return e;if(!e)return t;const r=St(Object.create(null),t);for(const i in e)r[i]=Ft(t[i],e[i]);return r}function b_(){return{app:null,config:{isNativeTag:Fb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let JE=0;function e2(t,e){return function(i,n=null){Se(i)||(i=St({},i)),n!=null&&!Ke(n)&&(n=null);const s=b_(),o=new WeakSet;let a=!1;const l=s.app={_uid:JE++,_component:i,_props:n,_container:null,_context:s,_instance:null,version:S0,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&Se(c.install)?(o.add(c),c.install(l,...h)):Se(c)&&(o.add(c),c(l,...h))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,h){return h?(s.components[c]=h,l):s.components[c]},directive(c,h){return h?(s.directives[c]=h,l):s.directives[c]},mount(c,h,f){if(!a){const u=Ce(i,n);return u.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(u,c):t(u,c,f),a=!0,l._container=c,c.__vue_app__=l,A0(u.component)||u.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,h){return s.provides[c]=h,l},runWithContext(c){const h=Io;Io=l;try{return c()}finally{Io=h}}};return l}}let Io=null;function nl(t,e){if(bt){let r=bt.provides;const i=bt.parent&&bt.parent.provides;i===r&&(r=bt.provides=Object.create(i)),r[t]=e}}function mr(t,e,r=!1){const i=bt||Bt;if(i||Io){const n=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Io._context.provides;if(n&&t in n)return n[t];if(arguments.length>1)return r&&Se(e)?e.call(i&&i.proxy):e}}function t2(t,e,r,i=!1){const n={},s={};Tl(s,fc,1),t.propsDefaults=Object.create(null),E_(t,e,n,s);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);r?t.props=i?n:Zg(n):t.type.props?t.props=n:t.props=s,t.attrs=s}function r2(t,e,r,i){const{props:n,attrs:s,vnode:{patchFlag:o}}=t,a=Ae(n),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let u=h[f];if(ac(t.emitsOptions,u))continue;const d=e[u];if(l)if(Ie(s,u))d!==s[u]&&(s[u]=d,c=!0);else{const p=Jr(u);n[p]=Lu(l,a,p,d,t,!1)}else d!==s[u]&&(s[u]=d,c=!0)}}}else{E_(t,e,n,s)&&(c=!0);let h;for(const f in a)(!e||!Ie(e,f)&&((h=Js(f))===f||!Ie(e,h)))&&(l?r&&(r[f]!==void 0||r[h]!==void 0)&&(n[f]=Lu(l,a,f,void 0,t,!0)):delete n[f]);if(s!==a)for(const f in s)(!e||!Ie(e,f))&&(delete s[f],c=!0)}c&&pi(t,"set","$attrs")}function E_(t,e,r,i){const[n,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Co(l))continue;const c=e[l];let h;n&&Ie(n,h=Jr(l))?!s||!s.includes(h)?r[h]=c:(a||(a={}))[h]=c:ac(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=Ae(r),c=a||Xe;for(let h=0;h<s.length;h++){const f=s[h];r[f]=Lu(n,l,f,c[f],t,!Ie(c,f))}}return o}function Lu(t,e,r,i,n,s){const o=t[r];if(o!=null){const a=Ie(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Se(l)){const{propsDefaults:c}=n;if(r in c)i=c[r];else{const h=xa(n);i=c[r]=l.call(null,e),h()}}else i=l}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Js(r))&&(i=!0))}return i}function T_(t,e,r=!1){const i=e.propsCache,n=i.get(t);if(n)return n;const s=t.props,o={},a=[];let l=!1;if(!Se(t)){const h=f=>{l=!0;const[u,d]=T_(f,e,!0);St(o,u),d&&a.push(...d)};!r&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!s&&!l)return Ke(t)&&i.set(t,vs),vs;if(be(s))for(let h=0;h<s.length;h++){const f=Jr(s[h]);Wd(f)&&(o[f]=Xe)}else if(s)for(const h in s){const f=Jr(h);if(Wd(f)){const u=s[h],d=o[f]=be(u)||Se(u)?{type:u}:St({},u);if(d){const p=Xd(Boolean,d.type),m=Xd(String,d.type);d[0]=p>-1,d[1]=m<0||p<m,(p>-1||Ie(d,"default"))&&a.push(f)}}}const c=[o,a];return Ke(t)&&i.set(t,c),c}function Wd(t){return t[0]!=="$"&&!Co(t)}function Vd(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function jd(t,e){return Vd(t)===Vd(e)}function Xd(t,e){return be(e)?e.findIndex(r=>jd(r,t)):Se(e)&&jd(e,t)?0:-1}const A_=t=>t[0]==="_"||t==="$stable",b0=t=>be(t)?t.map(Hr):[Hr(t)],i2=(t,e,r)=>{if(e._n)return e;const i=h_((...n)=>b0(e(...n)),r);return i._c=!1,i},S_=(t,e,r)=>{const i=t._ctx;for(const n in t){if(A_(n))continue;const s=t[n];if(Se(s))e[n]=i2(n,s,i);else if(s!=null){const o=b0(s);e[n]=()=>o}}},w_=(t,e)=>{const r=b0(e);t.slots.default=()=>r},n2=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=Ae(e),Tl(e,"_",r)):S_(e,t.slots={})}else t.slots={},e&&w_(t,e);Tl(t.slots,fc,1)},s2=(t,e,r)=>{const{vnode:i,slots:n}=t;let s=!0,o=Xe;if(i.shapeFlag&32){const a=e._;a?r&&a===1?s=!1:(St(n,e),!r&&a===1&&delete n._):(s=!e.$stable,S_(e,n)),o=e}else e&&(w_(t,e),o={default:1});if(s)for(const a in n)!A_(a)&&o[a]==null&&delete n[a]};function Uu(t,e,r,i,n=!1){if(be(t)){t.forEach((u,d)=>Uu(u,e&&(be(e)?e[d]:e),r,i,n));return}if(Ro(i)&&!n)return;const s=i.shapeFlag&4?A0(i.component)||i.component.proxy:i.el,o=n?null:s,{i:a,r:l}=t,c=e&&e.r,h=a.refs===Xe?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(lt(c)?(h[c]=null,Ie(f,c)&&(f[c]=null)):qt(c)&&(c.value=null)),Se(l))Wi(l,a,12,[o,h]);else{const u=lt(l),d=qt(l);if(u||d){const p=()=>{if(t.f){const m=u?Ie(f,l)?f[l]:h[l]:l.value;n?be(m)&&o0(m,s):be(m)?m.includes(s)||m.push(s):u?(h[l]=[s],Ie(f,l)&&(f[l]=h[l])):(l.value=[s],t.k&&(h[t.k]=l.value))}else u?(h[l]=o,Ie(f,l)&&(f[l]=o)):d&&(l.value=o,t.k&&(h[t.k]=o))};o?(p.id=-1,Nt(p,r)):p()}}}const Nt=FE;function o2(t){return a2(t)}function a2(t,e){const r=Ng();r.__VUE__=!0;const{insert:i,remove:n,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:h,parentNode:f,nextSibling:u,setScopeId:d=rr,insertStaticContent:p}=t,m=(S,P,O,j=null,W=null,Y=null,te=void 0,Z=null,Q=!!P.dynamicChildren)=>{if(S===P)return;S&&!lo(S,P)&&(j=N(S),k(S,W,Y,!0),S=null),P.patchFlag===-2&&(Q=!1,P.dynamicChildren=null);const{type:X,ref:re,shapeFlag:de}=P;switch(X){case uc:x(S,P,O,j);break;case Ki:y(S,P,O,j);break;case Vc:S==null&&_(P,O,j,te);break;case er:I(S,P,O,j,W,Y,te,Z,Q);break;default:de&1?b(S,P,O,j,W,Y,te,Z,Q):de&6?D(S,P,O,j,W,Y,te,Z,Q):(de&64||de&128)&&X.process(S,P,O,j,W,Y,te,Z,Q,J)}re!=null&&W&&Uu(re,S&&S.ref,Y,P||S,!P)},x=(S,P,O,j)=>{if(S==null)i(P.el=a(P.children),O,j);else{const W=P.el=S.el;P.children!==S.children&&c(W,P.children)}},y=(S,P,O,j)=>{S==null?i(P.el=l(P.children||""),O,j):P.el=S.el},_=(S,P,O,j)=>{[S.el,S.anchor]=p(S.children,P,O,j,S.el,S.anchor)},g=({el:S,anchor:P},O,j)=>{let W;for(;S&&S!==P;)W=u(S),i(S,O,j),S=W;i(P,O,j)},v=({el:S,anchor:P})=>{let O;for(;S&&S!==P;)O=u(S),n(S),S=O;n(P)},b=(S,P,O,j,W,Y,te,Z,Q)=>{P.type==="svg"?te="svg":P.type==="math"&&(te="mathml"),S==null?E(P,O,j,W,Y,te,Z,Q):R(S,P,W,Y,te,Z,Q)},E=(S,P,O,j,W,Y,te,Z)=>{let Q,X;const{props:re,shapeFlag:de,transition:he,dirs:ge}=S;if(Q=S.el=o(S.type,Y,re&&re.is,re),de&8?h(Q,S.children):de&16&&A(S.children,Q,null,j,W,Wc(S,Y),te,Z),ge&&ln(S,null,j,"created"),T(Q,S,S.scopeId,te,j),re){for(const Oe in re)Oe!=="value"&&!Co(Oe)&&s(Q,Oe,null,re[Oe],Y,S.children,j,W,oe);"value"in re&&s(Q,"value",null,re.value,Y),(X=re.onVnodeBeforeMount)&&kr(X,j,S)}ge&&ln(S,null,j,"beforeMount");const Te=l2(W,he);Te&&he.beforeEnter(Q),i(Q,P,O),((X=re&&re.onVnodeMounted)||Te||ge)&&Nt(()=>{X&&kr(X,j,S),Te&&he.enter(Q),ge&&ln(S,null,j,"mounted")},W)},T=(S,P,O,j,W)=>{if(O&&d(S,O),j)for(let Y=0;Y<j.length;Y++)d(S,j[Y]);if(W){let Y=W.subTree;if(P===Y){const te=W.vnode;T(S,te,te.scopeId,te.slotScopeIds,W.parent)}}},A=(S,P,O,j,W,Y,te,Z,Q=0)=>{for(let X=Q;X<S.length;X++){const re=S[X]=Z?Ii(S[X]):Hr(S[X]);m(null,re,P,O,j,W,Y,te,Z)}},R=(S,P,O,j,W,Y,te)=>{const Z=P.el=S.el;let{patchFlag:Q,dynamicChildren:X,dirs:re}=P;Q|=S.patchFlag&16;const de=S.props||Xe,he=P.props||Xe;let ge;if(O&&cn(O,!1),(ge=he.onVnodeBeforeUpdate)&&kr(ge,O,P,S),re&&ln(P,S,O,"beforeUpdate"),O&&cn(O,!0),X?w(S.dynamicChildren,X,Z,O,j,Wc(P,W),Y):te||q(S,P,Z,null,O,j,Wc(P,W),Y,!1),Q>0){if(Q&16)B(Z,P,de,he,O,j,W);else if(Q&2&&de.class!==he.class&&s(Z,"class",null,he.class,W),Q&4&&s(Z,"style",de.style,he.style,W),Q&8){const Te=P.dynamicProps;for(let Oe=0;Oe<Te.length;Oe++){const He=Te[Oe],nt=de[He],dt=he[He];(dt!==nt||He==="value")&&s(Z,He,nt,dt,W,S.children,O,j,oe)}}Q&1&&S.children!==P.children&&h(Z,P.children)}else!te&&X==null&&B(Z,P,de,he,O,j,W);((ge=he.onVnodeUpdated)||re)&&Nt(()=>{ge&&kr(ge,O,P,S),re&&ln(P,S,O,"updated")},j)},w=(S,P,O,j,W,Y,te)=>{for(let Z=0;Z<P.length;Z++){const Q=S[Z],X=P[Z],re=Q.el&&(Q.type===er||!lo(Q,X)||Q.shapeFlag&70)?f(Q.el):O;m(Q,X,re,null,j,W,Y,te,!0)}},B=(S,P,O,j,W,Y,te)=>{if(O!==j){if(O!==Xe)for(const Z in O)!Co(Z)&&!(Z in j)&&s(S,Z,O[Z],null,te,P.children,W,Y,oe);for(const Z in j){if(Co(Z))continue;const Q=j[Z],X=O[Z];Q!==X&&Z!=="value"&&s(S,Z,X,Q,te,P.children,W,Y,oe)}"value"in j&&s(S,"value",O.value,j.value,te)}},I=(S,P,O,j,W,Y,te,Z,Q)=>{const X=P.el=S?S.el:a(""),re=P.anchor=S?S.anchor:a("");let{patchFlag:de,dynamicChildren:he,slotScopeIds:ge}=P;ge&&(Z=Z?Z.concat(ge):ge),S==null?(i(X,O,j),i(re,O,j),A(P.children||[],O,re,W,Y,te,Z,Q)):de>0&&de&64&&he&&S.dynamicChildren?(w(S.dynamicChildren,he,O,W,Y,te,Z),(P.key!=null||W&&P===W.subTree)&&C_(S,P,!0)):q(S,P,O,re,W,Y,te,Z,Q)},D=(S,P,O,j,W,Y,te,Z,Q)=>{P.slotScopeIds=Z,S==null?P.shapeFlag&512?W.ctx.activate(P,O,j,te,Q):F(P,O,j,W,Y,te,Q):G(S,P,Q)},F=(S,P,O,j,W,Y,te)=>{const Z=S.component=g2(S,j,W);if(p_(S)&&(Z.ctx.renderer=J),v2(Z),Z.asyncDep){if(W&&W.registerDep(Z,V),!S.el){const Q=Z.subTree=Ce(Ki);y(null,Q,P,O)}}else V(Z,S,P,O,W,Y,te)},G=(S,P,O)=>{const j=P.component=S.component;if(BE(S,P,O))if(j.asyncDep&&!j.asyncResolved){L(j,P,O);return}else j.next=P,yE(j.update),j.effect.dirty=!0,j.update();else P.el=S.el,j.vnode=P},V=(S,P,O,j,W,Y,te)=>{const Z=()=>{if(S.isMounted){let{next:re,bu:de,u:he,parent:ge,vnode:Te}=S;{const ar=B_(S);if(ar){re&&(re.el=Te.el,L(S,re,te)),ar.asyncDep.then(()=>{S.isUnmounted||Z()});return}}let Oe=re,He;cn(S,!1),re?(re.el=Te.el,L(S,re,te)):re=Te,de&&zc(de),(He=re.props&&re.props.onVnodeBeforeUpdate)&&kr(He,ge,re,Te),cn(S,!0);const nt=Gc(S),dt=S.subTree;S.subTree=nt,m(dt,nt,f(dt.el),N(dt),S,W,Y),re.el=nt.el,Oe===null&&PE(S,nt.el),he&&Nt(he,W),(He=re.props&&re.props.onVnodeUpdated)&&Nt(()=>kr(He,ge,re,Te),W)}else{let re;const{el:de,props:he}=P,{bm:ge,m:Te,parent:Oe}=S,He=Ro(P);if(cn(S,!1),ge&&zc(ge),!He&&(re=he&&he.onVnodeBeforeMount)&&kr(re,Oe,P),cn(S,!0),de&&xe){const nt=()=>{S.subTree=Gc(S),xe(de,S.subTree,S,W,null)};He?P.type.__asyncLoader().then(()=>!S.isUnmounted&&nt()):nt()}else{const nt=S.subTree=Gc(S);m(null,nt,O,j,S,W,Y),P.el=nt.el}if(Te&&Nt(Te,W),!He&&(re=he&&he.onVnodeMounted)){const nt=P;Nt(()=>kr(re,Oe,nt),W)}(P.shapeFlag&256||Oe&&Ro(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&S.a&&Nt(S.a,W),S.isMounted=!0,P=O=j=null}},Q=S.effect=new c0(Z,rr,()=>g0(X),S.scope),X=S.update=()=>{Q.dirty&&Q.run()};X.id=S.uid,cn(S,!0),X()},L=(S,P,O)=>{P.component=S;const j=S.vnode.props;S.vnode=P,S.next=null,r2(S,P.props,j,O),s2(S,P.children,O),jn(),Nd(S),Xn()},q=(S,P,O,j,W,Y,te,Z,Q=!1)=>{const X=S&&S.children,re=S?S.shapeFlag:0,de=P.children,{patchFlag:he,shapeFlag:ge}=P;if(he>0){if(he&128){z(X,de,O,j,W,Y,te,Z,Q);return}else if(he&256){ne(X,de,O,j,W,Y,te,Z,Q);return}}ge&8?(re&16&&oe(X,W,Y),de!==X&&h(O,de)):re&16?ge&16?z(X,de,O,j,W,Y,te,Z,Q):oe(X,W,Y,!0):(re&8&&h(O,""),ge&16&&A(de,O,j,W,Y,te,Z,Q))},ne=(S,P,O,j,W,Y,te,Z,Q)=>{S=S||vs,P=P||vs;const X=S.length,re=P.length,de=Math.min(X,re);let he;for(he=0;he<de;he++){const ge=P[he]=Q?Ii(P[he]):Hr(P[he]);m(S[he],ge,O,null,W,Y,te,Z,Q)}X>re?oe(S,W,Y,!0,!1,de):A(P,O,j,W,Y,te,Z,Q,de)},z=(S,P,O,j,W,Y,te,Z,Q)=>{let X=0;const re=P.length;let de=S.length-1,he=re-1;for(;X<=de&&X<=he;){const ge=S[X],Te=P[X]=Q?Ii(P[X]):Hr(P[X]);if(lo(ge,Te))m(ge,Te,O,null,W,Y,te,Z,Q);else break;X++}for(;X<=de&&X<=he;){const ge=S[de],Te=P[he]=Q?Ii(P[he]):Hr(P[he]);if(lo(ge,Te))m(ge,Te,O,null,W,Y,te,Z,Q);else break;de--,he--}if(X>de){if(X<=he){const ge=he+1,Te=ge<re?P[ge].el:j;for(;X<=he;)m(null,P[X]=Q?Ii(P[X]):Hr(P[X]),O,Te,W,Y,te,Z,Q),X++}}else if(X>he)for(;X<=de;)k(S[X],W,Y,!0),X++;else{const ge=X,Te=X,Oe=new Map;for(X=Te;X<=he;X++){const It=P[X]=Q?Ii(P[X]):Hr(P[X]);It.key!=null&&Oe.set(It.key,X)}let He,nt=0;const dt=he-Te+1;let ar=!1,wa=0;const Si=new Array(dt);for(X=0;X<dt;X++)Si[X]=0;for(X=ge;X<=de;X++){const It=S[X];if(nt>=dt){k(It,W,Y,!0);continue}let lr;if(It.key!=null)lr=Oe.get(It.key);else for(He=Te;He<=he;He++)if(Si[He-Te]===0&&lo(It,P[He])){lr=He;break}lr===void 0?k(It,W,Y,!0):(Si[lr-Te]=X+1,lr>=wa?wa=lr:ar=!0,m(It,P[lr],O,null,W,Y,te,Z,Q),nt++)}const oo=ar?c2(Si):vs;for(He=oo.length-1,X=dt-1;X>=0;X--){const It=Te+X,lr=P[It],ao=It+1<re?P[It+1].el:j;Si[X]===0?m(null,lr,O,ao,W,Y,te,Z,Q):ar&&(He<0||X!==oo[He]?M(lr,O,ao,2):He--)}}},M=(S,P,O,j,W=null)=>{const{el:Y,type:te,transition:Z,children:Q,shapeFlag:X}=S;if(X&6){M(S.component.subTree,P,O,j);return}if(X&128){S.suspense.move(P,O,j);return}if(X&64){te.move(S,P,O,J);return}if(te===er){i(Y,P,O);for(let de=0;de<Q.length;de++)M(Q[de],P,O,j);i(S.anchor,P,O);return}if(te===Vc){g(S,P,O);return}if(j!==2&&X&1&&Z)if(j===0)Z.beforeEnter(Y),i(Y,P,O),Nt(()=>Z.enter(Y),W);else{const{leave:de,delayLeave:he,afterLeave:ge}=Z,Te=()=>i(Y,P,O),Oe=()=>{de(Y,()=>{Te(),ge&&ge()})};he?he(Y,Te,Oe):Oe()}else i(Y,P,O)},k=(S,P,O,j=!1,W=!1)=>{const{type:Y,props:te,ref:Z,children:Q,dynamicChildren:X,shapeFlag:re,patchFlag:de,dirs:he}=S;if(Z!=null&&Uu(Z,null,O,S,!0),re&256){P.ctx.deactivate(S);return}const ge=re&1&&he,Te=!Ro(S);let Oe;if(Te&&(Oe=te&&te.onVnodeBeforeUnmount)&&kr(Oe,P,S),re&6)fe(S.component,O,j);else{if(re&128){S.suspense.unmount(O,j);return}ge&&ln(S,null,P,"beforeUnmount"),re&64?S.type.remove(S,P,O,W,J,j):X&&(Y!==er||de>0&&de&64)?oe(X,P,O,!1,!0):(Y===er&&de&384||!W&&re&16)&&oe(Q,P,O),j&&H(S)}(Te&&(Oe=te&&te.onVnodeUnmounted)||ge)&&Nt(()=>{Oe&&kr(Oe,P,S),ge&&ln(S,null,P,"unmounted")},O)},H=S=>{const{type:P,el:O,anchor:j,transition:W}=S;if(P===er){U(O,j);return}if(P===Vc){v(S);return}const Y=()=>{n(O),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(S.shapeFlag&1&&W&&!W.persisted){const{leave:te,delayLeave:Z}=W,Q=()=>te(O,Y);Z?Z(S.el,Y,Q):Q()}else Y()},U=(S,P)=>{let O;for(;S!==P;)O=u(S),n(S),S=O;n(P)},fe=(S,P,O)=>{const{bum:j,scope:W,update:Y,subTree:te,um:Z}=S;j&&zc(j),W.stop(),Y&&(Y.active=!1,k(te,S,P,O)),Z&&Nt(Z,P),Nt(()=>{S.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},oe=(S,P,O,j=!1,W=!1,Y=0)=>{for(let te=Y;te<S.length;te++)k(S[te],P,O,j,W)},N=S=>S.shapeFlag&6?N(S.component.subTree):S.shapeFlag&128?S.suspense.next():u(S.anchor||S.el);let $=!1;const K=(S,P,O)=>{S==null?P._vnode&&k(P._vnode,null,null,!0):m(P._vnode||null,S,P,null,null,null,O),$||($=!0,Nd(),a_(),$=!1),P._vnode=S},J={p:m,um:k,m:M,r:H,mt:F,mc:A,pc:q,pbc:w,n:N,o:t};let le,xe;return e&&([le,xe]=e(J)),{render:K,hydrate:le,createApp:e2(K,le)}}function Wc({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function cn({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function l2(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function C_(t,e,r=!1){const i=t.children,n=e.children;if(be(i)&&be(n))for(let s=0;s<i.length;s++){const o=i[s];let a=n[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[s]=Ii(n[s]),a.el=o.el),r||C_(o,a)),a.type===uc&&(a.el=o.el)}}function c2(t){const e=t.slice(),r=[0];let i,n,s,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(n=r[r.length-1],t[n]<c){e[i]=n,r.push(i);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,t[r[a]]<c?s=a+1:o=a;c<t[r[s]]&&(s>0&&(e[i]=r[s-1]),r[s]=i)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}function B_(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:B_(e)}const h2=t=>t.__isTeleport,er=Symbol.for("v-fgt"),uc=Symbol.for("v-txt"),Ki=Symbol.for("v-cmt"),Vc=Symbol.for("v-stc"),Fo=[];let Cr=null;function Br(t=!1){Fo.push(Cr=t?null:[])}function u2(){Fo.pop(),Cr=Fo[Fo.length-1]||null}let Yo=1;function qd(t){Yo+=t}function P_(t){return t.dynamicChildren=Yo>0?Cr||vs:null,u2(),Yo>0&&Cr&&Cr.push(t),t}function ki(t,e,r,i,n,s){return P_(Vi(t,e,r,i,n,s,!0))}function E0(t,e,r,i,n){return P_(Ce(t,e,r,i,n,!0))}function Os(t){return t?t.__v_isVNode===!0:!1}function lo(t,e){return t.type===e.type&&t.key===e.key}const fc="__vInternal",R_=({key:t})=>t??null,sl=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?lt(t)||qt(t)||Se(t)?{i:Bt,r:t,k:e,f:!!r}:t:null);function Vi(t,e=null,r=null,i=0,n=null,s=t===er?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&R_(e),ref:e&&sl(e),scopeId:lc,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Bt};return a?(T0(l,r),s&128&&t.normalize(l)):r&&(l.shapeFlag|=lt(r)?8:16),Yo>0&&!o&&Cr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Cr.push(l),l}const Ce=f2;function f2(t,e=null,r=null,i=0,n=null,s=!1){if((!t||t===f_)&&(t=Ki),Os(t)){const a=Ln(t,e,!0);return r&&T0(a,r),Yo>0&&!s&&Cr&&(a.shapeFlag&6?Cr[Cr.indexOf(t)]=a:Cr.push(a)),a.patchFlag|=-2,a}if(A2(t)&&(t=t.__vccOpts),e){e=d2(e);let{class:a,style:l}=e;a&&!lt(a)&&(e.class=Fs(a)),Ke(l)&&(Jg(l)&&!be(l)&&(l=St({},l)),e.style=l0(l))}const o=lt(t)?1:IE(t)?128:h2(t)?64:Ke(t)?4:Se(t)?2:0;return Vi(t,e,r,i,n,o,s,!0)}function d2(t){return t?Jg(t)||fc in t?St({},t):t:null}function Ln(t,e,r=!1){const{props:i,ref:n,patchFlag:s,children:o}=t,a=e?bi(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&R_(a),ref:e&&e.ref?r&&n?be(n)?n.concat(sl(e)):[n,sl(e)]:sl(e):n,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==er?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ln(t.ssContent),ssFallback:t.ssFallback&&Ln(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function zu(t=" ",e=0){return Ce(uc,null,t,e)}function p2(t="",e=!1){return e?(Br(),E0(Ki,null,t)):Ce(Ki,null,t)}function Hr(t){return t==null||typeof t=="boolean"?Ce(Ki):be(t)?Ce(er,null,t.slice()):typeof t=="object"?Ii(t):Ce(uc,null,String(t))}function Ii(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ln(t)}function T0(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(be(e))r=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),T0(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!(fc in e)?e._ctx=Bt:n===3&&Bt&&(Bt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Se(e)?(e={default:e,_ctx:Bt},r=32):(e=String(e),i&64?(r=16,e=[zu(e)]):r=8);t.children=e,t.shapeFlag|=r}function bi(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=Fs([e.class,i.class]));else if(n==="style")e.style=l0([e.style,i.style]);else if(tc(n)){const s=e[n],o=i[n];o&&s!==o&&!(be(s)&&s.includes(o))&&(e[n]=s?[].concat(s,o):o)}else n!==""&&(e[n]=i[n])}return e}function kr(t,e,r,i=null){Rr(t,e,7,[r,i])}const m2=b_();let x2=0;function g2(t,e,r){const i=t.type,n=(e?e.appContext:t.appContext)||m2,s={uid:x2++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new jb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:T_(i,n),emitsOptions:c_(i,n),emit:null,emitted:null,propsDefaults:Xe,inheritAttrs:i.inheritAttrs,ctx:Xe,data:Xe,props:Xe,attrs:Xe,slots:Xe,refs:Xe,setupState:Xe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=TE.bind(null,s),t.ce&&t.ce(s),s}let bt=null;const _2=()=>bt||Bt;let Cl,Hu;{const t=Ng(),e=(r,i)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(i),s=>{n.length>1?n.forEach(o=>o(s)):n[0](s)}};Cl=e("__VUE_INSTANCE_SETTERS__",r=>bt=r),Hu=e("__VUE_SSR_SETTERS__",r=>dc=r)}const xa=t=>{const e=bt;return Cl(t),t.scope.on(),()=>{t.scope.off(),Cl(e)}},Yd=()=>{bt&&bt.scope.off(),Cl(null)};function D_(t){return t.vnode.shapeFlag&4}let dc=!1;function v2(t,e=!1){e&&Hu(e);const{props:r,children:i}=t.vnode,n=D_(t);t2(t,r,n,e),n2(t,i);const s=n?y2(t,e):void 0;return e&&Hu(!1),s}function y2(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=e_(new Proxy(t.ctx,XE));const{setup:i}=r;if(i){const n=t.setupContext=i.length>1?E2(t):null,s=xa(t);jn();const o=Wi(i,t,0,[t.props,n]);if(Xn(),s(),Mg(o)){if(o.then(Yd,Yd),e)return o.then(a=>{Kd(t,a,e)}).catch(a=>{oc(a,t,0)});t.asyncDep=o}else Kd(t,o,e)}else I_(t,e)}function Kd(t,e,r){Se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ke(e)&&(t.setupState=n_(e)),I_(t,r)}let Zd;function I_(t,e,r){const i=t.type;if(!t.render){if(!e&&Zd&&!i.render){const n=i.template||y0(t).template;if(n){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,c=St(St({isCustomElement:s,delimiters:a},o),l);i.render=Zd(n,c)}}t.render=i.render||rr}{const n=xa(t);jn();try{qE(t)}finally{Xn(),n()}}}function b2(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return Xt(t,"get","$attrs"),e[r]}}))}function E2(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return b2(t)},slots:t.slots,emit:t.emit,expose:e}}function A0(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(n_(e_(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Do)return Do[r](t)},has(e,r){return r in e||r in Do}}))}function T2(t,e=!0){return Se(t)?t.displayName||t.name:t.name||e&&t.__name}function A2(t){return Se(t)&&"__vccOpts"in t}const Le=(t,e)=>pE(t,e,dc);function ds(t,e,r){const i=arguments.length;return i===2?Ke(e)&&!be(e)?Os(e)?Ce(t,null,[e]):Ce(t,e):Ce(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&Os(r)&&(r=[r]),Ce(t,e,r))}const S0="3.4.21";/**
* @vue/runtime-dom v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const S2="http://www.w3.org/2000/svg",w2="http://www.w3.org/1998/Math/MathML",Fi=typeof document<"u"?document:null,Qd=Fi&&Fi.createElement("template"),C2={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const n=e==="svg"?Fi.createElementNS(S2,t):e==="mathml"?Fi.createElementNS(w2,t):Fi.createElement(t,r?{is:r}:void 0);return t==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:t=>Fi.createTextNode(t),createComment:t=>Fi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Fi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,n,s){const o=r?r.previousSibling:e.lastChild;if(n&&(n===s||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===s||!(n=n.nextSibling)););else{Qd.innerHTML=i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t;const a=Qd.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},B2=Symbol("_vtc");function P2(t,e,r){const i=t[B2];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Jd=Symbol("_vod"),R2=Symbol("_vsh"),D2=Symbol(""),I2=/(^|;)\s*display\s*:/;function F2(t,e,r){const i=t.style,n=lt(r);let s=!1;if(r&&!n){if(e)if(lt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&ol(i,a,"")}else for(const o in e)r[o]==null&&ol(i,o,"");for(const o in r)o==="display"&&(s=!0),ol(i,o,r[o])}else if(n){if(e!==r){const o=i[D2];o&&(r+=";"+o),i.cssText=r,s=I2.test(r)}}else e&&t.removeAttribute("style");Jd in t&&(t[Jd]=s?i.display:"",t[R2]&&(i.display="none"))}const ep=/\s*!important$/;function ol(t,e,r){if(be(r))r.forEach(i=>ol(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=M2(t,e);ep.test(r)?t.setProperty(Js(i),r.replace(ep,""),"important"):t[i]=r}}const tp=["Webkit","Moz","ms"],jc={};function M2(t,e){const r=jc[e];if(r)return r;let i=Jr(e);if(i!=="filter"&&i in t)return jc[e]=i;i=nc(i);for(let n=0;n<tp.length;n++){const s=tp[n]+i;if(s in t)return jc[e]=s}return e}const rp="http://www.w3.org/1999/xlink";function O2(t,e,r,i,n){if(i&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(rp,e.slice(6,e.length)):t.setAttributeNS(rp,e,r);else{const s=Wb(e);r==null||s&&!Lg(r)?t.removeAttribute(e):t.setAttribute(e,s?"":r)}}function k2(t,e,r,i,n,s,o){if(e==="innerHTML"||e==="textContent"){i&&o(i,n,s),t[e]=r??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const c=a==="OPTION"?t.getAttribute("value")||"":t.value,h=r??"";(c!==h||!("_value"in t))&&(t.value=h),r==null&&t.removeAttribute(e),t._value=r;return}let l=!1;if(r===""||r==null){const c=typeof t[e];c==="boolean"?r=Lg(r):r==null&&c==="string"?(r="",l=!0):c==="number"&&(r=0,l=!0)}try{t[e]=r}catch{}l&&t.removeAttribute(e)}function N2(t,e,r,i){t.addEventListener(e,r,i)}function L2(t,e,r,i){t.removeEventListener(e,r,i)}const ip=Symbol("_vei");function U2(t,e,r,i,n=null){const s=t[ip]||(t[ip]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=z2(e);if(i){const c=s[e]=$2(i,n);N2(t,a,c,l)}else o&&(L2(t,a,o,l),s[e]=void 0)}}const np=/(?:Once|Passive|Capture)$/;function z2(t){let e;if(np.test(t)){e={};let i;for(;i=t.match(np);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Js(t.slice(2)),e]}let Xc=0;const H2=Promise.resolve(),G2=()=>Xc||(H2.then(()=>Xc=0),Xc=Date.now());function $2(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;Rr(W2(i,r.value),e,5,[i])};return r.value=t,r.attached=G2(),r}function W2(t,e){if(be(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const sp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,V2=(t,e,r,i,n,s,o,a,l)=>{const c=n==="svg";e==="class"?P2(t,i,c):e==="style"?F2(t,r,i):tc(e)?s0(e)||U2(t,e,r,i,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):j2(t,e,i,c))?k2(t,e,i,s,o,a,l):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),O2(t,e,i,c))};function j2(t,e,r,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&sp(e)&&Se(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return sp(e)&&lt(r)?!1:e in t}const X2=["ctrl","shift","alt","meta"],q2={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>X2.some(r=>t[`${r}Key`]&&!e.includes(r))},AN=(t,e)=>{const r=t._withMods||(t._withMods={}),i=e.join(".");return r[i]||(r[i]=(n,...s)=>{for(let o=0;o<e.length;o++){const a=q2[e[o]];if(a&&a(n,e))return}return t(n,...s)})},Y2=St({patchProp:V2},C2);let op;function K2(){return op||(op=o2(Y2))}const F_=(...t)=>{const e=K2().createApp(...t),{mount:r}=e;return e.mount=i=>{const n=Q2(i);if(!n)return;const s=e._component;!Se(s)&&!s.render&&!s.template&&(s.template=n.innerHTML),n.innerHTML="";const o=r(n,!1,Z2(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Z2(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Q2(t){return lt(t)?document.querySelector(t):t}const J2="modulepreload",eT=function(t){return"/"+t},ap={},lp=function(e,r,i){if(!r||r.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=eT(s),s in ap)return;ap[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let h=n.length-1;h>=0;h--){const f=n[h];if(f.href===s&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":J2,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},ve=kt({userID:"",accessToken:"",refreshToken:"",currentGroupIndex:0,turnInPrize:0,prizeTurn:0,gameName:"",signedIn:!1,score:0,win:0,credit:9e4}),Un=kt({isLoading:!1,currentNav:""}),tT={img:["chevron.png","tile.png","pos-icon.png","edit-tool-bg.png"]},rT={img:["icon.png","big_number.png","reel.png","main_frame.png","bg_day.png","bg_day_tree.png","bg_night.png","bg_night_tree.png"]},cp={common:tT,slot:rT},eo={backgroundColor:0,width:720,height:1280,slotIconScale:140,maskScale:{w:616,h:420},gapIconInReel:4,slotScaleAry:[.7,.7,.8,1,.8,.7],centerSlotIndex:2,stopCount:5,atlasData:["bar1","bar2","bar3","bell","cherry","orange","seven","star","target","watermelon"],emoji:{bell:"",bar1:"",bar2:"",bar3:"",joker:"",watermelon:"",orange:"",seven:"7",star:"",target:"",cherry:""},startDelay:.25,debug:!1};var qn=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(qn||{}),M_=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(M_||{}),Gu=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Gu||{}),_e=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(_e||{}),jr=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(jr||{}),ee=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ee||{}),Ts=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Ts||{}),me=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(me||{}),$u=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))($u||{}),fi=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(fi||{}),ji=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(ji||{}),ei=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(ei||{}),Or=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Or||{}),Gr=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Gr||{}),w0=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(w0||{}),fr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(fr||{}),ht=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(ht||{}),rt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(rt||{}),Yr=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Yr||{});const iT={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},se={ADAPTER:iT,RESOLUTION:1,RENDER_OPTIONS:{view:null,width:800,height:600,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,clearBeforeRender:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,hello:!1},CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var qc=/iPhone/i,hp=/iPod/i,up=/iPad/i,fp=/\biOS-universal(?:.+)Mac\b/i,Yc=/\bAndroid(?:.+)Mobile\b/i,dp=/Android/i,es=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Fa=/Silk/i,oi=/Windows Phone/i,pp=/\bWindows(?:.+)ARM\b/i,mp=/BlackBerry/i,xp=/BB10/i,gp=/Opera Mini/i,_p=/\b(CriOS|Chrome)(?:.+)Mobile/i,vp=/Mobile(?:.+)Firefox\b/i,yp=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function nT(t){return function(e){return e.test(t)}}function sT(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,i=r.split("[FBAN");typeof i[1]<"u"&&(r=i[0]),i=r.split("Twitter"),typeof i[1]<"u"&&(r=i[0]);var n=nT(r),s={apple:{phone:n(qc)&&!n(oi),ipod:n(hp),tablet:!n(qc)&&(n(up)||yp(e))&&!n(oi),universal:n(fp),device:(n(qc)||n(hp)||n(up)||n(fp)||yp(e))&&!n(oi)},amazon:{phone:n(es),tablet:!n(es)&&n(Fa),device:n(es)||n(Fa)},android:{phone:!n(oi)&&n(es)||!n(oi)&&n(Yc),tablet:!n(oi)&&!n(es)&&!n(Yc)&&(n(Fa)||n(dp)),device:!n(oi)&&(n(es)||n(Fa)||n(Yc)||n(dp))||n(/\bokhttp\b/i)},windows:{phone:n(oi),tablet:n(pp),device:n(oi)||n(pp)},other:{blackberry:n(mp),blackberry10:n(xp),opera:n(gp),firefox:n(vp),chrome:n(_p),device:n(mp)||n(xp)||n(gp)||n(vp)||n(_p)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const di=sT(globalThis.navigator);se.RETINA_PREFIX=/@([0-9\.]+)x/;se.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Ee=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function oT(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),r}var O_={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function n(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function s(l,c,h,f,u){if(typeof h!="function")throw new TypeError("The listener must be a function");var d=new n(h,f||l,u),p=r?r+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],d]:l._events[p].push(d):(l._events[p]=d,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)e.call(h,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},a.prototype.listeners=function(c){var h=r?r+c:c,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var u=0,d=f.length,p=new Array(d);u<d;u++)p[u]=f[u].fn;return p},a.prototype.listenerCount=function(c){var h=r?r+c:c,f=this._events[h];return f?f.fn?1:f.length:0},a.prototype.emit=function(c,h,f,u,d,p){var m=r?r+c:c;if(!this._events[m])return!1;var x=this._events[m],y=arguments.length,_,g;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,f),!0;case 4:return x.fn.call(x.context,h,f,u),!0;case 5:return x.fn.call(x.context,h,f,u,d),!0;case 6:return x.fn.call(x.context,h,f,u,d,p),!0}for(g=1,_=new Array(y-1);g<y;g++)_[g-1]=arguments[g];x.fn.apply(x.context,_)}else{var v=x.length,b;for(g=0;g<v;g++)switch(x[g].once&&this.removeListener(c,x[g].fn,void 0,!0),y){case 1:x[g].fn.call(x[g].context);break;case 2:x[g].fn.call(x[g].context,h);break;case 3:x[g].fn.call(x[g].context,h,f);break;case 4:x[g].fn.call(x[g].context,h,f,u);break;default:if(!_)for(b=1,_=new Array(y-1);b<y;b++)_[b-1]=arguments[b];x[g].fn.apply(x[g].context,_)}}return!0},a.prototype.on=function(c,h,f){return s(this,c,h,f,!1)},a.prototype.once=function(c,h,f){return s(this,c,h,f,!0)},a.prototype.removeListener=function(c,h,f,u){var d=r?r+c:c;if(!this._events[d])return this;if(!h)return o(this,d),this;var p=this._events[d];if(p.fn)p.fn===h&&(!u||p.once)&&(!f||p.context===f)&&o(this,d);else{for(var m=0,x=[],y=p.length;m<y;m++)(p[m].fn!==h||u&&!p[m].once||f&&p[m].context!==f)&&x.push(p[m]);x.length?this._events[d]=x.length===1?x[0]:x:o(this,d)}return this},a.prototype.removeAllListeners=function(c){var h;return c?(h=r?r+c:c,this._events[h]&&o(this,h)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(O_);var aT=O_.exports;const ga=C0(aT);var B0={exports:{}};B0.exports=pc;B0.exports.default=pc;function pc(t,e,r){r=r||2;var i=e&&e.length,n=i?e[0]*r:t.length,s=k_(t,0,n,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,c,h,f,u,d;if(i&&(s=fT(t,e,s,r)),t.length>80*r){a=c=t[0],l=h=t[1];for(var p=r;p<n;p+=r)f=t[p],u=t[p+1],f<a&&(a=f),u<l&&(l=u),f>c&&(c=f),u>h&&(h=u);d=Math.max(c-a,h-l),d=d!==0?32767/d:0}return Ko(s,o,r,a,l,d,0),o}function k_(t,e,r,i,n){var s,o;if(n===ju(t,e,r,i)>0)for(s=e;s<r;s+=i)o=bp(s,t[s],t[s+1],o);else for(s=r-i;s>=e;s-=i)o=bp(s,t[s],t[s+1],o);return o&&mc(o,o.next)&&(Qo(o),o=o.next),o}function zn(t,e){if(!t)return t;e||(e=t);var r=t,i;do if(i=!1,!r.steiner&&(mc(r,r.next)||Je(r.prev,r,r.next)===0)){if(Qo(r),r=e=r.prev,r===r.next)break;i=!0}else r=r.next;while(i||r!==e);return e}function Ko(t,e,r,i,n,s,o){if(t){!o&&s&&gT(t,i,n,s);for(var a=t,l,c;t.prev!==t.next;){if(l=t.prev,c=t.next,s?cT(t,i,n,s):lT(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(c.i/r|0),Qo(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=hT(zn(t),e,r),Ko(t,e,r,i,n,s,2)):o===2&&uT(t,e,r,i,n,s):Ko(zn(t),e,r,i,n,s,1);break}}}}function lT(t){var e=t.prev,r=t,i=t.next;if(Je(e,r,i)>=0)return!1;for(var n=e.x,s=r.x,o=i.x,a=e.y,l=r.y,c=i.y,h=n<s?n<o?n:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,u=n>s?n>o?n:o:s>o?s:o,d=a>l?a>c?a:c:l>c?l:c,p=i.next;p!==e;){if(p.x>=h&&p.x<=u&&p.y>=f&&p.y<=d&&ps(n,a,s,l,o,c,p.x,p.y)&&Je(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function cT(t,e,r,i){var n=t.prev,s=t,o=t.next;if(Je(n,s,o)>=0)return!1;for(var a=n.x,l=s.x,c=o.x,h=n.y,f=s.y,u=o.y,d=a<l?a<c?a:c:l<c?l:c,p=h<f?h<u?h:u:f<u?f:u,m=a>l?a>c?a:c:l>c?l:c,x=h>f?h>u?h:u:f>u?f:u,y=Wu(d,p,e,r,i),_=Wu(m,x,e,r,i),g=t.prevZ,v=t.nextZ;g&&g.z>=y&&v&&v.z<=_;){if(g.x>=d&&g.x<=m&&g.y>=p&&g.y<=x&&g!==n&&g!==o&&ps(a,h,l,f,c,u,g.x,g.y)&&Je(g.prev,g,g.next)>=0||(g=g.prevZ,v.x>=d&&v.x<=m&&v.y>=p&&v.y<=x&&v!==n&&v!==o&&ps(a,h,l,f,c,u,v.x,v.y)&&Je(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;g&&g.z>=y;){if(g.x>=d&&g.x<=m&&g.y>=p&&g.y<=x&&g!==n&&g!==o&&ps(a,h,l,f,c,u,g.x,g.y)&&Je(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;v&&v.z<=_;){if(v.x>=d&&v.x<=m&&v.y>=p&&v.y<=x&&v!==n&&v!==o&&ps(a,h,l,f,c,u,v.x,v.y)&&Je(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function hT(t,e,r){var i=t;do{var n=i.prev,s=i.next.next;!mc(n,s)&&N_(n,i,i.next,s)&&Zo(n,s)&&Zo(s,n)&&(e.push(n.i/r|0),e.push(i.i/r|0),e.push(s.i/r|0),Qo(i),Qo(i.next),i=t=s),i=i.next}while(i!==t);return zn(i)}function uT(t,e,r,i,n,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&yT(o,a)){var l=L_(o,a);o=zn(o,o.next),l=zn(l,l.next),Ko(o,e,r,i,n,s,0),Ko(l,e,r,i,n,s,0);return}a=a.next}o=o.next}while(o!==t)}function fT(t,e,r,i){var n=[],s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:t.length,c=k_(t,a,l,i,!1),c===c.next&&(c.steiner=!0),n.push(vT(c));for(n.sort(dT),s=0;s<n.length;s++)r=pT(n[s],r);return r}function dT(t,e){return t.x-e.x}function pT(t,e){var r=mT(t,e);if(!r)return e;var i=L_(r,t);return zn(i,i.next),zn(r,r.next)}function mT(t,e){var r=e,i=t.x,n=t.y,s=-1/0,o;do{if(n<=r.y&&n>=r.next.y&&r.next.y!==r.y){var a=r.x+(n-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===i))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,c=o.x,h=o.y,f=1/0,u;r=o;do i>=r.x&&r.x>=c&&i!==r.x&&ps(n<h?i:s,n,c,h,n<h?s:i,n,r.x,r.y)&&(u=Math.abs(n-r.y)/(i-r.x),Zo(r,t)&&(u<f||u===f&&(r.x>o.x||r.x===o.x&&xT(o,r)))&&(o=r,f=u)),r=r.next;while(r!==l);return o}function xT(t,e){return Je(t.prev,t,e.prev)<0&&Je(e.next,t,t.next)<0}function gT(t,e,r,i){var n=t;do n.z===0&&(n.z=Wu(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,_T(n)}function _T(t){var e,r,i,n,s,o,a,l,c=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,i=r,a=0,e=0;e<c&&(a++,i=i.nextZ,!!i);e++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,l--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;r=i}s.nextZ=null,c*=2}while(o>1);return t}function Wu(t,e,r,i,n){return t=(t-r)*n|0,e=(e-i)*n|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function vT(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function ps(t,e,r,i,n,s,o,a){return(n-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(i-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(n-o)*(i-a)}function yT(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!bT(t,e)&&(Zo(t,e)&&Zo(e,t)&&ET(t,e)&&(Je(t.prev,t,e.prev)||Je(t,e.prev,e))||mc(t,e)&&Je(t.prev,t,t.next)>0&&Je(e.prev,e,e.next)>0)}function Je(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function mc(t,e){return t.x===e.x&&t.y===e.y}function N_(t,e,r,i){var n=Oa(Je(t,e,r)),s=Oa(Je(t,e,i)),o=Oa(Je(r,i,t)),a=Oa(Je(r,i,e));return!!(n!==s&&o!==a||n===0&&Ma(t,r,e)||s===0&&Ma(t,i,e)||o===0&&Ma(r,t,i)||a===0&&Ma(r,e,i))}function Ma(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Oa(t){return t>0?1:t<0?-1:0}function bT(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&N_(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Zo(t,e){return Je(t.prev,t,t.next)<0?Je(t,e,t.next)>=0&&Je(t,t.prev,e)>=0:Je(t,e,t.prev)<0||Je(t,t.next,e)<0}function ET(t,e){var r=t,i=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&n<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==t);return i}function L_(t,e){var r=new Vu(t.i,t.x,t.y),i=new Vu(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,s.next=i,i.prev=s,i}function bp(t,e,r,i){var n=new Vu(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function Qo(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Vu(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}pc.deviation=function(t,e,r,i){var n=e&&e.length,s=n?e[0]*r:t.length,o=Math.abs(ju(t,0,s,r));if(n)for(var a=0,l=e.length;a<l;a++){var c=e[a]*r,h=a<l-1?e[a+1]*r:t.length;o-=Math.abs(ju(t,c,h,r))}var f=0;for(a=0;a<i.length;a+=3){var u=i[a]*r,d=i[a+1]*r,p=i[a+2]*r;f+=Math.abs((t[u]-t[p])*(t[d+1]-t[u+1])-(t[u]-t[d])*(t[p+1]-t[u+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function ju(t,e,r,i){for(var n=0,s=e,o=r-i;s<r;s+=i)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}pc.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[n][s][o]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r};var TT=B0.exports;const AT=C0(TT);var Bl={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Bl.exports;(function(t,e){(function(r){var i=e&&!e.nodeType&&e,n=t&&!t.nodeType&&t,s=typeof Ee=="object"&&Ee;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,c=1,h=26,f=38,u=700,d=72,p=128,m="-",x=/^xn--/,y=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=l-c,b=Math.floor,E=String.fromCharCode,T;function A(z){throw new RangeError(g[z])}function R(z,M){for(var k=z.length,H=[];k--;)H[k]=M(z[k]);return H}function w(z,M){var k=z.split("@"),H="";k.length>1&&(H=k[0]+"@",z=k[1]),z=z.replace(_,".");var U=z.split("."),fe=R(U,M).join(".");return H+fe}function B(z){for(var M=[],k=0,H=z.length,U,fe;k<H;)U=z.charCodeAt(k++),U>=55296&&U<=56319&&k<H?(fe=z.charCodeAt(k++),(fe&64512)==56320?M.push(((U&1023)<<10)+(fe&1023)+65536):(M.push(U),k--)):M.push(U);return M}function I(z){return R(z,function(M){var k="";return M>65535&&(M-=65536,k+=E(M>>>10&1023|55296),M=56320|M&1023),k+=E(M),k}).join("")}function D(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:l}function F(z,M){return z+22+75*(z<26)-((M!=0)<<5)}function G(z,M,k){var H=0;for(z=k?b(z/u):z>>1,z+=b(z/M);z>v*h>>1;H+=l)z=b(z/v);return b(H+(v+1)*z/(z+f))}function V(z){var M=[],k=z.length,H,U=0,fe=p,oe=d,N,$,K,J,le,xe,S,P,O;for(N=z.lastIndexOf(m),N<0&&(N=0),$=0;$<N;++$)z.charCodeAt($)>=128&&A("not-basic"),M.push(z.charCodeAt($));for(K=N>0?N+1:0;K<k;){for(J=U,le=1,xe=l;K>=k&&A("invalid-input"),S=D(z.charCodeAt(K++)),(S>=l||S>b((a-U)/le))&&A("overflow"),U+=S*le,P=xe<=oe?c:xe>=oe+h?h:xe-oe,!(S<P);xe+=l)O=l-P,le>b(a/O)&&A("overflow"),le*=O;H=M.length+1,oe=G(U-J,H,J==0),b(U/H)>a-fe&&A("overflow"),fe+=b(U/H),U%=H,M.splice(U++,0,fe)}return I(M)}function L(z){var M,k,H,U,fe,oe,N,$,K,J,le,xe=[],S,P,O,j;for(z=B(z),S=z.length,M=p,k=0,fe=d,oe=0;oe<S;++oe)le=z[oe],le<128&&xe.push(E(le));for(H=U=xe.length,U&&xe.push(m);H<S;){for(N=a,oe=0;oe<S;++oe)le=z[oe],le>=M&&le<N&&(N=le);for(P=H+1,N-M>b((a-k)/P)&&A("overflow"),k+=(N-M)*P,M=N,oe=0;oe<S;++oe)if(le=z[oe],le<M&&++k>a&&A("overflow"),le==M){for($=k,K=l;J=K<=fe?c:K>=fe+h?h:K-fe,!($<J);K+=l)j=$-J,O=l-J,xe.push(E(F(J+j%O,0))),$=b(j/O);xe.push(E(F($,0))),fe=G(k,P,H==U),k=0,++H}++k,++M}return xe.join("")}function q(z){return w(z,function(M){return x.test(M)?V(M.slice(4).toLowerCase()):M})}function ne(z){return w(z,function(M){return y.test(M)?"xn--"+L(M):M})}if(o={version:"1.4.1",ucs2:{decode:B,encode:I},decode:V,encode:L,toASCII:ne,toUnicode:q},i&&n)if(t.exports==i)n.exports=o;else for(T in o)o.hasOwnProperty(T)&&(i[T]=o[T]);else r.punycode=o})(Ee)})(Bl,Bl.exports);var ST=Bl.exports,wT=Error,CT=EvalError,BT=RangeError,PT=ReferenceError,U_=SyntaxError,_a=TypeError,RT=URIError,DT=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==n||o.enumerable!==!0)return!1}return!0},Ep=typeof Symbol<"u"&&Symbol,IT=DT,FT=function(){return typeof Ep!="function"||typeof Symbol!="function"||typeof Ep("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:IT()},Kc={__proto__:null,foo:{}},MT=Object,OT=function(){return{__proto__:Kc}.foo===Kc.foo&&!(Kc instanceof MT)},kT="Function.prototype.bind called on incompatible ",NT=Object.prototype.toString,LT=Math.max,UT="[object Function]",Tp=function(e,r){for(var i=[],n=0;n<e.length;n+=1)i[n]=e[n];for(var s=0;s<r.length;s+=1)i[s+e.length]=r[s];return i},zT=function(e,r){for(var i=[],n=r||0,s=0;n<e.length;n+=1,s+=1)i[s]=e[n];return i},HT=function(t,e){for(var r="",i=0;i<t.length;i+=1)r+=t[i],i+1<t.length&&(r+=e);return r},GT=function(e){var r=this;if(typeof r!="function"||NT.apply(r)!==UT)throw new TypeError(kT+r);for(var i=zT(arguments,1),n,s=function(){if(this instanceof n){var h=r.apply(this,Tp(i,arguments));return Object(h)===h?h:this}return r.apply(e,Tp(i,arguments))},o=LT(0,r.length-i.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(n=Function("binder","return function ("+HT(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,n.prototype=new c,c.prototype=null}return n},$T=GT,P0=Function.prototype.bind||$T,WT=Function.prototype.call,VT=Object.prototype.hasOwnProperty,jT=P0,XT=jT.call(WT,VT),Pe,qT=wT,YT=CT,KT=BT,ZT=PT,ks=U_,As=_a,QT=RT,z_=Function,Zc=function(t){try{return z_('"use strict"; return ('+t+").constructor;")()}catch{}},Dn=Object.getOwnPropertyDescriptor;if(Dn)try{Dn({},"")}catch{Dn=null}var Qc=function(){throw new As},JT=Dn?function(){try{return arguments.callee,Qc}catch{try{return Dn(arguments,"callee").get}catch{return Qc}}}():Qc,ts=FT(),eA=OT(),pt=Object.getPrototypeOf||(eA?function(t){return t.__proto__}:null),as={},tA=typeof Uint8Array>"u"||!pt?Pe:pt(Uint8Array),In={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Pe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Pe:ArrayBuffer,"%ArrayIteratorPrototype%":ts&&pt?pt([][Symbol.iterator]()):Pe,"%AsyncFromSyncIteratorPrototype%":Pe,"%AsyncFunction%":as,"%AsyncGenerator%":as,"%AsyncGeneratorFunction%":as,"%AsyncIteratorPrototype%":as,"%Atomics%":typeof Atomics>"u"?Pe:Atomics,"%BigInt%":typeof BigInt>"u"?Pe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Pe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Pe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Pe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":qT,"%eval%":eval,"%EvalError%":YT,"%Float32Array%":typeof Float32Array>"u"?Pe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Pe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Pe:FinalizationRegistry,"%Function%":z_,"%GeneratorFunction%":as,"%Int8Array%":typeof Int8Array>"u"?Pe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Pe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Pe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ts&&pt?pt(pt([][Symbol.iterator]())):Pe,"%JSON%":typeof JSON=="object"?JSON:Pe,"%Map%":typeof Map>"u"?Pe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ts||!pt?Pe:pt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Pe:Promise,"%Proxy%":typeof Proxy>"u"?Pe:Proxy,"%RangeError%":KT,"%ReferenceError%":ZT,"%Reflect%":typeof Reflect>"u"?Pe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Pe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ts||!pt?Pe:pt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Pe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ts&&pt?pt(""[Symbol.iterator]()):Pe,"%Symbol%":ts?Symbol:Pe,"%SyntaxError%":ks,"%ThrowTypeError%":JT,"%TypedArray%":tA,"%TypeError%":As,"%Uint8Array%":typeof Uint8Array>"u"?Pe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Pe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Pe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Pe:Uint32Array,"%URIError%":QT,"%WeakMap%":typeof WeakMap>"u"?Pe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Pe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Pe:WeakSet};if(pt)try{null.error}catch(t){var rA=pt(pt(t));In["%Error.prototype%"]=rA}var iA=function t(e){var r;if(e==="%AsyncFunction%")r=Zc("async function () {}");else if(e==="%GeneratorFunction%")r=Zc("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Zc("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&pt&&(r=pt(n.prototype))}return In[e]=r,r},Ap={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},va=P0,Pl=XT,nA=va.call(Function.call,Array.prototype.concat),sA=va.call(Function.apply,Array.prototype.splice),Sp=va.call(Function.call,String.prototype.replace),Rl=va.call(Function.call,String.prototype.slice),oA=va.call(Function.call,RegExp.prototype.exec),aA=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lA=/\\(\\)?/g,cA=function(e){var r=Rl(e,0,1),i=Rl(e,-1);if(r==="%"&&i!=="%")throw new ks("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new ks("invalid intrinsic syntax, expected opening `%`");var n=[];return Sp(e,aA,function(s,o,a,l){n[n.length]=a?Sp(l,lA,"$1"):o||s}),n},hA=function(e,r){var i=e,n;if(Pl(Ap,i)&&(n=Ap[i],i="%"+n[0]+"%"),Pl(In,i)){var s=In[i];if(s===as&&(s=iA(i)),typeof s>"u"&&!r)throw new As("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new ks("intrinsic "+e+" does not exist!")},to=function(e,r){if(typeof e!="string"||e.length===0)throw new As("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new As('"allowMissing" argument must be a boolean');if(oA(/^%?[^%]*%?$/,e)===null)throw new ks("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=cA(e),n=i.length>0?i[0]:"",s=hA("%"+n+"%",r),o=s.name,a=s.value,l=!1,c=s.alias;c&&(n=c[0],sA(i,nA([0,1],c)));for(var h=1,f=!0;h<i.length;h+=1){var u=i[h],d=Rl(u,0,1),p=Rl(u,-1);if((d==='"'||d==="'"||d==="`"||p==='"'||p==="'"||p==="`")&&d!==p)throw new ks("property names with quotes must have matching quotes");if((u==="constructor"||!f)&&(l=!0),n+="."+u,o="%"+n+"%",Pl(In,o))a=In[o];else if(a!=null){if(!(u in a)){if(!r)throw new As("base intrinsic for "+e+" exists, but the property is not available.");return}if(Dn&&h+1>=i.length){var m=Dn(a,u);f=!!m,f&&"get"in m&&!("originalValue"in m.get)?a=m.get:a=a[u]}else f=Pl(a,u),a=a[u];f&&!l&&(In[o]=a)}}return a},H_={exports:{}},Jc,wp;function R0(){if(wp)return Jc;wp=1;var t=to,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Jc=e,Jc}var uA=to,al=uA("%Object.getOwnPropertyDescriptor%",!0);if(al)try{al([],"length")}catch{al=null}var G_=al,Cp=R0(),fA=U_,rs=_a,Bp=G_,dA=function(e,r,i){if(!e||typeof e!="object"&&typeof e!="function")throw new rs("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new rs("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new rs("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new rs("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new rs("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new rs("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!Bp&&Bp(e,r);if(Cp)Cp(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:n===null&&l?l.enumerable:!n,value:i,writable:s===null&&l?l.writable:!s});else if(a||!n&&!s&&!o)e[r]=i;else throw new fA("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Xu=R0(),$_=function(){return!!Xu};$_.hasArrayLengthDefineBug=function(){if(!Xu)return null;try{return Xu([],"length",{value:1}).length!==1}catch{return!0}};var pA=$_,mA=to,Pp=dA,xA=pA(),Rp=G_,Dp=_a,gA=mA("%Math.floor%"),_A=function(e,r){if(typeof e!="function")throw new Dp("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||gA(r)!==r)throw new Dp("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,s=!0;if("length"in e&&Rp){var o=Rp(e,"length");o&&!o.configurable&&(n=!1),o&&!o.writable&&(s=!1)}return(n||s||!i)&&(xA?Pp(e,"length",r,!0,!0):Pp(e,"length",r)),e};(function(t){var e=P0,r=to,i=_A,n=_a,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=R0(),c=r("%Math.max%");t.exports=function(u){if(typeof u!="function")throw new n("a function is required");var d=a(e,o,arguments);return i(d,1+c(0,u.length-(arguments.length-1)),!0)};var h=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h})(H_);var vA=H_.exports,W_=to,V_=vA,yA=V_(W_("String.prototype.indexOf")),bA=function(e,r){var i=W_(e,!!r);return typeof i=="function"&&yA(e,".prototype.")>-1?V_(i):i};const EA={},TA=Object.freeze(Object.defineProperty({__proto__:null,default:EA},Symbol.toStringTag,{value:"Module"})),j_=oT(TA);var D0=typeof Map=="function"&&Map.prototype,eh=Object.getOwnPropertyDescriptor&&D0?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Dl=D0&&eh&&typeof eh.get=="function"?eh.get:null,Ip=D0&&Map.prototype.forEach,I0=typeof Set=="function"&&Set.prototype,th=Object.getOwnPropertyDescriptor&&I0?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Il=I0&&th&&typeof th.get=="function"?th.get:null,Fp=I0&&Set.prototype.forEach,AA=typeof WeakMap=="function"&&WeakMap.prototype,Mo=AA?WeakMap.prototype.has:null,SA=typeof WeakSet=="function"&&WeakSet.prototype,Oo=SA?WeakSet.prototype.has:null,wA=typeof WeakRef=="function"&&WeakRef.prototype,Mp=wA?WeakRef.prototype.deref:null,CA=Boolean.prototype.valueOf,BA=Object.prototype.toString,PA=Function.prototype.toString,RA=String.prototype.match,F0=String.prototype.slice,Ni=String.prototype.replace,DA=String.prototype.toUpperCase,Op=String.prototype.toLowerCase,X_=RegExp.prototype.test,kp=Array.prototype.concat,$r=Array.prototype.join,IA=Array.prototype.slice,Np=Math.floor,qu=typeof BigInt=="function"?BigInt.prototype.valueOf:null,rh=Object.getOwnPropertySymbols,Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Dt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ns||"symbol")?Symbol.toStringTag:null,q_=Object.prototype.propertyIsEnumerable,Lp=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Up(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||X_.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var i=t<0?-Np(-t):Np(t);if(i!==t){var n=String(i),s=F0.call(e,n.length+1);return Ni.call(n,r,"$&_")+"."+Ni.call(Ni.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ni.call(e,r,"$&_")}var Ku=j_,zp=Ku.custom,Hp=K_(zp)?zp:null,FA=function t(e,r,i,n){var s=r||{};if(Mi(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Mi(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Mi(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Mi(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Mi(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Q_(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?Up(e,l):l}if(typeof e=="bigint"){var c=String(e)+"n";return a?Up(e,c):c}var h=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=h&&h>0&&typeof e=="object")return Zu(e)?"[Array]":"[Object]";var f=ZA(s,i);if(typeof n>"u")n=[];else if(Z_(n,e)>=0)return"[Circular]";function u(D,F,G){if(F&&(n=IA.call(n),n.push(F)),G){var V={depth:s.depth};return Mi(s,"quoteStyle")&&(V.quoteStyle=s.quoteStyle),t(D,V,i+1,n)}return t(D,s,i+1,n)}if(typeof e=="function"&&!Gp(e)){var d=GA(e),p=ka(e,u);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+$r.call(p,", ")+" }":"")}if(K_(e)){var m=Ns?Ni.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Yu.call(e);return typeof e=="object"&&!Ns?co(m):m}if(qA(e)){for(var x="<"+Op.call(String(e.nodeName)),y=e.attributes||[],_=0;_<y.length;_++)x+=" "+y[_].name+"="+Y_(MA(y[_].value),"double",s);return x+=">",e.childNodes&&e.childNodes.length&&(x+="..."),x+="</"+Op.call(String(e.nodeName))+">",x}if(Zu(e)){if(e.length===0)return"[]";var g=ka(e,u);return f&&!KA(g)?"["+Qu(g,f)+"]":"[ "+$r.call(g,", ")+" ]"}if(kA(e)){var v=ka(e,u);return!("cause"in Error.prototype)&&"cause"in e&&!q_.call(e,"cause")?"{ ["+String(e)+"] "+$r.call(kp.call("[cause]: "+u(e.cause),v),", ")+" }":v.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+$r.call(v,", ")+" }"}if(typeof e=="object"&&o){if(Hp&&typeof e[Hp]=="function"&&Ku)return Ku(e,{depth:h-i});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if($A(e)){var b=[];return Ip&&Ip.call(e,function(D,F){b.push(u(F,e,!0)+" => "+u(D,e))}),$p("Map",Dl.call(e),b,f)}if(jA(e)){var E=[];return Fp&&Fp.call(e,function(D){E.push(u(D,e))}),$p("Set",Il.call(e),E,f)}if(WA(e))return ih("WeakMap");if(XA(e))return ih("WeakSet");if(VA(e))return ih("WeakRef");if(LA(e))return co(u(Number(e)));if(zA(e))return co(u(qu.call(e)));if(UA(e))return co(CA.call(e));if(NA(e))return co(u(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Ee)return"{ [object globalThis] }";if(!OA(e)&&!Gp(e)){var T=ka(e,u),A=Lp?Lp(e)===Object.prototype:e instanceof Object||e.constructor===Object,R=e instanceof Object?"":"null prototype",w=!A&&Dt&&Object(e)===e&&Dt in e?F0.call(nn(e),8,-1):R?"Object":"",B=A||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",I=B+(w||R?"["+$r.call(kp.call([],w||[],R||[]),": ")+"] ":"");return T.length===0?I+"{}":f?I+"{"+Qu(T,f)+"}":I+"{ "+$r.call(T,", ")+" }"}return String(e)};function Y_(t,e,r){var i=(r.quoteStyle||e)==="double"?'"':"'";return i+t+i}function MA(t){return Ni.call(String(t),/"/g,"&quot;")}function Zu(t){return nn(t)==="[object Array]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function OA(t){return nn(t)==="[object Date]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function Gp(t){return nn(t)==="[object RegExp]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function kA(t){return nn(t)==="[object Error]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function NA(t){return nn(t)==="[object String]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function LA(t){return nn(t)==="[object Number]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function UA(t){return nn(t)==="[object Boolean]"&&(!Dt||!(typeof t=="object"&&Dt in t))}function K_(t){if(Ns)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Yu)return!1;try{return Yu.call(t),!0}catch{}return!1}function zA(t){if(!t||typeof t!="object"||!qu)return!1;try{return qu.call(t),!0}catch{}return!1}var HA=Object.prototype.hasOwnProperty||function(t){return t in this};function Mi(t,e){return HA.call(t,e)}function nn(t){return BA.call(t)}function GA(t){if(t.name)return t.name;var e=RA.call(PA.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Z_(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function $A(t){if(!Dl||!t||typeof t!="object")return!1;try{Dl.call(t);try{Il.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function WA(t){if(!Mo||!t||typeof t!="object")return!1;try{Mo.call(t,Mo);try{Oo.call(t,Oo)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function VA(t){if(!Mp||!t||typeof t!="object")return!1;try{return Mp.call(t),!0}catch{}return!1}function jA(t){if(!Il||!t||typeof t!="object")return!1;try{Il.call(t);try{Dl.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function XA(t){if(!Oo||!t||typeof t!="object")return!1;try{Oo.call(t,Oo);try{Mo.call(t,Mo)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function qA(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Q_(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return Q_(F0.call(t,0,e.maxStringLength),e)+i}var n=Ni.call(Ni.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,YA);return Y_(n,"single",e)}function YA(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+DA.call(e.toString(16))}function co(t){return"Object("+t+")"}function ih(t){return t+" { ? }"}function $p(t,e,r,i){var n=i?Qu(r,i):$r.call(r,", ");return t+" ("+e+") {"+n+"}"}function KA(t){for(var e=0;e<t.length;e++)if(Z_(t[e],`
`)>=0)return!1;return!0}function ZA(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=$r.call(Array(t.indent+1)," ");else return null;return{base:r,prev:$r.call(Array(e+1),r)}}function Qu(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+$r.call(t,","+r)+`
`+e.prev}function ka(t,e){var r=Zu(t),i=[];if(r){i.length=t.length;for(var n=0;n<t.length;n++)i[n]=Mi(t,n)?e(t[n],t):""}var s=typeof rh=="function"?rh(t):[],o;if(Ns){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)Mi(t,l)&&(r&&String(Number(l))===l&&l<t.length||Ns&&o["$"+l]instanceof Symbol||(X_.call(/[^\w$]/,l)?i.push(e(l,t)+": "+e(t[l],t)):i.push(l+": "+e(t[l],t))));if(typeof rh=="function")for(var c=0;c<s.length;c++)q_.call(t,s[c])&&i.push("["+e(s[c])+"]: "+e(t[s[c]],t));return i}var J_=to,ro=bA,QA=FA,JA=_a,Na=J_("%WeakMap%",!0),La=J_("%Map%",!0),eS=ro("WeakMap.prototype.get",!0),tS=ro("WeakMap.prototype.set",!0),rS=ro("WeakMap.prototype.has",!0),iS=ro("Map.prototype.get",!0),nS=ro("Map.prototype.set",!0),sS=ro("Map.prototype.has",!0),M0=function(t,e){for(var r=t,i;(i=r.next)!==null;r=i)if(i.key===e)return r.next=i.next,i.next=t.next,t.next=i,i},oS=function(t,e){var r=M0(t,e);return r&&r.value},aS=function(t,e,r){var i=M0(t,e);i?i.value=r:t.next={key:e,next:t.next,value:r}},lS=function(t,e){return!!M0(t,e)},cS=function(){var e,r,i,n={assert:function(s){if(!n.has(s))throw new JA("Side channel does not contain "+QA(s))},get:function(s){if(Na&&s&&(typeof s=="object"||typeof s=="function")){if(e)return eS(e,s)}else if(La){if(r)return iS(r,s)}else if(i)return oS(i,s)},has:function(s){if(Na&&s&&(typeof s=="object"||typeof s=="function")){if(e)return rS(e,s)}else if(La){if(r)return sS(r,s)}else if(i)return lS(i,s);return!1},set:function(s,o){Na&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Na),tS(e,s,o)):La?(r||(r=new La),nS(r,s,o)):(i||(i={key:{},next:null}),aS(i,s,o))}};return n},hS=String.prototype.replace,uS=/%20/g,nh={RFC1738:"RFC1738",RFC3986:"RFC3986"},O0={default:nh.RFC3986,formatters:{RFC1738:function(t){return hS.call(t,uS,"+")},RFC3986:function(t){return String(t)}},RFC1738:nh.RFC1738,RFC3986:nh.RFC3986},fS=O0,sh=Object.prototype.hasOwnProperty,An=Array.isArray,Nr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),dS=function(e){for(;e.length>1;){var r=e.pop(),i=r.obj[r.prop];if(An(i)){for(var n=[],s=0;s<i.length;++s)typeof i[s]<"u"&&n.push(i[s]);r.obj[r.prop]=n}}},e1=function(e,r){for(var i=r&&r.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(i[n]=e[n]);return i},pS=function t(e,r,i){if(!r)return e;if(typeof r!="object"){if(An(e))e.push(r);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!sh.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var n=e;return An(e)&&!An(r)&&(n=e1(e,i)),An(e)&&An(r)?(r.forEach(function(s,o){if(sh.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,i):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return sh.call(s,o)?s[o]=t(s[o],a,i):s[o]=a,s},n)},mS=function(e,r){return Object.keys(r).reduce(function(i,n){return i[n]=r[n],i},e)},xS=function(t,e,r){var i=t.replace(/\+/g," ");if(r==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},gS=function(e,r,i,n,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),i==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var c=o.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===fS.RFC1738&&(c===40||c===41)){a+=o.charAt(l);continue}if(c<128){a=a+Nr[c];continue}if(c<2048){a=a+(Nr[192|c>>6]+Nr[128|c&63]);continue}if(c<55296||c>=57344){a=a+(Nr[224|c>>12]+Nr[128|c>>6&63]+Nr[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|o.charCodeAt(l)&1023),a+=Nr[240|c>>18]+Nr[128|c>>12&63]+Nr[128|c>>6&63]+Nr[128|c&63]}return a},_S=function(e){for(var r=[{obj:{o:e},prop:"o"}],i=[],n=0;n<r.length;++n)for(var s=r[n],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],h=o[c];typeof h=="object"&&h!==null&&i.indexOf(h)===-1&&(r.push({obj:o,prop:c}),i.push(h))}return dS(r),e},vS=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},yS=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},bS=function(e,r){return[].concat(e,r)},ES=function(e,r){if(An(e)){for(var i=[],n=0;n<e.length;n+=1)i.push(r(e[n]));return i}return r(e)},t1={arrayToObject:e1,assign:mS,combine:bS,compact:_S,decode:xS,encode:gS,isBuffer:yS,isRegExp:vS,maybeMap:ES,merge:pS},r1=cS,ll=t1,ko=O0,TS=Object.prototype.hasOwnProperty,i1={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Ur=Array.isArray,AS=Array.prototype.push,n1=function(t,e){AS.apply(t,Ur(e)?e:[e])},SS=Date.prototype.toISOString,Wp=ko.default,ct={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ll.encode,encodeValuesOnly:!1,format:Wp,formatter:ko.formatters[Wp],indices:!1,serializeDate:function(e){return SS.call(e)},skipNulls:!1,strictNullHandling:!1},wS=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},oh={},CS=function t(e,r,i,n,s,o,a,l,c,h,f,u,d,p,m,x,y,_){for(var g=e,v=_,b=0,E=!1;(v=v.get(oh))!==void 0&&!E;){var T=v.get(e);if(b+=1,typeof T<"u"){if(T===b)throw new RangeError("Cyclic object value");E=!0}typeof v.get(oh)>"u"&&(b=0)}if(typeof h=="function"?g=h(r,g):g instanceof Date?g=d(g):i==="comma"&&Ur(g)&&(g=ll.maybeMap(g,function(z){return z instanceof Date?d(z):z})),g===null){if(o)return c&&!x?c(r,ct.encoder,y,"key",p):r;g=""}if(wS(g)||ll.isBuffer(g)){if(c){var A=x?r:c(r,ct.encoder,y,"key",p);return[m(A)+"="+m(c(g,ct.encoder,y,"value",p))]}return[m(r)+"="+m(String(g))]}var R=[];if(typeof g>"u")return R;var w;if(i==="comma"&&Ur(g))x&&c&&(g=ll.maybeMap(g,c)),w=[{value:g.length>0?g.join(",")||null:void 0}];else if(Ur(h))w=h;else{var B=Object.keys(g);w=f?B.sort(f):B}var I=l?r.replace(/\./g,"%2E"):r,D=n&&Ur(g)&&g.length===1?I+"[]":I;if(s&&Ur(g)&&g.length===0)return D+"[]";for(var F=0;F<w.length;++F){var G=w[F],V=typeof G=="object"&&typeof G.value<"u"?G.value:g[G];if(!(a&&V===null)){var L=u&&l?G.replace(/\./g,"%2E"):G,q=Ur(g)?typeof i=="function"?i(D,L):D:D+(u?"."+L:"["+L+"]");_.set(e,b);var ne=r1();ne.set(oh,_),n1(R,t(V,q,i,n,s,o,a,l,i==="comma"&&x&&Ur(g)?null:c,h,f,u,d,p,m,x,y,ne))}}return R},BS=function(e){if(!e)return ct;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||ct.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=ko.default;if(typeof e.format<"u"){if(!TS.call(ko.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=ko.formatters[i],s=ct.filter;(typeof e.filter=="function"||Ur(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in i1?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=ct.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:ct.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ct.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ct.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ct.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?ct.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ct.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:ct.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:ct.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ct.encodeValuesOnly,filter:s,format:i,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ct.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ct.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ct.strictNullHandling}},PS=function(t,e){var r=t,i=BS(e),n,s;typeof i.filter=="function"?(s=i.filter,r=s("",r)):Ur(i.filter)&&(s=i.filter,n=s);var o=[];if(typeof r!="object"||r===null)return"";var a=i1[i.arrayFormat],l=a==="comma"&&i.commaRoundTrip;n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=r1(),h=0;h<n.length;++h){var f=n[h];i.skipNulls&&r[f]===null||n1(o,CS(r[f],f,a,l,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,c))}var u=o.join(i.delimiter),d=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""},Ls=t1,Ju=Object.prototype.hasOwnProperty,RS=Array.isArray,st={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:Ls.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},DS=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},s1=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},IS="utf8=%26%2310003%3B",FS="utf8=%E2%9C%93",MS=function(e,r){var i={__proto__:null},n=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=n.split(r.delimiter,s),a=-1,l,c=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===FS?c="utf-8":o[l]===IS&&(c="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var h=o[l],f=h.indexOf("]="),u=f===-1?h.indexOf("="):f+1,d,p;u===-1?(d=r.decoder(h,st.decoder,c,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(h.slice(0,u),st.decoder,c,"key"),p=Ls.maybeMap(s1(h.slice(u+1),r),function(x){return r.decoder(x,st.decoder,c,"value")})),p&&r.interpretNumericEntities&&c==="iso-8859-1"&&(p=DS(p)),h.indexOf("[]=")>-1&&(p=RS(p)?[p]:p);var m=Ju.call(i,d);m&&r.duplicates==="combine"?i[d]=Ls.combine(i[d],p):(!m||r.duplicates==="last")&&(i[d]=p)}return i},OS=function(t,e,r,i){for(var n=i?e:s1(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&n===""?[]:[].concat(n);else{o=r.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=r.decodeDotInKeys?l.replace(/%2E/g,"."):l,h=parseInt(c,10);!r.parseArrays&&c===""?o={0:n}:!isNaN(h)&&a!==c&&String(h)===c&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[],o[h]=n):c!=="__proto__"&&(o[c]=n)}n=o}return n},kS=function(e,r,i,n){if(e){var s=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=i.depth>0&&o.exec(s),c=l?s.slice(0,l.index):s,h=[];if(c){if(!i.plainObjects&&Ju.call(Object.prototype,c)&&!i.allowPrototypes)return;h.push(c)}for(var f=0;i.depth>0&&(l=a.exec(s))!==null&&f<i.depth;){if(f+=1,!i.plainObjects&&Ju.call(Object.prototype,l[1].slice(1,-1))&&!i.allowPrototypes)return;h.push(l[1])}return l&&h.push("["+s.slice(l.index)+"]"),OS(h,r,i,n)}},NS=function(e){if(!e)return st;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?st.charset:e.charset,i=typeof e.duplicates>"u"?st.duplicates:e.duplicates;if(i!=="combine"&&i!=="first"&&i!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var n=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:st.allowDots:!!e.allowDots;return{allowDots:n,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:st.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:st.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:st.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:st.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:st.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:st.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:st.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:st.decoder,delimiter:typeof e.delimiter=="string"||Ls.isRegExp(e.delimiter)?e.delimiter:st.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:st.depth,duplicates:i,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:st.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:st.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:st.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:st.strictNullHandling}},LS=function(t,e){var r=NS(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var i=typeof t=="string"?MS(t,r):t,n=r.plainObjects?Object.create(null):{},s=Object.keys(i),o=0;o<s.length;++o){var a=s[o],l=kS(a,i[a],r,typeof t=="string");n=Ls.merge(n,l,r)}return r.allowSparse===!0?n:Ls.compact(n)},US=PS,zS=LS,HS=O0,GS={formats:HS,parse:zS,stringify:US},$S=ST;function Dr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var WS=/^([a-z0-9.+-]+:)/i,VS=/:[0-9]*$/,jS=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,XS=["<",">",'"',"`"," ","\r",`
`,"	"],qS=["{","}","|","\\","^","`"].concat(XS),ef=["'"].concat(qS),Vp=["%","/","?",";","#"].concat(ef),jp=["/","?","#"],YS=255,Xp=/^[+a-z0-9A-Z_-]{0,63}$/,KS=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ZS={javascript:!0,"javascript:":!0},tf={javascript:!0,"javascript:":!0},Ss={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},rf=GS;function xc(t,e,r){if(t&&typeof t=="object"&&t instanceof Dr)return t;var i=new Dr;return i.parse(t,e,r),i}Dr.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=i!==-1&&i<t.indexOf("#")?"?":"#",s=t.split(n),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(n);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=jS.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=rf.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=WS.exec(a);if(c){c=c[0];var h=c.toLowerCase();this.protocol=h,a=a.substr(c.length)}if(r||c||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(c&&tf[c])&&(a=a.substr(2),this.slashes=!0)}if(!tf[c]&&(f||c&&!Ss[c])){for(var u=-1,d=0;d<jp.length;d++){var p=a.indexOf(jp[d]);p!==-1&&(u===-1||p<u)&&(u=p)}var m,x;u===-1?x=a.lastIndexOf("@"):x=a.lastIndexOf("@",u),x!==-1&&(m=a.slice(0,x),a=a.slice(x+1),this.auth=decodeURIComponent(m)),u=-1;for(var d=0;d<Vp.length;d++){var p=a.indexOf(Vp[d]);p!==-1&&(u===-1||p<u)&&(u=p)}u===-1&&(u=a.length),this.host=a.slice(0,u),a=a.slice(u),this.parseHost(),this.hostname=this.hostname||"";var y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y)for(var _=this.hostname.split(/\./),d=0,g=_.length;d<g;d++){var v=_[d];if(v&&!v.match(Xp)){for(var b="",E=0,T=v.length;E<T;E++)v.charCodeAt(E)>127?b+="x":b+=v[E];if(!b.match(Xp)){var A=_.slice(0,d),R=_.slice(d+1),w=v.match(KS);w&&(A.push(w[1]),R.unshift(w[2])),R.length&&(a="/"+R.join(".")+a),this.hostname=A.join(".");break}}}this.hostname.length>YS?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=$S.toASCII(this.hostname));var B=this.port?":"+this.port:"",I=this.hostname||"";this.host=I+B,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!ZS[h])for(var d=0,g=ef.length;d<g;d++){var D=ef[d];if(a.indexOf(D)!==-1){var F=encodeURIComponent(D);F===D&&(F=escape(D)),a=a.split(D).join(F)}}var G=a.indexOf("#");G!==-1&&(this.hash=a.substr(G),a=a.slice(0,G));var V=a.indexOf("?");if(V!==-1?(this.search=a.substr(V),this.query=a.substr(V+1),e&&(this.query=rf.parse(this.query)),a=a.slice(0,V)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Ss[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",L=this.search||"";this.path=B+L}return this.href=this.format(),this};function QS(t){return typeof t=="string"&&(t=xc(t)),t instanceof Dr?t.format():Dr.prototype.format.call(t)}Dr.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,s="";this.host?n=t+this.host:this.hostname&&(n=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=rf.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ss[e])&&n!==!1?(n="//"+(n||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):n||(n=""),i&&i.charAt(0)!=="#"&&(i="#"+i),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+n+r+o+i};function JS(t,e){return xc(t,!1,!0).resolve(e)}Dr.prototype.resolve=function(t){return this.resolveObject(xc(t,!1,!0)).format()};Dr.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Dr;e.parse(t,!1,!0),t=e}for(var r=new Dr,i=Object.keys(this),n=0;n<i.length;n++){var s=i[n];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return Ss[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ss[t.protocol]){for(var c=Object.keys(t),h=0;h<c.length;h++){var f=c[h];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!tf[t.protocol]){for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var u=r.pathname||"",d=r.search||"";r.path=u+d}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var p=r.pathname&&r.pathname.charAt(0)==="/",m=t.host||t.pathname&&t.pathname.charAt(0)==="/",x=m||p||r.host&&t.pathname,y=x,_=r.pathname&&r.pathname.split("/")||[],g=t.pathname&&t.pathname.split("/")||[],v=r.protocol&&!Ss[r.protocol];if(v&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),x=x&&(g[0]===""||_[0]==="")),m)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=g;else if(g.length)_||(_=[]),_.pop(),_=_.concat(g),r.search=t.search,r.query=t.query;else if(t.search!=null){if(v){r.host=_.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=_.slice(-1)[0],T=(r.host||t.host||_.length>1)&&(E==="."||E==="..")||E==="",A=0,R=_.length;R>=0;R--)E=_[R],E==="."?_.splice(R,1):E===".."?(_.splice(R,1),A++):A&&(_.splice(R,1),A--);if(!x&&!y)for(;A--;A)_.unshift("..");x&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),T&&_.join("/").substr(-1)!=="/"&&_.push("");var w=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(v){r.hostname=w?"":_.length?_.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return x=x||r.host&&_.length,x&&!w&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Dr.prototype.parseHost=function(){var t=this.host,e=VS.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var ew=xc,tw=JS,rw=QS;const iw={parse:ew,format:rw,resolve:tw};function _r(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function ho(t){return t.split("?")[0].split("#")[0]}function nw(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function sw(t,e,r){return t.replace(new RegExp(nw(e),"g"),r)}function ow(t,e){let r="",i=0,n=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(n===a-1||s===1))if(n!==a-1&&s===2){if(r.length<2||i!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",i=0):(r=r.slice(0,l),i=r.length-1-r.lastIndexOf("/")),n=a,s=0;continue}}else if(r.length===2||r.length===1){r="",i=0,n=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+=`/${t.slice(n+1,a)}`:r=t.slice(n+1,a),i=a-n-1;n=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const At={toPosix(t){return sw(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){_r(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),i=/^[^/:]+:\/\//.exec(t),n=/^[^/:]+:\//.exec(t);if(r||i||n){const s=(r==null?void 0:r[0])||(i==null?void 0:i[0])||(n==null?void 0:n[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const i=ho(this.toPosix(e??se.ADAPTER.getBaseUrl())),n=ho(this.toPosix(r??this.rootname(i)));return _r(t),t=this.toPosix(t),t.startsWith("/")?At.join(n,t.slice(1)):this.isAbsolute(t)?t:this.join(i,t)},normalize(t){if(t=this.toPosix(t),_r(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const i=t.endsWith("/");return t=ow(t,!1),t.length>0&&i&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return _r(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const i=t[r];if(_r(i),i.length>0)if(e===void 0)e=i;else{const n=t[r-1]??"";this.extname(n)?e+=`/../${i}`:e+=`/${i}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(_r(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let i=-1,n=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!n){i=a;break}}else n=!1;return i===-1?r?"/":this.isUrl(o)?s+t:s:r&&i===1?"//":s+t.slice(0,i)},rootname(t){_r(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){_r(t),e&&_r(e),t=ho(this.toPosix(t));let r=0,i=-1,n=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!n){r=s+1;break}}else a===-1&&(n=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=a))}return r===i?i=a:i===-1&&(i=t.length),t.slice(r,i)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!n){r=s+1;break}}else i===-1&&(n=!1,i=s+1);return i===-1?"":t.slice(r,i)},extname(t){_r(t),t=ho(this.toPosix(t));let e=-1,r=0,i=-1,n=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!n){r=o+1;break}continue}i===-1&&(n=!1,i=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||i===-1||s===0||s===1&&e===i-1&&e===r+1?"":t.slice(e,i)},parse(t){_r(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=ho(this.toPosix(t));let r=t.charCodeAt(0);const i=this.isAbsolute(t);let n;e.root=this.rootname(t),i||this.hasProtocol(t)?n=1:n=0;let s=-1,o=0,a=-1,l=!0,c=t.length-1,h=0;for(;c>=n;--c){if(r=t.charCodeAt(c),r===47){if(!l){o=c+1;break}continue}a===-1&&(l=!1,a=c+1),r===46?s===-1?s=c:h!==1&&(h=1):s!==-1&&(h=-1)}return s===-1||a===-1||h===0||h===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&i?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&i?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},qp={};function Me(t,e,r=3){if(qp[e])return;let i=new Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(i=i.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(i))),qp[e]=!0}let ah;function aw(){return typeof ah>"u"&&(ah=function(){var r;const e={stencil:!0,failIfMajorPerformanceCaveat:se.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!se.ADAPTER.getWebGLRenderingContext())return!1;const i=se.ADAPTER.createCanvas();let n=i.getContext("webgl",e)||i.getContext("experimental-webgl",e);const s=!!((r=n==null?void 0:n.getContextAttributes())!=null&&r.stencil);if(n){const o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,s}catch{return!1}}()),ah}var lw="#f0f8ff",cw="#faebd7",hw="#00ffff",uw="#7fffd4",fw="#f0ffff",dw="#f5f5dc",pw="#ffe4c4",mw="#000000",xw="#ffebcd",gw="#0000ff",_w="#8a2be2",vw="#a52a2a",yw="#deb887",bw="#5f9ea0",Ew="#7fff00",Tw="#d2691e",Aw="#ff7f50",Sw="#6495ed",ww="#fff8dc",Cw="#dc143c",Bw="#00ffff",Pw="#00008b",Rw="#008b8b",Dw="#b8860b",Iw="#a9a9a9",Fw="#006400",Mw="#a9a9a9",Ow="#bdb76b",kw="#8b008b",Nw="#556b2f",Lw="#ff8c00",Uw="#9932cc",zw="#8b0000",Hw="#e9967a",Gw="#8fbc8f",$w="#483d8b",Ww="#2f4f4f",Vw="#2f4f4f",jw="#00ced1",Xw="#9400d3",qw="#ff1493",Yw="#00bfff",Kw="#696969",Zw="#696969",Qw="#1e90ff",Jw="#b22222",eC="#fffaf0",tC="#228b22",rC="#ff00ff",iC="#dcdcdc",nC="#f8f8ff",sC="#daa520",oC="#ffd700",aC="#808080",lC="#008000",cC="#adff2f",hC="#808080",uC="#f0fff0",fC="#ff69b4",dC="#cd5c5c",pC="#4b0082",mC="#fffff0",xC="#f0e68c",gC="#fff0f5",_C="#e6e6fa",vC="#7cfc00",yC="#fffacd",bC="#add8e6",EC="#f08080",TC="#e0ffff",AC="#fafad2",SC="#d3d3d3",wC="#90ee90",CC="#d3d3d3",BC="#ffb6c1",PC="#ffa07a",RC="#20b2aa",DC="#87cefa",IC="#778899",FC="#778899",MC="#b0c4de",OC="#ffffe0",kC="#00ff00",NC="#32cd32",LC="#faf0e6",UC="#ff00ff",zC="#800000",HC="#66cdaa",GC="#0000cd",$C="#ba55d3",WC="#9370db",VC="#3cb371",jC="#7b68ee",XC="#00fa9a",qC="#48d1cc",YC="#c71585",KC="#191970",ZC="#f5fffa",QC="#ffe4e1",JC="#ffe4b5",e4="#ffdead",t4="#000080",r4="#fdf5e6",i4="#808000",n4="#6b8e23",s4="#ffa500",o4="#ff4500",a4="#da70d6",l4="#eee8aa",c4="#98fb98",h4="#afeeee",u4="#db7093",f4="#ffefd5",d4="#ffdab9",p4="#cd853f",m4="#ffc0cb",x4="#dda0dd",g4="#b0e0e6",_4="#800080",v4="#663399",y4="#ff0000",b4="#bc8f8f",E4="#4169e1",T4="#8b4513",A4="#fa8072",S4="#f4a460",w4="#2e8b57",C4="#fff5ee",B4="#a0522d",P4="#c0c0c0",R4="#87ceeb",D4="#6a5acd",I4="#708090",F4="#708090",M4="#fffafa",O4="#00ff7f",k4="#4682b4",N4="#d2b48c",L4="#008080",U4="#d8bfd8",z4="#ff6347",H4="#40e0d0",G4="#ee82ee",$4="#f5deb3",W4="#ffffff",V4="#f5f5f5",j4="#ffff00",X4="#9acd32",q4={aliceblue:lw,antiquewhite:cw,aqua:hw,aquamarine:uw,azure:fw,beige:dw,bisque:pw,black:mw,blanchedalmond:xw,blue:gw,blueviolet:_w,brown:vw,burlywood:yw,cadetblue:bw,chartreuse:Ew,chocolate:Tw,coral:Aw,cornflowerblue:Sw,cornsilk:ww,crimson:Cw,cyan:Bw,darkblue:Pw,darkcyan:Rw,darkgoldenrod:Dw,darkgray:Iw,darkgreen:Fw,darkgrey:Mw,darkkhaki:Ow,darkmagenta:kw,darkolivegreen:Nw,darkorange:Lw,darkorchid:Uw,darkred:zw,darksalmon:Hw,darkseagreen:Gw,darkslateblue:$w,darkslategray:Ww,darkslategrey:Vw,darkturquoise:jw,darkviolet:Xw,deeppink:qw,deepskyblue:Yw,dimgray:Kw,dimgrey:Zw,dodgerblue:Qw,firebrick:Jw,floralwhite:eC,forestgreen:tC,fuchsia:rC,gainsboro:iC,ghostwhite:nC,goldenrod:sC,gold:oC,gray:aC,green:lC,greenyellow:cC,grey:hC,honeydew:uC,hotpink:fC,indianred:dC,indigo:pC,ivory:mC,khaki:xC,lavenderblush:gC,lavender:_C,lawngreen:vC,lemonchiffon:yC,lightblue:bC,lightcoral:EC,lightcyan:TC,lightgoldenrodyellow:AC,lightgray:SC,lightgreen:wC,lightgrey:CC,lightpink:BC,lightsalmon:PC,lightseagreen:RC,lightskyblue:DC,lightslategray:IC,lightslategrey:FC,lightsteelblue:MC,lightyellow:OC,lime:kC,limegreen:NC,linen:LC,magenta:UC,maroon:zC,mediumaquamarine:HC,mediumblue:GC,mediumorchid:$C,mediumpurple:WC,mediumseagreen:VC,mediumslateblue:jC,mediumspringgreen:XC,mediumturquoise:qC,mediumvioletred:YC,midnightblue:KC,mintcream:ZC,mistyrose:QC,moccasin:JC,navajowhite:e4,navy:t4,oldlace:r4,olive:i4,olivedrab:n4,orange:s4,orangered:o4,orchid:a4,palegoldenrod:l4,palegreen:c4,paleturquoise:h4,palevioletred:u4,papayawhip:f4,peachpuff:d4,peru:p4,pink:m4,plum:x4,powderblue:g4,purple:_4,rebeccapurple:v4,red:y4,rosybrown:b4,royalblue:E4,saddlebrown:T4,salmon:A4,sandybrown:S4,seagreen:w4,seashell:C4,sienna:B4,silver:P4,skyblue:R4,slateblue:D4,slategray:I4,slategrey:F4,snow:M4,springgreen:O4,steelblue:k4,tan:N4,teal:L4,thistle:U4,tomato:z4,turquoise:H4,violet:G4,wheat:$4,white:W4,whitesmoke:V4,yellow:j4,yellowgreen:X4};function Jo(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function o1(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function k0(t){if(typeof t=="string"&&(t=q4[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,r,i]=t;t=e+e+r+r+i+i}return parseInt(t,16)}function Y4(){const t=[],e=[];for(let i=0;i<32;i++)t[i]=i,e[i]=i;t[_e.NORMAL_NPM]=_e.NORMAL,t[_e.ADD_NPM]=_e.ADD,t[_e.SCREEN_NPM]=_e.SCREEN,e[_e.NORMAL]=_e.NORMAL_NPM,e[_e.ADD]=_e.ADD_NPM,e[_e.SCREEN]=_e.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const a1=Y4();function l1(t,e){return a1[e?1:0][t]}function K4(t,e,r,i){return r=r||new Float32Array(4),i||i===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function N0(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let r=t>>16&255,i=t>>8&255,n=t&255;return r=r*e+.5|0,i=i*e+.5|0,n=n*e+.5|0,(e*255<<24)+(r<<16)+(i<<8)+n}function c1(t,e,r,i){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(i||i===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function Z4(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function h1(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Fl(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Yp(t){return!(t&t-1)&&!!t}function Kp(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ws(t,e,r){const i=t.length;let n;if(e>=i||r===0)return;r=e+r>i?i-e:r;const s=i-r;for(n=e;n<s;++n)t[n]=t[n+r];t.length=s}function ms(t){return t===0?0:t<0?-1:1}let Q4=0;function Hn(){return++Q4}const u1=class{constructor(t,e,r,i){this.left=t,this.top=e,this.right=r,this.bottom=i}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let nf=u1;nf.EMPTY=new u1(0,0,0,0);const Zp={},ur=Object.create(null),Lr=Object.create(null);function J4(){let t;for(t in ur)delete ur[t];for(t in Lr)delete Lr[t]}class Qp{constructor(e,r,i){this._canvas=se.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||se.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Jp(t,e,r){for(let i=0,n=4*r*e;i<e;++i,n+=4)if(t[n+3]!==0)return!1;return!0}function em(t,e,r,i,n){const s=4*e;for(let o=i,a=i*s+4*r;o<=n;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function e3(t){const{width:e,height:r}=t,i=t.getContext("2d",{willReadFrequently:!0});if(i===null)throw new TypeError("Failed to get canvas 2D context");const s=i.getImageData(0,0,e,r).data;let o=0,a=0,l=e-1,c=r-1;for(;a<r&&Jp(s,e,a);)++a;if(a===r)return nf.EMPTY;for(;Jp(s,e,c);)--c;for(;em(s,e,o,a,c);)++o;for(;em(s,e,l,a,c);)--l;return++l,++c,new nf(o,a,l,c)}function t3(t){const e=e3(t),{width:r,height:i}=e;let n=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");n=s.getImageData(e.left,e.top,r,i)}return{width:r,height:i,data:n}}let Ua;function r3(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Ua||(Ua=document.createElement("a")),Ua.href=t;const r=iw.parse(Ua.href),i=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!i||r.protocol!==e.protocol?"anonymous":""}function Zi(t,e=1){var i;const r=(i=se.RETINA_PREFIX)==null?void 0:i.exec(t);return r?parseFloat(r[1]):e}var ie=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ie||{});const sf=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},tm=(t,e)=>sf(t).priority??e,ue={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(sf).forEach(e=>{e.type.forEach(r=>{var i,n;return(n=(i=this._removeHandlers)[r])==null?void 0:n.call(i,e)})}),this},add(...t){return t.map(sf).forEach(e=>{e.type.forEach(r=>{const i=this._addHandlers,n=this._queue;i[r]?i[r](e):(n[r]=n[r]||[],n[r].push(e))})}),this},handle(t,e,r){const i=this._addHandlers,n=this._removeHandlers;if(i[t]||n[t])throw new Error(`Extension type ${t} already has a handler`);i[t]=e,n[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,i=>{e.includes(i.ref)||(e.push(i.ref),e.sort((n,s)=>tm(s,r)-tm(n,r)))},i=>{const n=e.indexOf(i.ref);n!==-1&&e.splice(n,1)})}};class of{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const i3=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function n3(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function s3(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const i=i3.replace(/%forloop%/gi,n3(t));if(e.shaderSource(r,i),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const lh=0,ch=1,hh=2,uh=3,fh=4,dh=5;class Ei{constructor(){this.data=0,this.blendMode=_e.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<lh)}set blend(e){!!(this.data&1<<lh)!==e&&(this.data^=1<<lh)}get offsets(){return!!(this.data&1<<ch)}set offsets(e){!!(this.data&1<<ch)!==e&&(this.data^=1<<ch)}get culling(){return!!(this.data&1<<hh)}set culling(e){!!(this.data&1<<hh)!==e&&(this.data^=1<<hh)}get depthTest(){return!!(this.data&1<<uh)}set depthTest(e){!!(this.data&1<<uh)!==e&&(this.data^=1<<uh)}get depthMask(){return!!(this.data&1<<dh)}set depthMask(e){!!(this.data&1<<dh)!==e&&(this.data^=1<<dh)}get clockwiseFrontFace(){return!!(this.data&1<<fh)}set clockwiseFrontFace(e){!!(this.data&1<<fh)!==e&&(this.data^=1<<fh)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==_e.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Ei;return e.depthTest=!1,e.blend=!0,e}}const af=[];function f1(t,e){if(!t)return null;let r="";if(typeof t=="string"){const i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(let i=af.length-1;i>=0;--i){const n=af[i];if(n.test&&n.test(t,r))return new n(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ir{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,i,n,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:h}=this;this._aliasCount++;for(let f=0,u=h.length;f<u;f++)h[f][c](e,r,i,n,s,o,a,l);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ir.prototype,{dispatch:{value:Ir.prototype.emit},run:{value:Ir.prototype.emit}});class ea{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Ir("setRealSize"),this.onUpdate=new Ir("update"),this.onError=new Ir("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class ya extends ea{constructor(e,r){const{width:i,height:n}=r||{};if(!i||!n)throw new Error("BufferResource width or height invalid");super(i,n),this.data=e}upload(e,r,i){const n=e.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Or.UNPACK);const s=r.realWidth,o=r.realHeight;return i.width===s&&i.height===o?n.texSubImage2D(r.target,0,0,0,s,o,r.format,i.type,this.data):(i.width=s,i.height=o,n.texImage2D(r.target,0,i.internalFormat,s,o,0,r.format,i.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const o3={scaleMode:fi.NEAREST,format:ee.RGBA,alphaMode:Or.NPM},ls=class extends ga{constructor(t=null,e=null){super(),e=Object.assign({},ls.defaultOptions,e);const{alphaMode:r,mipmap:i,anisotropicLevel:n,scaleMode:s,width:o,height:a,wrapMode:l,format:c,type:h,target:f,resolution:u,resourceOptions:d}=e;t&&!(t instanceof ea)&&(t=f1(t,d),t.internal=!0),this.resolution=u||se.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=n,this._wrapMode=l,this._scaleMode=s,this.format=c,this.type=h,this.target=f,this.alphaMode=r,this.uid=Hn(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Yp(this.realWidth)&&Yp(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Lr[this.cacheId],delete ur[this.cacheId],this.cacheId=null),this.dispose(),ls.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=se.STRICT_TEXTURE_CACHE){const i=typeof t=="string";let n=null;if(i)n=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${Hn()}`}n=t._pixiId}let s=Lr[n];if(i&&r&&!s)throw new Error(`The cacheId "${n}" does not exist in BaseTextureCache.`);return s||(s=new ls(t,e),s.cacheId=n,ls.addToCache(s,n)),s}static fromBuffer(t,e,r,i){t=t||new Float32Array(e*r*4);const n=new ya(t,{width:e,height:r}),s=t instanceof Float32Array?me.FLOAT:me.UNSIGNED_BYTE;return new ls(n,Object.assign({},o3,i||{width:e,height:r,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Lr[e]&&Lr[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Lr[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Lr[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Lr[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Lr[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let ye=ls;ye.defaultOptions={mipmap:ei.POW2,anisotropicLevel:0,scaleMode:fi.LINEAR,wrapMode:ji.CLAMP,alphaMode:Or.UNPACK,target:Ts.TEXTURE_2D,format:ee.RGBA,type:me.UNSIGNED_BYTE};ye._globalBatch=0;class lf{constructor(){this.texArray=null,this.blend=0,this.type=jr.TRIANGLES,this.start=0,this.size=0,this.data=null}}let a3=0,ut=class d1{constructor(e,r=!0,i=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=r,this.id=a3++,this.disposeRunner=new Ir("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Yr.ELEMENT_ARRAY_BUFFER:Yr.ARRAY_BUFFER}get index(){return this.type===Yr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new d1(e)}};class Ml{constructor(e,r=0,i=!1,n=me.FLOAT,s,o,a,l=1){this.buffer=e,this.size=r,this.normalized=i,this.type=n,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,r,i,n,s){return new Ml(e,r,i,n,s)}}const l3={Float32Array,Uint32Array,Int32Array,Uint8Array};function c3(t,e){let r=0,i=0;const n={};for(let l=0;l<t.length;l++)i+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let l=0;l<t.length;l++){const c=e[l],h=t[l],f=h1(h);n[f]||(n[f]=new l3[f](s)),o=n[f];for(let u=0;u<h.length;u++){const d=(u/c|0)*i+a,p=u%c;o[d+p]=h[u]}a+=c}return new Float32Array(s)}const rm={5126:4,5123:2,5121:1};let h3=0;const u3={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Qi{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=h3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ir("disposeGeometry"),this.refCount=0}addAttribute(e,r,i=0,n=!1,s,o,a,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof ut||(r instanceof Array&&(r=new Float32Array(r)),r=new ut(r));const c=e.split("|");if(c.length>1){for(let f=0;f<c.length;f++)this.addAttribute(c[f],r,i,n,s);return this}let h=this.buffers.indexOf(r);return h===-1&&(this.buffers.push(r),h=this.buffers.length-1),this.attributes[e]=new Ml(h,i,n,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof ut||(e instanceof Array&&(e=new Uint16Array(e)),e=new ut(e)),e.type=Yr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],i=new ut;let n;for(n in this.attributes){const s=this.attributes[n],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*rm[s.type]/4),s.buffer=0}for(i.data=c3(e,r),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Qi;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new ut(this.buffers[r].data.slice(0));for(const r in this.attributes){const i=this.attributes[r];e.attributes[r]=new Ml(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Yr.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Qi,i=[],n=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l]=n[l]||0,n[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)i[a]=new u3[h1(o.buffers[a].data)](n[a]),r.buffers[a]=new ut(i[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Yr.ELEMENT_ARRAY_BUFFER;let a=0,l=0,c=0,h=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){h=f;break}for(const f in o.attributes){const u=o.attributes[f];(u.buffer|0)===h&&(l+=u.size*rm[u.type]/4)}for(let f=0;f<e.length;f++){const u=e[f].indexBuffer.data;for(let d=0;d<u.length;d++)r.indexBuffer.data[d+c]+=a;a+=e[f].buffers[h].data.length/l,c+=u.length}}return r}}class p1 extends Qi{constructor(e=!1){super(),this._buffer=new ut(null,e,!1),this._indexBuffer=new ut(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,me.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,me.FLOAT).addAttribute("aColor",this._buffer,4,!0,me.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,me.FLOAT).addIndex(this._indexBuffer)}}const Ol=Math.PI*2,f3=180/Math.PI,d3=Math.PI/180;var Et=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Et||{});class Fe{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Fe(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const za=[new Fe,new Fe,new Fe,new Fe];class Be{constructor(e=0,r=0,i=0,n=0){this.x=Number(e),this.y=Number(r),this.width=Number(i),this.height=Number(n),this.type=Et.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Be(0,0,0,0)}clone(){return new Be(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const A=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=A)return!1;const w=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>w}const i=this.left,n=this.right,s=this.top,o=this.bottom;if(n<=i||o<=s)return!1;const a=za[0].set(e.left,e.top),l=za[1].set(e.left,e.bottom),c=za[2].set(e.right,e.top),h=za[3].set(e.right,e.bottom);if(c.x<=a.x||l.y<=a.y)return!1;const f=Math.sign(r.a*r.d-r.b*r.c);if(f===0||(r.apply(a,a),r.apply(l,l),r.apply(c,c),r.apply(h,h),Math.max(a.x,l.x,c.x,h.x)<=i||Math.min(a.x,l.x,c.x,h.x)>=n||Math.max(a.y,l.y,c.y,h.y)<=s||Math.min(a.y,l.y,c.y,h.y)>=o))return!1;const u=f*(l.y-a.y),d=f*(a.x-l.x),p=u*i+d*s,m=u*n+d*s,x=u*i+d*o,y=u*n+d*o;if(Math.max(p,m,x,y)<=u*a.x+d*a.y||Math.min(p,m,x,y)>=u*h.x+d*h.y)return!1;const _=f*(a.y-c.y),g=f*(c.x-a.x),v=_*i+g*s,b=_*n+g*s,E=_*i+g*o,T=_*n+g*o;return!(Math.max(v,b,E,T)<=_*a.x+g*a.y||Math.min(v,b,E,T)>=_*h.x+g*h.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(i-r,0),this.y=n,this.height=Math.max(s-n,0),this}ceil(e=1,r=.001){const i=Math.ceil((this.x+this.width-r)*e)/e,n=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=i-this.x,this.height=n-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=i-r,this.y=n,this.height=s-n,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class L0{constructor(e=0,r=0,i=0){this.x=e,this.y=r,this.radius=i,this.type=Et.CIRC}clone(){return new L0(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const i=this.radius*this.radius;let n=this.x-e,s=this.y-r;return n*=n,s*=s,n+s<=i}getBounds(){return new Be(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class U0{constructor(e=0,r=0,i=0,n=0){this.x=e,this.y=r,this.width=i,this.height=n,this.type=Et.ELIP}clone(){return new U0(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let i=(e-this.x)/this.width,n=(r-this.y)/this.height;return i*=i,n*=n,i+n<=1}getBounds(){return new Be(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Cs{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const i=[];for(let n=0,s=r.length;n<s;n++)i.push(r[n].x,r[n].y);r=i}this.points=r,this.type=Et.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Cs(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let i=!1;const n=this.points.length/2;for(let s=0,o=n-1;s<n;o=s++){const a=this.points[s*2],l=this.points[s*2+1],c=this.points[o*2],h=this.points[o*2+1];l>r!=h>r&&e<(c-a)*((r-l)/(h-l))+a&&(i=!i)}return i}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class z0{constructor(e=0,r=0,i=0,n=0,s=20){this.x=e,this.y=r,this.width=i,this.height=n,this.radius=s,this.type=Et.RREC}clone(){return new z0(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+i&&r<=this.y+this.height-i||e>=this.x+i&&e<=this.x+this.width-i)return!0;let n=e-(this.x+i),s=r-(this.y+i);const o=i*i;if(n*n+s*s<=o||(n=e-(this.x+this.width-i),n*n+s*s<=o)||(s=r-(this.y+this.height-i),n*n+s*s<=o)||(n=e-(this.x+i),n*n+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class Ye{constructor(e=1,r=0,i=0,n=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,i,n,s,o){return this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const i=r||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(e,r){r=r||new Fe;const i=e.x,n=e.y;return r.x=this.a*i+this.c*n+this.tx,r.y=this.b*i+this.d*n+this.ty,r}applyInverse(e,r){r=r||new Fe;const i=1/(this.a*this.d+this.c*-this.b),n=e.x,s=e.y;return r.x=this.d*i*n+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,r.y=this.a*i*s+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),i=Math.sin(e),n=this.a,s=this.c,o=this.tx;return this.a=n*r-this.b*i,this.b=n*i+this.b*r,this.c=s*r-this.d*i,this.d=s*i+this.d*r,this.tx=o*r-this.ty*i,this.ty=o*i+this.ty*r,this}append(e){const r=this.a,i=this.b,n=this.c,s=this.d;return this.a=e.a*r+e.b*n,this.b=e.a*i+e.b*s,this.c=e.c*r+e.d*n,this.d=e.c*i+e.d*s,this.tx=e.tx*r+e.ty*n+this.tx,this.ty=e.tx*i+e.ty*s+this.ty,this}setTransform(e,r,i,n,s,o,a,l,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(i*this.a+n*this.c),this.ty=r-(i*this.b+n*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const i=this.a,n=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,i=this.b,n=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-n,s),l=Math.atan2(i,r),c=Math.abs(a+l);return c<1e-5||Math.abs(Ol-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+i*i),e.scale.y=Math.sqrt(n*n+s*s),e.position.x=this.tx+(o.x*r+o.y*n),e.position.y=this.ty+(o.x*i+o.y*s),e}invert(){const e=this.a,r=this.b,i=this.c,n=this.d,s=this.tx,o=e*n-r*i;return this.a=n/o,this.b=-r/o,this.c=-i/o,this.d=e/o,this.tx=(i*this.ty-n*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ye;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new Ye}static get TEMP_MATRIX(){return new Ye}}const xn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],gn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],_n=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],cf=[],m1=[],Ha=Math.sign;function p3(){for(let t=0;t<16;t++){const e=[];cf.push(e);for(let r=0;r<16;r++){const i=Ha(xn[t]*xn[r]+_n[t]*gn[r]),n=Ha(gn[t]*xn[r]+vn[t]*gn[r]),s=Ha(xn[t]*_n[r]+_n[t]*vn[r]),o=Ha(gn[t]*_n[r]+vn[t]*vn[r]);for(let a=0;a<16;a++)if(xn[a]===i&&gn[a]===n&&_n[a]===s&&vn[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Ye;e.set(xn[t],gn[t],_n[t],vn[t],0,0),m1.push(e)}}p3();const Ze={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>xn[t],uY:t=>gn[t],vX:t=>_n[t],vY:t=>vn[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>cf[t][e],sub:(t,e)=>cf[t][Ze.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Ze.S:Ze.N:Math.abs(e)*2<=Math.abs(t)?t>0?Ze.E:Ze.W:e>0?t>0?Ze.SE:Ze.SW:t>0?Ze.NE:Ze.NW,matrixAppendRotationInv:(t,e,r=0,i=0)=>{const n=m1[Ze.inv(e)];n.tx=r,n.ty=i,t.append(n)}};class Li{constructor(e,r,i=0,n=0){this._x=i,this._y=n,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Li(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const x1=class{constructor(){this.worldTransform=new Ye,this.localTransform=new Ye,this.position=new Li(this.onChange,this,0,0),this.scale=new Li(this.onChange,this,1,1),this.pivot=new Li(this.onChange,this,0,0),this.skew=new Li(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let H0=x1;H0.IDENTITY=new x1;var m3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,x3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function im(t,e,r){const i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function ph(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function g1(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return ph(2*e);case"bvec3":return ph(3*e);case"bvec4":return ph(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Bs=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],g3={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},_3={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function v3(t,e){var i;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in t.uniforms){const s=e[n];if(!s){(i=t.uniforms[n])!=null&&i.group&&(t.uniforms[n].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const o=t.uniforms[n];let a=!1;for(let l=0;l<Bs.length;l++)if(Bs[l].test(s,o)){r.push(Bs[l].code(n,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?g3:_3)[s.type].replace("location",`ud["${n}"].location`);r.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const _1={};let is=_1;function y3(){if(is===_1||is!=null&&is.isContextLost()){const t=se.ADAPTER.createCanvas();let e;se.PREFER_ENV>=qn.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),is=e}return is}let Ga;function b3(){if(!Ga){Ga=fr.MEDIUM;const t=y3();t&&t.getShaderPrecisionFormat&&(Ga=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?fr.HIGH:fr.MEDIUM)}return Ga}function nm(t,e){const r=t.getShaderSource(e).split(`
`).map((c,h)=>`${h}: ${c}`),i=t.getShaderInfoLog(e),n=i.split(`
`),s={},o=n.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),a=[""];o.forEach(c=>{r[c-1]=`%c${r[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function E3(t,e,r,i){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||nm(t,r),t.getShaderParameter(i,t.COMPILE_STATUS)||nm(t,i),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const T3={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function v1(t){return T3[t]}let $a=null;const sm={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function y1(t,e){if(!$a){const r=Object.keys(sm);$a={};for(let i=0;i<r.length;++i){const n=r[i];$a[t[n]]=sm[n]}}return $a[e]}function om(t,e,r){if(t.substring(0,9)!=="precision"){let i=e;return e===fr.HIGH&&r!==fr.HIGH&&(i=fr.MEDIUM),`precision ${i} float;
${t}`}else if(r!==fr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let uo;function A3(){if(typeof uo=="boolean")return uo;try{uo=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{uo=!1}return uo}let S3=0;const Wa={},cs=class{constructor(t,e,r="pixi-shader",i={}){this.extra={},this.id=S3++,this.vertexSrc=t||cs.defaultVertexSrc,this.fragmentSrc=e||cs.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Wa[r]?(Wa[r]++,r+=`-${Wa[r]}`):Wa[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=om(this.vertexSrc,cs.defaultVertexPrecision,fr.HIGH),this.fragmentSrc=om(this.fragmentSrc,cs.defaultFragmentPrecision,b3())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return x3}static get defaultFragmentSrc(){return m3}static from(t,e,r){const i=t+e;let n=Zp[i];return n||(Zp[i]=n=new cs(t,e,r)),n}};let Pr=cs;Pr.defaultVertexPrecision=fr.HIGH;Pr.defaultFragmentPrecision=di.apple.device?fr.HIGH:fr.MEDIUM;let w3=0;class Fr{constructor(e,r,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=w3++,this.static=!!r,this.ubo=!!i,e instanceof ut?(this.buffer=e,this.buffer.type=Yr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new ut(new Float32Array(1)),this.buffer.type=Yr.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,i){if(!this.ubo)this.uniforms[e]=new Fr(r,i);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,i){return new Fr(e,r,i)}static uboFrom(e,r){return new Fr(e,r??!0,!0)}}class Kr{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Fr?this.uniformGroup=r:this.uniformGroup=new Fr(r):this.uniformGroup=new Fr({}),this.disposeRunner=new Ir("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const i in r.uniforms){const n=r.uniforms[i];if(n.group&&this.checkUniformExists(e,n))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,i){const n=Pr.from(e,r);return new Kr(n,i)}}class C3{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const i=new Int32Array(e);for(let s=0;s<e;s++)i[s]=s;this.defaultGroupCache[e]=Fr.from({uSamplers:i},!0);let n=this.fragTemplate;n=n.replace(/%count%/gi,`${e}`),n=n.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Pr(this.vertexSrc,n)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ye,default:this.defaultGroupCache[e]};return new Kr(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let i=0;i<e;i++)i>0&&(r+=`
else `),i<e-1&&(r+=`if(vTextureId < ${i}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${i}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class hf{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function B3(){return!di.apple.device}function P3(t){let e=!0;const r=se.ADAPTER.getNavigator();if(di.tablet||di.phone){if(di.apple.device){const i=r.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)<11&&(e=!1)}if(di.android.device){const i=r.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(e=!1)}}return e?t:4}class gc{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var R3=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,D3=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const yr=class extends gc{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=p1,this.vertexSize=6,this.state=Ei.for2d(),this.size=yr.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??P3(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??B3(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Me("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return D3}static get defaultFragmentTemplate(){return R3}setShaderGenerator({vertex:t=yr.defaultVertexSrc,fragment:e=yr.defaultFragmentTemplate}={}){this.shaderGenerator=new C3(t,e)}contextChange(){const t=this.renderer.gl;se.PREFER_ENV===qn.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),yr.defaultMaxTextures),this.maxTextures=s3(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=yr,r=this.size/4,i=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new lf);for(;e.length<i;)e.push(new hf);for(let n=0;n<this.maxTextures;n++)this._tempBoundTextures[n]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=yr._textureArrayPool,i=this.renderer.batch,n=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++ye._globalBatch,a=0,l=r[0],c=0;i.copyBoundTextures(n,e);for(let h=0;h<this._bufferSize;++h){const f=t[h];t[h]=null,f._batchEnabled!==o&&(l.count>=e&&(i.boundArray(l,n,o,e),this.buildDrawCalls(l,c,h),c=h,l=r[++a],++o),f._batchEnabled=o,f.touched=s,l.elements[l.count++]=f)}l.count>0&&(i.boundArray(l,n,o,e),this.buildDrawCalls(l,c,this._bufferSize),++a,++o);for(let h=0;h<n.length;h++)n[h]=null;ye._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:i,_attributeBuffer:n,_indexBuffer:s,vertexSize:o}=this,a=yr._drawCallPool;let l=this._dcIndex,c=this._aIndex,h=this._iIndex,f=a[l];f.start=this._iIndex,f.texArray=t;for(let u=e;u<r;++u){const d=i[u],p=d._texture.baseTexture,m=a1[p.alphaMode?1:0][d.blendMode];i[u]=null,e<u&&f.blend!==m&&(f.size=h-f.start,e=u,f=a[++l],f.texArray=t,f.start=h),this.packInterleavedGeometry(d,n,s,c,h),c+=d.vertexData.length/2*o,h+=d.indices.length,f.blend=m}e<r&&(f.size=h-f.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=h}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;yr.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,i=yr._drawCallPool;let n=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:l,start:c,blend:h}=i[s];n!==o&&(n=o,this.bindAndClearTexArray(o)),this.state.blendMode=h,r.set(this.state),e.drawElements(a,l,e.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),yr.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Fl(Math.ceil(t/8)),r=Kp(e),i=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new of(i*this.vertexSize*4)),n}getIndexBuffer(t){const e=Fl(Math.ceil(t/12)),r=Kp(e),i=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n}packInterleavedGeometry(t,e,r,i,n){const{uint32View:s,float32View:o}=e,a=i/this.vertexSize,l=t.uvs,c=t.indices,h=t.vertexData,f=t._texture.baseTexture._batchLocation,u=Math.min(t.worldAlpha,1),d=u<1&&t._texture.baseTexture.alphaMode?N0(t._tintRGB,u):t._tintRGB+(u*255<<24);for(let p=0;p<h.length;p+=2)o[i++]=h[p],o[i++]=h[p+1],o[i++]=l[p],o[i++]=l[p+1],s[i++]=d,o[i++]=f;for(let p=0;p<c.length;p++)r[n++]=a+c[p]}};let Sr=yr;Sr.defaultBatchSize=4096;Sr.extension={name:"batch",type:ie.RendererPlugin};Sr._drawCallPool=[];Sr._textureArrayPool=[];ue.add(Sr);var I3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,F3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const bo=class extends Kr{constructor(t,e,r){const i=Pr.from(t||bo.defaultVertexSrc,e||bo.defaultFragmentSrc);super(i,r),this.padding=0,this.resolution=bo.defaultResolution,this.multisample=bo.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ei}apply(t,e,r,i,n){t.applyFilter(this,e,r,i)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return F3}static get defaultFragmentSrc(){return I3}};let Tt=bo;Tt.defaultResolution=1;Tt.defaultMultisample=rt.NONE;class b1{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?k0(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=o1(e),Jo(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}b1.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"background"};ue.add(b1);class E1{constructor(e){this.renderer=e,this.emptyRenderer=new gc(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:i}=this.renderer.texture;for(let n=r-1;n>=0;--n)e[n]=i[n]||null,e[n]&&(e[n]._batchLocation=n)}boundArray(e,r,i,n){const{elements:s,ids:o,count:a}=e;let l=0;for(let c=0;c<a;c++){const h=s[c],f=h._batchLocation;if(f>=0&&f<n&&r[f]===h){o[c]=f;continue}for(;l<n;){const u=r[l];if(u&&u._batchEnabled===i&&u._batchLocation===l){l++;continue}o[c]=l,h._batchLocation=l,r[l]=h;break}}}destroy(){this.renderer=null}}E1.extension={type:ie.RendererSystem,name:"batch"};ue.add(E1);let am=0;class T1{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=am++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,i=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:i,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=am++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let i;if(se.PREFER_ENV>=qn.WEBGL2&&(i=e.getContext("webgl2",r)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}T1.extension={type:ie.RendererSystem,name:"context"};ue.add(T1);class M3 extends ya{upload(e,r,i){const n=e.gl;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Or.UNPACK);const s=r.realWidth,o=r.realHeight;return i.width===s&&i.height===o?n.texSubImage2D(r.target,0,0,0,s,o,r.format,i.type,this.data):(i.width=s,i.height=o,n.texImage2D(r.target,0,i.internalFormat,s,o,0,r.format,i.type,this.data)),!0}}class uf{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ir("disposeFramebuffer"),this.multisample=rt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new ye(null,{scaleMode:fi.NEAREST,resolution:1,mipmap:ei.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ye(new M3(null,{width:this.width,height:this.height}),{scaleMode:fi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ei.OFF,format:ee.DEPTH_COMPONENT,type:me.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const n=this.colorTextures[i],s=n.resolution;n.setSize(e/s,r/s)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,r/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class A1 extends ye{constructor(e={}){if(typeof e=="number"){const r=arguments[0],i=arguments[1],n=arguments[2],s=arguments[3];e={width:r,height:i,scaleMode:n,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=rt.NONE),super(null,e),this.mipmap=ei.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new uf(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Ji extends ea{constructor(e){const r=e,i=r.naturalWidth||r.videoWidth||r.width,n=r.naturalHeight||r.videoHeight||r.height;super(i,n),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,i){i===void 0&&!r.startsWith("data:")?e.crossOrigin=r3(r):i!==!1&&(e.crossOrigin=typeof i=="string"?i:"anonymous")}upload(e,r,i,n){const s=e.gl,o=r.realWidth,a=r.realHeight;if(n=n||this.source,typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement){if(!n.complete||n.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement&&n.readyState<=1&&n.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Or.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&i.width===o&&i.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,i.type,n):(i.width=o,i.height=a,s.texImage2D(r.target,0,i.internalFormat,r.format,i.type,n)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),super.update()}dispose(){this.source=null}}class S1 extends Ji{constructor(e,r){if(r=r||{},typeof e=="string"){const i=new Image;Ji.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??se.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,i)=>{const n=this.source;this.url=n.src;const s=()=>{this.destroyed||(n.onload=null,n.onerror=null,this.resize(n.width,n.height),this._load=null,this.createBitmap?r(this.process()):r(this))};n.complete&&n.src?s():(n.onload=s,n.onerror=o=>{i(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,i=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:i?"cors":"no-cors"}).then(n=>n.blob()).then(n=>r(n,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Or.UNPACK?"premultiply":"none"})).then(n=>this.destroyed?Promise.reject():(this.bitmap=n,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,i){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,i,this.bitmap),!this.preserveBitmap){let n=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class w1{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,i){const n=r.width,s=r.height;if(i){const o=e.width/2/n,a=e.height/2/s,l=e.x/n+o,c=e.y/s+a;i=Ze.add(i,Ze.NW),this.x0=l+o*Ze.uX(i),this.y0=c+a*Ze.uY(i),i=Ze.add(i,2),this.x1=l+o*Ze.uX(i),this.y1=c+a*Ze.uY(i),i=Ze.add(i,2),this.x2=l+o*Ze.uX(i),this.y2=c+a*Ze.uY(i),i=Ze.add(i,2),this.x3=l+o*Ze.uX(i),this.y3=c+a*Ze.uY(i)}else this.x0=e.x/n,this.y0=e.y/s,this.x1=(e.x+e.width)/n,this.y1=e.y/s,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/s,this.x3=e.x/n,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const lm=new w1;function Va(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ce extends ga{constructor(e,r,i,n,s,o){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Be(0,0,1,1)),e instanceof ce&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=n,this.valid=!1,this._uvs=lm,this.uvMatrix=null,this.orig=i||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Fe(o.x,o.y):new Fe(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&ur[r.url]&&ce.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ce.removeFromCache(this),this.textureCacheIds=null}clone(){var n;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),i=new ce(this.baseTexture,!this.noFrame&&e,r,(n=this.trim)==null?void 0:n.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=e),i}updateUvs(){this._uvs===lm&&(this._uvs=new w1),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},i=se.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let s=null;if(n)s=e;else if(e instanceof ye){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Hn()}`,ye.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Hn()}`}s=e._pixiId}let o=ur[s];if(n&&i&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof ye)?(r.resolution||(r.resolution=Zi(e)),o=new ce(new ye(e,r)),o.baseTexture.cacheId=s,ye.addToCache(o.baseTexture,s),ce.addToCache(o,s)):!o&&e instanceof ye&&(o=new ce(e),ce.addToCache(o,s)),o}static fromURL(e,r){const i=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),n=ce.from(e,Object.assign({resourceOptions:i},r),!1),s=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):s.load().then(()=>Promise.resolve(n))}static fromBuffer(e,r,i,n){return new ce(ye.fromBuffer(e,r,i,n))}static fromLoader(e,r,i,n){const s=new ye(e,Object.assign({scaleMode:ye.defaultOptions.scaleMode,resolution:Zi(r)},n)),{resource:o}=s;o instanceof S1&&(o.url=r);const a=new ce(s);return i||(i=r),ye.addToCache(a.baseTexture,i),ce.addToCache(a,i),i!==r&&(ye.addToCache(a.baseTexture,r),ce.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),ur[r]&&ur[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),ur[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=ur[e];if(r){const i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete ur[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)ur[e.textureCacheIds[r]]===e&&delete ur[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:i,width:n,height:s}=e,o=r+n>this.baseTexture.width,a=i+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",c=`X: ${r} + ${n} = ${r+n} > ${this.baseTexture.width}`,h=`Y: ${i} + ${s} = ${i+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${l} ${h}`)}this.valid=n&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ce._EMPTY||(ce._EMPTY=new ce(new ye),Va(ce._EMPTY),Va(ce._EMPTY.baseTexture)),ce._EMPTY}static get WHITE(){if(!ce._WHITE){const e=se.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ce._WHITE=new ce(ye.from(e)),Va(ce._WHITE),Va(ce._WHITE.baseTexture)}return ce._WHITE}}class en extends ce{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,i=!0){const n=this.baseTexture.resolution,s=Math.round(e*n)/n,o=Math.round(r*n)/n;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,i&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new en(new A1(e))}}class C1{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,i=rt.NONE){const n=new A1(Object.assign({width:e,height:r,resolution:1,multisample:i},this.textureOptions));return new en(n)}getOptimalTexture(e,r,i=1,n=rt.NONE){let s;e=Math.ceil(e*i-1e-6),r=Math.ceil(r*i-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Fl(e),r=Fl(r),s=((e&65535)<<16|r&65535)>>>0,n>1&&(s+=n*4294967296)):s=n>1?-n:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,n)),o.filterPoolKey=s,o.setResolution(i),o}getFilterTexture(e,r,i){const n=this.getOptimalTexture(e.width,e.height,r||e.resolution,i||rt.NONE);return n.filterFrame=e.filterFrame,n}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}C1.SCREEN_KEY=-1;class O3 extends Qi{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class B1 extends Qi{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new ut(this.vertices),this.uvBuffer=new ut(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+r.width/e.width,this.uvs[3]=n,this.uvs[4]=i+r.width/e.width,this.uvs[5]=n+r.height/e.height,this.uvs[6]=i,this.uvs[7]=n+r.height/e.height,i=r.x,n=r.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+r.width,this.vertices[3]=n,this.vertices[4]=i+r.width,this.vertices[5]=n+r.height,this.vertices[6]=i,this.vertices[7]=n+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class k3{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=rt.NONE,this.sourceFrame=new Be,this.destinationFrame=new Be,this.bindingSourceFrame=new Be,this.bindingDestinationFrame=new Be,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const ja=[new Fe,new Fe,new Fe,new Fe],mh=new Ye;class P1{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new C1,this.statePool=[],this.quad=new O3,this.quadUv=new B1,this.tempRect=new Be,this.activeState={},this.globalUniforms=new Fr({outputFrame:new Be,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const i=this.renderer,n=this.defaultFilterStack,s=this.statePool.pop()||new k3,o=this.renderer.renderTexture;let a=r[0].resolution,l=r[0].multisample,c=r[0].padding,h=r[0].autoFit,f=r[0].legacy??!0;for(let p=1;p<r.length;p++){const m=r[p];a=Math.min(a,m.resolution),l=Math.min(l,m.multisample),c=this.useMaxPadding?Math.max(c,m.padding):c+m.padding,h=h&&m.autoFit,f=f||(m.legacy??!0)}n.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),n.push(s),s.resolution=a,s.multisample=l,s.legacy=f,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);const u=this.tempRect.copyFrom(o.sourceFrame);i.projection.transform&&this.transformAABB(mh.copyFrom(i.projection.transform).invert(),u),h?(s.sourceFrame.fit(u),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(u)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:i.resolution,o.sourceFrame,o.destinationFrame,i.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,l),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const d=this.tempRect;d.x=0,d.y=0,d.width=s.sourceFrame.width,d.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=i.projection.transform,i.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,d),i.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),i=r.filters;this.activeState=r;const n=this.globalUniforms.uniforms;n.outputFrame=r.sourceFrame,n.resolution=r.resolution;const s=n.inputSize,o=n.inputPixel,a=n.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const c=n.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,r.renderTexture,l.renderTexture,Gr.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let c=r.renderTexture,h=this.getOptimalFilterTexture(c.width,c.height,r.resolution);h.filterFrame=c.filterFrame;let f=0;for(f=0;f<i.length-1;++f){f===1&&r.multisample>1&&(h=this.getOptimalFilterTexture(c.width,c.height,r.resolution),h.filterFrame=c.filterFrame),i[f].apply(this,c,h,Gr.CLEAR,r);const u=c;c=h,h=u}i[f].apply(this,c,l.renderTexture,Gr.BLEND,r),f>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(h)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Gr.CLEAR){const{renderTexture:i,state:n}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=n.stateId&1||this.forceClear;(r===Gr.CLEAR||r===Gr.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,i,n){const s=this.renderer;s.state.set(e.state),this.bindAndClear(i,n),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(jr.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(jr.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:i,destinationFrame:n}=this.activeState,{orig:s}=r._texture,o=e.set(n.width,0,0,n.height,i.x,i.y),a=r.worldTransform.copyTo(Ye.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,i=1,n=rt.NONE){return this.texturePool.getOptimalTexture(e,r,i,n)}getFilterTexture(e,r,i){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,i||rt.NONE);return n.filterFrame=e.filterFrame,n}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const i=ja[0],n=ja[1],s=ja[2],o=ja[3];i.set(r.left,r.top),n.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(i,i),e.apply(n,n),e.apply(s,s),e.apply(o,o);const a=Math.min(i.x,n.x,s.x,o.x),l=Math.min(i.y,n.y,s.y,o.y),c=Math.max(i.x,n.x,s.x,o.x),h=Math.max(i.y,n.y,s.y,o.y);r.x=a,r.y=l,r.width=c-a,r.height=h-l}roundFrame(e,r,i,n,s){if(!(e.width<=0||e.height<=0||i.width<=0||i.height<=0)){if(s){const{a:o,b:a,c:l,d:c}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?mh.copyFrom(s):mh.identity(),s.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}P1.extension={type:ie.RendererSystem,name:"filter"};ue.add(P1);class N3{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=rt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const L3=new Be;class R1{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new uf(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Be,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;se.PREFER_ENV===qn.WEBGL_LEGACY&&(r=null,i=null),r?e.drawBuffers=n=>r.drawBuffersWEBGL(n):(this.hasMRT=!1,e.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,i=0){const{gl:n}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==i&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=i),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,i)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>i,a=r.height>>i,l=o/r.width;this.setViewport(r.x*l,r.y*l,o,a)}else{const o=e.width>>i,a=e.height>>i;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,i,n){const s=this.viewport;e=Math.round(e),r=Math.round(r),i=Math.round(i),n=Math.round(n),(s.width!==i||s.height!==n||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=i,s.height=n,this.gl.viewport(e,r,i,n))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,i,n,s=Gu.COLOR|Gu.DEPTH){const{gl:o}=this;o.clearColor(e,r,i,n),o.clear(s)}initFramebuffer(e){const{gl:r}=this,i=new N3(r.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i}resizeFramebuffer(e){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID];i.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const n=e.colorTextures;let s=n.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=n[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&i.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:i}=this,n=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;i.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&this.canMultisampleFramebuffer(e)?n.msaaBuffer=n.msaaBuffer||i.createRenderbuffer():n.msaaBuffer&&(i.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const c=s[l],h=c.parentTextureArray||c;this.renderer.texture.bind(h,0),l===0&&n.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,n.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,c.target,h._glTextures[this.CONTEXT_UID].texture,r),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(n.stencil=n.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,n.stencil),n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,i.DEPTH24_STENCIL8,e.width,e.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,n.stencil)):n.stencil&&(i.deleteRenderbuffer(n.stencil),n.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let i=rt.NONE;if(e<=1||r===null)return i;for(let n=0;n<r.length;n++)if(r[n]<=e){i=r[n];break}return i===1&&(i=rt.NONE),i}blit(e,r,i){const{current:n,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!n)return;const l=n.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const h=n.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new uf(n.width,n.height),l.blitFramebuffer.addColorTexture(0,h)),e=l.blitFramebuffer,e.colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==n.width||e.height!==n.height)&&(e.width=n.width,e.height=n.height,e.dirtyId++,e.dirtySize++)}r||(r=L3,r.width=n.width,r.height=n.height),i||(i=r);const c=r.width===i.width&&r.height===i.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,i.left,i.top,i.right,i.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,r){const i=e.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(!i)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(n.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&n.deleteRenderbuffer(i.msaaBuffer),i.stencil&&n.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<r.length;i++)this.disposeFramebuffer(r[i],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const i=e.width,n=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,i,n):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,i,n),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Be}destroy(){this.renderer=null}}R1.extension={type:ie.RendererSystem,name:"framebuffer"};ue.add(R1);const xh={5126:4,5123:2,5121:1};class D1{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let i=this.renderer.context.extensions.vertexArrayObject;se.PREFER_ENV===qn.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=()=>i.createVertexArrayOES(),e.bindVertexArray=n=>i.bindVertexArrayOES(n),e.deleteVertexArray=n=>i.deleteVertexArrayOES(n)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=(n,s)=>i.vertexAttribDivisorANGLE(n,s),e.drawElementsInstanced=(n,s,o,a,l)=>i.drawElementsInstancedANGLE(n,s,o,a,l),e.drawArraysInstanced=(n,s,o,a)=>i.drawArraysInstancedANGLE(n,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:i}=this;let n=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;n||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=n={},s=!0);const o=n[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let i=0;i<e.buffers.length;i++){const n=e.buffers[i];r.update(n)}}checkCompatibility(e,r){const i=e.attributes,n=r.attributeData;for(const s in n)if(!i[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const i=e.attributes,n=r.attributeData,s=["g",e.id];for(const o in i)n[o]&&s.push(o,n[o].location);return s.join("-")}initGeometryVao(e,r,i=!0){const n=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const l=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let h=c[l];if(h)return c[a.id]=h,h;const f=e.buffers,u=e.attributes,d={},p={};for(const m in f)d[m]=0,p[m]=0;for(const m in u)!u[m].size&&a.attributeData[m]?u[m].size=a.attributeData[m].size:u[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),d[u[m].buffer]+=u[m].size*xh[u[m].type];for(const m in u){const x=u[m],y=x.size;x.stride===void 0&&(d[x.buffer]===y*xh[x.type]?x.stride=0:x.stride=d[x.buffer]),x.start===void 0&&(x.start=p[x.buffer],p[x.buffer]+=y*xh[x.type])}h=n.createVertexArray(),n.bindVertexArray(h);for(let m=0;m<f.length;m++){const x=f[m];o.bind(x),i&&x._glBuffers[s].refCount++}return this.activateVao(e,a),c[a.id]=h,c[l]=h,n.bindVertexArray(null),o.unbind(Yr.ARRAY_BUFFER),h}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const i=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!i){if(o)for(let l=0;l<s.length;l++){const c=s[l]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(s[l],r))}if(!r){for(const l in i)if(l[0]==="g"){const c=i[l];this._activeVao===c&&this.unbind(),n.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let i=0;i<r.length;i++)this.disposeGeometry(this.managedGeometries[r[i]],e)}activateVao(e,r){const i=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const c in a){const h=a[c],f=o[h.buffer],u=f._glBuffers[n];if(r.attributeData[c]){l!==u&&(s.bind(f),l=u);const d=r.attributeData[c].location;if(i.enableVertexAttribArray(d),i.vertexAttribPointer(d,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)i.vertexAttribDivisor(d,h.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,i,n){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(i||0)*a,n||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,i,r||o.getSize(),n||1):s.drawArrays(e,i,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}D1.extension={type:ie.RendererSystem,name:"geometry"};ue.add(D1);const cm=new Ye;class I1{constructor(e,r){this._texture=e,this.mapCoord=new Ye,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const i=this.mapCoord;for(let n=0;n<e.length;n+=2){const s=e[n],o=e[n+1];r[n]=s*i.a+o*i.c+i.tx,r[n+1]=s*i.b+o*i.d+i.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const i=r._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const n=r.orig,s=r.trim;s&&(cm.set(n.width/s.width,0,0,n.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(cm));const o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(r._frame.x+l+c)/o.width,a[1]=(r._frame.y+l+c)/o.height,a[2]=(r._frame.x+r._frame.width-l+c)/o.width,a[3]=(r._frame.y+r._frame.height-l+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var U3=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,z3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class H3 extends Tt{constructor(e,r,i){let n=null;typeof e!="string"&&r===void 0&&i===void 0&&(n=e,e=void 0,r=void 0,i=void 0),super(e||z3,r||U3,i),this.maskSprite=n,this.maskMatrix=new Ye}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,i,n){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new I1(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,i,n))}}class G3{constructor(e=null){this.type=ht.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Tt.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=ht.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class F1{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let i=r;if(!i.isMaskData){const s=this.maskDataPool.pop()||new G3;s.pooled=!0,s.maskObject=r,i=s}const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i._colorMask=n?n._colorMask:15,i.autoDetect&&this.detect(i),i._target=e,i.type!==ht.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case ht.SCISSOR:this.renderer.scissor.push(i);break;case ht.STENCIL:this.renderer.stencil.push(i);break;case ht.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case ht.COLOR:this.pushColorMask(i);break}i.type===ht.SPRITE&&this.maskStack.push(i)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case ht.SCISSOR:this.renderer.scissor.pop(r);break;case ht.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case ht.SPRITE:this.popSpriteMask(r);break;case ht.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const i=this.maskStack[this.maskStack.length-1];i.type===ht.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=ht.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=ht.SCISSOR:e.type=ht.STENCIL:e.type=ht.COLOR}pushSpriteMask(e){const{maskObject:r}=e,i=e._target;let n=e._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex],n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new H3]));const s=this.renderer,o=s.renderTexture;let a,l;if(o.current){const h=o.current;a=e.resolution||h.resolution,l=e.multisample??h.multisample}else a=e.resolution||s.resolution,l=e.multisample??s.multisample;n[0].resolution=a,n[0].multisample=l,n[0].maskSprite=r;const c=i.filterArea;i.filterArea=r.getBounds(!0),s.filter.push(i,n),i.filterArea=c,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,i=e._colorMask=r&e.colorMask;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}popColorMask(e){const r=e._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}destroy(){this.renderer=null}}F1.extension={type:ie.RendererSystem,name:"mask"};ue.add(F1);class M1{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,i=this.getStackLength();this.maskStack=e;const n=this.getStackLength();n!==i&&(n===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const hm=new Ye,um=[],cl=class extends M1{constructor(t){super(t),this.glConst=se.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:i}=this,n=i.renderTexture,s=r.getBounds(!0,um.pop()??new Be);this.roundFrameToPixels(s,n.current?n.current.resolution:i.resolution,n.sourceFrame,n.destinationFrame,i.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:i,d:n}=t;return(Math.abs(r)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(n)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||cl.isMatrixRotated(e.worldTransform)||cl.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,i,n){cl.isMatrixRotated(n)||(n=n?hm.copyFrom(n):hm.identity(),n.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.renderer.filter.transformAABB(n,t),t.fit(i),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&um.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let O1=cl;O1.extension={type:ie.RendererSystem,name:"scissor"};ue.add(O1);class k1 extends M1{constructor(e){super(e),this.glConst=se.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:i}=this.renderer,n=e._stencilCounter;n===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,n,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,i.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,n=i?i._colorMask:15;n!==0&&(i._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,n!==0&&(i._colorMask=n,r.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}k1.extension={type:ie.RendererSystem,name:"stencil"};ue.add(k1);class N1{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Me("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Me("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Me("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}N1.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"_plugin"};ue.add(N1);class L1{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ye,this.transform=null}update(e,r,i,n){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,n),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,i,n){const s=this.projectionMatrix,o=n?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}L1.extension={type:ie.RendererSystem,name:"projection"};ue.add(L1);const $3=new H0;class U1{constructor(e){this.renderer=e,this._tempMatrix=new Ye}generateTexture(e,r){const{region:i,...n}=r||{},s=i||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=en.create({width:s.width,height:s.height,...n});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=$3,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}U1.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"textureGenerator"};ue.add(U1);const hn=new Be,fo=new Be;class z1{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Be,this.destinationFrame=new Be,this.viewportFrame=new Be}bind(e=null,r,i){const n=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(hn.width=e.frame.width,hn.height=e.frame.height,r=hn),i||(fo.x=e.frame.x,fo.y=e.frame.y,fo.width=r.width,fo.height=r.height,i=fo),o=s.framebuffer):(a=n.resolution,r||(hn.width=n._view.screen.width,hn.height=n._view.screen.height,r=hn),i||(i=hn,i.width=r.width,i.height=r.height));const l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,e||(l.y=n.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(i,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(i)}clear(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const i=this.destinationFrame,n=this.current?this.current.baseTexture:this.renderer._view.screen,s=i.width!==n.width||i.height!==n.height;if(s){let{x:o,y:a,width:l,height:c}=this.viewportFrame;o=Math.round(o),a=Math.round(a),l=Math.round(l),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}z1.extension={type:ie.RendererSystem,name:"renderTexture"};ue.add(z1);class W3{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function V3(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const s=e.getActiveAttrib(t,n);if(s.name.startsWith("gl_"))continue;const o=y1(e,s.type),a={type:o,name:s.name,size:v1(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function j3(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<i;n++){const s=e.getActiveUniform(t,n),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=y1(e,s.type);r[o]={name:o,index:n,type:l,size:s.size,isArray:a,value:g1(l,s.size)}}return r}function X3(t,e){var l;const r=im(t,t.VERTEX_SHADER,e.vertexSrc),i=im(t,t.FRAGMENT_SHADER,e.fragmentSrc),n=t.createProgram();t.attachShader(n,r),t.attachShader(n,i);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(n,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||E3(t,n,r,i),e.attributeData=V3(n,t),e.uniformData=j3(n,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,f)=>h>f?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(n,h,c[h]);t.linkProgram(n)}t.deleteShader(r),t.deleteShader(i);const o={};for(const c in e.uniformData){const h=e.uniformData[c];o[c]={location:t.getUniformLocation(n,c),value:g1(h.type,h.size)}}return new W3(n,o)}function q3(t,e,r,i,n){r.buffer.update(n)}const Y3={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},H1={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function K3(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,i=0,n=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=H1[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,i%r!==0&&i<16){const a=i%r%16;i+=a,n+=a}i+r>16?(n=Math.ceil(n/16)*16,o.offset=n,n+=r,i=r):(o.offset=n,i+=r,n+=r)}return n=Math.ceil(n/16)*16,{uboElements:e,size:n}}function Z3(t,e){const r=[];for(const i in t)e[i]&&r.push(e[i]);return r.sort((i,n)=>i.index-n.index),r}function Q3(t,e){if(!t.autoManage)return{size:0,syncFunc:q3};const r=Z3(t.uniforms,e),{uboElements:i,size:n}=K3(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<i.length;o++){const a=i[o],l=t.uniforms[a.data.name],c=a.data.name;let h=!1;for(let f=0;f<Bs.length;f++){const u=Bs[f];if(u.codeUbo&&u.test(a.data,l)){s.push(`offset = ${a.offset/4};`,Bs[f].codeUbo(a.data.name,l)),h=!0;break}}if(!h)if(a.data.size>1){const f=v1(a.data.type),u=Math.max(H1[a.data.type]/16,1),d=f/u,p=(4-d%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*u}; i++)
                {
                    for(var j = 0; j < ${d}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{const f=Y3[a.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let J3=0;const Xa={textureCount:0,uboCount:0};class G1{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=J3++}systemCheck(){if(!A3())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const i=e.program,n=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(n.program)),r||(Xa.textureCount=0,Xa.uboCount=0,this.syncUniformGroup(e.uniformGroup,Xa)),n}setUniforms(e){const r=this.shader.program,i=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(i.uniformData,e,this.renderer)}syncUniformGroup(e,r){const i=this.getGlProgram();(!e.static||e.dirtyId!==i.uniformDirtyGroups[e.id])&&(i.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,r))}syncUniforms(e,r,i){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,i)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=v3(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const i=this.getGlProgram();if(!e.static||e.dirtyId!==0||!i.uniformGroups[e.id]){e.dirtyId=0;const n=i.uniformGroups[e.id]||this.createSyncBufferGroup(e,i,r);e.buffer.update(),n(i.uniformData,e.uniforms,this.renderer,Xa,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,i.uniformBufferBindings[r])}createSyncBufferGroup(e,r,i){const{gl:n}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,i);r.uniformBufferBindings[i]=this.shader.uniformBindCount,n.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=Q3(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,i){const n=e.uniforms,s=[`${i}-`];for(const o in n)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,i=e.program,n=X3(r,i);return i.glPrograms[this.renderer.CONTEXT_UID]=n,n}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}G1.extension={type:ie.RendererSystem,name:"shader"};ue.add(G1);class $1{constructor(e){this.renderer=e}run(e){const r=this.renderer;r.emitWithCustomOptions(r.runners.init,e),e.hello&&console.log(`PixiJS 7.1.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}$1.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"startup"};ue.add($1);function eB(t,e=[]){return e[_e.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD]=[t.ONE,t.ONE],e[_e.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.NONE]=[0,0],e[_e.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[_e.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[_e.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[_e.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[_e.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[_e.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[_e.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const tB=0,rB=1,iB=2,nB=3,sB=4,oB=5,ff=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=_e.NONE,this._blendEq=!1,this.map=[],this.map[tB]=this.setBlend,this.map[rB]=this.setOffset,this.map[iB]=this.setCullFace,this.map[nB]=this.setDepthTest,this.map[sB]=this.setFrontFace,this.map[oB]=this.setDepthMask,this.checks=[],this.defaultState=new Ei,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=eB(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(ff.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(ff.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let W1=ff;W1.extension={type:ie.RendererSystem,name:"state"};ue.add(W1);class aB extends ga{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(n=>e.systems[n]),i=[...r,...Object.keys(e.systems).filter(n=>!r.includes(n))];for(const n of i)this.addSystem(e.systems[n],n)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Ir(r)})}addSystem(e,r){const i=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=i,this._systemsHash[r]=i;for(const n in this.runners)this.runners[n].add(i);return this}emitWithCustomOptions(e,r){const i=Object.keys(this._systemsHash);e.items.forEach(n=>{const s=i.find(o=>this._systemsHash[o]===n);n[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const hl=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=hl.defaultMaxIdle,this.checkCountMax=hl.defaultCheckCountMax,this.mode=hl.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==w0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let i=0;i<e.length;i++){const n=e[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[i]=null,r=!0)}if(r){let i=0;for(let n=0;n<e.length;n++)e[n]!==null&&(e[i++]=e[n]);e.length=i}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let i=t.children.length-1;i>=0;i--)this.unload(t.children[i])}destroy(){this.renderer=null}};let wr=hl;wr.defaultMode=w0.AUTO;wr.defaultMaxIdle=60*60;wr.defaultCheckCountMax=60*10;wr.extension={type:ie.RendererSystem,name:"textureGC"};ue.add(wr);class gh{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=me.UNSIGNED_BYTE,this.internalFormat=ee.RGBA,this.samplerType=0}}function lB(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[me.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA8,[ee.RGB]:t.RGB8,[ee.RG]:t.RG8,[ee.RED]:t.R8,[ee.RGBA_INTEGER]:t.RGBA8UI,[ee.RGB_INTEGER]:t.RGB8UI,[ee.RG_INTEGER]:t.RG8UI,[ee.RED_INTEGER]:t.R8UI,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[me.BYTE]:{[ee.RGBA]:t.RGBA8_SNORM,[ee.RGB]:t.RGB8_SNORM,[ee.RG]:t.RG8_SNORM,[ee.RED]:t.R8_SNORM,[ee.RGBA_INTEGER]:t.RGBA8I,[ee.RGB_INTEGER]:t.RGB8I,[ee.RG_INTEGER]:t.RG8I,[ee.RED_INTEGER]:t.R8I},[me.UNSIGNED_SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16UI,[ee.RGB_INTEGER]:t.RGB16UI,[ee.RG_INTEGER]:t.RG16UI,[ee.RED_INTEGER]:t.R16UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[me.SHORT]:{[ee.RGBA_INTEGER]:t.RGBA16I,[ee.RGB_INTEGER]:t.RGB16I,[ee.RG_INTEGER]:t.RG16I,[ee.RED_INTEGER]:t.R16I},[me.UNSIGNED_INT]:{[ee.RGBA_INTEGER]:t.RGBA32UI,[ee.RGB_INTEGER]:t.RGB32UI,[ee.RG_INTEGER]:t.RG32UI,[ee.RED_INTEGER]:t.R32UI,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[me.INT]:{[ee.RGBA_INTEGER]:t.RGBA32I,[ee.RGB_INTEGER]:t.RGB32I,[ee.RG_INTEGER]:t.RG32I,[ee.RED_INTEGER]:t.R32I},[me.FLOAT]:{[ee.RGBA]:t.RGBA32F,[ee.RGB]:t.RGB32F,[ee.RG]:t.RG32F,[ee.RED]:t.R32F,[ee.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[me.HALF_FLOAT]:{[ee.RGBA]:t.RGBA16F,[ee.RGB]:t.RGB16F,[ee.RG]:t.RG16F,[ee.RED]:t.R16F},[me.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB565},[me.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA4},[me.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGB5_A1},[me.UNSIGNED_INT_2_10_10_10_REV]:{[ee.RGBA]:t.RGB10_A2,[ee.RGBA_INTEGER]:t.RGB10_A2UI},[me.UNSIGNED_INT_10F_11F_11F_REV]:{[ee.RGB]:t.R11F_G11F_B10F},[me.UNSIGNED_INT_5_9_9_9_REV]:{[ee.RGB]:t.RGB9_E5},[me.UNSIGNED_INT_24_8]:{[ee.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[me.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ee.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[me.UNSIGNED_BYTE]:{[ee.RGBA]:t.RGBA,[ee.RGB]:t.RGB,[ee.ALPHA]:t.ALPHA,[ee.LUMINANCE]:t.LUMINANCE,[ee.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[me.UNSIGNED_SHORT_5_6_5]:{[ee.RGB]:t.RGB},[me.UNSIGNED_SHORT_4_4_4_4]:{[ee.RGBA]:t.RGBA},[me.UNSIGNED_SHORT_5_5_5_1]:{[ee.RGBA]:t.RGBA}},e}class V1{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ye,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=lB(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};const i=new gh(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new gh(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let n=0;n<this.boundTextures.length;n++)this.bind(null,n)}bind(e,r=0){const{gl:i}=this;if(e=e==null?void 0:e.castToBaseTexture(),e!=null&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),this.updateTexture(e)):n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(let n=0;n<i.length;n++)i[n]===e&&(this.currentLocation!==n&&(r.activeTexture(r.TEXTURE0+n),this.currentLocation=n),r.bindTexture(e.target,this.emptyTextures[e.target].texture),i[n]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:i,CONTEXT_UID:n}=this;if(i)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[n].samplerType!==$u.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new gh(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var i;r.internalFormat=((i=this.internalFormats[e.type])==null?void 0:i[e.format])??e.format,this.webGLVersion===2&&e.type===me.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var n;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const i=this.renderer;if(this.initTextureType(e,r),(n=e.resource)!=null&&n.upload(i,e,r))r.samplerType!==$u.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=i.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:i}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const n=this.managedTextures.indexOf(e);n!==-1&&ws(this.managedTextures,n,1)}}updateTextureStyle(e){var i;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===ei.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=ji.CLAMP:r.wrapMode=e.wrapMode,(i=e.resource)!=null&&i.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const i=this.gl;if(r.mipmap&&e.mipmap!==ei.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,r.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===fi.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const n=this.renderer.context.extensions.anisotropicFiltering;if(n&&e.anisotropicLevel>0&&e.scaleMode===fi.LINEAR){const s=Math.min(e.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===fi.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===fi.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}}V1.extension={type:ie.RendererSystem,name:"texture"};ue.add(V1);class j1{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glTransformFeedbacks[i]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,n)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:i,renderer:n}=this;r&&n.shader.bind(r),i.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:i,CONTEXT_UID:n}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[n]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(i.buffer.update(a),a._glBuffers[n].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[n].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const i=e._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a,r))}i&&(r||n.deleteTransformFeedback(i),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}j1.extension={type:ie.RendererSystem,name:"transformFeedback"};ue.add(j1);class X1{constructor(e){this.renderer=e}init(e){this.screen=new Be(0,0,e.width,e.height),this.element=e.view||se.ADAPTER.createCanvas(),this.resolution=e.resolution||se.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const i=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=i,this.screen.height=n,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${n}px`),this.renderer.emit("resize",i,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}X1.extension={type:[ie.RendererSystem,ie.CanvasRendererSystem],name:"_view"};ue.add(X1);se.PREFER_ENV=qn.WEBGL2;se.STRICT_TEXTURE_CACHE=!1;Object.defineProperties(se,{WRAP_MODE:{get(){return ye.defaultOptions.wrapMode},set(t){Me("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ye.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return ye.defaultOptions.scaleMode},set(t){Me("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ye.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return ye.defaultOptions.mipmap},set(t){Me("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ye.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return ye.defaultOptions.anisotropicLevel},set(t){Me("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ye.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Me("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Tt.defaultResolution},set(t){Tt.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Me("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Tt.defaultMultisample},set(t){Tt.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Sr.defaultMaxTextures},set(t){Me("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Sr.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Sr.defaultBatchSize},set(t){Me("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Sr.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Sr.canUploadSameBuffer},set(t){Me("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Sr.canUploadSameBuffer=t}},GC_MODE:{get(){return wr.defaultMode},set(t){Me("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),wr.defaultMode=t}},GC_MAX_IDLE:{get(){return wr.defaultMaxIdle},set(t){Me("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),wr.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return wr.defaultCheckCountMax},set(t){Me("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),wr.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Pr.defaultVertexPrecision},set(t){Me("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Pr.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Pr.defaultFragmentPrecision},set(t){Me("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Pr.defaultFragmentPrecision=t}}});var Us=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Us||{});class _h{constructor(e,r=null,i=0,n=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=i,this.once=n}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Zt=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new _h(null,null,1/0),this.deltaMS=1/Zt.targetFPMS,this.elapsedMS=1/Zt.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=Us.NORMAL){return this._addListener(new _h(t,e,r))}addOnce(t,e,r=Us.NORMAL){return this._addListener(new _h(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Zt.targetFPMS;const r=this._head;let i=r.next;for(;i;)i=i.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Zt.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Zt._shared){const t=Zt._shared=new Zt;t.autoStart=!0,t._protected=!0}return Zt._shared}static get system(){if(!Zt._system){const t=Zt._system=new Zt;t.autoStart=!0,t._protected=!0}return Zt._system}};let zt=Zt;zt.targetFPMS=.06;Object.defineProperties(se,{TARGET_FPMS:{get(){return zt.targetFPMS},set(t){Me("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),zt.targetFPMS=t}}});class q1{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Us.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?zt.shared:new zt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}q1.extension=ie.Application;ue.add(q1);const Y1=[];ue.handleByList(ie.Renderer,Y1);function cB(t){for(const e of Y1)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var hB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,uB=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const fB=hB,K1=uB;class Z1{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{const i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}r>=rt.HIGH?this.multisample=rt.HIGH:r>=rt.MEDIUM?this.multisample=rt.MEDIUM:r>=rt.LOW?this.multisample=rt.LOW:this.multisample=rt.NONE}destroy(){}}Z1.extension={type:ie.RendererSystem,name:"_multisample"};ue.add(Z1);class dB{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Q1{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);r.bindBuffer(e.type,n.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:i,CONTEXT_UID:n}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[n]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,i){const{gl:n,CONTEXT_UID:s}=this;i=i||0;const o=e._glBuffers[s]||this.createGLBuffer(e);n.bindBufferRange(n.UNIFORM_BUFFER,r||0,o.buffer,i*256,256)}update(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);if(e._updateID!==n.updateID)if(n.updateID=e._updateID,r.bindBuffer(e.type,n.buffer),n.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;n.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const i=e._glBuffers[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this),i&&(r||n.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let i=0;i<r.length;i++)this.dispose(this.managedBuffers[r[i]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:i}=this;return e._glBuffers[r]=new dB(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}Q1.extension={type:ie.RendererSystem,name:"buffer"};ue.add(Q1);class J1{constructor(e){this.renderer=e}render(e,r){const i=this.renderer;let n,s,o,a;if(r&&(n=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!n,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=o,!i.context.isLost){if(n||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}i.renderTexture.bind(n),i.batch.currentRenderer.start(),(s??i.background.clearBeforeRender)&&i.renderTexture.clear(),e.render(i),i.batch.currentRenderer.flush(),n&&(r.blit&&i.framebuffer.blit(),n.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}J1.extension={type:ie.RendererSystem,name:"objectRenderer"};ue.add(J1);const df=class extends aB{constructor(t){super(),this.type=M_.WEBGL,t=Object.assign({},se.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Fr({projectionMatrix:new Ye},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:df.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Me("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const r={hello:t.hello,_plugin:df.__plugins,background:{alpha:t.backgroundAlpha,color:t.background??t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.options=t,this.startup.run(r)}static test(t){return t!=null&&t.forceCanvas?!1:aw()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Me("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Me("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Me("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Me("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Me("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Me("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){Me("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Me("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let io=df;io.extension={type:ie.Renderer,priority:1};io.__plugins={};io.__systems={};ue.handleByMap(ie.RendererPlugin,io.__plugins);ue.handleByMap(ie.RendererSystem,io.__systems);ue.add(io);class ev extends ea{constructor(e,r){const{width:i,height:n}=r||{};super(i,n),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new ye;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let i=0;i<this.length;i++)e[i]&&(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof ea?this.addResourceAt(e[i],i):this.addResourceAt(f1(e[i],r),i))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(i=>i.resource).filter(i=>i).map(i=>i.load());return this._load=Promise.all(r).then(()=>{const{realWidth:i,realHeight:n}=this.items[0];return this.resize(i,n),Promise.resolve(this)}),this._load}}class pB extends ev{constructor(e,r){const{width:i,height:n}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:i,height:n}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Ts.TEXTURE_2D_ARRAY}upload(e,r,i){const{length:n,itemDirtyIds:s,items:o}=this,{gl:a}=e;i.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,r.format,i.type,null);for(let l=0;l<n;l++){const c=o[l];s[l]<c.dirtyId&&(s[l]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,c.resource.width,c.resource.height,1,r.format,i.type,c.resource.source))}return!0}}class mB extends Ji{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Eo=class extends ev{constructor(t,e){const{width:r,height:i,autoLoad:n,linkBaseTexture:s}=e||{};if(t&&t.length!==Eo.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:i});for(let o=0;o<Eo.SIDES;o++)this.items[o].target=Ts.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),n!==!1&&this.load()}bind(t){super.bind(t),t.target=Ts.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Ts.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const i=this.itemDirtyIds;for(let n=0;n<Eo.SIDES;n++){const s=this.items[n];(i[n]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),i[n]=s.dirtyId):i[n]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),i[n]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Eo.SIDES}};let tv=Eo;tv.SIDES=6;class xs extends Ji{constructor(e,r){r=r||{};let i,n;typeof e=="string"?(i=xs.EMPTY,n=e):(i=e,n=null),super(i),this.url=n,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const i=await se.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const n=await i.blob();if(this.destroyed)return;const s=await createImageBitmap(n,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Or.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(i){if(this.destroyed)return;r(i),this.onError.emit(i)}}),this._load)}upload(e,r,i){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,i)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return xs._EMPTY=xs._EMPTY??se.ADAPTER.createCanvas(0,0),xs._EMPTY}}const ul=class extends Ji{constructor(t,e){e=e||{},super(se.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},ul.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Ji.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=e*this.scale,n=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/r*e,n=this._overrideHeight||this._overrideWidth/e*r),i=Math.round(i),n=Math.round(n);const s=this.source;s.width=i,s.height=n,s._pixiId=`canvas_${Hn()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,i,n),this._resolve(),this._resolve=null}}static getSize(t){const e=ul.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&ul.SVG_XML.test(t)}};let ta=ul;ta.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;ta.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const pf=class extends Ji{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const i=t[0].src||t[0];Ji.crossOrigin(r,i,e.crossorigin);for(let n=0;n<t.length;++n){const s=document.createElement("source");let{src:o,mime:a}=t[n];o=o||t[n];const l=o.split("?").shift().toLowerCase(),c=l.slice(l.lastIndexOf(".")+1);a=a||pf.MIME_TYPES[c]||`video/${c}`,s.src=o,s.type=a,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=zt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(zt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(zt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(zt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(zt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(zt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||pf.TYPES.includes(e)}};let G0=pf;G0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];G0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};af.push(xs,S1,mB,G0,ta,ya,tv,pB);class kl{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Be.EMPTY:(e=e||new Be(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:i,b:n,c:s,d:o,tx:a,ty:l}=e,c=i*r.x+s*r.y+a,h=n*r.x+o*r.y+l;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)}addQuad(e){let r=this.minX,i=this.minY,n=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,i=a<i?a:i,n=o>n?o:n,s=a>s?a:s,this.minX=r,this.minY=i,this.maxX=n,this.maxY=s}addFrame(e,r,i,n,s){this.addFrameMatrix(e.worldTransform,r,i,n,s)}addFrameMatrix(e,r,i,n,s){const o=e.a,a=e.b,l=e.c,c=e.d,h=e.tx,f=e.ty;let u=this.minX,d=this.minY,p=this.maxX,m=this.maxY,x=o*r+l*i+h,y=a*r+c*i+f;u=x<u?x:u,d=y<d?y:d,p=x>p?x:p,m=y>m?y:m,x=o*n+l*i+h,y=a*n+c*i+f,u=x<u?x:u,d=y<d?y:d,p=x>p?x:p,m=y>m?y:m,x=o*r+l*s+h,y=a*r+c*s+f,u=x<u?x:u,d=y<d?y:d,p=x>p?x:p,m=y>m?y:m,x=o*n+l*s+h,y=a*n+c*s+f,u=x<u?x:u,d=y<d?y:d,p=x>p?x:p,m=y>m?y:m,this.minX=u,this.minY=d,this.maxX=p,this.maxY=m}addVertexData(e,r,i){let n=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=r;l<i;l+=2){const c=e[l],h=e[l+1];n=c<n?c:n,s=h<s?h:s,o=c>o?c:o,a=h>a?h:a}this.minX=n,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,i,n){this.addVerticesMatrix(e.worldTransform,r,i,n)}addVerticesMatrix(e,r,i,n,s=0,o=s){const a=e.a,l=e.b,c=e.c,h=e.d,f=e.tx,u=e.ty;let d=this.minX,p=this.minY,m=this.maxX,x=this.maxY;for(let y=i;y<n;y+=2){const _=r[y],g=r[y+1],v=a*_+c*g+f,b=h*g+l*_+u;d=Math.min(d,v-s),m=Math.max(m,v+s),p=Math.min(p,b-o),x=Math.max(x,b+o)}this.minX=d,this.minY=p,this.maxX=m,this.maxY=x}addBounds(e){const r=this.minX,i=this.minY,n=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<i?e.minY:i,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const i=e.minX>r.minX?e.minX:r.minX,n=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(i<=s&&n<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=i<a?i:a,this.minY=n<l?n:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const i=e.minX>r.x?e.minX:r.x,n=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(i<=s&&n<=o){const a=this.minX,l=this.minY,c=this.maxX,h=this.maxY;this.minX=i<a?i:a,this.minY=n<l?n:l,this.maxX=s>c?s:c,this.maxY=o>h?o:h}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,i,n,s,o){e-=s,r-=o,i+=s,n+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>n?this.maxY:n}}class tt extends ga{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new H0,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new kl,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let i=0;i<r.length;++i){const n=r[i];Object.defineProperty(tt.prototype,n,Object.getOwnPropertyDescriptor(e,n))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Be),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Be),e=this._localBoundsRect),this._localBounds||(this._localBounds=new kl);const r=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const n=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=i,this.transform=r,this._bounds=n,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,i,n){return r&&(e=r.toGlobal(e,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,i=1,n=1,s=0,o=0,a=0,l=0,c=0){return this.position.x=e,this.position.y=r,this.scale.x=i||1,this.scale.y=n||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new xB),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*f3}set angle(e){this.transform.rotation=e*d3}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class xB extends tt{constructor(){super(...arguments),this.sortDirty=null}}tt.prototype.displayObjectUpdateTransform=tt.prototype.updateTransform;const gB=new Ye;function _B(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const mf=class extends tt{constructor(){super(),this.children=[],this.sortableChildren=mf.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),i=this.getChildIndex(e);this.children[r]=e,this.children[i]=t,this.onChildrenChange(r<i?r:i)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);ws(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,ws(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,ws(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,i=e,n=i-r;let s;if(n>0&&n<=i){s=this.children.splice(r,n);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(n===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const i=this.children[e];i._lastSortedIndex=e,!t&&i.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(_B),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let i=0,n=this.children.length;i<n;++i){const s=this.children[i];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,i;this.cullArea?(r=this.cullArea,i=this.worldTransform):this._render!==mf.prototype._render&&(r=this.getBounds(!0));const n=t.projection.transform;if(n&&(i?(i=gB.copyFrom(i),i.prepend(n)):i=n),r&&e.intersects(r,i))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(t),a.cullable=l}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,i=this.children.length;r<i;++r)this.children[r].render(t)}}renderAdvanced(t){var n,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const i=e&&((n=this._enabledFilters)==null?void 0:n.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==ht.NONE));if(i&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}i&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let i=0;i<r.length;++i)r[i].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let ze=mf;ze.defaultSortableChildren=!1;ze.prototype.containerUpdateTransform=ze.prototype.updateTransform;Object.defineProperties(se,{SORTABLE_CHILDREN:{get(){return ze.defaultSortableChildren},set(t){Me("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),ze.defaultSortableChildren=t}}});const po=new Fe,vB=new Uint16Array([0,1,2,0,2,3]);class ft extends ze{constructor(e){super(),this._anchor=new Li(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=_e.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ce.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=vB,this.pluginName="batch",this.isSprite=!0,this._roundPixels=se.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ms(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ms(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,i=r.a,n=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,c=this.vertexData,h=e.trim,f=e.orig,u=this._anchor;let d=0,p=0,m=0,x=0;if(h?(p=h.x-u._x*f.width,d=p+h.width,x=h.y-u._y*f.height,m=x+h.height):(p=-u._x*f.width,d=p+f.width,x=-u._y*f.height,m=x+f.height),c[0]=i*p+s*x+a,c[1]=o*x+n*p+l,c[2]=i*d+s*x+a,c[3]=o*x+n*d+l,c[4]=i*d+s*m+a,c[5]=o*m+n*d+l,c[6]=i*p+s*m+a,c[7]=o*m+n*p+l,this._roundPixels){const y=se.RESOLUTION;for(let _=0;_<c.length;++_)c[_]=Math.round(c[_]*y)/y}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,i=e.orig,n=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,c=s.d,h=s.tx,f=s.ty,u=-n._x*i.width,d=u+i.width,p=-n._y*i.height,m=p+i.height;r[0]=o*u+l*p+h,r[1]=c*p+a*u+f,r[2]=o*d+l*p+h,r[3]=c*p+a*d+f,r[4]=o*d+l*m+h,r[5]=c*m+a*d+f,r[6]=o*u+l*m+h,r[7]=c*m+a*u+f}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new kl),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Be),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,po);const r=this._texture.orig.width,i=this._texture.orig.height,n=-r*this.anchor.x;let s=0;return po.x>=n&&po.x<n+r&&(s=-i*this.anchor.y,po.y>=s&&po.y<s+i)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const i=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!i)}this._texture=null}static from(e,r){const i=e instanceof ce?e:ce.from(e,r);return new ft(i)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=ms(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=ms(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tint}set tint(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ce.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const rv=new Ye;tt.prototype._cacheAsBitmap=!1;tt.prototype._cacheData=null;tt.prototype._cacheAsBitmapResolution=null;tt.prototype._cacheAsBitmapMultisample=null;class yB{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(tt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new yB),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});tt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};tt.prototype._initCachedDisplayObject=function(e){var u,d;if((u=this._cacheData)!=null&&u.sprite)return;const r=this.alpha;this.alpha=1,e.batch.flush();const i=this.getLocalBounds(null,!0).clone();if((d=this.filters)!=null&&d.length){const p=this.filters[0].padding;i.pad(p)}i.ceil(se.RESOLUTION);const n=e.renderTexture.current,s=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),a=e.projection.transform,l=en.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:this.cacheAsBitmapMultisample??e.multisample}),c=`cacheAsBitmap_${Hn()}`;this._cacheData.textureCacheId=c,ye.addToCache(l.baseTexture,c),ce.addToCache(l,c);const h=this.transform.localTransform.copyTo(rv).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=a,e.renderTexture.bind(n,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const f=new ft(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(i.x/i.width),f.anchor.y=-(i.y/i.height),f.alpha=r,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};tt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};tt.prototype._initCachedDisplayObjectCanvas=function(e){var h;if((h=this._cacheData)!=null&&h.sprite)return;const r=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;const n=e.canvasContext.activeContext,s=e._projTransform;r.ceil(se.RESOLUTION);const o=en.create({width:r.width,height:r.height}),a=`cacheAsBitmap_${Hn()}`;this._cacheData.textureCacheId=a,ye.addToCache(o.baseTexture,a),ce.addToCache(o,a);const l=rv;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=r.x,l.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),e.canvasContext.activeContext=n,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;const c=new ft(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(r.x/r.width),c.anchor.y=-(r.y/r.height),c.alpha=i,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};tt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};tt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};tt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ye.removeFromCache(this._cacheData.textureCacheId),ce.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};tt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};tt.prototype.name=null;ze.prototype.getChildByName=function(e,r){for(let i=0,n=this.children.length;i<n;i++)if(this.children[i].name===e)return this.children[i];if(r)for(let i=0,n=this.children.length;i<n;i++){const s=this.children[i];if(!s.getChildByName)continue;const o=s.getChildByName(e,!0);if(o)return o}return null};tt.prototype.getGlobalPosition=function(e=new Fe,r=!1){return this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};var bB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class EB extends Tt{constructor(e=1){super(fB,bB,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const TB={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},AB=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function SB(t){const e=TB[t],r=e.length;let i=AB,n="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),n+=l,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}const wB=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function CB(t,e){const r=Math.ceil(t/2);let i=wB,n="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),n+=a,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}class xf extends Tt{constructor(e,r=8,i=4,n=Tt.defaultResolution,s=5){const o=CB(s,e),a=SB(s);super(o,a),this.horizontal=e,this.resolution=n,this._quality=0,this.quality=i,this.blur=r}apply(e,r,i,n){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/r.width):this.uniforms.strength=1/i.height*(i.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,i,n);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Gr.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,Gr.BLIT),this.uniforms.uSampler=l;const h=l;l=a,a=h,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,i,n),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class BB extends Tt{constructor(e=8,r=4,i=Tt.defaultResolution,n=5){super(),this.blurXFilter=new xf(!0,e,r,i,n),this.blurYFilter=new xf(!1,e,r,i,n),this.resolution=i,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,i,n){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,Gr.CLEAR),this.blurYFilter.apply(e,a,i,n),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,i,n):this.blurXFilter.apply(e,r,i,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var PB=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class gf extends Tt{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(K1,PB,e),this.alpha=1}_loadMatrix(e,r=!1){let i=e;r&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(e,r,i){return e[0]=r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],e[1]=r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],e[2]=r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],e[3]=r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],e[4]=r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],e[5]=r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],e[6]=r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],e[7]=r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],e[8]=r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],e[9]=r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],e[10]=r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],e[11]=r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],e[12]=r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],e[13]=r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],e[14]=r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],e[15]=r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],e[16]=r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],e[17]=r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],e[18]=r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],e[19]=r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)}tint(e,r){const i=e>>16&255,n=e>>8&255,s=e&255,o=[i/255,0,0,0,0,0,n/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const i=Math.cos(e),n=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=i+(1-i)*o,c=o*(1-i)-a*n,h=o*(1-i)+a*n,f=o*(1-i)+a*n,u=i+o*(1-i),d=o*(1-i)-a*n,p=o*(1-i)-a*n,m=o*(1-i)+a*n,x=i+o*(1-i),y=[l,c,h,0,0,f,u,d,0,0,p,m,x,0,0,0,0,0,1,0];this._loadMatrix(y,r)}contrast(e,r){const i=(e||0)+1,n=-.5*(i-1),s=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const i=e*2/3+1,n=(i-1)*-.5,s=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,i,n,s){e=e||.2,r=r||.15,i=i||16770432,n=n||3375104;const o=(i>>16&255)/255,a=(i>>8&255)/255,l=(i&255)/255,c=(n>>16&255)/255,h=(n>>8&255)/255,f=(n&255)/255,u=[.3,.59,.11,0,0,o,a,l,e,0,c,h,f,r,0,o-c,a-h,l-f,0,0];this._loadMatrix(u,s)}night(e,r){e=e||.1;const i=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(i,r)}predator(e,r){const i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}gf.prototype.grayscale=gf.prototype.greyscale;var RB=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,DB=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class IB extends Tt{constructor(e,r){const i=new Ye;e.renderable=!1,super(DB,RB,{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,r==null&&(r=20),this.scale=new Fe(r,r)}apply(e,r,i,n){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,i,n)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var FB=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,MB=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class OB extends Tt{constructor(){super(MB,FB)}}var kB=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class NB extends Tt{constructor(e=.5,r=Math.random()){super(K1,kB,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const fm={AlphaFilter:EB,BlurFilter:BB,BlurFilterPass:xf,ColorMatrixFilter:gf,DisplacementFilter:IB,FXAAFilter:OB,NoiseFilter:NB};Object.entries(fm).forEach(([t,e])=>{Object.defineProperty(fm,t,{get(){return Me("7.1.0",`filters.${t} has moved to ${t}`),e}})});class ba{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=ba.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Fe,this.page=new Fe,this.AT_TARGET=1,this.BUBBLING_PHASE=2,this.CAPTURING_PHASE=3,this.NONE=0,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,i,n,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Nl extends ba{constructor(){super(...arguments),this.client=new Fe,this.movement=new Fe,this.offset=new Fe,this.global=new Fe,this.screen=new Fe}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,i,n,s,o,a,l,c,h,f,u,d,p,m){throw new Error("Method not implemented.")}}class br extends Nl{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class zs extends Nl{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}zs.DOM_DELTA_PIXEL=0;zs.DOM_DELTA_LINE=1;zs.DOM_DELTA_PAGE=2;const LB=2048,UB=new Fe,vh=new Fe;class zB{constructor(e){this.dispatch=new ga,this.moveOnAll=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((i,n)=>i.priority-n.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let i=0,n=r.length;i<n;i++)r[i].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){const i=this.hitTestRecursive(this.rootTarget,this.rootTarget.interactive,UB.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let n=0,s=i.length-1;n<s;n++)if(e.currentTarget=i[n],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let n=i.length-2;n>=0;n--)if(e.currentTarget=i[n],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,i=this.rootTarget){e.eventPhase=e.BUBBLING_PHASE;const n=i.children;if(n)for(let s=0;s<n.length;s++)this.all(e,r,n[s]);e.currentTarget=i,this.notifyTarget(e,r)}propagationPath(e){const r=[e];for(let i=0;i<LB&&e!==this.rootTarget;i++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestRecursive(e,r,i,n,s){if(!e||!e.visible||s(e,i))return null;if(e.interactiveChildren&&e.children){const o=e.children;for(let a=o.length-1;a>=0;a--){const l=o[a],c=this.hitTestRecursive(l,r||l.interactive,i,n,s);if(c){if(c.length>0&&!c[c.length-1].parent)continue;return(c.length>0||e.interactive)&&c.push(e),c}}}return r&&n(e,i)?e.interactive?[e]:[]:null}hitPruneFn(e,r){var i;if(e.hitArea&&(e.worldTransform.applyInverse(r,vh),!e.hitArea.contains(vh.x,vh.y)))return!0;if(e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;if(n&&!((i=n.containsPoint)!=null&&i.call(n,r)))return!0}return!1}hitTestFn(e,r){return e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const i=`on${r}`;(o=(s=e.currentTarget)[i])==null||o.call(s,e);const n=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,n),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof br)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const n=r.button===2;this.dispatchEvent(r,n?"rightdown":"mousedown")}const i=this.trackingData(e.pointerId);i.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var a,l;if(!(e instanceof br)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e),i=r.pointerType==="mouse"||r.pointerType==="pen",n=this.trackingData(e.pointerId),s=this.findMountedTarget(n.overTargets);if(((a=n.overTargets)==null?void 0:a.length)>0&&s!==r.target){const c=e.type==="mousemove"?"mouseout":"pointerout",h=this.createPointerEvent(e,c,s);if(this.dispatchEvent(h,"pointerout"),i&&this.dispatchEvent(h,"mouseout"),!r.composedPath().includes(s)){const f=this.createPointerEvent(e,"pointerleave",s);for(f.eventPhase=f.AT_TARGET;f.target&&!r.composedPath().includes(f.target);)f.currentTarget=f.target,this.notifyTarget(f),i&&this.notifyTarget(f,"mouseleave"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(h)}if(s!==r.target){const c=e.type==="mousemove"?"mouseover":"pointerover",h=this.clonePointerEvent(r,c);this.dispatchEvent(h,"pointerover"),i&&this.dispatchEvent(h,"mouseover");let f=s==null?void 0:s.parent;for(;f&&f!==this.rootTarget.parent&&f!==r.target;)f=f.parent;if(!f||f===this.rootTarget.parent){const d=this.clonePointerEvent(r,"pointerenter");for(d.eventPhase=d.AT_TARGET;d.target&&d.target!==s&&d.target!==this.rootTarget.parent;)d.currentTarget=d.target,this.notifyTarget(d),i&&this.notifyTarget(d,"mouseenter"),d.target=d.target.parent;this.freeEvent(d)}this.freeEvent(h)}const o=this.moveOnAll?"all":"dispatchEvent";this[o](r,"pointermove"),this.all(r,"globalpointermove"),r.pointerType==="touch"&&(this[o](r,"touchmove"),this.all(r,"globaltouchmove")),i&&(this[o](r,"mousemove"),this.all(r,"globalmousemove"),this.cursor=(l=r.target)==null?void 0:l.cursor),n.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof br)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),i=this.createPointerEvent(e),n=i.pointerType==="mouse"||i.pointerType==="pen";this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover"),i.pointerType==="mouse"&&(this.cursor=(o=i.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(i,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),n&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof br)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const i=e.pointerType==="mouse"||e.pointerType==="pen",n=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",n);this.dispatchEvent(s),i&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",n);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof br)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),i=this.createPointerEvent(e);if(this.dispatchEvent(i,"pointerup"),i.pointerType==="touch")this.dispatchEvent(i,"touchend");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const a=i.button===2;this.dispatchEvent(i,a?"rightup":"mouseup")}const n=this.trackingData(e.pointerId),s=this.findMountedTarget(n.pressTargetsByButton[e.button]);let o=s;if(s&&!i.composedPath().includes(s)){let a=s;for(;a&&!i.composedPath().includes(a);){if(i.currentTarget=a,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch")this.notifyTarget(i,"touchendoutside");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const l=i.button===2;this.notifyTarget(i,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete n.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(i,"click");a.target=o,a.path=null,n.clicksByButton[e.button]||(n.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=n.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(i)}mapPointerUpOutside(e){if(!(e instanceof br)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),i=this.findMountedTarget(r.pressTargetsByButton[e.button]),n=this.createPointerEvent(e);if(i){let s=i;for(;s;)n.currentTarget=s,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch"?this.notifyTarget(n,"touchendoutside"):(n.pointerType==="mouse"||n.pointerType==="pen")&&this.notifyTarget(n,n.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(n)}mapWheel(e){if(!(e instanceof zs)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let i=1;i<e.length&&e[i].parent===r;i++)r=e[i];return r}createPointerEvent(e,r,i){const n=this.allocateEvent(br);return this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=i??this.hitTest(n.global.x,n.global.y),typeof r=="string"&&(n.type=r),n}createWheelEvent(e){const r=this.allocateEvent(zs);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const i=this.allocateEvent(br);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=r??i.type,i}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof br&&r instanceof br&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Nl&&r instanceof Nl&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const i=e.currentTarget._events[r];if(i)if("fn"in i)i.once&&e.currentTarget.removeListener(r,i.fn,void 0,!0),i.fn.call(i.context,e);else for(let n=0,s=i.length;n<s&&!e.propagationImmediatelyStopped;n++)i[n].once&&e.currentTarget.removeListener(r,i[n].fn,void 0,!0),i[n].fn.call(i[n].context,e)}}const HB=1,GB={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class iv{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new zB(null),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new br(null),this.rootWheelEvent=new zs(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}init(){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const i=this.cursorStyles[e];if(i)switch(typeof i){case"string":r&&(this.domElement.style.cursor=i);break;case"function":i(e);break;case"object":r&&Object.assign(this.domElement.style,i);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}onPointerDown(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let i=0,n=r.length;i<n;i++){const s=r[i],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const r=this.normalizeToPointerData(e);for(let i=0,n=r.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,r[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const i=r!==this.domElement?"outside":"",n=this.normalizeToPointerData(e);for(let s=0,o=n.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,n[s]);a.type+=i,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch")return;const r=this.normalizeToPointerData(e);for(let i=0,n=r.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,r[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,i){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const s=1/this.resolution;e.x=(r-n.left)*(this.domElement.width/n.width)*s,e.y=(i-n.top)*(this.domElement.height/n.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let i=0,n=e.changedTouches.length;i<n;i++){const s=e.changedTouches[i];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const i=e;typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=HB),typeof i.pressure>"u"&&(i.pressure=.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),i.isNormalized=!0,r.push(i)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=GB[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}}iv.extension={name:"events",type:[ie.RendererSystem,ie.CanvasRendererSystem]};ue.add(iv);const $B={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,interactive:!1,interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const i=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,n=typeof e=="function"?void 0:e;t=i?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,n)},removeEventListener(t,e,r){const i=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,n=typeof e=="function"?void 0:e;t=i?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,n)},dispatchEvent(t){if(!(t instanceof ba))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};tt.mixin($B);const WB={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};tt.mixin(WB);const VB=9,qa=100,jB=0,XB=0,dm=2,pm=1,qB=-1e3,YB=-1e3,KB=2;class nv{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(di.tablet||di.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${qa}px`,r.style.height=`${qa}px`,r.style.position="absolute",r.style.top=`${jB}px`,r.style.left=`${XB}px`,r.style.zIndex=dm.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${pm}px`,e.style.height=`${pm}px`,e.style.position="absolute",e.style.top=`${qB}px`,e.style.left=`${YB}px`,e.style.zIndex=KB.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let i=0;i<r.length;i++)this.updateAccessibleObjects(r[i])}update(){const e=performance.now();if(di.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:i,width:n,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,c=n/o*l,h=s/a*l;let f=this.div;f.style.left=`${r}px`,f.style.top=`${i}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let u=0;u<this.children.length;u++){const d=this.children[u];if(d.renderId!==this.renderId)d._accessibleActive=!1,ws(this.children,u,1),this.div.removeChild(d._accessibleDiv),this.pool.push(d._accessibleDiv),d._accessibleDiv=null,u--;else{f=d._accessibleDiv;let p=d.hitArea;const m=d.worldTransform;d.hitArea?(f.style.left=`${(m.tx+p.x*m.a)*c}px`,f.style.top=`${(m.ty+p.y*m.d)*h}px`,f.style.width=`${p.width*m.a*c}px`,f.style.height=`${p.height*m.d*h}px`):(p=d.getBounds(),this.capHitArea(p),f.style.left=`${p.x*c}px`,f.style.top=`${p.y*h}px`,f.style.width=`${p.width*c}px`,f.style.height=`${p.height*h}px`,f.title!==d.accessibleTitle&&d.accessibleTitle!==null&&(f.title=d.accessibleTitle),f.getAttribute("aria-label")!==d.accessibleHint&&d.accessibleHint!==null&&f.setAttribute("aria-label",d.accessibleHint)),(d.accessibleTitle!==f.title||d.tabIndex!==f.tabIndex)&&(f.title=d.accessibleTitle,f.tabIndex=d.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:i}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>i&&(e.height=i-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${qa}px`,r.style.height=`${qa}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=dm.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:i}=e.target,n=this.renderer.events.rootBoundary,s=Object.assign(new ba(n),{target:i});n.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>n.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===VB&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}nv.extension={name:"accessibility",type:[ie.RendererPlugin,ie.CanvasRendererPlugin]};ue.add(nv);const _f=class{constructor(t){this.stage=new ze,t=Object.assign({forceCanvas:!1},t),this.renderer=cB(t),_f._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=_f._plugins.slice(0);r.reverse(),r.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let $0=_f;$0._plugins=[];ue.handleByList(ie.Application,$0._plugins);class sv{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,i;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,i=globalThis.innerHeight;else{const{clientWidth:n,clientHeight:s}=this._resizeTo;r=n,i=s}this.renderer.resize(r,i),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}sv.extension=ie.Application;ue.add(sv);const mm={loader:ie.LoadParser,resolver:ie.ResolveParser,cache:ie.CacheParser,detection:ie.DetectionParser};ue.handle(ie.Asset,t=>{const e=t.ref;Object.entries(mm).filter(([r])=>!!e[r]).forEach(([r,i])=>ue.add(Object.assign(e[r],{extension:e[r].extension??i})))},t=>{const e=t.ref;Object.keys(mm).filter(r=>!!e[r]).forEach(r=>ue.remove(e[r]))});class ZB{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<r;i++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ov(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function _c(t,e){const r=t.split("?")[0],i=At.extname(r).toLowerCase();return Array.isArray(e)?e.includes(i):i===e}const mi=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),vf=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function av(t,e,r,i,n){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?av(t.replace(i[r],a),e,r+1,i,n):n.push(t.replace(i[r],a))}}function QB(t){const e=/\{(.*?)\}/g,r=t.match(e),i=[];if(r){const n=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");n.push(o)}),av(t,n,0,r,i)}else i.push(t);return i}const Ll=t=>!Array.isArray(t);class JB{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const i=mi(e);let n;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(r)){n=l.getCacheableAssets(i,r);break}}n||(n={},i.forEach(a=>{n[a]=r}));const s=Object.keys(n),o={cacheKeys:s,keys:i};if(i.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,n[a])}),r instanceof ce){const a=r;i.forEach(l=>{a.baseTexture!==ce.EMPTY.baseTexture&&ye.addToCache(a.baseTexture,l),ce.addToCache(a,l)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const mo=new JB;class eP{constructor(){this._parsers=[],this.promiseCache={}}reset(){this.promiseCache={}}_getLoadPromiseAndParser(e,r){const i={promise:null,parser:null};return i.promise=(async()=>{var s,o;let n=null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.load&&((s=l.test)!=null&&s.call(l,e,r,this))){n=await l.load(e,r,this),i.parser=l;break}}if(!i.parser)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`),null;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];l.parse&&l.parse&&await((o=l.testParse)==null?void 0:o.call(l,n,r,this))&&(n=await l.parse(n,r,this)||n,i.parser=l)}return n})(),i}async load(e,r){let i=0;const n={},s=Ll(e),o=mi(e,c=>({src:c})),a=o.length,l=o.map(async c=>{const h=At.toAbsolute(c.src);if(!n[c.src])try{this.promiseCache[h]||(this.promiseCache[h]=this._getLoadPromiseAndParser(h,c)),n[c.src]=await this.promiseCache[h].promise,r&&r(++i/a)}catch(f){throw delete this.promiseCache[h],delete n[c.src],new Error(`[Loader.load] Failed to load ${h}.
${f}`)}});return await Promise.all(l),s?n[o[0].src]:n}async unload(e){const i=mi(e,n=>({src:n})).map(async n=>{var a,l;const s=At.toAbsolute(n.src),o=this.promiseCache[s];if(o){const c=await o.promise;(l=(a=o.parser)==null?void 0:a.unload)==null||l.call(a,c,n,this),delete this.promiseCache[s]}});await Promise.all(i)}get parsers(){return this._parsers}}var ni=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(ni||{});const tP={extension:{type:ie.LoadParser,priority:ni.Low},test(t){return At.extname(t).toLowerCase()===".json"},async load(t){return await(await se.ADAPTER.fetch(t)).json()}};ue.add(tP);const rP={extension:{type:ie.LoadParser,priority:ni.Low},test(t){return At.extname(t).toLowerCase()===".txt"},async load(t){return await(await se.ADAPTER.fetch(t)).text()}};ue.add(rP);const iP=["normal","bold","100","200","300","400","500","600","700","800","900"],nP=[".ttf",".otf",".woff",".woff2"],sP=["font/ttf","font/otf","font/woff","font/woff2"];function oP(t){const e=At.extname(t);return At.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}const aP={extension:{type:ie.LoadParser,priority:ni.Low},test(t){return ov(t,sP)||_c(t,nP)},async load(t,e){var i,n,s;const r=se.ADAPTER.getFontFaceSet();if(r){const o=[],a=((i=e.data)==null?void 0:i.family)??oP(t),l=((s=(n=e.data)==null?void 0:n.weights)==null?void 0:s.filter(h=>iP.includes(h)))??["normal"],c=e.data??{};for(let h=0;h<l.length;h++){const f=l[h],u=new FontFace(a,`url(${encodeURI(t)})`,{...c,weight:f});await u.load(),r.add(u),o.push(u)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>se.ADAPTER.getFontFaceSet().delete(e))}};ue.add(aP);let xm=0,yh;const lP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",cP={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${lP}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},hP={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let bh;class uP{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([cP.code],{type:"application/javascript"})),i=new Worker(r);i.addEventListener("message",n=>{i.terminate(),URL.revokeObjectURL(r),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){yh===void 0&&(yh=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<yh&&(bh||(bh=URL.createObjectURL(new Blob([hP.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(bh),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const i=new Promise((n,s)=>{this.queue.push({id:e,arguments:r,resolve:n,reject:s})});return this.next(),i}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),i=r.id;this.resolveHash[xm]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:xm++,id:i})}}const gm=new uP;function vc(t,e,r){const i=new ce(t);return i.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),i}const fP=[".jpeg",".jpg",".png",".webp",".avif"],dP=["image/jpeg","image/png","image/webp","image/avif"];async function pP(t){const e=await se.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const ra={extension:{type:ie.LoadParser,priority:ni.High},config:{preferWorkers:!0},test(t){return ov(t,dP)||_c(t,fP)},async load(t,e,r){let i=null;globalThis.createImageBitmap?this.config.preferWorkers&&await gm.isImageBitmapSupported()?i=await gm.loadImageBitmap(t):i=await pP(t):i=await new Promise(s=>{i=new Image,i.crossOrigin="anonymous",i.src=t,i.complete?s(i):i.onload=()=>{s(i)}});const n=new ye(i,{resolution:Zi(t),...e.data});return n.resource.src=t,vc(n,r,t)},unload(t){t.destroy(!0)}};ue.add(ra);const mP={extension:{type:ie.LoadParser,priority:ni.High},test(t){return At.extname(t).toLowerCase()===".svg"},async testParse(t){return ta.test(t)},async parse(t,e,r){var o,a,l;const i=new ta(t,(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions),n=new ye(i,{resolution:Zi(t),...e==null?void 0:e.data});n.resource.src=t;const s=vc(n,r,t);return(l=(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions)!=null&&l.autoLoad||await i.load(),s},async load(t,e){return(await se.ADAPTER.fetch(t)).text()},unload:ra.unload};ue.add(mP);class xP{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(r[i])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const i=[];Array.isArray(r)?r.forEach(n=>{if(typeof n.name=="string"){const s=this._createBundleAssetId(e,n.name);i.push(s),this.add([n.name,s],n.srcs,n.data)}else{const s=n.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{i.push(o)}),this.add([...n.name,...s],n.srcs)}}):Object.keys(r).forEach(n=>{i.push(this._createBundleAssetId(e,n)),this.add([n,this._createBundleAssetId(e,n)],r[n])}),this._bundles[e]=i}add(e,r,i){const n=mi(e);n.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=QB(r):r=[r]);const s=r.map(o=>{let a=o;if(typeof o=="string"){let l=!1;for(let c=0;c<this._parsers.length;c++){const h=this._parsers[c];if(h.test(o)){a=h.parse(o),l=!0;break}}l||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=n),(this._basePath||this._rootPath)&&(a.src=At.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??i,a});n.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=Ll(e);e=mi(e);const i={};return e.forEach(n=>{const s=this._bundles[n];if(s){const o=this.resolve(s),a={};for(const l in o){const c=o[l];a[this._extractAssetIdFromBundle(n,l)]=c}i[n]=a}}),r?i[e[0]]:i}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const i={};for(const n in r)i[n]=r[n].src;return i}return r.src}resolve(e){const r=Ll(e);e=mi(e);const i={};return e.forEach(n=>{if(!this._resolverHash[n])if(this._assetMap[n]){let s=this._assetMap[n];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(l=>{o.params[l].forEach(c=>{const h=s.filter(f=>f[l]?f[l]===c:!1);h.length&&(s=h)})}),this._resolverHash[n]=s[0]??a}else{let s=n;(this._basePath||this._rootPath)&&(s=At.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[n]={src:s}}i[n]=this._resolverHash[n]}),r?i[e[0]]:i}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const i=e[0],n=this._preferredOrder.find(s=>s.params.format.includes(i.format));if(n)return n}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class gP{constructor(){this._detections=[],this._initialized=!1,this.resolver=new xP,this.loader=new eP,this.cache=mo,this._backgroundLoader=new ZB(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,i=typeof r=="number"?[r]:r;let n=[];if((o=e.texturePreference)!=null&&o.format){const l=(a=e.texturePreference)==null?void 0:a.format;n=typeof l=="string"?[l]:l;for(const c of this._detections)await c.test()||(n=await c.remove(n))}else for(const l of this._detections)await l.test()&&(n=await l.add(n));this.resolver.prefer({params:{format:n,resolution:i}})}add(e,r,i){this.resolver.add(e,r,i)}async load(e,r){this._initialized||await this.init();const i=Ll(e),n=mi(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(n),o=await this._mapLoadToResolve(s,r);return i?o[n[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let i=!1;typeof e=="string"&&(i=!0,e=[e]);const n=this.resolver.resolveBundle(e),s={},o=Object.keys(n);let a=0,l=0;const c=()=>{r==null||r(++a/l)},h=o.map(f=>{const u=n[f];return l+=Object.keys(u).length,this._mapLoadToResolve(u,c).then(d=>{s[f]=d})});return await Promise.all(h),i?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(i=>{this._backgroundLoader.add(Object.values(i))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return mo.get(e);const r={};for(let i=0;i<e.length;i++)r[i]=mo.get(e[i]);return r}async _mapLoadToResolve(e,r){const i=Object.values(e),n=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(i,r);this._backgroundLoader.active=!0;const o={};return i.forEach((a,l)=>{const c=s[a.src],h=[a.src];a.alias&&h.push(...a.alias),o[n[l]]=c,mo.set(h,c)}),o}async unload(e){this._initialized||await this.init();const r=mi(e).map(n=>typeof n!="string"?n.src:n),i=this.resolver.resolve(r);await this._unloadFromResolved(i)}async unloadBundle(e){this._initialized||await this.init(),e=mi(e);const r=this.resolver.resolveBundle(e),i=Object.keys(r).map(n=>this._unloadFromResolved(r[n]));await Promise.all(i)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(i=>{mo.remove(i.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return ra.config.preferWorkers}set preferWorkers(e){ra.config.preferWorkers=e}}const Xr=new gP;ue.handleByList(ie.LoadParser,Xr.loader.parsers).handleByList(ie.ResolveParser,Xr.resolver.parsers).handleByList(ie.CacheParser,Xr.cache.parsers).handleByList(ie.DetectionParser,Xr.detections);const _P={extension:ie.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ce),getCacheableAssets:(t,e)=>{const r={};return t.forEach(i=>{e.forEach((n,s)=>{r[i+(s===0?"":s+1)]=n})}),r}};ue.add(_P);const vP={extension:{type:ie.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await se.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};ue.add(vP);const yP={extension:{type:ie.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await se.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};ue.add(yP);const _m=["png","jpg","jpeg"],bP={extension:{type:ie.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,..._m],remove:async t=>t.filter(e=>!_m.includes(e))};ue.add(bP);const EP={extension:ie.ResolveParser,test:ra.test,parse:t=>{var e;return{resolution:parseFloat(((e=se.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};ue.add(EP);var Qt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Qt||{});const Ul={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let li,hs;function vm(){hs={s3tc:li.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:li.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:li.getExtension("WEBGL_compressed_texture_etc"),etc1:li.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:li.getExtension("WEBGL_compressed_texture_pvrtc")||li.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:li.getExtension("WEBGL_compressed_texture_atc"),astc:li.getExtension("WEBGL_compressed_texture_astc")}}const TP={extension:{type:ie.DetectionParser,priority:2},test:async()=>{const e=se.ADAPTER.createCanvas().getContext("webgl");return e?(li=e,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{hs||vm();const e=[];for(const r in hs)hs[r]&&e.push(r);return[...e,...t]},remove:async t=>(hs||vm(),t.filter(e=>!(e in hs)))};ue.add(TP);class AP extends ya{constructor(e,r={width:1,height:1,autoLoad:!0}){let i,n;typeof e=="string"?(i=e,n=new Uint8Array):(i=null,n=e),super(n,r),this.origin=i,this.buffer=n?new of(n):null,this.origin&&r.autoLoad!==!1&&this.load(),n!=null&&n.length&&(this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}async load(){const i=await(await(await fetch(this.origin)).blob()).arrayBuffer();return this.data=new Uint32Array(i),this.buffer=new of(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),this}}class Fn extends AP{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Fn._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Fn._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,i){const n=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,a=this.levels;o<a;o++){const{levelID:l,levelWidth:c,levelHeight:h,levelBuffer:f}=this._levelBuffers[o];n.compressedTexImage2D(n.TEXTURE_2D,l,this.format,c,h,0,f)}return!0}onBlobLoaded(){this._levelBuffers=Fn._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,i,n,s,o,a){const l=new Array(i);let c=e.byteOffset,h=o,f=a,u=h+n-1&~(n-1),d=f+s-1&~(s-1),p=u*d*Ul[r];for(let m=0;m<i;m++)l[m]={levelID:m,levelWidth:i>1?h:u,levelHeight:i>1?f:d,levelBuffer:new Uint8Array(e.buffer,c,p)},c+=p,h=h>>1||1,f=f>>1||1,u=h+n-1&~(n-1),d=f+s-1&~(s-1),p=u*d*Ul[r];return l}}const Eh=4,Ya=124,SP=32,ym=20,wP=542327876,Ka={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},CP={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Za={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},BP=1,PP=2,RP=4,DP=64,IP=512,FP=131072,MP=827611204,OP=861165636,kP=894720068,NP=808540228,LP=4,UP={[MP]:Qt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[OP]:Qt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[kP]:Qt.COMPRESSED_RGBA_S3TC_DXT5_EXT},zP={70:Qt.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Qt.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Qt.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Qt.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Qt.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Qt.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Qt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Qt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Qt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function HP(t){const e=new Uint32Array(t);if(e[0]!==wP)throw new Error("Invalid DDS file magic word");const i=new Uint32Array(t,0,Ya/Uint32Array.BYTES_PER_ELEMENT),n=i[Ka.HEIGHT],s=i[Ka.WIDTH],o=i[Ka.MIPMAP_COUNT],a=new Uint32Array(t,Ka.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,SP/Uint32Array.BYTES_PER_ELEMENT),l=a[BP];if(l&RP){const c=a[CP.FOURCC];if(c!==NP){const g=UP[c],v=Eh+Ya,b=new Uint8Array(t,v);return[new Fn(b,{format:g,width:s,height:n,levels:o})]}const h=Eh+Ya,f=new Uint32Array(e.buffer,h,ym/Uint32Array.BYTES_PER_ELEMENT),u=f[Za.DXGI_FORMAT],d=f[Za.RESOURCE_DIMENSION],p=f[Za.MISC_FLAG],m=f[Za.ARRAY_SIZE],x=zP[u];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${u}`);if(p===LP)throw new Error("DDSParser does not support cubemap textures");if(d===6)throw new Error("DDSParser does not supported 3D texture data");const y=new Array,_=Eh+Ya+ym;if(m===1)y.push(new Uint8Array(t,_));else{const g=Ul[x];let v=0,b=s,E=n;for(let A=0;A<o;A++){const R=Math.max(1,b+3&-4),w=Math.max(1,E+3&-4),B=R*w*g;v+=B,b=b>>>1,E=E>>>1}let T=_;for(let A=0;A<m;A++)y.push(new Uint8Array(t,T,v)),T+=v}return y.map(g=>new Fn(g,{format:x,width:s,height:n,levels:o}))}throw l&DP?new Error("DDSParser does not support uncompressed texture data."):l&IP?new Error("DDSParser does not supported YUV uncompressed texture data."):l&FP?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&PP?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const bm=[171,75,84,88,32,49,49,187,13,10,26,10],GP=67305985,vr={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},yf=64,Em={[me.UNSIGNED_BYTE]:1,[me.UNSIGNED_SHORT]:2,[me.INT]:4,[me.UNSIGNED_INT]:4,[me.FLOAT]:4,[me.HALF_FLOAT]:8},$P={[ee.RGBA]:4,[ee.RGB]:3,[ee.RG]:2,[ee.RED]:1,[ee.LUMINANCE]:1,[ee.LUMINANCE_ALPHA]:2,[ee.ALPHA]:1},WP={[me.UNSIGNED_SHORT_4_4_4_4]:2,[me.UNSIGNED_SHORT_5_5_5_1]:2,[me.UNSIGNED_SHORT_5_6_5]:2};function VP(t,e,r=!1){const i=new DataView(e);if(!jP(t,i))return null;const n=i.getUint32(vr.ENDIANNESS,!0)===GP,s=i.getUint32(vr.GL_TYPE,n),o=i.getUint32(vr.GL_FORMAT,n),a=i.getUint32(vr.GL_INTERNAL_FORMAT,n),l=i.getUint32(vr.PIXEL_WIDTH,n),c=i.getUint32(vr.PIXEL_HEIGHT,n)||1,h=i.getUint32(vr.PIXEL_DEPTH,n)||1,f=i.getUint32(vr.NUMBER_OF_ARRAY_ELEMENTS,n)||1,u=i.getUint32(vr.NUMBER_OF_FACES,n),d=i.getUint32(vr.NUMBER_OF_MIPMAP_LEVELS,n),p=i.getUint32(vr.BYTES_OF_KEY_VALUE_DATA,n);if(c===0||h!==1)throw new Error("Only 2D textures are supported");if(u!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const m=4,x=4,y=l+3&-4,_=c+3&-4,g=new Array(f);let v=l*c;s===0&&(v=y*_);let b;if(s!==0?Em[s]?b=Em[s]*$P[o]:b=WP[s]:b=Ul[a],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const E=r?qP(i,p,n):null;let A=v*b,R=l,w=c,B=y,I=_,D=yf+p;for(let F=0;F<d;F++){const G=i.getUint32(D,n);let V=D+4;for(let L=0;L<f;L++){let q=g[L];q||(q=g[L]=new Array(d)),q[F]={levelID:F,levelWidth:d>1||s!==0?R:B,levelHeight:d>1||s!==0?w:I,levelBuffer:new Uint8Array(e,V,A)},V+=A}D+=G+4,D=D%4!==0?D+4-D%4:D,R=R>>1||1,w=w>>1||1,B=R+m-1&~(m-1),I=w+x-1&~(x-1),A=B*I*b}return s!==0?{uncompressed:g.map(F=>{let G=F[0].levelBuffer,V=!1;return s===me.FLOAT?G=new Float32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4):s===me.UNSIGNED_INT?(V=!0,G=new Uint32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)):s===me.INT&&(V=!0,G=new Int32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)),{resource:new ya(G,{width:F[0].levelWidth,height:F[0].levelHeight}),type:s,format:V?XP(o):o}}),kvData:E}:{compressed:g.map(F=>new Fn(null,{format:a,width:l,height:c,levels:d,levelBuffers:F})),kvData:E}}function jP(t,e){for(let r=0;r<bm.length;r++)if(e.getUint8(r)!==bm[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function XP(t){switch(t){case ee.RGBA:return ee.RGBA_INTEGER;case ee.RGB:return ee.RGB_INTEGER;case ee.RG:return ee.RG_INTEGER;case ee.RED:return ee.RED_INTEGER;default:return t}}function qP(t,e,r){const i=new Map;let n=0;for(;n<e;){const s=t.getUint32(yf+n,r),o=yf+n+4,a=3-(s+3)%4;if(s===0||s>e-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),h=new DataView(t.buffer,o+l+1,s-l-1);i.set(c,h),n+=4+s+a}return i}const YP={extension:{type:ie.LoadParser,priority:ni.High},test(t){return _c(t,".dds")},async load(t,e,r){const n=await(await se.ADAPTER.fetch(t)).arrayBuffer(),o=HP(n).map(a=>{const l=new ye(a,{mipmap:ei.OFF,alphaMode:Or.NO_PREMULTIPLIED_ALPHA,resolution:Zi(t),...e.data});return vc(l,r,t)});return o.length===1?o[0]:o},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ue.add(YP);const KP={extension:{type:ie.LoadParser,priority:ni.High},test(t){return _c(t,".ktx")},async load(t,e,r){const n=await(await se.ADAPTER.fetch(t)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:a}=VP(t,n),l=s??o,c={mipmap:ei.OFF,alphaMode:Or.NO_PREMULTIPLIED_ALPHA,resolution:Zi(t),...e.data},h=l.map(f=>{l===o&&Object.assign(c,{type:f.type,format:f.format});const u=new ye(f,c);return u.ktxKeyValueData=a,vc(u,r,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};ue.add(KP);const ZP={extension:ie.ResolveParser,test:t=>{const r=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:t=>{var i,n;if(t.split("?")[0].split(".").pop()==="ktx"){const s=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(s.some(o=>t.endsWith(o)))return{resolution:parseFloat(((i=se.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:s.find(o=>t.endsWith(o)),src:t}}return{resolution:parseFloat(((n=se.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:t.split(".").pop(),src:t}}};ue.add(ZP);const QP=new Be,JP=4,bf=class{constructor(t){this.renderer=t}async image(t,e,r){const i=new Image;return i.src=await this.base64(t,e,r),i}async base64(t,e,r){const i=this.canvas(t);if(i.toDataURL!==void 0)return i.toDataURL(e,r);if(i.convertToBlob!==void 0){const n=await i.convertToBlob({type:e,quality:r});return await new Promise(s=>{const o=new FileReader;o.onload=()=>s(o.result),o.readAsDataURL(n)})}throw new Error("Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:i,height:n,flipY:s}=this._rawPixels(t,e);let o=new Qp(i,n,1);const a=o.context.getImageData(0,0,i,n);if(bf.arrayPostDivide(r,a.data),o.context.putImageData(a,0,0),s){const l=new Qp(o.width,o.height,1);l.context.scale(1,-1),l.context.drawImage(o.canvas,0,-n),o.destroy(),o=l}return o.canvas}pixels(t,e){const{pixels:r}=this._rawPixels(t,e);return bf.arrayPostDivide(r,r),r}_rawPixels(t,e){const r=this.renderer;let i,n=!1,s,o=!1;if(t)if(t instanceof en)s=t;else{const f=r.context.webGLVersion>=2?r.multisample:rt.NONE;if(s=this.renderer.generateTexture(t,{multisample:f}),f!==rt.NONE){const u=en.create({width:s.width,height:s.height});r.framebuffer.bind(s.framebuffer),r.framebuffer.blit(u.framebuffer),r.framebuffer.bind(null),s.destroy(!0),s=u}o=!0}s?(i=s.baseTexture.resolution,e=e??s.frame,n=!1,r.renderTexture.bind(s)):(i=r.resolution,e||(e=QP,e.width=r.width,e.height=r.height),n=!0,r.renderTexture.bind(null));const a=Math.round(e.width*i),l=Math.round(e.height*i),c=new Uint8Array(JP*a*l),h=r.gl;return h.readPixels(Math.round(e.x*i),Math.round(e.y*i),a,l,h.RGBA,h.UNSIGNED_BYTE,c),o&&s.destroy(!0),{pixels:c,width:a,height:l,flipY:n}}destroy(){this.renderer=null}static arrayPostDivide(t,e){for(let r=0;r<t.length;r+=4){const i=e[r+3]=t[r+3];i!==0?(e[r]=Math.round(Math.min(t[r]*255/i,255)),e[r+1]=Math.round(Math.min(t[r+1]*255/i,255)),e[r+2]=Math.round(Math.min(t[r+2]*255/i,255))):(e[r]=t[r],e[r+1]=t[r+1],e[r+2]=t[r+2])}}};let lv=bf;lv.extension={name:"extract",type:ie.RendererSystem};ue.add(lv);const zl={build(t){const e=t.points;let r,i,n,s,o,a;if(t.type===Et.CIRC){const p=t.shape;r=p.x,i=p.y,o=a=p.radius,n=s=0}else if(t.type===Et.ELIP){const p=t.shape;r=p.x,i=p.y,o=p.width,a=p.height,n=s=0}else{const p=t.shape,m=p.width/2,x=p.height/2;r=p.x+m,i=p.y+x,o=a=Math.max(0,Math.min(p.radius,Math.min(m,x))),n=m-o,s=x-a}if(!(o>=0&&a>=0&&n>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),c=l*8+(n?4:0)+(s?4:0);if(e.length=c,c===0)return;if(l===0){e.length=8,e[0]=e[6]=r+n,e[1]=e[3]=i+s,e[2]=e[4]=r-n,e[5]=e[7]=i-s;return}let h=0,f=l*4+(n?2:0)+2,u=f,d=c;{const p=n+o,m=s,x=r+p,y=r-p,_=i+m;if(e[h++]=x,e[h++]=_,e[--f]=_,e[--f]=y,s){const g=i-m;e[u++]=y,e[u++]=g,e[--d]=g,e[--d]=x}}for(let p=1;p<l;p++){const m=Math.PI/2*(p/l),x=n+Math.cos(m)*o,y=s+Math.sin(m)*a,_=r+x,g=r-x,v=i+y,b=i-y;e[h++]=_,e[h++]=v,e[--f]=v,e[--f]=g,e[u++]=g,e[u++]=b,e[--d]=b,e[--d]=_}{const p=n,m=s+a,x=r+p,y=r-p,_=i+m,g=i-m;e[h++]=x,e[h++]=_,e[--d]=g,e[--d]=x,n&&(e[h++]=y,e[h++]=_,e[--d]=g,e[--d]=y)}},triangulate(t,e){const r=t.points,i=e.points,n=e.indices;if(r.length===0)return;let s=i.length/2;const o=s;let a,l;if(t.type!==Et.RREC){const h=t.shape;a=h.x,l=h.y}else{const h=t.shape;a=h.x+h.width/2,l=h.y+h.height/2}const c=t.matrix;i.push(t.matrix?c.a*a+c.c*l+c.tx:a,t.matrix?c.b*a+c.d*l+c.ty:l),s++,i.push(r[0],r[1]);for(let h=2;h<r.length;h+=2)i.push(r[h],r[h+1]),n.push(s++,o,s);n.push(o+1,o,s)}};function Tm(t,e=!1){const r=t.length;if(r<6)return;let i=0;for(let n=0,s=t[r-2],o=t[r-1];n<r;n+=2){const a=t[n],l=t[n+1];i+=(a-s)*(l+o),s=a,o=l}if(!e&&i>0||e&&i<=0){const n=r/2;for(let s=n+n%2;s<r;s+=2){const o=r-s-2,a=r-s-1,l=s,c=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[c]]=[t[c],t[a]]}}}const cv={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const i=t.holes,n=e.points,s=e.indices;if(r.length>=6){Tm(r,!1);const o=[];for(let c=0;c<i.length;c++){const h=i[c];Tm(h.points,!0),o.push(r.length/2),r=r.concat(h.points)}const a=AT(r,o,2);if(!a)return;const l=n.length/2;for(let c=0;c<a.length;c+=3)s.push(a[c]+l),s.push(a[c+1]+l),s.push(a[c+2]+l);for(let c=0;c<r.length;c++)n.push(r[c])}}},eR={build(t){const e=t.shape,r=e.x,i=e.y,n=e.width,s=e.height,o=t.points;o.length=0,n>=0&&s>=0&&o.push(r,i,r+n,i,r+n,i+s,r,i+s)},triangulate(t,e){const r=t.points,i=e.points;if(r.length===0)return;const n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},tR={build(t){zl.build(t)},triangulate(t,e){zl.triangulate(t,e)}};var Ar=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Ar||{}),wn=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(wn||{});const Hs={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class Am{static curveTo(e,r,i,n,s,o){const a=o[o.length-2],c=o[o.length-1]-r,h=a-e,f=n-r,u=i-e,d=Math.abs(c*u-h*f);if(d<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const p=c*c+h*h,m=f*f+u*u,x=c*f+h*u,y=s*Math.sqrt(p)/d,_=s*Math.sqrt(m)/d,g=y*x/p,v=_*x/m,b=y*u+_*h,E=y*f+_*c,T=h*(_+g),A=c*(_+g),R=u*(y+v),w=f*(y+v),B=Math.atan2(A-E,T-b),I=Math.atan2(w-E,R-b);return{cx:b+e,cy:E+r,radius:s,startAngle:B,endAngle:I,anticlockwise:h*f>u*c}}static arc(e,r,i,n,s,o,a,l,c){const h=a-o,f=Hs._segmentsCount(Math.abs(h)*s,Math.ceil(Math.abs(h)/Ol)*40),u=h/(f*2),d=u*2,p=Math.cos(u),m=Math.sin(u),x=f-1,y=x%1/x;for(let _=0;_<=x;++_){const g=_+y*_,v=u+o+d*g,b=Math.cos(v),E=-Math.sin(v);c.push((p*b+m*E)*s+i,(p*-E+m*b)*s+n)}}}class rR{constructor(){this.reset()}begin(e,r,i){this.reset(),this.style=e,this.start=r,this.attribStart=i}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class W0{static curveLength(e,r,i,n,s,o,a,l){let h=0,f=0,u=0,d=0,p=0,m=0,x=0,y=0,_=0,g=0,v=0,b=e,E=r;for(let T=1;T<=10;++T)f=T/10,u=f*f,d=u*f,p=1-f,m=p*p,x=m*p,y=x*e+3*m*f*i+3*p*u*s+d*a,_=x*r+3*m*f*n+3*p*u*o+d*l,g=b-y,v=E-_,b=y,E=_,h+=Math.sqrt(g*g+v*v);return h}static curveTo(e,r,i,n,s,o,a){const l=a[a.length-2],c=a[a.length-1];a.length-=2;const h=Hs._segmentsCount(W0.curveLength(l,c,e,r,i,n,s,o));let f=0,u=0,d=0,p=0,m=0;a.push(l,c);for(let x=1,y=0;x<=h;++x)y=x/h,f=1-y,u=f*f,d=u*f,p=y*y,m=p*y,a.push(d*l+3*u*y*e+3*f*p*i+m*s,d*c+3*u*y*r+3*f*p*n+m*o)}}function Sm(t,e,r,i,n,s,o,a){const l=t-r*n,c=e-i*n,h=t+r*s,f=e+i*s;let u,d;o?(u=i,d=-r):(u=-i,d=r);const p=l+u,m=c+d,x=h+u,y=f+d;return a.push(p,m,x,y),2}function un(t,e,r,i,n,s,o,a){const l=r-t,c=i-e;let h=Math.atan2(l,c),f=Math.atan2(n-t,s-e);a&&h<f?h+=Math.PI*2:!a&&h>f&&(f+=Math.PI*2);let u=h;const d=f-h,p=Math.abs(d),m=Math.sqrt(l*l+c*c),x=(15*p*Math.sqrt(m)/Math.PI>>0)+1,y=d/x;if(u+=y,a){o.push(t,e,r,i);for(let _=1,g=u;_<x;_++,g+=y)o.push(t,e,t+Math.sin(g)*m,e+Math.cos(g)*m);o.push(t,e,n,s)}else{o.push(r,i,t,e);for(let _=1,g=u;_<x;_++,g+=y)o.push(t+Math.sin(g)*m,e+Math.cos(g)*m,t,e);o.push(n,s,t,e)}return x*2}function iR(t,e){const r=t.shape;let i=t.points||r.points.slice();const n=e.closePointEps;if(i.length===0)return;const s=t.lineStyle,o=new Fe(i[0],i[1]),a=new Fe(i[i.length-2],i[i.length-1]),l=r.type!==Et.POLY||r.closeStroke,c=Math.abs(o.x-a.x)<n&&Math.abs(o.y-a.y)<n;if(l){i=i.slice(),c&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));const L=(o.x+a.x)*.5,q=(a.y+o.y)*.5;i.unshift(L,q),i.push(L,q)}const h=e.points,f=i.length/2;let u=i.length;const d=h.length/2,p=s.width/2,m=p*p,x=s.miterLimit*s.miterLimit;let y=i[0],_=i[1],g=i[2],v=i[3],b=0,E=0,T=-(_-v),A=y-g,R=0,w=0,B=Math.sqrt(T*T+A*A);T/=B,A/=B,T*=p,A*=p;const I=s.alignment,D=(1-I)*2,F=I*2;l||(s.cap===wn.ROUND?u+=un(y-T*(D-F)*.5,_-A*(D-F)*.5,y-T*D,_-A*D,y+T*F,_+A*F,h,!0)+2:s.cap===wn.SQUARE&&(u+=Sm(y,_,T,A,D,F,!0,h))),h.push(y-T*D,_-A*D,y+T*F,_+A*F);for(let L=1;L<f-1;++L){y=i[(L-1)*2],_=i[(L-1)*2+1],g=i[L*2],v=i[L*2+1],b=i[(L+1)*2],E=i[(L+1)*2+1],T=-(_-v),A=y-g,B=Math.sqrt(T*T+A*A),T/=B,A/=B,T*=p,A*=p,R=-(v-E),w=g-b,B=Math.sqrt(R*R+w*w),R/=B,w/=B,R*=p,w*=p;const q=g-y,ne=_-v,z=g-b,M=E-v,k=q*z+ne*M,H=ne*z-M*q,U=H<0;if(Math.abs(H)<.001*Math.abs(k)){h.push(g-T*D,v-A*D,g+T*F,v+A*F),k>=0&&(s.join===Ar.ROUND?u+=un(g,v,g-T*D,v-A*D,g-R*D,v-w*D,h,!1)+4:u+=2,h.push(g-R*F,v-w*F,g+R*D,v+w*D));continue}const fe=(-T+y)*(-A+v)-(-T+g)*(-A+_),oe=(-R+b)*(-w+v)-(-R+g)*(-w+E),N=(q*oe-z*fe)/H,$=(M*fe-ne*oe)/H,K=(N-g)*(N-g)+($-v)*($-v),J=g+(N-g)*D,le=v+($-v)*D,xe=g-(N-g)*F,S=v-($-v)*F,P=Math.min(q*q+ne*ne,z*z+M*M),O=U?D:F,j=P+O*O*m,W=K<=j;let Y=s.join;if(Y===Ar.MITER&&K/m>x&&(Y=Ar.BEVEL),W)switch(Y){case Ar.MITER:{h.push(J,le,xe,S);break}case Ar.BEVEL:{U?h.push(J,le,g+T*F,v+A*F,J,le,g+R*F,v+w*F):h.push(g-T*D,v-A*D,xe,S,g-R*D,v-w*D,xe,S),u+=2;break}case Ar.ROUND:{U?(h.push(J,le,g+T*F,v+A*F),u+=un(g,v,g+T*F,v+A*F,g+R*F,v+w*F,h,!0)+4,h.push(J,le,g+R*F,v+w*F)):(h.push(g-T*D,v-A*D,xe,S),u+=un(g,v,g-T*D,v-A*D,g-R*D,v-w*D,h,!1)+4,h.push(g-R*D,v-w*D,xe,S));break}}else{switch(h.push(g-T*D,v-A*D,g+T*F,v+A*F),Y){case Ar.MITER:{U?h.push(xe,S,xe,S):h.push(J,le,J,le),u+=2;break}case Ar.ROUND:{U?u+=un(g,v,g+T*F,v+A*F,g+R*F,v+w*F,h,!0)+2:u+=un(g,v,g-T*D,v-A*D,g-R*D,v-w*D,h,!1)+2;break}}h.push(g-R*D,v-w*D,g+R*F,v+w*F),u+=2}}y=i[(f-2)*2],_=i[(f-2)*2+1],g=i[(f-1)*2],v=i[(f-1)*2+1],T=-(_-v),A=y-g,B=Math.sqrt(T*T+A*A),T/=B,A/=B,T*=p,A*=p,h.push(g-T*D,v-A*D,g+T*F,v+A*F),l||(s.cap===wn.ROUND?u+=un(g-T*(D-F)*.5,v-A*(D-F)*.5,g-T*D,v-A*D,g+T*F,v+A*F,h,!1)+2:s.cap===wn.SQUARE&&(u+=Sm(g,v,T,A,D,F,!1,h)));const G=e.indices,V=Hs.epsilon*Hs.epsilon;for(let L=d;L<u+d-2;++L)y=h[L*2],_=h[L*2+1],g=h[(L+1)*2],v=h[(L+1)*2+1],b=h[(L+2)*2],E=h[(L+2)*2+1],!(Math.abs(y*(v-E)+g*(E-_)+b*(_-v))<V)&&G.push(L,L+1,L+2)}function nR(t,e){let r=0;const i=t.shape,n=t.points||i.points,s=i.type!==Et.POLY||i.closeStroke;if(n.length===0)return;const o=e.points,a=e.indices,l=n.length/2,c=o.length/2;let h=c;for(o.push(n[0],n[1]),r=1;r<l;r++)o.push(n[r*2],n[r*2+1]),a.push(h,h+1),h++;s&&a.push(h,c)}function wm(t,e){t.lineStyle.native?nR(t,e):iR(t,e)}class V0{static curveLength(e,r,i,n,s,o){const a=e-2*i+s,l=r-2*n+o,c=2*i-2*e,h=2*n-2*r,f=4*(a*a+l*l),u=4*(a*c+l*h),d=c*c+h*h,p=2*Math.sqrt(f+u+d),m=Math.sqrt(f),x=2*f*m,y=2*Math.sqrt(d),_=u/m;return(x*p+m*u*(p-y)+(4*d*f-u*u)*Math.log((2*m+_+p)/(_+y)))/(4*x)}static curveTo(e,r,i,n,s){const o=s[s.length-2],a=s[s.length-1],l=Hs._segmentsCount(V0.curveLength(o,a,e,r,i,n));let c=0,h=0;for(let f=1;f<=l;++f){const u=f/l;c=o+(e-o)*u,h=a+(r-a)*u,s.push(c+(e+(i-e)*u-c)*u,h+(r+(n-r)*u-h)*u)}}}const Th={[Et.POLY]:cv,[Et.CIRC]:zl,[Et.ELIP]:zl,[Et.RECT]:eR,[Et.RREC]:tR},Cm=[],Qa=[];class Hl{constructor(e,r=null,i=null,n=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=i,this.fillStyle=r,this.matrix=n,this.type=e.type}clone(){return new Hl(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const ns=new Fe,hv=class extends p1{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new kl,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),Qa.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),Cm.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,i=null){const n=new Hl(t,e,r,i);return this.graphicsData.push(n),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new Hl(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const i=e[r];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(t,ns):ns.copyFrom(t),i.shape.contains(ns.x,ns.y))){let n=!1;if(i.holes){for(let s=0;s<i.holes.length;s++)if(i.holes[s].shape.contains(ns.x,ns.y)){n=!0;break}}if(!n)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,i=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],i=r.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const l=e[a],c=l.fillStyle,h=l.lineStyle;Th[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix),(c.visible||h.visible)&&this.processHoles(l.holes);for(let u=0;u<2;u++){const d=u===0?c:h;if(!d.visible)continue;const p=d.texture.baseTexture,m=this.indices.length,x=this.points.length/2;p.wrapMode=ji.REPEAT,u===0?this.processFill(l):this.processLine(l);const y=this.points.length/2-x;y!==0&&(r&&!this._compareStyles(i,d)&&(r.end(m,x),r=null),r||(r=Cm.pop()||new rR,r.begin(d,m,x),this.batches.push(r),i=d),this.addUvs(this.points,t,d.texture,x,y,d.matrix))}}const n=this.indices.length,s=this.points.length/2;if(r&&r.end(n,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid||n&&!n.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const i=t[e];for(let n=0;n<i.size;n++){const s=i.start+n;this.indicesUint16[s]=this.indicesUint16[s]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<hv.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++ye._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),Qa.push(this.drawCalls[h]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let i=Qa.pop();i||(i=new lf,i.texArray=new hf),i.texArray.count=0,i.start=0,i.size=0,i.type=jr.TRIANGLES;let n=0,s=null,o=0,a=!1,l=jr.TRIANGLES,c=0;this.drawCalls.push(i);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],u=8,d=f.style,p=d.texture.baseTexture;a!==!!d.native&&(a=!!d.native,l=a?jr.LINES:jr.TRIANGLES,s=null,n=u,t++),s!==p&&(s=p,p._batchEnabled!==t&&(n===u&&(t++,n=0,i.size>0&&(i=Qa.pop(),i||(i=new lf,i.texArray=new hf),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=n,p.wrapMode=ji.REPEAT,i.texArray.elements[i.texArray.count++]=p,n++)),i.size+=f.size,c+=f.size,o=p._batchLocation,this.addColors(e,d.color,d.alpha,f.attribSize,f.attribStart),this.addTextureIds(r,o,f.attribSize,f.attribStart)}ye._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(t.length*3*4),s=new Float32Array(n),o=new Uint32Array(n);let a=0;for(let l=0;l<t.length/2;l++)s[a++]=t[l*2],s[a++]=t[l*2+1],s[a++]=e[l*2],s[a++]=e[l*2+1],o[a++]=r[l],s[a++]=i[l];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?cv.triangulate(t,this):Th[t.type].triangulate(t,this)}processLine(t){wm(t,this);for(let e=0;e<t.holes.length;e++)wm(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];Th[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const i=t[r*2],n=t[r*2+1];t[r*2]=e.a*i+e.c*n+e.tx,t[r*2+1]=e.b*i+e.d*n+e.ty}}addColors(t,e,r,i,n=0){const s=(e>>16)+(e&65280)+((e&255)<<16),o=N0(s,r);t.length=Math.max(t.length,n+i);for(let a=0;a<i;a++)t[n+a]=o}addTextureIds(t,e,r,i=0){t.length=Math.max(t.length,i+r);for(let n=0;n<r;n++)t[i+n]=e}addUvs(t,e,r,i,n,s=null){let o=0;const a=e.length,l=r.frame;for(;o<n;){let h=t[(i+o)*2],f=t[(i+o)*2+1];if(s){const u=s.a*h+s.c*f+s.tx;f=s.b*h+s.d*f+s.ty,h=u}o++,e.push(h/l.width,f/l.height)}const c=r.baseTexture;(l.width<c.width||l.height<c.height)&&this.adjustUvs(e,r,a,n)}adjustUvs(t,e,r,i){const n=e.baseTexture,s=1e-6,o=r+i*2,a=e.frame,l=a.width/n.width,c=a.height/n.height;let h=a.x/a.width,f=a.y/a.height,u=Math.floor(t[r]+s),d=Math.floor(t[r+1]+s);for(let p=r+2;p<o;p+=2)u=Math.min(u,Math.floor(t[p]+s)),d=Math.min(d,Math.floor(t[p+1]+s));h-=u,f-=d;for(let p=r;p<o;p+=2)t[p]=(t[p]+h)*l,t[p+1]=(t[p+1]+f)*c}};let uv=hv;uv.BATCHABLE_SIZE=100;class yc{constructor(){this.color=16777215,this.alpha=1,this.texture=ce.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new yc;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ce.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class j0 extends yc{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=wn.BUTT,this.join=Ar.MITER,this.miterLimit=10}clone(){const e=new j0;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const sR=new Float32Array(3),Ah={},fl=class extends ze{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new yc,this._lineStyle=new j0,this._matrix=null,this._holeMode=!1,this.state=Ei.for2d(),this._geometry=t||new uv,this._geometry.refCount++,this._transformID=-1,this.tint=16777215,this.blendMode=_e.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new fl(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tint}set tint(t){this._tint=t}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r=1,i=.5,n=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:i,native:n}),this.lineTextureStyle(t)}lineTextureStyle(t){t=Object.assign({width:0,texture:ce.WHITE,color:t!=null&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:wn.BUTT,join:Ar.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();const e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Cs,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Cs,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return(i!==t||n!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,i){this._initCurve();const n=this.currentPath.points;return n.length===0&&this.moveTo(0,0),V0.curveTo(t,e,r,i,n),this}bezierCurveTo(t,e,r,i,n,s){return this._initCurve(),W0.curveTo(t,e,r,i,n,s,this.currentPath.points),this}arcTo(t,e,r,i,n){this._initCurve(t,e);const s=this.currentPath.points,o=Am.curveTo(t,e,r,i,n,s);if(o){const{cx:a,cy:l,radius:c,startAngle:h,endAngle:f,anticlockwise:u}=o;this.arc(a,l,c,h,f,u)}return this}arc(t,e,r,i,n,s=!1){if(i===n)return this;if(!s&&n<=i?n+=Ol:s&&i<=n&&(i+=Ol),n-i===0)return this;const a=t+Math.cos(i)*r,l=e+Math.sin(i)*r,c=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const f=Math.abs(h[h.length-2]-a),u=Math.abs(h[h.length-1]-l);f<c&&u<c||h.push(a,l)}else this.moveTo(a,l),h=this.currentPath.points;return Am.arc(a,l,t,e,r,i,n,s,h),this}beginFill(t=0,e=1){return this.beginTextureFill({texture:ce.WHITE,color:t,alpha:e})}beginTextureFill(t){t=Object.assign({texture:ce.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();const e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,i){return this.drawShape(new Be(t,e,r,i))}drawRoundedRect(t,e,r,i,n){return this.drawShape(new z0(t,e,r,i,n))}drawCircle(t,e,r){return this.drawShape(new L0(t,e,r))}drawEllipse(t,e,r,i){return this.drawShape(new U0(t,e,r,i))}drawPolygon(...t){let e,r=!0;const i=t[0];i.points?(r=i.closeStroke,e=i.points):Array.isArray(t[0])?e=t[0]:e=t;const n=new Cs(e);return n.closeStroke=r,this.drawShape(n),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===Et.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let i=0;i<r;i++){const n=t.batches[i],s=n.style.color,o=new Float32Array(this.vertexData.buffer,n.attribStart*4*2,n.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,n.attribStart*4*2,n.attribSize*2),l=new Uint16Array(t.indicesUint16.buffer,n.start*2,n.size),c={vertexData:o,blendMode:e,indices:l,uvs:a,_batchRGB:Jo(s),_tintRGB:s,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=c}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,i=this.tint,n=this.worldAlpha,s=e.uniforms,o=r.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(i>>16&255)/255*n,s.tint[1]=(i>>8&255)/255*n,s.tint[2]=(i&255)/255*n,s.tint[3]=n,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(t,r.drawCalls[a])}_renderDrawCallDirect(t,e){const{texArray:r,type:i,size:n,start:s}=e,o=r.count;for(let a=0;a<o;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(i,n,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!Ah[r]){const{maxTextures:i}=t.plugins[r],n=new Int32Array(i);for(let a=0;a<i;a++)n[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ye,default:Fr.from({uSamplers:n},!0)},o=t.plugins[r]._shader.program;Ah[r]=new Kr(o,s)}e=Ah[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:i,maxY:n}=t.bounds;this._bounds.addFrame(this.transform,e,r,i,n)}containsPoint(t){return this.worldTransform.applyInverse(t,fl._TEMP_POINT),this._geometry.containsPoint(fl._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this.tint;const t=Jo(this.tint,sR);for(let e=0;e<this.batches.length;e++){const r=this.batches[e],i=r._batchRGB,n=t[0]*i[0]*255,s=t[1]*i[1]*255,o=t[2]*i[2]*255,a=(n<<16)+(s<<8)+(o|0);r._tintRGB=(a>>16)+(a&65280)+((a&255)<<16)}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,s=e.d,o=e.tx,a=e.ty,l=this._geometry.points,c=this.vertexData;let h=0;for(let f=0;f<l.length;f+=2){const u=l[f],d=l[f+1];c[h++]=r*u+n*d+o,c[h++]=s*d+i*u+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Yn=fl;Yn.curves=Hs;Yn._TEMP_POINT=new Fe;class oR{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Sh=new Fe,Bm=new Cs,fv=class extends ze{constructor(t,e,r,i=jr.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||Ei.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=se.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===jr.TRIANGLES&&e.length<fv.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,i=e._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,l=n.d,c=n.tx,h=n.ty,f=this.vertexData;for(let u=0;u<f.length/2;u++){const d=r[u*2],p=r[u*2+1];f[u*2]=s*d+a*p+c,f[u*2+1]=o*d+l*p+h}if(this._roundPixels){const u=se.RESOLUTION;for(let d=0;d<f.length;++d)f[d]=Math.round(f[d]*u)/u}this.vertexDirty=i}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new oR(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,Sh);const e=this.geometry.getBuffer("aVertexPosition").data,r=Bm.points,i=this.geometry.getIndex().data,n=i.length,s=this.drawMode===4?3:1;for(let o=0;o+2<n;o+=s){const a=i[o]*2,l=i[o+1]*2,c=i[o+2]*2;if(r[0]=e[a],r[1]=e[a+1],r[2]=e[l],r[3]=e[l+1],r[4]=e[c],r[5]=e[c+1],Bm.contains(Sh.x,Sh.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Ef=fv;Ef.BATCHABLE_SIZE=100;class aR extends Qi{constructor(e,r,i){super();const n=new ut(e),s=new ut(r,!0),o=new ut(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,me.FLOAT).addAttribute("aTextureCoord",s,2,!1,me.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var lR=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,cR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Pm extends Kr{constructor(e,r){const i={uSampler:e,alpha:1,uTextureMatrix:Ye.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(i,r.uniforms),super(r.program||Pr.from(cR,lR),i),this._colorDirty=!1,this.uvMatrix=new I1(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this.tint=r.tint,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)}get tint(){return this._tint}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture;c1(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}class Rm{constructor(e,r,i){this.geometry=new Qi,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<e.length;++n){let s=e[n];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||me.FLOAT,offset:s.offset},r[n]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new ut(Z4(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new ut(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=n,n+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new ut(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===me.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===me.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,i){for(let n=0;n<this.dynamicProperties.length;n++){const s=this.dynamicProperties[n];s.uploadFunction(e,r,i,s.type===me.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,i){for(let n=0;n<this.staticProperties.length;n++){const s=this.staticProperties[n];s.uploadFunction(e,r,i,s.type===me.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var hR=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,uR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class dv extends gc{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ye,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:me.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Kr.from(uR,hR,{}),this.state=Ei.for2d()}render(e){const r=e.children,i=e._maxSize,n=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>i&&!e.autoResize&&(o=i);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,c=l.alphaMode>0;this.state.blendMode=l1(e.blendMode,c),s.state.set(this.state);const h=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=K4(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,c),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let u=!1;for(let d=0,p=0;d<o;d+=n,p+=1){let m=o-d;m>n&&(m=n),p>=a.length&&a.push(this._generateOneMoreBuffer(e));const x=a[p];x.uploadDynamic(r,d,m);const y=e._bufferUpdateIDs[p]||0;u=u||x._updateID<y,u&&(x._updateID=e._updateID,x.uploadStatic(r,d,m)),s.geometry.bind(x.geometry),h.drawElements(h.TRIANGLES,m*6,h.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],i=e._maxSize,n=e._batchSize,s=e._properties;for(let o=0;o<i;o+=n)r.push(new Rm(this.properties,s,n));return r}_generateOneMoreBuffer(e){const r=e._batchSize,i=e._properties;return new Rm(this.properties,i,r)}uploadVertices(e,r,i,n,s,o){let a=0,l=0,c=0,h=0;for(let f=0;f<i;++f){const u=e[r+f],d=u._texture,p=u.scale.x,m=u.scale.y,x=d.trim,y=d.orig;x?(l=x.x-u.anchor.x*y.width,a=l+x.width,h=x.y-u.anchor.y*y.height,c=h+x.height):(a=y.width*(1-u.anchor.x),l=y.width*-u.anchor.x,c=y.height*(1-u.anchor.y),h=y.height*-u.anchor.y),n[o]=l*p,n[o+1]=h*m,n[o+s]=a*p,n[o+s+1]=h*m,n[o+s*2]=a*p,n[o+s*2+1]=c*m,n[o+s*3]=l*p,n[o+s*3+1]=c*m,o+=s*4}}uploadPosition(e,r,i,n,s,o){for(let a=0;a<i;a++){const l=e[r+a].position;n[o]=l.x,n[o+1]=l.y,n[o+s]=l.x,n[o+s+1]=l.y,n[o+s*2]=l.x,n[o+s*2+1]=l.y,n[o+s*3]=l.x,n[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,r,i,n,s,o){for(let a=0;a<i;a++){const l=e[r+a].rotation;n[o]=l,n[o+s]=l,n[o+s*2]=l,n[o+s*3]=l,o+=s*4}}uploadUvs(e,r,i,n,s,o){for(let a=0;a<i;++a){const l=e[r+a]._texture._uvs;l?(n[o]=l.x0,n[o+1]=l.y0,n[o+s]=l.x1,n[o+s+1]=l.y1,n[o+s*2]=l.x2,n[o+s*2+1]=l.y2,n[o+s*3]=l.x3,n[o+s*3+1]=l.y3,o+=s*4):(n[o]=0,n[o+1]=0,n[o+s]=0,n[o+s+1]=0,n[o+s*2]=0,n[o+s*2+1]=0,n[o+s*3]=0,n[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,i,n,s,o){for(let a=0;a<i;++a){const l=e[r+a],c=l._texture.baseTexture.alphaMode>0,h=l.alpha,f=h<1&&c?N0(l._tintRGB,h):l._tintRGB+(h*255<<24);n[o]=f,n[o+s]=f,n[o+s*2]=f,n[o+s*3]=f,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}dv.extension={name:"particle",type:ie.RendererPlugin};ue.add(dv);var bc=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(bc||{});const Ja={willReadFrequently:!0},ae=class{static get experimentalLetterSpacingSupported(){let t=ae._experimentalLetterSpacingSupported;if(t!==void 0){const e=se.ADAPTER.getCanvasRenderingContext2D().prototype;t=ae._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,i,n,s,o,a,l){this.text=t,this.style=e,this.width=r,this.height=i,this.lines=n,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(t,e,r,i=ae._canvas){r=r??e.wordWrap;const n=e.toFontString(),s=ae.measureFont(n);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=i.getContext("2d",Ja);o.font=n;const l=(r?ae.wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let h=0;for(let p=0;p<l.length;p++){const m=ae._measureText(l[p],e.letterSpacing,o);c[p]=m,h=Math.max(h,m)}let f=h+e.strokeThickness;e.dropShadow&&(f+=e.dropShadowDistance);const u=e.lineHeight||s.fontSize+e.strokeThickness;let d=Math.max(u,s.fontSize+e.strokeThickness*2)+(l.length-1)*(u+e.leading);return e.dropShadow&&(d+=e.dropShadowDistance),new ae(t,e,f,d,l,c,u+e.leading,h,s)}static _measureText(t,e,r){let i=!1;ae.experimentalLetterSpacingSupported&&(ae.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let n=r.measureText(t).width;return n>0&&(i?n-=e:n+=(ae.graphemeSegmenter(t).length-1)*e),n}static wordWrap(t,e,r=ae._canvas){const i=r.getContext("2d",Ja);let n=0,s="",o="";const a=Object.create(null),{letterSpacing:l,whiteSpace:c}=e,h=ae.collapseSpaces(c),f=ae.collapseNewlines(c);let u=!h;const d=e.wordWrapWidth+l,p=ae.tokenize(t);for(let m=0;m<p.length;m++){let x=p[m];if(ae.isNewline(x)){if(!f){o+=ae.addLine(s),u=!h,s="",n=0;continue}x=" "}if(h){const _=ae.isBreakingSpace(x),g=ae.isBreakingSpace(s[s.length-1]);if(_&&g)continue}const y=ae.getFromCache(x,l,a,i);if(y>d)if(s!==""&&(o+=ae.addLine(s),s="",n=0),ae.canBreakWords(x,e.breakWords)){const _=ae.wordWrapSplit(x);for(let g=0;g<_.length;g++){let v=_[g],b=v,E=1;for(;_[g+E];){const A=_[g+E];if(!ae.canBreakChars(b,A,x,g,e.breakWords))v+=A;else break;b=A,E++}g+=E-1;const T=ae.getFromCache(v,l,a,i);T+n>d&&(o+=ae.addLine(s),u=!1,s="",n=0),s+=v,n+=T}}else{s.length>0&&(o+=ae.addLine(s),s="",n=0);const _=m===p.length-1;o+=ae.addLine(x,!_),u=!1,s="",n=0}else y+n>d&&(u=!1,o+=ae.addLine(s),s="",n=0),(s.length>0||!ae.isBreakingSpace(x)||u)&&(s+=x,n+=y)}return o+=ae.addLine(s,!1),o}static addLine(t,e=!0){return t=ae.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,i){let n=r[t];return typeof n!="number"&&(n=ae._measureText(t,e,i)+e,r[t]=n),n}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!ae.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:ae._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:ae._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let i=0;i<t.length;i++){const n=t[i],s=t[i+1];if(ae.isBreakingSpace(n,s)||ae.isNewline(n)){r!==""&&(e.push(r),r=""),e.push(n);continue}r+=n}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,i,n){return!0}static wordWrapSplit(t){return ae.graphemeSegmenter(t)}static measureFont(t){if(ae._fonts[t])return ae._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=ae._canvas,i=ae._context;i.font=t;const n=ae.METRICS_STRING+ae.BASELINE_SYMBOL,s=Math.ceil(i.measureText(n).width);let o=Math.ceil(i.measureText(ae.BASELINE_SYMBOL).width);const a=Math.ceil(ae.HEIGHT_MULTIPLIER*o);if(o=o*ae.BASELINE_MULTIPLIER|0,s===0||a===0)return ae._fonts[t]=e,e;r.width=s,r.height=a,i.fillStyle="#f00",i.fillRect(0,0,s,a),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(n,0,o);const l=i.getImageData(0,0,s,a).data,c=l.length,h=s*4;let f=0,u=0,d=!1;for(f=0;f<o;++f){for(let p=0;p<h;p+=4)if(l[u+p]!==255){d=!0;break}if(!d)u+=h;else break}for(e.ascent=o-f,u=c-h,d=!1,f=a;f>o;--f){for(let p=0;p<h;p+=4)if(l[u+p]!==255){d=!0;break}if(!d)u-=h;else break}return e.descent=f-o,e.fontSize=e.ascent+e.descent,ae._fonts[t]=e,e}static clearMetrics(t=""){t?delete ae._fonts[t]:ae._fonts={}}static get _canvas(){if(!ae.__canvas){let t;try{const e=new OffscreenCanvas(0,0),r=e.getContext("2d",Ja);if(r!=null&&r.measureText)return ae.__canvas=e,e;t=se.ADAPTER.createCanvas()}catch{t=se.ADAPTER.createCanvas()}t.width=t.height=10,ae.__canvas=t}return ae.__canvas}static get _context(){return ae.__context||(ae.__context=ae._canvas.getContext("2d",Ja)),ae.__context}};let yt=ae;yt.METRICS_STRING="|q";yt.BASELINE_SYMBOL="M";yt.BASELINE_MULTIPLIER=1.4;yt.HEIGHT_MULTIPLIER=2;yt.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})();yt.experimentalLetterSpacing=!1;yt._fonts={};yt._newlines=[10,13];yt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const fR=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],To=class{constructor(t){this.styleID=0,this.reset(),Ch(this,t,t)}clone(){const t={};return Ch(t,this,To.defaultStyle),new To(t)}reset(){Ch(this,To.defaultStyle,To.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=wh(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=wh(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){dR(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=wh(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let i=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!fR.includes(i)&&(i=`"${i}"`),e[r]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Gn=To;Gn.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:bc.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function Dm(t){return typeof t=="number"?o1(t):(typeof t=="string"&&t.startsWith("0x")&&(t=t.replace("0x","#")),t)}function wh(t){if(Array.isArray(t)){for(let e=0;e<t.length;++e)t[e]=Dm(t[e]);return t}else return Dm(t)}function dR(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Ch(t,e,r){for(const i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}const pR={texture:!0,children:!1,baseTexture:!0},Tf=class extends ft{constructor(t,e,r){let i=!1;r||(r=se.ADAPTER.createCanvas(),i=!0),r.width=3,r.height=3;const n=ce.from(r);n.orig=new Be,n.trim=new Be,super(n),this._ownCanvas=i,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=Tf.defaultResolution??se.RESOLUTION,this._autoResolution=Tf.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return yt.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Me("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),yt.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,i=yt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),n=i.width,s=i.height,o=i.lines,a=i.lineHeight,l=i.lineWidths,c=i.maxLineWidth,h=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,n)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let f,u;const d=e.dropShadow?2:1;for(let p=0;p<d;++p){const m=e.dropShadow&&p===0,x=m?Math.ceil(Math.max(1,s)+e.padding*2):0,y=x*this._resolution;if(m){r.fillStyle="black",r.strokeStyle="black";const g=e.dropShadowColor,v=Jo(typeof g=="number"?g:k0(g)),b=e.dropShadowBlur*this._resolution,E=e.dropShadowDistance*this._resolution;r.shadowColor=`rgba(${v[0]*255},${v[1]*255},${v[2]*255},${e.dropShadowAlpha})`,r.shadowBlur=b,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*E,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*E+y}else r.fillStyle=this._generateFillStyle(e,o,i),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let _=(a-h.fontSize)/2;a-h.fontSize<0&&(_=0);for(let g=0;g<o.length;g++)f=e.strokeThickness/2,u=e.strokeThickness/2+g*a+h.ascent+_,e.align==="right"?f+=c-l[g]:e.align==="center"&&(f+=(c-l[g])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[g],f+e.padding,u+e.padding-x,!0),e.fill&&this.drawLetterSpacing(o[g],f+e.padding,u+e.padding-x)}this.updateTexture()}drawLetterSpacing(t,e,r,i=!1){const s=this._style.letterSpacing;let o=!1;if(yt.experimentalLetterSpacingSupported&&(yt.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let a=e;const l=yt.graphemeSegmenter(t);let c=this.context.measureText(t).width,h=0;for(let f=0;f<l.length;++f){const u=l[f];i?this.context.strokeText(u,a,r):this.context.fillText(u,a,r);let d="";for(let p=f+1;p<l.length;++p)d+=l[p];h=this.context.measureText(d).width,a+=c-h+s,c=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=t3(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,i=r.trim?0:r.padding,n=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),n.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const i=t.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let n;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,l=this.canvas.height/this._resolution-s-o*2,c=i.slice(),h=t.fillGradientStops.slice();if(!h.length){const f=c.length+1;for(let u=1;u<f;++u)h.push(u/f)}if(c.unshift(i[0]),h.unshift(0),c.push(i[i.length-1]),h.push(1),t.fillGradientType===bc.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,o,a/2,l+o);const f=r.fontProperties.fontSize+t.strokeThickness;for(let u=0;u<e.length;u++){const d=r.lineHeight*(u-1)+f,p=r.lineHeight*u;let m=p;u>0&&d>p&&(m=(p+d)/2);const x=p+f,y=r.lineHeight*(u+1);let _=x;u+1<e.length&&y<x&&(_=(x+y)/2);const g=(_-m)/l;for(let v=0;v<c.length;v++){let b=0;typeof h[v]=="number"?b=h[v]:b=v/c.length;let E=Math.min(1,Math.max(0,m/l+b*g));E=Number(E.toFixed(5)),n.addColorStop(E,c[v])}}}else{n=this.context.createLinearGradient(o,l/2,a+o,l/2);const f=c.length+1;let u=1;for(let d=0;d<c.length;d++){let p;typeof h[d]=="number"?p=h[d]:p=u/f,n.addColorStop(p,c[d]),u++}}return n}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},pR,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=ms(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=ms(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Gn?this._style=t:this._style=new Gn(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Ec=Tf;Ec.defaultAutoResolution=!0;class mR{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function xR(t,e){var i;let r=!1;if((i=t==null?void 0:t._textures)!=null&&i.length){for(let n=0;n<t._textures.length;n++)if(t._textures[n]instanceof ce){const s=t._textures[n].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function gR(t,e){if(t.baseTexture instanceof ye){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function _R(t,e){if(t._texture&&t._texture instanceof ce){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function vR(t,e){return e instanceof Ec?(e.updateText(!0),!0):!1}function yR(t,e){if(e instanceof Gn){const r=e.toFontString();return yt.measureFont(r),!0}return!1}function bR(t,e){if(t instanceof Ec){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function ER(t,e){return t instanceof Gn?(e.includes(t)||e.push(t),!0):!1}const pv=class{constructor(t){this.limiter=new mR(pv.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(bR),this.registerFindHook(ER),this.registerFindHook(xR),this.registerFindHook(gR),this.registerFindHook(_R),this.registerUploadHook(vR),this.registerUploadHook(yR)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,zt.system.addOnce(this.tick,this,Us.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)zt.system.addOnce(this.tick,this,Us.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof ze)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&zt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let Gl=pv;Gl.uploadsPerFrame=4;Object.defineProperties(se,{UPLOADS_PER_FRAME:{get(){return Gl.uploadsPerFrame},set(t){Me("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),Gl.uploadsPerFrame=t}}});function mv(t,e){return e instanceof ye?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function TR(t,e){if(!(e instanceof Yn))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:i}=r;for(let n=0;n<i.length;n++){const{texture:s}=i[n].style;s&&mv(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function AR(t,e){return t instanceof Yn?(e.push(t),!0):!1}class xv extends Gl{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(AR),this.registerUploadHook(mv),this.registerUploadHook(TR)}}xv.extension={name:"prepare",type:ie.RendererSystem};ue.add(xv);var SR=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,wR=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,CR=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Im=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,BR=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const el=new Ye;class gv extends gc{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new B1,this.state=Ei.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Kr.from(Im,BR,r),this.shader=e.context.webGLVersion>1?Kr.from(wR,SR,r):Kr.from(Im,CR,r)}render(e){const r=this.renderer,i=this.quad;let n=i.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;n=i.uvs,n[0]=n[6]=-s,n[1]=n[3]=-o,n[2]=n[4]=1-s,n[5]=n[7]=1-o,i.invalidate();const a=e._texture,l=a.baseTexture,c=l.alphaMode>0,h=e.tileTransform.localTransform,f=e.uvMatrix;let u=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;u&&(l._glTextures[r.CONTEXT_UID]?u=l.wrapMode!==ji.CLAMP:l.wrapMode===ji.CLAMP&&(l.wrapMode=ji.REPEAT));const d=u?this.simpleShader:this.shader,p=a.width,m=a.height,x=e._width,y=e._height;el.set(h.a*p/x,h.b*p/y,h.c*m/x,h.d*m/y,h.tx/x,h.ty/y),el.invert(),u?el.prepend(f.mapCoord):(d.uniforms.uMapCoord=f.mapCoord.toArray(!0),d.uniforms.uClampFrame=f.uClampFrame,d.uniforms.uClampOffset=f.uClampOffset),d.uniforms.uTransform=el.toArray(!0),d.uniforms.uColor=c1(e.tint,e.worldAlpha,d.uniforms.uColor,c),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=a,r.shader.bind(d),r.geometry.bind(i),this.state.blendMode=l1(e.blendMode,c),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}gv.extension={name:"tilingSprite",type:ie.RendererPlugin};ue.add(gv);const Ao=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof ce?t:null,this.baseTexture=t instanceof ye?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=Zi(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Ao.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=Ao.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const i=this._frameKeys[e],n=this._frames[i],s=n.frame;if(s){let o=null,a=null;const l=n.trimmed!==!1&&n.sourceSize?n.sourceSize:n.frame,c=new Be(0,0,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution);n.rotated?o=new Be(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Be(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),n.trimmed!==!1&&n.spriteSourceSize&&(a=new Be(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new ce(this.baseTexture,o,c,a,n.rotated?2:0,n.anchor),ce.addToCache(this.textures[i],i)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const i=t[e][r];this.animations[e].push(this.textures[i])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ao.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ao.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Cn=Ao;Cn.BATCH_SIZE=1e3;const PR=["jpg","png","jpeg","avif","webp"];function _v(t,e,r){const i={};if(t.forEach(n=>{i[n]=e}),Object.keys(e.textures).forEach(n=>{i[n]=e.textures[n]}),!r){const n=At.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=_v([`${n}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(i,a)})}return i}const RR={extension:ie.Asset,cache:{test:t=>t instanceof Cn,getCacheableAssets:(t,e)=>_v(t,e,!1)},resolver:{test:t=>{const r=t.split("?")[0].split("."),i=r.pop(),n=r.pop();return i==="json"&&PR.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=se.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{extension:{type:ie.LoadParser,priority:ni.Normal},async testParse(t,e){return At.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,h;let i=At.dirname(e.src);i&&i.lastIndexOf("/")!==i.length-1&&(i+="/");let n=i+t.meta.image;n=vf(n,e.src);const o=(await r.load([n]))[n],a=new Cn(o.baseTexture,t,e.src);await a.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const f=[];for(const d of l){if(typeof d!="string")continue;let p=i+d;(h=e.data)!=null&&h.ignoreMultiPack||(p=vf(p,e.src),f.push(r.load({src:p,data:{ignoreMultiPack:!0}})))}const u=await Promise.all(f);a.linkedSheets=u,u.forEach(d=>{d.linkedSheets=[a].concat(a.linkedSheets.filter(p=>p!==d))})}return a},unload(t){t.destroy(!0)}}};ue.add(RR);class $l{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class dl{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const c in a){const h=a[c].split("="),f=h[0],u=h[1].replace(/"/gm,""),d=parseFloat(u),p=isNaN(d)?u:d;l[f]=p}i[o].push(l)}const n=new $l;return i.info.forEach(s=>n.info.push({face:s.face,size:parseInt(s.size,10)})),i.common.forEach(s=>n.common.push({lineHeight:parseInt(s.lineHeight,10)})),i.page.forEach(s=>n.page.push({id:parseInt(s.id,10),file:s.file})),i.char.forEach(s=>n.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),i.kerning.forEach(s=>n.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),i.distanceField.forEach(s=>n.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),n}}class Af{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new $l,i=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let c=0;c<i.length;c++)r.info.push({face:i[c].getAttribute("face"),size:parseInt(i[c].getAttribute("size"),10)});for(let c=0;c<n.length;c++)r.common.push({lineHeight:parseInt(n[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const h=o[c];r.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)r.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<l.length;c++)r.distanceField.push({fieldType:l[c].getAttribute("fieldType"),distanceRange:parseInt(l[c].getAttribute("distanceRange"),10)});return r}}class Sf{static test(e){return typeof e=="string"&&e.includes("<font>")?Af.test(se.ADAPTER.parseXML(e)):!1}static parse(e){return Af.parse(se.ADAPTER.parseXML(e))}}const Bh=[dl,Af,Sf];function DR(t){for(let e=0;e<Bh.length;e++)if(Bh[e].test(t))return Bh[e];return null}function IR(t,e,r,i,n,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,h=t.width/i-l-c*2,f=t.height/i-l-c*2,u=o.slice(),d=r.fillGradientStops.slice();if(!d.length){const p=u.length+1;for(let m=1;m<p;++m)d.push(m/p)}if(u.unshift(o[0]),d.unshift(0),u.push(o[o.length-1]),d.push(1),r.fillGradientType===bc.LINEAR_VERTICAL){a=e.createLinearGradient(h/2,c,h/2,f+c);let p=0;const x=(s.fontProperties.fontSize+r.strokeThickness)/f;for(let y=0;y<n.length;y++){const _=s.lineHeight*y;for(let g=0;g<u.length;g++){let v=0;typeof d[g]=="number"?v=d[g]:v=g/u.length;const b=_/f+v*x;let E=Math.max(p,b);E=Math.min(E,1),a.addColorStop(E,u[g]),p=E}}}else{a=e.createLinearGradient(c,f/2,h+c,f/2);const p=u.length+1;let m=1;for(let x=0;x<u.length;x++){let y;typeof d[x]=="number"?y=d[x]:y=m/p,a.addColorStop(y,u[x]),m++}}return a}function FR(t,e,r,i,n,s,o){const a=r.text,l=r.fontProperties;e.translate(i,n),e.scale(s,s);const c=o.strokeThickness/2,h=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=IR(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,u=Jo(typeof f=="number"?f:k0(f)),d=o.dropShadowBlur*s,p=o.dropShadowDistance*s;e.shadowColor=`rgba(${u[0]*255},${u[1]*255},${u[2]*255},${o.dropShadowAlpha})`,e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*p,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*p}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,c,h+r.lineHeight-l.descent),o.fill&&e.fillText(a,c,h+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function pl(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function vv(t){return Array.from?Array.from(t):t.split("")}function MR(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,i=t.length;r<i;r++){const n=t[r];if(Array.isArray(n)){if(n.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const s=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...vv(n))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Tr=class{constructor(t,e,r){var c;const[i]=t.info,[n]=t.common,[s]=t.page,[o]=t.distanceField,a=Zi(s.file),l={};this._ownsTextures=r,this.font=i.face,this.size=i.size,this.lineHeight=n.lineHeight/a,this.chars={},this.pageTextures=l;for(let h=0;h<t.page.length;h++){const{id:f,file:u}=t.page[h];l[f]=e instanceof Array?e[h]:e[u],o!=null&&o.fieldType&&o.fieldType!=="none"&&(l[f].baseTexture.alphaMode=Or.NO_PREMULTIPLIED_ALPHA,l[f].baseTexture.mipmap=ei.OFF)}for(let h=0;h<t.char.length;h++){const{id:f,page:u}=t.char[h];let{x:d,y:p,width:m,height:x,xoffset:y,yoffset:_,xadvance:g}=t.char[h];d/=a,p/=a,m/=a,x/=a,y/=a,_/=a,g/=a;const v=new Be(d+l[u].frame.x/a,p+l[u].frame.y/a,m,x);this.chars[f]={xOffset:y,yOffset:_,xAdvance:g,kerning:{},texture:new ce(l[u].baseTexture,v),page:u}}for(let h=0;h<t.kerning.length;h++){let{first:f,second:u,amount:d}=t.kerning[h];f/=a,u/=a,d/=a,this.chars[u]&&(this.chars[u].kerning[f]=d)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((c=o==null?void 0:o.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let i;if(t instanceof $l)i=t;else{const s=DR(t);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(t)}e instanceof ce&&(e=[e]);const n=new Tr(i,e,r);return Tr.available[n.font]=n,n}static uninstall(t){const e=Tr.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Tr.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:n,resolution:s,textureWidth:o,textureHeight:a,...l}=Object.assign({},Tr.defaultOptions,r),c=MR(i),h=e instanceof Gn?e:new Gn(e),f=o,u=new $l;u.info[0]={face:h.fontFamily,size:h.fontSize},u.common[0]={lineHeight:h.fontSize};let d=0,p=0,m,x,y,_=0;const g=[];for(let b=0;b<c.length;b++){m||(m=se.ADAPTER.createCanvas(),m.width=o,m.height=a,x=m.getContext("2d"),y=new ye(m,{resolution:s,...l}),g.push(new ce(y)),u.page.push({id:g.length-1,file:""}));const E=c[b],T=yt.measureText(E,h,!1,m),A=T.width,R=Math.ceil(T.height),w=Math.ceil((h.fontStyle==="italic"?2:1)*A);if(p>=a-R*s){if(p===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${E}')`);--b,m=null,x=null,y=null,p=0,d=0,_=0;continue}if(_=Math.max(R+T.fontProperties.descent,_),w*s+d>=f){if(d===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${E}')`);--b,p+=_*s,p=Math.ceil(p),d=0,_=0;continue}FR(m,x,T,d,p,s,h);const B=pl(T.text);u.char.push({id:B,page:g.length-1,x:d/s,y:p/s,width:w,height:R,xoffset:0,yoffset:0,xadvance:A-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),d+=(w+2*n)*s,d=Math.ceil(d)}for(let b=0,E=c.length;b<E;b++){const T=c[b];for(let A=0;A<E;A++){const R=c[A],w=x.measureText(T).width,B=x.measureText(R).width,D=x.measureText(T+R).width-(w+B);D&&u.kerning.push({first:pl(T),second:pl(R),amount:D})}}const v=new Tr(u,g,!0);return Tr.available[t]!==void 0&&Tr.uninstall(t),Tr.available[t]=v,v}};let Ut=Tr;Ut.ALPHA=[["a","z"],["A","Z"]," "];Ut.NUMERIC=[["0","9"]];Ut.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];Ut.ASCII=[[" ","~"]];Ut.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Tr.ALPHANUMERIC};Ut.available={};var OR=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,kR=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Fm=[],Mm=[],Om=[],yv=class extends ze{constructor(t,e={}){super(),this._tint=16777215;const{align:r,tint:i,maxWidth:n,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},yv.styleDefaults,e);if(!Ut.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tint=i,this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=n,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Li(()=>{this.dirty=!0},this,0,0),this._roundPixels=se.ROUND_PIXELS,this.dirty=!0,this._resolution=se.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var w;const t=Ut.available[this._fontName],e=this.fontSize,r=e/t.size,i=new Fe,n=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",l=vv(a),c=this._maxWidth*t.size/e,h=t.distanceFieldType==="none"?Fm:Mm;let f=null,u=0,d=0,p=0,m=-1,x=0,y=0,_=0,g=0;for(let B=0;B<l.length;B++){const I=l[B],D=pl(I);if(/(?:\s)/.test(I)&&(m=B,x=u,g++),I==="\r"||I===`
`){s.push(u),o.push(-1),d=Math.max(d,u),++p,++y,i.x=0,i.y+=t.lineHeight,f=null,g=0;continue}const F=t.chars[D];if(!F)continue;f&&F.kerning[f]&&(i.x+=F.kerning[f]);const G=Om.pop()||{texture:ce.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Fe};G.texture=F.texture,G.line=p,G.charCode=D,G.position.x=Math.round(i.x+F.xOffset+this._letterSpacing/2),G.position.y=Math.round(i.y+F.yOffset),G.prevSpaces=g,n.push(G),u=G.position.x+Math.max(F.xAdvance-F.xOffset,F.texture.orig.width),i.x+=F.xAdvance+this._letterSpacing,_=Math.max(_,F.yOffset+F.texture.height),f=D,m!==-1&&c>0&&i.x>c&&(++y,ws(n,1+m-y,1+B-m),B=m,m=-1,s.push(x),o.push(n.length>0?n[n.length-1].prevSpaces:0),d=Math.max(d,x),p++,i.x=0,i.y+=t.lineHeight,f=null,g=0)}const v=l[l.length-1];v!=="\r"&&v!==`
`&&(/(?:\s)/.test(v)&&(u=x),s.push(u),d=Math.max(d,u),o.push(-1));const b=[];for(let B=0;B<=p;B++){let I=0;this._align==="right"?I=d-s[B]:this._align==="center"?I=(d-s[B])/2:this._align==="justify"&&(I=o[B]<0?0:(d-s[B])/o[B]),b.push(I)}const E=n.length,T={},A=[],R=this._activePagesMeshData;h.push(...R);for(let B=0;B<E;B++){const I=n[B].texture,D=I.baseTexture.uid;if(!T[D]){let F=h.pop();if(!F){const V=new aR;let L,q;t.distanceFieldType==="none"?(L=new Pm(ce.EMPTY),q=_e.NORMAL):(L=new Pm(ce.EMPTY,{program:Pr.from(kR,OR),uniforms:{uFWidth:0}}),q=_e.NORMAL_NPM);const ne=new Ef(V,L);ne.blendMode=q,F={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:ne,vertices:null,uvs:null,indices:null}}F.index=0,F.indexCount=0,F.vertexCount=0,F.uvsCount=0,F.total=0;const{_textureCache:G}=this;G[D]=G[D]||new ce(I.baseTexture),F.mesh.texture=G[D],F.mesh.tint=this._tint,A.push(F),T[D]=F}T[D].total++}for(let B=0;B<R.length;B++)A.includes(R[B])||this.removeChild(R[B].mesh);for(let B=0;B<A.length;B++)A[B].mesh.parent!==this&&this.addChild(A[B].mesh);this._activePagesMeshData=A;for(const B in T){const I=T[B],D=I.total;if(!(((w=I.indices)==null?void 0:w.length)>6*D)||I.vertices.length<Ef.BATCHABLE_SIZE*2)I.vertices=new Float32Array(4*2*D),I.uvs=new Float32Array(4*2*D),I.indices=new Uint16Array(6*D);else{const F=I.total,G=I.vertices;for(let V=F*4*2;V<G.length;V++)G[V]=0}I.mesh.size=6*D}for(let B=0;B<E;B++){const I=n[B];let D=I.position.x+b[I.line]*(this._align==="justify"?I.prevSpaces:1);this._roundPixels&&(D=Math.round(D));const F=D*r,G=I.position.y*r,V=I.texture,L=T[V.baseTexture.uid],q=V.frame,ne=V._uvs,z=L.index++;L.indices[z*6+0]=0+z*4,L.indices[z*6+1]=1+z*4,L.indices[z*6+2]=2+z*4,L.indices[z*6+3]=0+z*4,L.indices[z*6+4]=2+z*4,L.indices[z*6+5]=3+z*4,L.vertices[z*8+0]=F,L.vertices[z*8+1]=G,L.vertices[z*8+2]=F+q.width*r,L.vertices[z*8+3]=G,L.vertices[z*8+4]=F+q.width*r,L.vertices[z*8+5]=G+q.height*r,L.vertices[z*8+6]=F,L.vertices[z*8+7]=G+q.height*r,L.uvs[z*8+0]=ne.x0,L.uvs[z*8+1]=ne.y0,L.uvs[z*8+2]=ne.x1,L.uvs[z*8+3]=ne.y1,L.uvs[z*8+4]=ne.x2,L.uvs[z*8+5]=ne.y2,L.uvs[z*8+6]=ne.x3,L.uvs[z*8+7]=ne.y3}this._textWidth=d*r,this._textHeight=(i.y+t.lineHeight)*r;for(const B in T){const I=T[B];if(this.anchor.x!==0||this.anchor.y!==0){let V=0;const L=this._textWidth*this.anchor.x,q=this._textHeight*this.anchor.y;for(let ne=0;ne<I.total;ne++)I.vertices[V++]-=L,I.vertices[V++]-=q,I.vertices[V++]-=L,I.vertices[V++]-=q,I.vertices[V++]-=L,I.vertices[V++]-=q,I.vertices[V++]-=L,I.vertices[V++]-=q}this._maxLineHeight=_*r;const D=I.mesh.geometry.getBuffer("aVertexPosition"),F=I.mesh.geometry.getBuffer("aTextureCoord"),G=I.mesh.geometry.getIndex();D.data=I.vertices,F.data=I.uvs,G.data=I.indices,D.update(),F.update(),G.update()}for(let B=0;B<n.length;B++)Om.push(n[B]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:i}=Ut.available[this._fontName];if(r!=="none"){const{a:n,b:s,c:o,d:a}=this.worldTransform,l=Math.sqrt(n*n+s*s),c=Math.sqrt(o*o+a*a),h=(Math.abs(l)+Math.abs(c))/2,f=this.fontSize/i,u=t._view.resolution;for(const d of this._activePagesMeshData)d.mesh.shader.uniforms.uFWidth=h*e*f*u}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Ut.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tint}set tint(t){if(this._tint!==t){this._tint=t;for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Ut.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Ut.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,i=Ut.available[this._fontName].distanceFieldType==="none"?Fm:Mm;i.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],i.filter(n=>e[n.mesh.texture.baseTexture.uid]).forEach(n=>{n.mesh.texture=ce.EMPTY});for(const n in e)e[n].destroy(),delete e[n];this._font=null,this._textureCache=null,super.destroy(t)}};let NR=yv;NR.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const LR=[".xml",".fnt"],UR={extension:{type:ie.LoadParser,priority:ni.Normal},test(t){return LR.includes(At.extname(t).toLowerCase())},async testParse(t){return dl.test(t)||Sf.test(t)},async parse(t,e,r){const i=dl.test(t)?dl.parse(t):Sf.parse(t),{src:n}=e,{page:s}=i,o=[];for(let c=0;c<s.length;++c){const h=s[c].file;let f=At.join(At.dirname(n),h);f=vf(f,n),o.push(f)}const a=await r.load(o),l=o.map(c=>a[c]);return Ut.install(i,l,!0)},async load(t,e){return(await se.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};ue.add(UR);const Sn=class Sn{constructor(){pe(this,"mRscObject");Sn.handle=this,this.mRscObject={}}static get getHandle(){return Sn.handle?Sn.handle:new Sn}get getRscList(){return this.mRscObject}async loadRsc(e,r){var s,o;const i=(o=(s=gi.getHandle.getScene)==null?void 0:s.info)==null?void 0:o.name,n=r||i;if(!this.mRscObject[`${n}/${e}`]){Xr.add(`${n}/${e}`,e);try{this.mRscObject[`${n}/${e}`]=await Xr.load(`/rsc/${r}/img/${e}`)}catch(a){console.error(a)}}}async loadAllRsc(e){var i,n;const r=(n=(i=gi.getHandle.getScene)==null?void 0:i.info)==null?void 0:n.name;for(const s of e.img)await this.loadRsc(s,r)}async loadCommonRsc(e){for(const r of e.img)await this.loadRsc(r,"common")}getRsc(e,r){var s,o;const n=`${r?"common":(o=(s=gi.getHandle.getScene)==null?void 0:s.info)==null?void 0:o.name}/${e}`;return this.mRscObject[n]?this.mRscObject[n]:(console.error(`[${n}]  .`),null)}};pe(Sn,"handle");let Ht=Sn;var zR=typeof global=="object"&&global&&global.Object===Object&&global;const bv=zR;var HR=typeof self=="object"&&self&&self.Object===Object&&self,GR=bv||HR||Function("return this")();const si=GR;var $R=si.Symbol;const ti=$R;var Ev=Object.prototype,WR=Ev.hasOwnProperty,VR=Ev.toString,xo=ti?ti.toStringTag:void 0;function jR(t){var e=WR.call(t,xo),r=t[xo];try{t[xo]=void 0;var i=!0}catch{}var n=VR.call(t);return i&&(e?t[xo]=r:delete t[xo]),n}var XR=Object.prototype,qR=XR.toString;function YR(t){return qR.call(t)}var KR="[object Null]",ZR="[object Undefined]",km=ti?ti.toStringTag:void 0;function no(t){return t==null?t===void 0?ZR:KR:km&&km in Object(t)?jR(t):YR(t)}function Gs(t){return t!=null&&typeof t=="object"}var QR="[object Symbol]";function Tc(t){return typeof t=="symbol"||Gs(t)&&no(t)==QR}function X0(t,e){for(var r=-1,i=t==null?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}var JR=Array.isArray;const sr=JR;var eD=1/0,Nm=ti?ti.prototype:void 0,Lm=Nm?Nm.toString:void 0;function Tv(t){if(typeof t=="string")return t;if(sr(t))return X0(t,Tv)+"";if(Tc(t))return Lm?Lm.call(t):"";var e=t+"";return e=="0"&&1/t==-eD?"-0":e}var tD=/\s/;function rD(t){for(var e=t.length;e--&&tD.test(t.charAt(e)););return e}var iD=/^\s+/;function nD(t){return t&&t.slice(0,rD(t)+1).replace(iD,"")}function $s(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Um=0/0,sD=/^[-+]0x[0-9a-f]+$/i,oD=/^0b[01]+$/i,aD=/^0o[0-7]+$/i,lD=parseInt;function wf(t){if(typeof t=="number")return t;if(Tc(t))return Um;if($s(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=$s(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=nD(t);var r=oD.test(t);return r||aD.test(t)?lD(t.slice(2),r?2:8):sD.test(t)?Um:+t}var zm=1/0,cD=17976931348623157e292;function hD(t){if(!t)return t===0?t:0;if(t=wf(t),t===zm||t===-zm){var e=t<0?-1:1;return e*cD}return t===t?t:0}function uD(t){var e=hD(t),r=e%1;return e===e?r?e-r:e:0}function fD(t){return t}var dD="[object AsyncFunction]",pD="[object Function]",mD="[object GeneratorFunction]",xD="[object Proxy]";function Av(t){if(!$s(t))return!1;var e=no(t);return e==pD||e==mD||e==dD||e==xD}var gD=si["__core-js_shared__"];const Ph=gD;var Hm=function(){var t=/[^.]+$/.exec(Ph&&Ph.keys&&Ph.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function _D(t){return!!Hm&&Hm in t}var vD=Function.prototype,yD=vD.toString;function Kn(t){if(t!=null){try{return yD.call(t)}catch{}try{return t+""}catch{}}return""}var bD=/[\\^$.*+?()[\]{}|]/g,ED=/^\[object .+?Constructor\]$/,TD=Function.prototype,AD=Object.prototype,SD=TD.toString,wD=AD.hasOwnProperty,CD=RegExp("^"+SD.call(wD).replace(bD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BD(t){if(!$s(t)||_D(t))return!1;var e=Av(t)?CD:ED;return e.test(Kn(t))}function PD(t,e){return t==null?void 0:t[e]}function so(t,e){var r=PD(t,e);return BD(r)?r:void 0}var RD=so(si,"WeakMap");const Cf=RD;function DD(t,e){var r=-1,i=t.length;for(e||(e=Array(i));++r<i;)e[r]=t[r];return e}function ID(t,e,r,i){for(var n=t.length,s=r+(i?1:-1);i?s--:++s<n;)if(e(t[s],s,t))return s;return-1}var FD=9007199254740991,MD=/^(?:0|[1-9]\d*)$/;function Sv(t,e){var r=typeof t;return e=e??FD,!!e&&(r=="number"||r!="symbol"&&MD.test(t))&&t>-1&&t%1==0&&t<e}function wv(t,e){return t===e||t!==t&&e!==e}var OD=9007199254740991;function q0(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=OD}function Ac(t){return t!=null&&q0(t.length)&&!Av(t)}var kD=Object.prototype;function ND(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||kD;return t===r}function LD(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}var UD="[object Arguments]";function Gm(t){return Gs(t)&&no(t)==UD}var Cv=Object.prototype,zD=Cv.hasOwnProperty,HD=Cv.propertyIsEnumerable,GD=Gm(function(){return arguments}())?Gm:function(t){return Gs(t)&&zD.call(t,"callee")&&!HD.call(t,"callee")};const Y0=GD;function $D(){return!1}var Bv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$m=Bv&&typeof module=="object"&&module&&!module.nodeType&&module,WD=$m&&$m.exports===Bv,Wm=WD?si.Buffer:void 0,VD=Wm?Wm.isBuffer:void 0,jD=VD||$D;const Bf=jD;var XD="[object Arguments]",qD="[object Array]",YD="[object Boolean]",KD="[object Date]",ZD="[object Error]",QD="[object Function]",JD="[object Map]",eI="[object Number]",tI="[object Object]",rI="[object RegExp]",iI="[object Set]",nI="[object String]",sI="[object WeakMap]",oI="[object ArrayBuffer]",aI="[object DataView]",lI="[object Float32Array]",cI="[object Float64Array]",hI="[object Int8Array]",uI="[object Int16Array]",fI="[object Int32Array]",dI="[object Uint8Array]",pI="[object Uint8ClampedArray]",mI="[object Uint16Array]",xI="[object Uint32Array]",Ve={};Ve[lI]=Ve[cI]=Ve[hI]=Ve[uI]=Ve[fI]=Ve[dI]=Ve[pI]=Ve[mI]=Ve[xI]=!0;Ve[XD]=Ve[qD]=Ve[oI]=Ve[YD]=Ve[aI]=Ve[KD]=Ve[ZD]=Ve[QD]=Ve[JD]=Ve[eI]=Ve[tI]=Ve[rI]=Ve[iI]=Ve[nI]=Ve[sI]=!1;function gI(t){return Gs(t)&&q0(t.length)&&!!Ve[no(t)]}function _I(t){return function(e){return t(e)}}var Pv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,No=Pv&&typeof module=="object"&&module&&!module.nodeType&&module,vI=No&&No.exports===Pv,Rh=vI&&bv.process,yI=function(){try{var t=No&&No.require&&No.require("util").types;return t||Rh&&Rh.binding&&Rh.binding("util")}catch{}}();const Vm=yI;var jm=Vm&&Vm.isTypedArray,bI=jm?_I(jm):gI;const Rv=bI;var EI=Object.prototype,TI=EI.hasOwnProperty;function AI(t,e){var r=sr(t),i=!r&&Y0(t),n=!r&&!i&&Bf(t),s=!r&&!i&&!n&&Rv(t),o=r||i||n||s,a=o?LD(t.length,String):[],l=a.length;for(var c in t)(e||TI.call(t,c))&&!(o&&(c=="length"||n&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Sv(c,l)))&&a.push(c);return a}function SI(t,e){return function(r){return t(e(r))}}var wI=SI(Object.keys,Object);const CI=wI;var BI=Object.prototype,PI=BI.hasOwnProperty;function RI(t){if(!ND(t))return CI(t);var e=[];for(var r in Object(t))PI.call(t,r)&&r!="constructor"&&e.push(r);return e}function Ea(t){return Ac(t)?AI(t):RI(t)}var DI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,II=/^\w*$/;function K0(t,e){if(sr(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Tc(t)?!0:II.test(t)||!DI.test(t)||e!=null&&t in Object(e)}var FI=so(Object,"create");const ia=FI;function MI(){this.__data__=ia?ia(null):{},this.size=0}function OI(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var kI="__lodash_hash_undefined__",NI=Object.prototype,LI=NI.hasOwnProperty;function UI(t){var e=this.__data__;if(ia){var r=e[t];return r===kI?void 0:r}return LI.call(e,t)?e[t]:void 0}var zI=Object.prototype,HI=zI.hasOwnProperty;function GI(t){var e=this.__data__;return ia?e[t]!==void 0:HI.call(e,t)}var $I="__lodash_hash_undefined__";function WI(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ia&&e===void 0?$I:e,this}function $n(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}$n.prototype.clear=MI;$n.prototype.delete=OI;$n.prototype.get=UI;$n.prototype.has=GI;$n.prototype.set=WI;function VI(){this.__data__=[],this.size=0}function Sc(t,e){for(var r=t.length;r--;)if(wv(t[r][0],e))return r;return-1}var jI=Array.prototype,XI=jI.splice;function qI(t){var e=this.__data__,r=Sc(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():XI.call(e,r,1),--this.size,!0}function YI(t){var e=this.__data__,r=Sc(e,t);return r<0?void 0:e[r][1]}function KI(t){return Sc(this.__data__,t)>-1}function ZI(t,e){var r=this.__data__,i=Sc(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}function Ti(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Ti.prototype.clear=VI;Ti.prototype.delete=qI;Ti.prototype.get=YI;Ti.prototype.has=KI;Ti.prototype.set=ZI;var QI=so(si,"Map");const na=QI;function JI(){this.size=0,this.__data__={hash:new $n,map:new(na||Ti),string:new $n}}function e8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function wc(t,e){var r=t.__data__;return e8(e)?r[typeof e=="string"?"string":"hash"]:r.map}function t8(t){var e=wc(this,t).delete(t);return this.size-=e?1:0,e}function r8(t){return wc(this,t).get(t)}function i8(t){return wc(this,t).has(t)}function n8(t,e){var r=wc(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}function Ai(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Ai.prototype.clear=JI;Ai.prototype.delete=t8;Ai.prototype.get=r8;Ai.prototype.has=i8;Ai.prototype.set=n8;var s8="Expected a function";function Z0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(s8);var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],s=r.cache;if(s.has(n))return s.get(n);var o=t.apply(this,i);return r.cache=s.set(n,o)||s,o};return r.cache=new(Z0.Cache||Ai),r}Z0.Cache=Ai;var o8=500;function a8(t){var e=Z0(t,function(i){return r.size===o8&&r.clear(),i}),r=e.cache;return e}var l8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c8=/\\(\\)?/g,h8=a8(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(l8,function(r,i,n,s){e.push(n?s.replace(c8,"$1"):i||r)}),e});const u8=h8;function f8(t){return t==null?"":Tv(t)}function Dv(t,e){return sr(t)?t:K0(t,e)?[t]:u8(f8(t))}var d8=1/0;function Cc(t){if(typeof t=="string"||Tc(t))return t;var e=t+"";return e=="0"&&1/t==-d8?"-0":e}function Iv(t,e){e=Dv(e,t);for(var r=0,i=e.length;t!=null&&r<i;)t=t[Cc(e[r++])];return r&&r==i?t:void 0}function p8(t,e,r){var i=t==null?void 0:Iv(t,e);return i===void 0?r:i}function Fv(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}var Xm=ti?ti.isConcatSpreadable:void 0;function m8(t){return sr(t)||Y0(t)||!!(Xm&&t&&t[Xm])}function Mv(t,e,r,i,n){var s=-1,o=t.length;for(r||(r=m8),n||(n=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?Mv(a,e-1,r,i,n):Fv(n,a):i||(n[n.length]=a)}return n}function x8(t){var e=t==null?0:t.length;return e?Mv(t,1):[]}function g8(){this.__data__=new Ti,this.size=0}function _8(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function v8(t){return this.__data__.get(t)}function y8(t){return this.__data__.has(t)}var b8=200;function E8(t,e){var r=this.__data__;if(r instanceof Ti){var i=r.__data__;if(!na||i.length<b8-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ai(i)}return r.set(t,e),this.size=r.size,this}function xi(t){var e=this.__data__=new Ti(t);this.size=e.size}xi.prototype.clear=g8;xi.prototype.delete=_8;xi.prototype.get=v8;xi.prototype.has=y8;xi.prototype.set=E8;function Ov(t,e){for(var r=-1,i=t==null?0:t.length,n=0,s=[];++r<i;){var o=t[r];e(o,r,t)&&(s[n++]=o)}return s}function T8(){return[]}var A8=Object.prototype,S8=A8.propertyIsEnumerable,qm=Object.getOwnPropertySymbols,w8=qm?function(t){return t==null?[]:(t=Object(t),Ov(qm(t),function(e){return S8.call(t,e)}))}:T8;const C8=w8;function B8(t,e,r){var i=e(t);return sr(t)?i:Fv(i,r(t))}function Ym(t){return B8(t,Ea,C8)}var P8=so(si,"DataView");const Pf=P8;var R8=so(si,"Promise");const Rf=R8;var D8=so(si,"Set");const Df=D8;var Km="[object Map]",I8="[object Object]",Zm="[object Promise]",Qm="[object Set]",Jm="[object WeakMap]",ex="[object DataView]",F8=Kn(Pf),M8=Kn(na),O8=Kn(Rf),k8=Kn(Df),N8=Kn(Cf),yn=no;(Pf&&yn(new Pf(new ArrayBuffer(1)))!=ex||na&&yn(new na)!=Km||Rf&&yn(Rf.resolve())!=Zm||Df&&yn(new Df)!=Qm||Cf&&yn(new Cf)!=Jm)&&(yn=function(t){var e=no(t),r=e==I8?t.constructor:void 0,i=r?Kn(r):"";if(i)switch(i){case F8:return ex;case M8:return Km;case O8:return Zm;case k8:return Qm;case N8:return Jm}return e});const tx=yn;var L8=si.Uint8Array;const rx=L8;var U8="__lodash_hash_undefined__";function z8(t){return this.__data__.set(t,U8),this}function H8(t){return this.__data__.has(t)}function Wl(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Ai;++e<r;)this.add(t[e])}Wl.prototype.add=Wl.prototype.push=z8;Wl.prototype.has=H8;function G8(t,e){for(var r=-1,i=t==null?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}function $8(t,e){return t.has(e)}var W8=1,V8=2;function kv(t,e,r,i,n,s){var o=r&W8,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),h=s.get(e);if(c&&h)return c==e&&h==t;var f=-1,u=!0,d=r&V8?new Wl:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var p=t[f],m=e[f];if(i)var x=o?i(m,p,f,e,t,s):i(p,m,f,t,e,s);if(x!==void 0){if(x)continue;u=!1;break}if(d){if(!G8(e,function(y,_){if(!$8(d,_)&&(p===y||n(p,y,r,i,s)))return d.push(_)})){u=!1;break}}else if(!(p===m||n(p,m,r,i,s))){u=!1;break}}return s.delete(t),s.delete(e),u}function j8(t){var e=-1,r=Array(t.size);return t.forEach(function(i,n){r[++e]=[n,i]}),r}function X8(t){var e=-1,r=Array(t.size);return t.forEach(function(i){r[++e]=i}),r}var q8=1,Y8=2,K8="[object Boolean]",Z8="[object Date]",Q8="[object Error]",J8="[object Map]",e5="[object Number]",t5="[object RegExp]",r5="[object Set]",i5="[object String]",n5="[object Symbol]",s5="[object ArrayBuffer]",o5="[object DataView]",ix=ti?ti.prototype:void 0,Dh=ix?ix.valueOf:void 0;function a5(t,e,r,i,n,s,o){switch(r){case o5:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case s5:return!(t.byteLength!=e.byteLength||!s(new rx(t),new rx(e)));case K8:case Z8:case e5:return wv(+t,+e);case Q8:return t.name==e.name&&t.message==e.message;case t5:case i5:return t==e+"";case J8:var a=j8;case r5:var l=i&q8;if(a||(a=X8),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;i|=Y8,o.set(t,e);var h=kv(a(t),a(e),i,n,s,o);return o.delete(t),h;case n5:if(Dh)return Dh.call(t)==Dh.call(e)}return!1}var l5=1,c5=Object.prototype,h5=c5.hasOwnProperty;function u5(t,e,r,i,n,s){var o=r&l5,a=Ym(t),l=a.length,c=Ym(e),h=c.length;if(l!=h&&!o)return!1;for(var f=l;f--;){var u=a[f];if(!(o?u in e:h5.call(e,u)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var m=!0;s.set(t,e),s.set(e,t);for(var x=o;++f<l;){u=a[f];var y=t[u],_=e[u];if(i)var g=o?i(_,y,u,e,t,s):i(y,_,u,t,e,s);if(!(g===void 0?y===_||n(y,_,r,i,s):g)){m=!1;break}x||(x=u=="constructor")}if(m&&!x){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!(typeof v=="function"&&v instanceof v&&typeof b=="function"&&b instanceof b)&&(m=!1)}return s.delete(t),s.delete(e),m}var f5=1,nx="[object Arguments]",sx="[object Array]",tl="[object Object]",d5=Object.prototype,ox=d5.hasOwnProperty;function p5(t,e,r,i,n,s){var o=sr(t),a=sr(e),l=o?sx:tx(t),c=a?sx:tx(e);l=l==nx?tl:l,c=c==nx?tl:c;var h=l==tl,f=c==tl,u=l==c;if(u&&Bf(t)){if(!Bf(e))return!1;o=!0,h=!1}if(u&&!h)return s||(s=new xi),o||Rv(t)?kv(t,e,r,i,n,s):a5(t,e,l,r,i,n,s);if(!(r&f5)){var d=h&&ox.call(t,"__wrapped__"),p=f&&ox.call(e,"__wrapped__");if(d||p){var m=d?t.value():t,x=p?e.value():e;return s||(s=new xi),n(m,x,r,i,s)}}return u?(s||(s=new xi),u5(t,e,r,i,n,s)):!1}function Q0(t,e,r,i,n){return t===e?!0:t==null||e==null||!Gs(t)&&!Gs(e)?t!==t&&e!==e:p5(t,e,r,i,Q0,n)}var m5=1,x5=2;function g5(t,e,r,i){var n=r.length,s=n,o=!i;if(t==null)return!s;for(t=Object(t);n--;){var a=r[n];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++n<s;){a=r[n];var l=a[0],c=t[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var f=new xi;if(i)var u=i(c,h,l,t,e,f);if(!(u===void 0?Q0(h,c,m5|x5,i,f):u))return!1}}return!0}function Nv(t){return t===t&&!$s(t)}function _5(t){for(var e=Ea(t),r=e.length;r--;){var i=e[r],n=t[i];e[r]=[i,n,Nv(n)]}return e}function Lv(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function v5(t){var e=_5(t);return e.length==1&&e[0][2]?Lv(e[0][0],e[0][1]):function(r){return r===t||g5(r,t,e)}}function y5(t,e){return t!=null&&e in Object(t)}function b5(t,e,r){e=Dv(e,t);for(var i=-1,n=e.length,s=!1;++i<n;){var o=Cc(e[i]);if(!(s=t!=null&&r(t,o)))break;t=t[o]}return s||++i!=n?s:(n=t==null?0:t.length,!!n&&q0(n)&&Sv(o,n)&&(sr(t)||Y0(t)))}function E5(t,e){return t!=null&&b5(t,e,y5)}var T5=1,A5=2;function S5(t,e){return K0(t)&&Nv(e)?Lv(Cc(t),e):function(r){var i=p8(r,t);return i===void 0&&i===e?E5(r,t):Q0(e,i,T5|A5)}}function w5(t){return function(e){return e==null?void 0:e[t]}}function C5(t){return function(e){return Iv(e,t)}}function B5(t){return K0(t)?w5(Cc(t)):C5(t)}function Bc(t){return typeof t=="function"?t:t==null?fD:typeof t=="object"?sr(t)?S5(t[0],t[1]):v5(t):B5(t)}function P5(t){return function(e,r,i){for(var n=-1,s=Object(e),o=i(e),a=o.length;a--;){var l=o[t?a:++n];if(r(s[l],l,s)===!1)break}return e}}var R5=P5();const D5=R5;function I5(t,e){return t&&D5(t,e,Ea)}function F5(t,e){return function(r,i){if(r==null)return r;if(!Ac(r))return t(r,i);for(var n=r.length,s=e?n:-1,o=Object(r);(e?s--:++s<n)&&i(o[s],s,o)!==!1;);return r}}var M5=F5(I5);const Uv=M5;var O5=function(){return si.Date.now()};const Ih=O5;var k5="Expected a function",N5=Math.max,L5=Math.min;function U5(t,e,r){var i,n,s,o,a,l,c=0,h=!1,f=!1,u=!0;if(typeof t!="function")throw new TypeError(k5);e=wf(e)||0,$s(r)&&(h=!!r.leading,f="maxWait"in r,s=f?N5(wf(r.maxWait)||0,e):s,u="trailing"in r?!!r.trailing:u);function d(E){var T=i,A=n;return i=n=void 0,c=E,o=t.apply(A,T),o}function p(E){return c=E,a=setTimeout(y,e),h?d(E):o}function m(E){var T=E-l,A=E-c,R=e-T;return f?L5(R,s-A):R}function x(E){var T=E-l,A=E-c;return l===void 0||T>=e||T<0||f&&A>=s}function y(){var E=Ih();if(x(E))return _(E);a=setTimeout(y,m(E))}function _(E){return a=void 0,u&&i?d(E):(i=n=void 0,o)}function g(){a!==void 0&&clearTimeout(a),c=0,i=l=n=a=void 0}function v(){return a===void 0?o:_(Ih())}function b(){var E=Ih(),T=x(E);if(i=arguments,n=this,l=E,T){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(y,e),d(l)}return a===void 0&&(a=setTimeout(y,e)),o}return b.cancel=g,b.flush=v,b}function z5(t,e){var r=[];return Uv(t,function(i,n,s){e(i,n,s)&&r.push(i)}),r}function Lo(t,e){var r=sr(t)?Ov:z5;return r(t,Bc(e))}function H5(t){return function(e,r,i){var n=Object(e);if(!Ac(e)){var s=Bc(r);e=Ea(e),r=function(a){return s(n[a],a,n)}}var o=t(e,r,i);return o>-1?n[s?e[o]:o]:void 0}}var G5=Math.max;function $5(t,e,r){var i=t==null?0:t.length;if(!i)return-1;var n=r==null?0:uD(r);return n<0&&(n=G5(i+n,0)),ID(t,Bc(e),n)}var W5=H5($5);const V5=W5;function j5(t,e){var r=-1,i=Ac(t)?Array(t.length):[];return Uv(t,function(n,s,o){i[++r]=e(n,s,o)}),i}function zv(t,e){var r=sr(t)?X0:j5;return r(t,Bc(e))}function X5(t,e){return X0(e,function(r){return t[r]})}function q5(t){return t==null?[]:X5(t,Ea(t))}var Y5=Math.floor,K5=Math.random;function Z5(t,e){return t+Y5(K5()*(e-t+1))}function Hv(t,e){var r=-1,i=t.length,n=i-1;for(e=e===void 0?i:e;++r<e;){var s=Z5(r,n),o=t[s];t[s]=t[r],t[r]=o}return t.length=e,t}function Q5(t){return Hv(DD(t))}function J5(t){return Hv(q5(t))}function eF(t){var e=sr(t)?Q5:J5;return e(t)}const tF={big_0:{frame:{x:0,y:0,w:115,h:117},anchor:{x:.5,y:.5}},big_1:{frame:{x:115,y:0,w:73,h:117},anchor:{x:.5,y:.5}},big_2:{frame:{x:188,y:0,w:116,h:117},anchor:{x:.5,y:.5}},big_3:{frame:{x:304,y:0,w:107,h:117},anchor:{x:.5,y:.5}},big_4:{frame:{x:411,y:0,w:116,h:117},anchor:{x:.5,y:.5}},big_5:{frame:{x:527,y:0,w:110,h:117},anchor:{x:.5,y:.5}},big_6:{frame:{x:637,y:0,w:104,h:117},anchor:{x:.5,y:.5}},big_7:{frame:{x:741,y:0,w:104,h:117},anchor:{x:.5,y:.5}},big_8:{frame:{x:845,y:0,w:109,h:117},anchor:{x:.5,y:.5}},big_9:{frame:{x:954,y:0,w:104,h:117},anchor:{x:.5,y:.5}},"big_,":{frame:{x:1058,y:0,w:61,h:75},anchor:{x:.5,y:.5}}},rF={image:"../img/big_number.png",format:"RGBA8888",size:{w:1119,h:117},scale:"1"},iF={frames:tF,meta:rF},nF={watermelon:{frame:{x:0,y:0,w:140,h:140},anchor:{x:0,y:0}},bar1:{frame:{x:140,y:0,w:140,h:140},anchor:{x:0,y:0}},bar2:{frame:{x:280,y:0,w:140,h:140},anchor:{x:0,y:0}},bar3:{frame:{x:420,y:0,w:140,h:140},anchor:{x:0,y:0}},bell:{frame:{x:560,y:0,w:140,h:140},anchor:{x:0,y:0}},cherry:{frame:{x:700,y:0,w:140,h:140},anchor:{x:0,y:0}},orange:{frame:{x:840,y:0,w:140,h:140},anchor:{x:0,y:0}},seven:{frame:{x:980,y:0,w:140,h:140},anchor:{x:0,y:0}},star:{frame:{x:1120,y:0,w:140,h:140},anchor:{x:0,y:0}},target:{frame:{x:1260,y:0,w:140,h:140},anchor:{x:0,y:0}},joker:{frame:{x:1400,y:0,w:140,h:140},anchor:{x:0,y:0}}},sF={image:"../img/icon.png",format:"RGBA8888",size:{w:1540,h:140},scale:"1"},oF={frames:nF,meta:sF},aF={0:{frame:{x:0,y:857,w:22,h:33},anchor:{x:0,y:1}},1:{frame:{x:22,y:857,w:15,h:33},anchor:{x:0,y:1}},2:{frame:{x:37,y:857,w:23,h:33},anchor:{x:0,y:1}},3:{frame:{x:60,y:857,w:22,h:33},anchor:{x:0,y:1}},4:{frame:{x:82,y:857,w:25,h:33},anchor:{x:0,y:1}},5:{frame:{x:107,y:857,w:23,h:33},anchor:{x:0,y:1}},6:{frame:{x:130,y:857,w:24,h:33},anchor:{x:0,y:1}},7:{frame:{x:154,y:857,w:22,h:33},anchor:{x:0,y:1}},8:{frame:{x:176,y:857,w:24,h:33},anchor:{x:0,y:1}},9:{frame:{x:200,y:857,w:24,h:33},anchor:{x:0,y:1}},mainframe:{frame:{x:0,y:0,w:720,h:830},anchor:{x:0,y:1}},prizeLine:{frame:{x:0,y:830,w:656,h:27},anchor:{x:0,y:.5}},",":{frame:{x:224,y:857,w:12,h:14},anchor:{x:0,y:.2}}},lF={image:"../img/main_frame.png",format:"RGBA8888",size:{w:720,h:890},scale:"1"},cF={frames:aF,meta:lF},hF={x1:{frame:{x:0,y:0,w:154,h:420},anchor:{x:0,y:0}},x2:{frame:{x:154,y:0,w:154,h:420},anchor:{x:0,y:0}},x5:{frame:{x:308,y:0,w:154,h:420},anchor:{x:0,y:0}},x10:{frame:{x:462,y:0,w:154,h:420},anchor:{x:0,y:0}}},uF={image:"../img/reel.png",format:"RGBA8888",size:{w:616,h:420},scale:"1"},fF={frames:hF,meta:uF},Lt=kt({gameData:{},busy:!1});function ci(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gv(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var nr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ws={duration:.5,overwrite:!1,delay:0},J0,Pt,qe,dr=1e8,$e=1/dr,If=Math.PI*2,dF=If/4,pF=0,$v=Math.sqrt,mF=Math.cos,xF=Math.sin,xt=function(e){return typeof e=="string"},it=function(e){return typeof e=="function"},_i=function(e){return typeof e=="number"},ed=function(e){return typeof e>"u"},ri=function(e){return typeof e=="object"},$t=function(e){return e!==!1},td=function(){return typeof window<"u"},rl=function(e){return it(e)||xt(e)},Wv=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Rt=Array.isArray,Ff=/(?:-?\.?\d|\.)+/gi,Vv=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,gs=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Fh=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,jv=/[+-]=-?[.\d]+/,Xv=/[^,'"\[\]\s]+/gi,gF=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Qe,zr,Mf,rd,or={},Vl={},qv,Yv=function(e){return(Vl=Wn(e,or))&&Yt},id=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},sa=function(e,r){return!r&&console.warn(e)},Kv=function(e,r){return e&&(or[e]=r)&&Vl&&(Vl[e]=r)||or},oa=function(){return 0},_F={suppressEvents:!0,isStart:!0,kill:!1},ml={suppressEvents:!0,kill:!1},vF={suppressEvents:!0},nd={},Xi=[],Of={},Zv,Jt={},Mh={},ax=30,xl=[],sd="",od=function(e){var r=e[0],i,n;if(ri(r)||it(r)||(e=[e]),!(i=(r._gsap||{}).harness)){for(n=xl.length;n--&&!xl[n].targetTest(r););i=xl[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new by(e[n],i)))||e.splice(n,1);return e},Mn=function(e){return e._gsap||od(pr(e))[0]._gsap},Qv=function(e,r,i){return(i=e[r])&&it(i)?e[r]():ed(i)&&e.getAttribute&&e.getAttribute(r)||i},Wt=function(e,r){return(e=e.split(",")).forEach(r)||e},ot=function(e){return Math.round(e*1e5)/1e5||0},mt=function(e){return Math.round(e*1e7)/1e7||0},Ps=function(e,r){var i=r.charAt(0),n=parseFloat(r.substr(2));return e=parseFloat(e),i==="+"?e+n:i==="-"?e-n:i==="*"?e*n:e/n},yF=function(e,r){for(var i=r.length,n=0;e.indexOf(r[n])<0&&++n<i;);return n<i},jl=function(){var e=Xi.length,r=Xi.slice(0),i,n;for(Of={},Xi.length=0,i=0;i<e;i++)n=r[i],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},Jv=function(e,r,i,n){Xi.length&&!Pt&&jl(),e.render(r,i,n||Pt&&r<0&&(e._initted||e._startAt)),Xi.length&&!Pt&&jl()},ey=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(Xv).length<2?r:xt(e)?e.trim():e},ty=function(e){return e},xr=function(e,r){for(var i in r)i in e||(e[i]=r[i]);return e},bF=function(e){return function(r,i){for(var n in i)n in r||n==="duration"&&e||n==="ease"||(r[n]=i[n])}},Wn=function(e,r){for(var i in r)e[i]=r[i];return e},lx=function t(e,r){for(var i in r)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=ri(r[i])?t(e[i]||(e[i]={}),r[i]):r[i]);return e},Xl=function(e,r){var i={},n;for(n in e)n in r||(i[n]=e[n]);return i},Uo=function(e){var r=e.parent||Qe,i=e.keyframes?bF(Rt(e.keyframes)):xr;if($t(e.inherit))for(;r;)i(e,r.vars.defaults),r=r.parent||r._dp;return e},EF=function(e,r){for(var i=e.length,n=i===r.length;n&&i--&&e[i]===r[i];);return i<0},ry=function(e,r,i,n,s){i===void 0&&(i="_first"),n===void 0&&(n="_last");var o=e[n],a;if(s)for(a=r[s];o&&o[s]>a;)o=o._prev;return o?(r._next=o._next,o._next=r):(r._next=e[i],e[i]=r),r._next?r._next._prev=r:e[n]=r,r._prev=o,r.parent=r._dp=e,r},Pc=function(e,r,i,n){i===void 0&&(i="_first"),n===void 0&&(n="_last");var s=r._prev,o=r._next;s?s._next=o:e[i]===r&&(e[i]=o),o?o._prev=s:e[n]===r&&(e[n]=s),r._next=r._prev=r.parent=null},tn=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},On=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},TF=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},kf=function(e,r,i,n){return e._startAt&&(Pt?e._startAt.revert(ml):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,n))},AF=function t(e){return!e||e._ts&&t(e.parent)},cx=function(e){return e._repeat?Vs(e._tTime,e=e.duration()+e._rDelay)*e:0},Vs=function(e,r){var i=Math.floor(e/=r);return e&&i===e?i-1:i},ql=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},Rc=function(e){return e._end=mt(e._start+(e._tDur/Math.abs(e._ts||e._rts||$e)||0))},Dc=function(e,r){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=mt(i._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),Rc(e),i._dirty||On(i,e)),e},iy=function(e,r){var i;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(i=ql(e.rawTime(),r),(!r._dur||Ta(0,r.totalDuration(),i)-r._tTime>$e)&&r.render(i,!0)),On(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-$e}},Vr=function(e,r,i,n){return r.parent&&tn(r),r._start=mt((_i(i)?i:i||e!==Qe?hr(e,i,r):e._time)+r._delay),r._end=mt(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),ry(e,r,"_first","_last",e._sort?"_start":0),Nf(r)||(e._recent=r),n||iy(e,r),e._ts<0&&Dc(e,e._tTime),e},ny=function(e,r){return(or.ScrollTrigger||id("scrollTrigger",r))&&or.ScrollTrigger.create(r,e)},sy=function(e,r,i,n,s){if(ld(e,r,s),!e._initted)return 1;if(!i&&e._pt&&!Pt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Zv!==tr.frame)return Xi.push(e),e._lazy=[s,n],1},SF=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},Nf=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},wF=function(e,r,i,n){var s=e.ratio,o=r<0||!r&&(!e._start&&SF(e)&&!(!e._initted&&Nf(e))||(e._ts<0||e._dp._ts<0)&&!Nf(e))?0:1,a=e._rDelay,l=0,c,h,f;if(a&&e._repeat&&(l=Ta(0,e._tDur,r),h=Vs(l,a),e._yoyo&&h&1&&(o=1-o),h!==Vs(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Pt||n||e._zTime===$e||!r&&e._zTime){if(!e._initted&&sy(e,r,n,i,l))return;for(f=e._zTime,e._zTime=r||(i?$e:0),i||(i=r&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;r<0&&kf(e,r,i,!0),e._onUpdate&&!i&&ir(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&ir(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===o&&(o&&tn(e,1),!i&&!Pt&&(ir(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},CF=function(e,r,i){var n;if(i>r)for(n=e._first;n&&n._start<=i;){if(n.data==="isPause"&&n._start>r)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if(n.data==="isPause"&&n._start<r)return n;n=n._prev}},js=function(e,r,i,n){var s=e._repeat,o=mt(r)||0,a=e._tTime/e._tDur;return a&&!n&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:mt(o*(s+1)+e._rDelay*s):o,a>0&&!n&&Dc(e,e._tTime=e._tDur*a),e.parent&&Rc(e),i||On(e.parent,e),e},hx=function(e){return e instanceof Mt?On(e):js(e,e._dur)},BF={_start:0,endTime:oa,totalDuration:oa},hr=function t(e,r,i){var n=e.labels,s=e._recent||BF,o=e.duration()>=dr?s.endTime(!1):e._dur,a,l,c;return xt(r)&&(isNaN(r)||r in n)?(l=r.charAt(0),c=r.substr(-1)==="%",a=r.indexOf("="),l==="<"||l===">"?(a>=0&&(r=r.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(r.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(r in n||(n[r]=o),n[r]):(l=parseFloat(r.charAt(a-1)+r.substr(a+1)),c&&i&&(l=l/100*(Rt(i)?i[0]:i).totalDuration()),a>1?t(e,r.substr(0,a-1),i)+l:o+l)):r==null?o:+r},zo=function(e,r,i){var n=_i(r[1]),s=(n?2:1)+(e<2?0:1),o=r[s],a,l;if(n&&(o.duration=r[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=$t(l.vars.inherit)&&l.parent;o.immediateRender=$t(a.immediateRender),e<2?o.runBackwards=1:o.startAt=r[s-1]}return new at(r[0],o,r[s+1])},sn=function(e,r){return e||e===0?r(e):r},Ta=function(e,r,i){return i<e?e:i>r?r:i},Ct=function(e,r){return!xt(e)||!(r=gF.exec(e))?"":r[1]},PF=function(e,r,i){return sn(i,function(n){return Ta(e,r,n)})},Lf=[].slice,oy=function(e,r){return e&&ri(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&ri(e[0]))&&!e.nodeType&&e!==zr},RF=function(e,r,i){return i===void 0&&(i=[]),e.forEach(function(n){var s;return xt(n)&&!r||oy(n,1)?(s=i).push.apply(s,pr(n)):i.push(n)})||i},pr=function(e,r,i){return qe&&!r&&qe.selector?qe.selector(e):xt(e)&&!i&&(Mf||!Xs())?Lf.call((r||rd).querySelectorAll(e),0):Rt(e)?RF(e,i):oy(e)?Lf.call(e,0):e?[e]:[]},Uf=function(e){return e=pr(e)[0]||sa("Invalid scope")||{},function(r){var i=e.current||e.nativeElement||e;return pr(r,i.querySelectorAll?i:i===e?sa("Invalid scope")||rd.createElement("div"):e)}},ay=function(e){return e.sort(function(){return .5-Math.random()})},ly=function(e){if(it(e))return e;var r=ri(e)?e:{each:e},i=kn(r.ease),n=r.from||0,s=parseFloat(r.base)||0,o={},a=n>0&&n<1,l=isNaN(n)||a,c=r.axis,h=n,f=n;return xt(n)?h=f={center:.5,edges:.5,end:1}[n]||0:!a&&l&&(h=n[0],f=n[1]),function(u,d,p){var m=(p||r).length,x=o[m],y,_,g,v,b,E,T,A,R;if(!x){if(R=r.grid==="auto"?0:(r.grid||[1,dr])[1],!R){for(T=-dr;T<(T=p[R++].getBoundingClientRect().left)&&R<m;);R<m&&R--}for(x=o[m]=[],y=l?Math.min(R,m)*h-.5:n%R,_=R===dr?0:l?m*f/R-.5:n/R|0,T=0,A=dr,E=0;E<m;E++)g=E%R-y,v=_-(E/R|0),x[E]=b=c?Math.abs(c==="y"?v:g):$v(g*g+v*v),b>T&&(T=b),b<A&&(A=b);n==="random"&&ay(x),x.max=T-A,x.min=A,x.v=m=(parseFloat(r.amount)||parseFloat(r.each)*(R>m?m-1:c?c==="y"?m/R:R:Math.max(R,m/R))||0)*(n==="edges"?-1:1),x.b=m<0?s-m:s,x.u=Ct(r.amount||r.each)||0,i=i&&m<0?_y(i):i}return m=(x[u]-x.min)/x.max||0,mt(x.b+(i?i(m):m)*x.v)+x.u}},zf=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var n=mt(Math.round(parseFloat(i)/e)*e*r);return(n-n%1)/r+(_i(i)?0:Ct(i))}},cy=function(e,r){var i=Rt(e),n,s;return!i&&ri(e)&&(n=i=e.radius||dr,e.values?(e=pr(e.values),(s=!_i(e[0]))&&(n*=n)):e=zf(e.increment)),sn(r,i?it(e)?function(o){return s=e(o),Math.abs(s-o)<=n?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=dr,h=0,f=e.length,u,d;f--;)s?(u=e[f].x-a,d=e[f].y-l,u=u*u+d*d):u=Math.abs(e[f]-a),u<c&&(c=u,h=f);return h=!n||c<=n?e[h]:o,s||h===o||_i(o)?h:h+Ct(o)}:zf(e))},hy=function(e,r,i,n){return sn(Rt(e)?!r:i===!0?!!(i=0):!n,function(){return Rt(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(r-e+i*.99))/i)*i*n)/n})},DF=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return function(n){return r.reduce(function(s,o){return o(s)},n)}},IF=function(e,r){return function(i){return e(parseFloat(i))+(r||Ct(i))}},FF=function(e,r,i){return fy(e,r,0,1,i)},uy=function(e,r,i){return sn(i,function(n){return e[~~r(n)]})},MF=function t(e,r,i){var n=r-e;return Rt(e)?uy(e,t(0,e.length),r):sn(i,function(s){return(n+(s-e)%n)%n+e})},OF=function t(e,r,i){var n=r-e,s=n*2;return Rt(e)?uy(e,t(0,e.length-1),r):sn(i,function(o){return o=(s+(o-e)%s)%s||0,e+(o>n?s-o:o)})},aa=function(e){for(var r=0,i="",n,s,o,a;~(n=e.indexOf("random(",r));)o=e.indexOf(")",n),a=e.charAt(n+7)==="[",s=e.substr(n+7,o-n-7).match(a?Xv:Ff),i+=e.substr(r,n-r)+hy(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),r=o+1;return i+e.substr(r,e.length-r)},fy=function(e,r,i,n,s){var o=r-e,a=n-i;return sn(s,function(l){return i+((l-e)/o*a||0)})},kF=function t(e,r,i,n){var s=isNaN(e+r)?0:function(d){return(1-d)*e+d*r};if(!s){var o=xt(e),a={},l,c,h,f,u;if(i===!0&&(n=1)&&(i=null),o)e={p:e},r={p:r};else if(Rt(e)&&!Rt(r)){for(h=[],f=e.length,u=f-2,c=1;c<f;c++)h.push(t(e[c-1],e[c]));f--,s=function(p){p*=f;var m=Math.min(u,~~p);return h[m](p-m)},i=r}else n||(e=Wn(Rt(e)?[]:{},e));if(!h){for(l in r)ad.call(a,e,l,"get",r[l]);s=function(p){return ud(p,a)||(o?e.p:e)}}}return sn(i,s)},ux=function(e,r,i){var n=e.labels,s=dr,o,a,l;for(o in n)a=n[o]-r,a<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},ir=function(e,r,i){var n=e.vars,s=n[r],o=qe,a=e._ctx,l,c,h;if(s)return l=n[r+"Params"],c=n.callbackScope||e,i&&Xi.length&&jl(),a&&(qe=a),h=l?s.apply(c,l):s.call(c),qe=o,h},So=function(e){return tn(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Pt),e.progress()<1&&ir(e,"onInterrupt"),e},_s,dy=[],py=function(e){if(e)if(e=!e.name&&e.default||e,td()||e.headless){var r=e.name,i=it(e),n=r&&!i&&e.init?function(){this._props=[]}:e,s={init:oa,render:ud,add:ad,kill:QF,modifier:ZF,rawVars:0},o={targetTest:0,get:0,getSetter:hd,aliases:{},register:0};if(Xs(),e!==n){if(Jt[r])return;xr(n,xr(Xl(e,s),o)),Wn(n.prototype,Wn(s,Xl(e,o))),Jt[n.prop=r]=n,e.targetTest&&(xl.push(n),nd[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}Kv(r,n),e.register&&e.register(Yt,n,Vt)}else dy.push(e)},Ge=255,wo={aqua:[0,Ge,Ge],lime:[0,Ge,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ge],navy:[0,0,128],white:[Ge,Ge,Ge],olive:[128,128,0],yellow:[Ge,Ge,0],orange:[Ge,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ge,0,0],pink:[Ge,192,203],cyan:[0,Ge,Ge],transparent:[Ge,Ge,Ge,0]},Oh=function(e,r,i){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(i-r)*e*6:e<.5?i:e*3<2?r+(i-r)*(2/3-e)*6:r)*Ge+.5|0},my=function(e,r,i){var n=e?_i(e)?[e>>16,e>>8&Ge,e&Ge]:0:wo.black,s,o,a,l,c,h,f,u,d,p;if(!n){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),wo[e])n=wo[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return n=parseInt(e.substr(1,6),16),[n>>16,n>>8&Ge,n&Ge,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),n=[e>>16,e>>8&Ge,e&Ge]}else if(e.substr(0,3)==="hsl"){if(n=p=e.match(Ff),!r)l=+n[0]%360/360,c=+n[1]/100,h=+n[2]/100,o=h<=.5?h*(c+1):h+c-h*c,s=h*2-o,n.length>3&&(n[3]*=1),n[0]=Oh(l+1/3,s,o),n[1]=Oh(l,s,o),n[2]=Oh(l-1/3,s,o);else if(~e.indexOf("="))return n=e.match(Vv),i&&n.length<4&&(n[3]=1),n}else n=e.match(Ff)||wo.transparent;n=n.map(Number)}return r&&!p&&(s=n[0]/Ge,o=n[1]/Ge,a=n[2]/Ge,f=Math.max(s,o,a),u=Math.min(s,o,a),h=(f+u)/2,f===u?l=c=0:(d=f-u,c=h>.5?d/(2-f-u):d/(f+u),l=f===s?(o-a)/d+(o<a?6:0):f===o?(a-s)/d+2:(s-o)/d+4,l*=60),n[0]=~~(l+.5),n[1]=~~(c*100+.5),n[2]=~~(h*100+.5)),i&&n.length<4&&(n[3]=1),n},xy=function(e){var r=[],i=[],n=-1;return e.split(qi).forEach(function(s){var o=s.match(gs)||[];r.push.apply(r,o),i.push(n+=o.length+1)}),r.c=i,r},fx=function(e,r,i){var n="",s=(e+n).match(qi),o=r?"hsla(":"rgba(",a=0,l,c,h,f;if(!s)return e;if(s=s.map(function(u){return(u=my(u,r,1))&&o+(r?u[0]+","+u[1]+"%,"+u[2]+"%,"+u[3]:u.join(","))+")"}),i&&(h=xy(e),l=i.c,l.join(n)!==h.c.join(n)))for(c=e.replace(qi,"1").split(gs),f=c.length-1;a<f;a++)n+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(h.length?h:s.length?s:i).shift());if(!c)for(c=e.split(qi),f=c.length-1;a<f;a++)n+=c[a]+s[a];return n+c[f]},qi=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in wo)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),NF=/hsl[a]?\(/,gy=function(e){var r=e.join(" "),i;if(qi.lastIndex=0,qi.test(r))return i=NF.test(r),e[1]=fx(e[1],i),e[0]=fx(e[0],i,xy(e[1])),!0},la,tr=function(){var t=Date.now,e=500,r=33,i=t(),n=i,s=1e3/240,o=s,a=[],l,c,h,f,u,d,p=function m(x){var y=t()-n,_=x===!0,g,v,b,E;if((y>e||y<0)&&(i+=y-r),n+=y,b=n-i,g=b-o,(g>0||_)&&(E=++f.frame,u=b-f.time*1e3,f.time=b=b/1e3,o+=g+(g>=s?4:s-g),v=1),_||(l=c(m)),v)for(d=0;d<a.length;d++)a[d](b,u,E,x)};return f={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(x){return u/(1e3/(x||60))},wake:function(){qv&&(!Mf&&td()&&(zr=Mf=window,rd=zr.document||{},or.gsap=Yt,(zr.gsapVersions||(zr.gsapVersions=[])).push(Yt.version),Yv(Vl||zr.GreenSockGlobals||!zr.gsap&&zr||{}),dy.forEach(py)),h=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),c=h||function(x){return setTimeout(x,o-f.time*1e3+1|0)},la=1,p(2))},sleep:function(){(h?cancelAnimationFrame:clearTimeout)(l),la=0,c=oa},lagSmoothing:function(x,y){e=x||1/0,r=Math.min(y||33,e)},fps:function(x){s=1e3/(x||240),o=f.time*1e3+s},add:function(x,y,_){var g=y?function(v,b,E,T){x(v,b,E,T),f.remove(g)}:x;return f.remove(x),a[_?"unshift":"push"](g),Xs(),g},remove:function(x,y){~(y=a.indexOf(x))&&a.splice(y,1)&&d>=y&&d--},_listeners:a},f}(),Xs=function(){return!la&&tr.wake()},Re={},LF=/^[\d.\-M][\d.\-,\s]/,UF=/["']/g,zF=function(e){for(var r={},i=e.substr(1,e.length-3).split(":"),n=i[0],s=1,o=i.length,a,l,c;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),r[n]=isNaN(c)?c.replace(UF,"").trim():+c,n=l.substr(a+1).trim();return r},HF=function(e){var r=e.indexOf("(")+1,i=e.indexOf(")"),n=e.indexOf("(",r);return e.substring(r,~n&&n<i?e.indexOf(")",i+1):i)},GF=function(e){var r=(e+"").split("("),i=Re[r[0]];return i&&r.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[zF(r[1])]:HF(e).split(",").map(ey)):Re._CE&&LF.test(e)?Re._CE("",e):i},_y=function(e){return function(r){return 1-e(1-r)}},vy=function t(e,r){for(var i=e._first,n;i;)i instanceof Mt?t(i,r):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==r&&(i.timeline?t(i.timeline,r):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=r)),i=i._next},kn=function(e,r){return e&&(it(e)?e:Re[e]||GF(e))||r},Zn=function(e,r,i,n){i===void 0&&(i=function(l){return 1-r(1-l)}),n===void 0&&(n=function(l){return l<.5?r(l*2)/2:1-r((1-l)*2)/2});var s={easeIn:r,easeOut:i,easeInOut:n},o;return Wt(e,function(a){Re[a]=or[a]=s,Re[o=a.toLowerCase()]=i;for(var l in s)Re[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Re[a+"."+l]=s[l]}),s},yy=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},kh=function t(e,r,i){var n=r>=1?r:1,s=(i||(e?.3:.45))/(r<1?r:1),o=s/If*(Math.asin(1/n)||0),a=function(h){return h===1?1:n*Math.pow(2,-10*h)*xF((h-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:yy(a);return s=If/s,l.config=function(c,h){return t(e,c,h)},l},Nh=function t(e,r){r===void 0&&(r=1.70158);var i=function(o){return o?--o*o*((r+1)*o+r)+1:0},n=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:yy(i);return n.config=function(s){return t(e,s)},n};Wt("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;Zn(t+",Power"+(r-1),e?function(i){return Math.pow(i,r)}:function(i){return i},function(i){return 1-Math.pow(1-i,r)},function(i){return i<.5?Math.pow(i*2,r)/2:1-Math.pow((1-i)*2,r)/2})});Re.Linear.easeNone=Re.none=Re.Linear.easeIn;Zn("Elastic",kh("in"),kh("out"),kh());(function(t,e){var r=1/e,i=2*r,n=2.5*r,s=function(a){return a<r?t*a*a:a<i?t*Math.pow(a-1.5/e,2)+.75:a<n?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Zn("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Zn("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Zn("Circ",function(t){return-($v(1-t*t)-1)});Zn("Sine",function(t){return t===1?1:-mF(t*dF)+1});Zn("Back",Nh("in"),Nh("out"),Nh());Re.SteppedEase=Re.steps=or.SteppedEase={config:function(e,r){e===void 0&&(e=1);var i=1/e,n=e+(r?0:1),s=r?1:0,o=1-$e;return function(a){return((n*Ta(0,o,a)|0)+s)*i}}};Ws.ease=Re["quad.out"];Wt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return sd+=t+","+t+"Params,"});var by=function(e,r){this.id=pF++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:Qv,this.set=r?r.getSetter:hd},ca=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,js(this,+r.duration,1,1),this.data=r.data,qe&&(this._ctx=qe,qe.data.push(this)),la||tr.wake()}var e=t.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,js(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,n){if(Xs(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Dc(this,i),!s._dp||s.parent||iy(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Vr(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===$e||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),Jv(this,i,n)),this},e.time=function(i,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+cx(this))%(this._dur+this._rDelay)||(i?this._dur:0),n):this._time},e.totalProgress=function(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(i,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+cx(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,n){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,n):this._repeat?Vs(this._tTime,s)+1:1},e.timeScale=function(i,n){if(!arguments.length)return this._rts===-$e?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?ql(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-$e?0:this._rts,this.totalTime(Ta(-Math.abs(this._delay),this._tDur,s),n!==!1),Rc(this),TF(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Xs(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==$e&&(this._tTime-=$e)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&Vr(n,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+($t(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var n=this.parent||this._dp;return n?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ql(n.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=vF);var n=Pt;return Pt=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Pt=n,this},e.globalTime=function(i){for(var n=this,s=arguments.length?i:n.rawTime();n;)s=n._start+s/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,hx(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var n=this._time;return this._rDelay=i,hx(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,n){return this.totalTime(hr(this,i),$t(n))},e.restart=function(i,n){return this.play().totalTime(i?-this._delay:0,$t(n))},e.play=function(i,n){return i!=null&&this.seek(i,n),this.reversed(!1).paused(!1)},e.reverse=function(i,n){return i!=null&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(i,n){return i!=null&&this.seek(i,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-$e:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-$e,this},e.isActive=function(){var i=this.parent||this._dp,n=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=n&&s<this.endTime(!0)-$e)},e.eventCallback=function(i,n,s){var o=this.vars;return arguments.length>1?(n?(o[i]=n,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=n)):delete o[i],this):o[i]},e.then=function(i){var n=this;return new Promise(function(s){var o=it(i)?i:ty,a=function(){var c=n.then;n.then=null,it(o)&&(o=o(n))&&(o.then||o===n)&&(n.then=c),s(o),n.then=c};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?a():n._prom=a})},e.kill=function(){So(this)},t}();xr(ca.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-$e,_prom:0,_ps:!1,_rts:1});var Mt=function(t){Gv(e,t);function e(i,n){var s;return i===void 0&&(i={}),s=t.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=$t(i.sortChildren),Qe&&Vr(i.parent||Qe,ci(s),n),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&ny(ci(s),i.scrollTrigger),s}var r=e.prototype;return r.to=function(n,s,o){return zo(0,arguments,this),this},r.from=function(n,s,o){return zo(1,arguments,this),this},r.fromTo=function(n,s,o,a){return zo(2,arguments,this),this},r.set=function(n,s,o){return s.duration=0,s.parent=this,Uo(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new at(n,s,hr(this,o),1),this},r.call=function(n,s,o){return Vr(this,at.delayedCall(0,n,s),o)},r.staggerTo=function(n,s,o,a,l,c,h){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=h,o.parent=this,new at(n,o,hr(this,l)),this},r.staggerFrom=function(n,s,o,a,l,c,h){return o.runBackwards=1,Uo(o).immediateRender=$t(o.immediateRender),this.staggerTo(n,s,o,a,l,c,h)},r.staggerFromTo=function(n,s,o,a,l,c,h,f){return a.startAt=o,Uo(a).immediateRender=$t(a.immediateRender),this.staggerTo(n,s,a,l,c,h,f)},r.render=function(n,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,h=n<=0?0:mt(n),f=this._zTime<0!=n<0&&(this._initted||!c),u,d,p,m,x,y,_,g,v,b,E,T;if(this!==Qe&&h>l&&n>=0&&(h=l),h!==this._tTime||o||f){if(a!==this._time&&c&&(h+=this._time-a,n+=this._time-a),u=h,v=this._start,g=this._ts,y=!g,f&&(c||(a=this._zTime),(n||!s)&&(this._zTime=n)),this._repeat){if(E=this._yoyo,x=c+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(x*100+n,s,o);if(u=mt(h%x),h===l?(m=this._repeat,u=c):(m=~~(h/x),m&&m===h/x&&(u=c,m--),u>c&&(u=c)),b=Vs(this._tTime,x),!a&&this._tTime&&b!==m&&this._tTime-b*x-this._dur<=0&&(b=m),E&&m&1&&(u=c-u,T=1),m!==b&&!this._lock){var A=E&&b&1,R=A===(E&&m&1);if(m<b&&(A=!A),a=A?0:h%c?c:h,this._lock=1,this.render(a||(T?0:mt(m*x)),s,!c)._lock=0,this._tTime=h,!s&&this.parent&&ir(this,"onRepeat"),this.vars.repeatRefresh&&!T&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,R&&(this._lock=2,a=A?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!T&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;vy(this,T)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=CF(this,mt(a),mt(u)),_&&(h-=u-(u=_._start))),this._tTime=h,this._time=u,this._act=!g,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,a=0),!a&&u&&!s&&!m&&(ir(this,"onStart"),this._tTime!==h))return this;if(u>=a&&n>=0)for(d=this._first;d;){if(p=d._next,(d._act||u>=d._start)&&d._ts&&_!==d){if(d.parent!==this)return this.render(n,s,o);if(d.render(d._ts>0?(u-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(u-d._start)*d._ts,s,o),u!==this._time||!this._ts&&!y){_=0,p&&(h+=this._zTime=-$e);break}}d=p}else{d=this._last;for(var w=n<0?n:u;d;){if(p=d._prev,(d._act||w<=d._end)&&d._ts&&_!==d){if(d.parent!==this)return this.render(n,s,o);if(d.render(d._ts>0?(w-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(w-d._start)*d._ts,s,o||Pt&&(d._initted||d._startAt)),u!==this._time||!this._ts&&!y){_=0,p&&(h+=this._zTime=w?-$e:$e);break}}d=p}}if(_&&!s&&(this.pause(),_.render(u>=a?0:-$e)._zTime=u>=a?1:-1,this._ts))return this._start=v,Rc(this),this.render(n,s,o);this._onUpdate&&!s&&ir(this,"onUpdate",!0),(h===l&&this._tTime>=this.totalDuration()||!h&&a)&&(v===this._start||Math.abs(g)!==Math.abs(this._ts))&&(this._lock||((n||!c)&&(h===l&&this._ts>0||!h&&this._ts<0)&&tn(this,1),!s&&!(n<0&&!a)&&(h||a||!l)&&(ir(this,h===l&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(n,s){var o=this;if(_i(s)||(s=hr(this,s,n)),!(n instanceof ca)){if(Rt(n))return n.forEach(function(a){return o.add(a,s)}),this;if(xt(n))return this.addLabel(n,s);if(it(n))n=at.delayedCall(0,n);else return this}return this!==n?Vr(this,n,s):this},r.getChildren=function(n,s,o,a){n===void 0&&(n=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-dr);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof at?s&&l.push(c):(o&&l.push(c),n&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},r.getById=function(n){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===n)return s[o]},r.remove=function(n){return xt(n)?this.removeLabel(n):it(n)?this.killTweensOf(n):(Pc(this,n),n===this._recent&&(this._recent=this._last),On(this))},r.totalTime=function(n,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=mt(tr.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),t.prototype.totalTime.call(this,n,s),this._forcing=0,this):this._tTime},r.addLabel=function(n,s){return this.labels[n]=hr(this,s),this},r.removeLabel=function(n){return delete this.labels[n],this},r.addPause=function(n,s,o){var a=at.delayedCall(0,s||oa,o);return a.data="isPause",this._hasPause=1,Vr(this,a,hr(this,n))},r.removePause=function(n){var s=this._first;for(n=hr(this,n);s;)s._start===n&&s.data==="isPause"&&tn(s),s=s._next},r.killTweensOf=function(n,s,o){for(var a=this.getTweensOf(n,o),l=a.length;l--;)Ui!==a[l]&&a[l].kill(n,s);return this},r.getTweensOf=function(n,s){for(var o=[],a=pr(n),l=this._first,c=_i(s),h;l;)l instanceof at?yF(l._targets,a)&&(c?(!Ui||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(h=l.getTweensOf(a,s)).length&&o.push.apply(o,h),l=l._next;return o},r.tweenTo=function(n,s){s=s||{};var o=this,a=hr(o,n),l=s,c=l.startAt,h=l.onStart,f=l.onStartParams,u=l.immediateRender,d,p=at.to(o,xr({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||$e,onStart:function(){if(o.pause(),!d){var x=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());p._dur!==x&&js(p,x,0,1).render(p._time,!0,!0),d=1}h&&h.apply(p,f||[])}},s));return u?p.render(0):p},r.tweenFromTo=function(n,s,o){return this.tweenTo(s,xr({startAt:{time:hr(this,n)}},o))},r.recent=function(){return this._recent},r.nextLabel=function(n){return n===void 0&&(n=this._time),ux(this,hr(this,n))},r.previousLabel=function(n){return n===void 0&&(n=this._time),ux(this,hr(this,n),1)},r.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+$e)},r.shiftChildren=function(n,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=n,a._end+=n),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=n);return On(this)},r.invalidate=function(n){var s=this._first;for(this._lock=0;s;)s.invalidate(n),s=s._next;return t.prototype.invalidate.call(this,n)},r.clear=function(n){n===void 0&&(n=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),On(this)},r.totalDuration=function(n){var s=0,o=this,a=o._last,l=dr,c,h,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-n:n));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),h=a._start,h>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Vr(o,a,h-a._delay,1)._lock=0):l=h,h<0&&a._ts&&(s-=h,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=h/o._ts,o._time-=h,o._tTime-=h),o.shiftChildren(-h,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;js(o,o===Qe&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(n){if(Qe._ts&&(Jv(Qe,ql(n,Qe)),Zv=tr.frame),tr.frame>=ax){ax+=nr.autoSleep||120;var s=Qe._first;if((!s||!s._ts)&&nr.autoSleep&&tr._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||tr.sleep()}}},e}(ca);xr(Mt.prototype,{_lock:0,_hasPause:0,_forcing:0});var $F=function(e,r,i,n,s,o,a){var l=new Vt(this._pt,e,r,0,1,Cy,null,s),c=0,h=0,f,u,d,p,m,x,y,_;for(l.b=i,l.e=n,i+="",n+="",(y=~n.indexOf("random("))&&(n=aa(n)),o&&(_=[i,n],o(_,e,r),i=_[0],n=_[1]),u=i.match(Fh)||[];f=Fh.exec(n);)p=f[0],m=n.substring(c,f.index),d?d=(d+1)%5:m.substr(-5)==="rgba("&&(d=1),p!==u[h++]&&(x=parseFloat(u[h-1])||0,l._pt={_next:l._pt,p:m||h===1?m:",",s:x,c:p.charAt(1)==="="?Ps(x,p)-x:parseFloat(p)-x,m:d&&d<4?Math.round:0},c=Fh.lastIndex);return l.c=c<n.length?n.substring(c,n.length):"",l.fp=a,(jv.test(n)||y)&&(l.e=0),this._pt=l,l},ad=function(e,r,i,n,s,o,a,l,c,h){it(n)&&(n=n(s||0,e,o));var f=e[r],u=i!=="get"?i:it(f)?c?e[r.indexOf("set")||!it(e["get"+r.substr(3)])?r:"get"+r.substr(3)](c):e[r]():f,d=it(f)?c?qF:Sy:cd,p;if(xt(n)&&(~n.indexOf("random(")&&(n=aa(n)),n.charAt(1)==="="&&(p=Ps(u,n)+(Ct(u)||0),(p||p===0)&&(n=p))),!h||u!==n||Hf)return!isNaN(u*n)&&n!==""?(p=new Vt(this._pt,e,r,+u||0,n-(u||0),typeof f=="boolean"?KF:wy,0,d),c&&(p.fp=c),a&&p.modifier(a,this,e),this._pt=p):(!f&&!(r in e)&&id(r,n),$F.call(this,e,r,u,n,d,l||nr.stringFilter,c))},WF=function(e,r,i,n,s){if(it(e)&&(e=Ho(e,s,r,i,n)),!ri(e)||e.style&&e.nodeType||Rt(e)||Wv(e))return xt(e)?Ho(e,s,r,i,n):e;var o={},a;for(a in e)o[a]=Ho(e[a],s,r,i,n);return o},Ey=function(e,r,i,n,s,o){var a,l,c,h;if(Jt[e]&&(a=new Jt[e]).init(s,a.rawVars?r[e]:WF(r[e],n,s,o,i),i,n,o)!==!1&&(i._pt=l=new Vt(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==_s))for(c=i._ptLookup[i._targets.indexOf(s)],h=a._props.length;h--;)c[a._props[h]]=l;return a},Ui,Hf,ld=function t(e,r,i){var n=e.vars,s=n.ease,o=n.startAt,a=n.immediateRender,l=n.lazy,c=n.onUpdate,h=n.runBackwards,f=n.yoyoEase,u=n.keyframes,d=n.autoRevert,p=e._dur,m=e._startAt,x=e._targets,y=e.parent,_=y&&y.data==="nested"?y.vars.targets:x,g=e._overwrite==="auto"&&!J0,v=e.timeline,b,E,T,A,R,w,B,I,D,F,G,V,L;if(v&&(!u||!s)&&(s="none"),e._ease=kn(s,Ws.ease),e._yEase=f?_y(kn(f===!0?s:f,Ws.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!v&&!!n.runBackwards,!v||u&&!n.stagger){if(I=x[0]?Mn(x[0]).harness:0,V=I&&n[I.prop],b=Xl(n,nd),m&&(m._zTime<0&&m.progress(1),r<0&&h&&a&&!d?m.render(-1,!0):m.revert(h&&p?ml:_F),m._lazy=0),o){if(tn(e._startAt=at.set(x,xr({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!m&&$t(l),startAt:null,delay:0,onUpdate:c&&function(){return ir(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Pt||!a&&!d)&&e._startAt.revert(ml),a&&p&&r<=0&&i<=0){r&&(e._zTime=r);return}}else if(h&&p&&!m){if(r&&(a=!1),T=xr({overwrite:!1,data:"isFromStart",lazy:a&&!m&&$t(l),immediateRender:a,stagger:0,parent:y},b),V&&(T[I.prop]=V),tn(e._startAt=at.set(x,T)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Pt?e._startAt.revert(ml):e._startAt.render(-1,!0)),e._zTime=r,!a)t(e._startAt,$e,$e);else if(!r)return}for(e._pt=e._ptCache=0,l=p&&$t(l)||l&&!p,E=0;E<x.length;E++){if(R=x[E],B=R._gsap||od(x)[E]._gsap,e._ptLookup[E]=F={},Of[B.id]&&Xi.length&&jl(),G=_===x?E:_.indexOf(R),I&&(D=new I).init(R,V||b,e,G,_)!==!1&&(e._pt=A=new Vt(e._pt,R,D.name,0,1,D.render,D,0,D.priority),D._props.forEach(function(q){F[q]=A}),D.priority&&(w=1)),!I||V)for(T in b)Jt[T]&&(D=Ey(T,b,e,G,R,_))?D.priority&&(w=1):F[T]=A=ad.call(e,R,T,"get",b[T],G,_,0,n.stringFilter);e._op&&e._op[E]&&e.kill(R,e._op[E]),g&&e._pt&&(Ui=e,Qe.killTweensOf(R,F,e.globalTime(r)),L=!e.parent,Ui=0),e._pt&&l&&(Of[B.id]=1)}w&&By(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!L,u&&r<=0&&v.render(dr,!0,!0)},VF=function(e,r,i,n,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[r],h,f,u,d;if(!c)for(c=e._ptCache[r]=[],u=e._ptLookup,d=e._targets.length;d--;){if(h=u[d][r],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==r&&h.fp!==r;)h=h._next;if(!h)return Hf=1,e.vars[r]="+=0",ld(e,a),Hf=0,l?sa(r+" not eligible for reset"):1;c.push(h)}for(d=c.length;d--;)f=c[d],h=f._pt||f,h.s=(n||n===0)&&!s?n:h.s+(n||0)+o*h.c,h.c=i-h.s,f.e&&(f.e=ot(i)+Ct(f.e)),f.b&&(f.b=h.s+Ct(f.b))},jF=function(e,r){var i=e[0]?Mn(e[0]).harness:0,n=i&&i.aliases,s,o,a,l;if(!n)return r;s=Wn({},r);for(o in n)if(o in s)for(l=n[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},XF=function(e,r,i,n){var s=r.ease||n||"power1.inOut",o,a;if(Rt(r))a=i[e]||(i[e]=[]),r.forEach(function(l,c){return a.push({t:c/(r.length-1)*100,v:l,e:s})});else for(o in r)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:r[o],e:s})},Ho=function(e,r,i,n,s){return it(e)?e.call(r,i,n,s):xt(e)&&~e.indexOf("random(")?aa(e):e},Ty=sd+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Ay={};Wt(Ty+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return Ay[t]=1});var at=function(t){Gv(e,t);function e(i,n,s,o){var a;typeof n=="number"&&(s.duration=n,n=s,s=null),a=t.call(this,o?n:Uo(n))||this;var l=a.vars,c=l.duration,h=l.delay,f=l.immediateRender,u=l.stagger,d=l.overwrite,p=l.keyframes,m=l.defaults,x=l.scrollTrigger,y=l.yoyoEase,_=n.parent||Qe,g=(Rt(i)||Wv(i)?_i(i[0]):"length"in n)?[i]:pr(i),v,b,E,T,A,R,w,B;if(a._targets=g.length?od(g):sa("GSAP target "+i+" not found. https://gsap.com",!nr.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=d,p||u||rl(c)||rl(h)){if(n=a.vars,v=a.timeline=new Mt({data:"nested",defaults:m||{},targets:_&&_.data==="nested"?_.vars.targets:g}),v.kill(),v.parent=v._dp=ci(a),v._start=0,u||rl(c)||rl(h)){if(T=g.length,w=u&&ly(u),ri(u))for(A in u)~Ty.indexOf(A)&&(B||(B={}),B[A]=u[A]);for(b=0;b<T;b++)E=Xl(n,Ay),E.stagger=0,y&&(E.yoyoEase=y),B&&Wn(E,B),R=g[b],E.duration=+Ho(c,ci(a),b,R,g),E.delay=(+Ho(h,ci(a),b,R,g)||0)-a._delay,!u&&T===1&&E.delay&&(a._delay=h=E.delay,a._start+=h,E.delay=0),v.to(R,E,w?w(b,R,g):0),v._ease=Re.none;v.duration()?c=h=0:a.timeline=0}else if(p){Uo(xr(v.vars.defaults,{ease:"none"})),v._ease=kn(p.ease||n.ease||"none");var I=0,D,F,G;if(Rt(p))p.forEach(function(V){return v.to(g,V,">")}),v.duration();else{E={};for(A in p)A==="ease"||A==="easeEach"||XF(A,p[A],E,p.easeEach);for(A in E)for(D=E[A].sort(function(V,L){return V.t-L.t}),I=0,b=0;b<D.length;b++)F=D[b],G={ease:F.e,duration:(F.t-(b?D[b-1].t:0))/100*c},G[A]=F.v,v.to(g,G,I),I+=G.duration;v.duration()<c&&v.to({},{duration:c-v.duration()})}}c||a.duration(c=v.duration())}else a.timeline=0;return d===!0&&!J0&&(Ui=ci(a),Qe.killTweensOf(g),Ui=0),Vr(_,ci(a),s),n.reversed&&a.reverse(),n.paused&&a.paused(!0),(f||!c&&!p&&a._start===mt(_._time)&&$t(f)&&AF(ci(a))&&_.data!=="nested")&&(a._tTime=-$e,a.render(Math.max(0,-h)||0)),x&&ny(ci(a),x),a}var r=e.prototype;return r.render=function(n,s,o){var a=this._time,l=this._tDur,c=this._dur,h=n<0,f=n>l-$e&&!h?l:n<$e?0:n,u,d,p,m,x,y,_,g,v;if(!c)wF(this,n,s,o);else if(f!==this._tTime||!n||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==h){if(u=f,g=this.timeline,this._repeat){if(m=c+this._rDelay,this._repeat<-1&&h)return this.totalTime(m*100+n,s,o);if(u=mt(f%m),f===l?(p=this._repeat,u=c):(p=~~(f/m),p&&p===mt(f/m)&&(u=c,p--),u>c&&(u=c)),y=this._yoyo&&p&1,y&&(v=this._yEase,u=c-u),x=Vs(this._tTime,m),u===a&&!o&&this._initted&&p===x)return this._tTime=f,this;p!==x&&(g&&this._yEase&&vy(g,y),this.vars.repeatRefresh&&!y&&!this._lock&&this._time!==m&&this._initted&&(this._lock=o=1,this.render(mt(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(sy(this,h?n:u,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&p!==x))return this;if(c!==this._dur)return this.render(n,s,o)}if(this._tTime=f,this._time=u,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(v||this._ease)(u/c),this._from&&(this.ratio=_=1-_),u&&!a&&!s&&!p&&(ir(this,"onStart"),this._tTime!==f))return this;for(d=this._pt;d;)d.r(_,d.d),d=d._next;g&&g.render(n<0?n:g._dur*g._ease(u/this._dur),s,o)||this._startAt&&(this._zTime=n),this._onUpdate&&!s&&(h&&kf(this,n,s,o),ir(this,"onUpdate")),this._repeat&&p!==x&&this.vars.onRepeat&&!s&&this.parent&&ir(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(h&&!this._onUpdate&&kf(this,n,!0,!0),(n||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&tn(this,1),!s&&!(h&&!a)&&(f||a||y)&&(ir(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),t.prototype.invalidate.call(this,n)},r.resetTo=function(n,s,o,a,l){la||tr.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||ld(this,c),h=this._ease(c/this._dur),VF(this,n,s,o,a,h,c,l)?this.resetTo(n,s,o,a,1):(Dc(this,0),this.parent||ry(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(n,s){if(s===void 0&&(s="all"),!n&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?So(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(n,s,Ui&&Ui.vars.overwrite!==!0)._first||So(this),this.parent&&o!==this.timeline.totalDuration()&&js(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=n?pr(n):a,c=this._ptLookup,h=this._pt,f,u,d,p,m,x,y;if((!s||s==="all")&&EF(a,l))return s==="all"&&(this._pt=0),So(this);for(f=this._op=this._op||[],s!=="all"&&(xt(s)&&(m={},Wt(s,function(_){return m[_]=1}),s=m),s=jF(a,s)),y=a.length;y--;)if(~l.indexOf(a[y])){u=c[y],s==="all"?(f[y]=s,p=u,d={}):(d=f[y]=f[y]||{},p=s);for(m in p)x=u&&u[m],x&&((!("kill"in x.d)||x.d.kill(m)===!0)&&Pc(this,x,"_pt"),delete u[m]),d!=="all"&&(d[m]=1)}return this._initted&&!this._pt&&h&&So(this),this},e.to=function(n,s){return new e(n,s,arguments[2])},e.from=function(n,s){return zo(1,arguments)},e.delayedCall=function(n,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(n,s,o){return zo(2,arguments)},e.set=function(n,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(n,s)},e.killTweensOf=function(n,s,o){return Qe.killTweensOf(n,s,o)},e}(ca);xr(at.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Wt("staggerTo,staggerFrom,staggerFromTo",function(t){at[t]=function(){var e=new Mt,r=Lf.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var cd=function(e,r,i){return e[r]=i},Sy=function(e,r,i){return e[r](i)},qF=function(e,r,i,n){return e[r](n.fp,i)},YF=function(e,r,i){return e.setAttribute(r,i)},hd=function(e,r){return it(e[r])?Sy:ed(e[r])&&e.setAttribute?YF:cd},wy=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},KF=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},Cy=function(e,r){var i=r._pt,n="";if(!e&&r.b)n=r.b;else if(e===1&&r.e)n=r.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+n,i=i._next;n+=r.c}r.set(r.t,r.p,n,r)},ud=function(e,r){for(var i=r._pt;i;)i.r(e,i.d),i=i._next},ZF=function(e,r,i,n){for(var s=this._pt,o;s;)o=s._next,s.p===n&&s.modifier(e,r,i),s=o},QF=function(e){for(var r=this._pt,i,n;r;)n=r._next,r.p===e&&!r.op||r.op===e?Pc(this,r,"_pt"):r.dep||(i=1),r=n;return!i},JF=function(e,r,i,n){n.mSet(e,r,n.m.call(n.tween,i,n.mt),n)},By=function(e){for(var r=e._pt,i,n,s,o;r;){for(i=r._next,n=s;n&&n.pr>r.pr;)n=n._next;(r._prev=n?n._prev:o)?r._prev._next=r:s=r,(r._next=n)?n._prev=r:o=r,r=i}e._pt=s},Vt=function(){function t(r,i,n,s,o,a,l,c,h){this.t=i,this.s=s,this.c=o,this.p=n,this.r=a||wy,this.d=l||this,this.set=c||cd,this.pr=h||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(i,n,s){this.mSet=this.mSet||this.set,this.set=JF,this.m=i,this.mt=s,this.tween=n},t}();Wt(sd+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return nd[t]=1});or.TweenMax=or.TweenLite=at;or.TimelineLite=or.TimelineMax=Mt;Qe=new Mt({sortChildren:!1,defaults:Ws,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});nr.stringFilter=gy;var Nn=[],gl={},eM=[],dx=0,tM=0,Lh=function(e){return(gl[e]||eM).map(function(r){return r()})},Gf=function(){var e=Date.now(),r=[];e-dx>2&&(Lh("matchMediaInit"),Nn.forEach(function(i){var n=i.queries,s=i.conditions,o,a,l,c;for(a in n)o=zr.matchMedia(n[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(i.revert(),l&&r.push(i))}),Lh("matchMediaRevert"),r.forEach(function(i){return i.onMatch(i,function(n){return i.add(null,n)})}),dx=e,Lh("matchMedia"))},Py=function(){function t(r,i){this.selector=i&&Uf(i),this.data=[],this._r=[],this.isReverted=!1,this.id=tM++,r&&this.add(r)}var e=t.prototype;return e.add=function(i,n,s){it(i)&&(s=n,n=i,i=it);var o=this,a=function(){var c=qe,h=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=Uf(s)),qe=o,f=n.apply(o,arguments),it(f)&&o._r.push(f),qe=c,o.selector=h,o.isReverted=!1,f};return o.last=a,i===it?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},e.ignore=function(i){var n=qe;qe=null,i(this),qe=n},e.getTweens=function(){var i=[];return this.data.forEach(function(n){return n instanceof t?i.push.apply(i,n.getTweens()):n instanceof at&&!(n.parent&&n.parent.data==="nested")&&i.push(n)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,n){var s=this;if(i?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(h){return a.splice(a.indexOf(h),1)}));for(a.map(function(h){return{g:h._dur||h._delay||h._sat&&!h._sat.vars.immediateRender?h.globalTime(0):-1/0,t:h}}).sort(function(h,f){return f.g-h.g||-1/0}).forEach(function(h){return h.t.revert(i)}),l=s.data.length;l--;)c=s.data[l],c instanceof Mt?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof at)&&c.revert&&c.revert(i);s._r.forEach(function(h){return h(i,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),n)for(var o=Nn.length;o--;)Nn[o].id===this.id&&Nn.splice(o,1)},e.revert=function(i){this.kill(i||{})},t}(),rM=function(){function t(r){this.contexts=[],this.scope=r,qe&&qe.data.push(this)}var e=t.prototype;return e.add=function(i,n,s){ri(i)||(i={matches:i});var o=new Py(0,s||this.scope),a=o.conditions={},l,c,h;qe&&!o.selector&&(o.selector=qe.selector),this.contexts.push(o),n=o.add("onMatch",n),o.queries=i;for(c in i)c==="all"?h=1:(l=zr.matchMedia(i[c]),l&&(Nn.indexOf(o)<0&&Nn.push(o),(a[c]=l.matches)&&(h=1),l.addListener?l.addListener(Gf):l.addEventListener("change",Gf)));return h&&n(o,function(f){return o.add(null,f)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(n){return n.kill(i,!0)})},t}(),Yl={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];r.forEach(function(n){return py(n)})},timeline:function(e){return new Mt(e)},getTweensOf:function(e,r){return Qe.getTweensOf(e,r)},getProperty:function(e,r,i,n){xt(e)&&(e=pr(e)[0]);var s=Mn(e||{}).get,o=i?ty:ey;return i==="native"&&(i=""),e&&(r?o((Jt[r]&&Jt[r].get||s)(e,r,i,n)):function(a,l,c){return o((Jt[a]&&Jt[a].get||s)(e,a,l,c))})},quickSetter:function(e,r,i){if(e=pr(e),e.length>1){var n=e.map(function(h){return Yt.quickSetter(h,r,i)}),s=n.length;return function(h){for(var f=s;f--;)n[f](h)}}e=e[0]||{};var o=Jt[r],a=Mn(e),l=a.harness&&(a.harness.aliases||{})[r]||r,c=o?function(h){var f=new o;_s._pt=0,f.init(e,i?h+i:h,_s,0,[e]),f.render(1,f),_s._pt&&ud(1,_s)}:a.set(e,l);return o?c:function(h){return c(e,l,i?h+i:h,a,1)}},quickTo:function(e,r,i){var n,s=Yt.to(e,Wn((n={},n[r]="+=0.1",n.paused=!0,n),i||{})),o=function(l,c,h){return s.resetTo(r,l,c,h)};return o.tween=s,o},isTweening:function(e){return Qe.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=kn(e.ease,Ws.ease)),lx(Ws,e||{})},config:function(e){return lx(nr,e||{})},registerEffect:function(e){var r=e.name,i=e.effect,n=e.plugins,s=e.defaults,o=e.extendTimeline;(n||"").split(",").forEach(function(a){return a&&!Jt[a]&&!or[a]&&sa(r+" effect requires "+a+" plugin.")}),Mh[r]=function(a,l,c){return i(pr(a),xr(l||{},s),c)},o&&(Mt.prototype[r]=function(a,l,c){return this.add(Mh[r](a,ri(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,r){Re[e]=kn(r)},parseEase:function(e,r){return arguments.length?kn(e,r):Re},getById:function(e){return Qe.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var i=new Mt(e),n,s;for(i.smoothChildTiming=$t(e.smoothChildTiming),Qe.remove(i),i._dp=0,i._time=i._tTime=Qe._time,n=Qe._first;n;)s=n._next,(r||!(!n._dur&&n instanceof at&&n.vars.onComplete===n._targets[0]))&&Vr(i,n,n._start-n._delay),n=s;return Vr(Qe,i,0),i},context:function(e,r){return e?new Py(e,r):qe},matchMedia:function(e){return new rM(e)},matchMediaRefresh:function(){return Nn.forEach(function(e){var r=e.conditions,i,n;for(n in r)r[n]&&(r[n]=!1,i=1);i&&e.revert()})||Gf()},addEventListener:function(e,r){var i=gl[e]||(gl[e]=[]);~i.indexOf(r)||i.push(r)},removeEventListener:function(e,r){var i=gl[e],n=i&&i.indexOf(r);n>=0&&i.splice(n,1)},utils:{wrap:MF,wrapYoyo:OF,distribute:ly,random:hy,snap:cy,normalize:FF,getUnit:Ct,clamp:PF,splitColor:my,toArray:pr,selector:Uf,mapRange:fy,pipe:DF,unitize:IF,interpolate:kF,shuffle:ay},install:Yv,effects:Mh,ticker:tr,updateRoot:Mt.updateRoot,plugins:Jt,globalTimeline:Qe,core:{PropTween:Vt,globals:Kv,Tween:at,Timeline:Mt,Animation:ca,getCache:Mn,_removeLinkedListItem:Pc,reverting:function(){return Pt},context:function(e){return e&&qe&&(qe.data.push(e),e._ctx=qe),qe},suppressOverwrites:function(e){return J0=e}}};Wt("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Yl[t]=at[t]});tr.add(Mt.updateRoot);_s=Yl.to({},{duration:0});var iM=function(e,r){for(var i=e._pt;i&&i.p!==r&&i.op!==r&&i.fp!==r;)i=i._next;return i},nM=function(e,r){var i=e._targets,n,s,o;for(n in r)for(s=i.length;s--;)o=e._ptLookup[s][n],o&&(o=o.d)&&(o._pt&&(o=iM(o,n)),o&&o.modifier&&o.modifier(r[n],e,i[s],n))},Uh=function(e,r){return{name:e,rawVars:1,init:function(n,s,o){o._onInit=function(a){var l,c;if(xt(s)&&(l={},Wt(s,function(h){return l[h]=1}),s=l),r){l={};for(c in s)l[c]=r(s[c]);s=l}nM(a,s)}}}},Yt=Yl.registerPlugin({name:"attr",init:function(e,r,i,n,s){var o,a,l;this.tween=i;for(o in r)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",r[o],n,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,r){for(var i=r._pt;i;)Pt?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,r){for(var i=r.length;i--;)this.add(e,i,e[i]||0,r[i],0,0,0,0,0,1)}},Uh("roundProps",zf),Uh("modifiers"),Uh("snap",cy))||Yl;at.version=Mt.version=Yt.version="3.12.5";qv=1;td()&&Xs();Re.Power0;Re.Power1;Re.Power2;Re.Power3;Re.Power4;Re.Linear;Re.Quad;Re.Cubic;Re.Quart;Re.Quint;Re.Strong;Re.Elastic;Re.Back;Re.SteppedEase;Re.Bounce;Re.Sine;Re.Expo;Re.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var px,zi,Rs,fd,Bn,mx,dd,sM=function(){return typeof window<"u"},vi={},bn=180/Math.PI,Ds=Math.PI/180,ss=Math.atan2,xx=1e8,pd=/([A-Z])/g,oM=/(left|right|width|margin|padding|x)/i,aM=/[\s,\(]\S/,qr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},$f=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},lM=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},cM=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},hM=function(e,r){var i=r.s+r.c*e;r.set(r.t,r.p,~~(i+(i<0?-.5:.5))+r.u,r)},Ry=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},Dy=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},uM=function(e,r,i){return e.style[r]=i},fM=function(e,r,i){return e.style.setProperty(r,i)},dM=function(e,r,i){return e._gsap[r]=i},pM=function(e,r,i){return e._gsap.scaleX=e._gsap.scaleY=i},mM=function(e,r,i,n,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},xM=function(e,r,i,n,s){var o=e._gsap;o[r]=i,o.renderTransform(s,o)},et="transform",jt=et+"Origin",gM=function t(e,r){var i=this,n=this.target,s=n.style,o=n._gsap;if(e in vi&&s){if(this.tfm=this.tfm||{},e!=="transform")e=qr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=hi(n,a)}):this.tfm[e]=o.x?o[e]:hi(n,e),e===jt&&(this.tfm.zOrigin=o.zOrigin);else return qr.transform.split(",").forEach(function(a){return t.call(i,a,r)});if(this.props.indexOf(et)>=0)return;o.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(jt,r,"")),e=et}(s||r)&&this.props.push(e,r,s[e])},Iy=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_M=function(){var e=this.props,r=this.target,i=r.style,n=r._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?r[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(pd,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)n[o]=this.tfm[o];n.svg&&(n.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),s=dd(),(!s||!s.isStart)&&!i[et]&&(Iy(i),n.zOrigin&&i[jt]&&(i[jt]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},Fy=function(e,r){var i={target:e,props:[],revert:_M,save:gM};return e._gsap||Yt.core.getCache(e),r&&r.split(",").forEach(function(n){return i.save(n)}),i},My,Wf=function(e,r){var i=zi.createElementNS?zi.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):zi.createElement(e);return i&&i.style?i:zi.createElement(e)},Zr=function t(e,r,i){var n=getComputedStyle(e);return n[r]||n.getPropertyValue(r.replace(pd,"-$1").toLowerCase())||n.getPropertyValue(r)||!i&&t(e,qs(r)||r,1)||""},gx="O,Moz,ms,Ms,Webkit".split(","),qs=function(e,r,i){var n=r||Bn,s=n.style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(gx[o]+e in s););return o<0?null:(o===3?"ms":o>=0?gx[o]:"")+e},Vf=function(){sM()&&window.document&&(px=window,zi=px.document,Rs=zi.documentElement,Bn=Wf("div")||{style:{}},Wf("div"),et=qs(et),jt=et+"Origin",Bn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",My=!!qs("perspective"),dd=Yt.core.reverting,fd=1)},zh=function t(e){var r=Wf("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,n=this.nextSibling,s=this.style.cssText,o;if(Rs.appendChild(r),r.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(o=this._gsapBBox());return i&&(n?i.insertBefore(this,n):i.appendChild(this)),Rs.removeChild(r),this.style.cssText=s,o},_x=function(e,r){for(var i=r.length;i--;)if(e.hasAttribute(r[i]))return e.getAttribute(r[i])},Oy=function(e){var r;try{r=e.getBBox()}catch{r=zh.call(e,!0)}return r&&(r.width||r.height)||e.getBBox===zh||(r=zh.call(e,!0)),r&&!r.width&&!r.x&&!r.y?{x:+_x(e,["x","cx","x1"])||0,y:+_x(e,["y","cy","y1"])||0,width:0,height:0}:r},ky=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Oy(e))},Vn=function(e,r){if(r){var i=e.style,n;r in vi&&r!==jt&&(r=et),i.removeProperty?(n=r.substr(0,2),(n==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),i.removeProperty(n==="--"?r:r.replace(pd,"-$1").toLowerCase())):i.removeAttribute(r)}},Hi=function(e,r,i,n,s,o){var a=new Vt(e._pt,r,i,0,1,o?Dy:Ry);return e._pt=a,a.b=n,a.e=s,e._props.push(i),a},vx={deg:1,rad:1,turn:1},vM={grid:1,flex:1},rn=function t(e,r,i,n){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=Bn.style,l=oM.test(r),c=e.tagName.toLowerCase()==="svg",h=(c?"client":"offset")+(l?"Width":"Height"),f=100,u=n==="px",d=n==="%",p,m,x,y;if(n===o||!s||vx[n]||vx[o])return s;if(o!=="px"&&!u&&(s=t(e,r,i,"px")),y=e.getCTM&&ky(e),(d||o==="%")&&(vi[r]||~r.indexOf("adius")))return p=y?e.getBBox()[l?"width":"height"]:e[h],ot(d?s/p*f:s/100*p);if(a[l?"width":"height"]=f+(u?o:n),m=~r.indexOf("adius")||n==="em"&&e.appendChild&&!c?e:e.parentNode,y&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===zi||!m.appendChild)&&(m=zi.body),x=m._gsap,x&&d&&x.width&&l&&x.time===tr.time&&!x.uncache)return ot(s/x.width*f);if(d&&(r==="height"||r==="width")){var _=e.style[r];e.style[r]=f+n,p=e[h],_?e.style[r]=_:Vn(e,r)}else(d||o==="%")&&!vM[Zr(m,"display")]&&(a.position=Zr(e,"position")),m===e&&(a.position="static"),m.appendChild(Bn),p=Bn[h],m.removeChild(Bn),a.position="absolute";return l&&d&&(x=Mn(m),x.time=tr.time,x.width=m[h]),ot(u?p*s/f:p&&s?f/p*s:0)},hi=function(e,r,i,n){var s;return fd||Vf(),r in qr&&r!=="transform"&&(r=qr[r],~r.indexOf(",")&&(r=r.split(",")[0])),vi[r]&&r!=="transform"?(s=ua(e,n),s=r!=="transformOrigin"?s[r]:s.svg?s.origin:Zl(Zr(e,jt))+" "+s.zOrigin+"px"):(s=e.style[r],(!s||s==="auto"||n||~(s+"").indexOf("calc("))&&(s=Kl[r]&&Kl[r](e,r,i)||Zr(e,r)||Qv(e,r)||(r==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?rn(e,r,s,i)+i:s},yM=function(e,r,i,n){if(!i||i==="none"){var s=qs(r,e,1),o=s&&Zr(e,s,1);o&&o!==i?(r=s,i=o):r==="borderColor"&&(i=Zr(e,"borderTopColor"))}var a=new Vt(this._pt,e.style,r,0,1,Cy),l=0,c=0,h,f,u,d,p,m,x,y,_,g,v,b;if(a.b=i,a.e=n,i+="",n+="",n==="auto"&&(m=e.style[r],e.style[r]=n,n=Zr(e,r)||n,m?e.style[r]=m:Vn(e,r)),h=[i,n],gy(h),i=h[0],n=h[1],u=i.match(gs)||[],b=n.match(gs)||[],b.length){for(;f=gs.exec(n);)x=f[0],_=n.substring(l,f.index),p?p=(p+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(p=1),x!==(m=u[c++]||"")&&(d=parseFloat(m)||0,v=m.substr((d+"").length),x.charAt(1)==="="&&(x=Ps(d,x)+v),y=parseFloat(x),g=x.substr((y+"").length),l=gs.lastIndex-g.length,g||(g=g||nr.units[r]||v,l===n.length&&(n+=g,a.e+=g)),v!==g&&(d=rn(e,r,m,g)||0),a._pt={_next:a._pt,p:_||c===1?_:",",s:d,c:y-d,m:p&&p<4||r==="zIndex"?Math.round:0});a.c=l<n.length?n.substring(l,n.length):""}else a.r=r==="display"&&n==="none"?Dy:Ry;return jv.test(n)&&(a.e=0),this._pt=a,a},yx={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},bM=function(e){var r=e.split(" "),i=r[0],n=r[1]||"50%";return(i==="top"||i==="bottom"||n==="left"||n==="right")&&(e=i,i=n,n=e),r[0]=yx[i]||i,r[1]=yx[n]||n,r.join(" ")},EM=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var i=r.t,n=i.style,s=r.u,o=i._gsap,a,l,c;if(s==="all"||s===!0)n.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],vi[a]&&(l=1,a=a==="transformOrigin"?jt:et),Vn(i,a);l&&(Vn(i,et),o&&(o.svg&&i.removeAttribute("transform"),ua(i,1),o.uncache=1,Iy(n)))}},Kl={clearProps:function(e,r,i,n,s){if(s.data!=="isFromStart"){var o=e._pt=new Vt(e._pt,r,i,0,0,EM);return o.u=n,o.pr=-10,o.tween=s,e._props.push(i),1}}},ha=[1,0,0,1,0,0],Ny={},Ly=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},bx=function(e){var r=Zr(e,et);return Ly(r)?ha:r.substr(7).match(Vv).map(ot)},md=function(e,r){var i=e._gsap||Mn(e),n=e.style,s=bx(e),o,a,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?ha:s):(s===ha&&!e.offsetParent&&e!==Rs&&!i.svg&&(l=n.display,n.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Rs.appendChild(e)),s=bx(e),l?n.display=l:Vn(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Rs.removeChild(e))),r&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},jf=function(e,r,i,n,s,o){var a=e._gsap,l=s||md(e,!0),c=a.xOrigin||0,h=a.yOrigin||0,f=a.xOffset||0,u=a.yOffset||0,d=l[0],p=l[1],m=l[2],x=l[3],y=l[4],_=l[5],g=r.split(" "),v=parseFloat(g[0])||0,b=parseFloat(g[1])||0,E,T,A,R;i?l!==ha&&(T=d*x-p*m)&&(A=v*(x/T)+b*(-m/T)+(m*_-x*y)/T,R=v*(-p/T)+b*(d/T)-(d*_-p*y)/T,v=A,b=R):(E=Oy(e),v=E.x+(~g[0].indexOf("%")?v/100*E.width:v),b=E.y+(~(g[1]||g[0]).indexOf("%")?b/100*E.height:b)),n||n!==!1&&a.smooth?(y=v-c,_=b-h,a.xOffset=f+(y*d+_*m)-y,a.yOffset=u+(y*p+_*x)-_):a.xOffset=a.yOffset=0,a.xOrigin=v,a.yOrigin=b,a.smooth=!!n,a.origin=r,a.originIsAbsolute=!!i,e.style[jt]="0px 0px",o&&(Hi(o,a,"xOrigin",c,v),Hi(o,a,"yOrigin",h,b),Hi(o,a,"xOffset",f,a.xOffset),Hi(o,a,"yOffset",u,a.yOffset)),e.setAttribute("data-svg-origin",v+" "+b)},ua=function(e,r){var i=e._gsap||new by(e);if("x"in i&&!r&&!i.uncache)return i;var n=e.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Zr(e,jt)||"0",h,f,u,d,p,m,x,y,_,g,v,b,E,T,A,R,w,B,I,D,F,G,V,L,q,ne,z,M,k,H,U,fe;return h=f=u=m=x=y=_=g=v=0,d=p=1,i.svg=!!(e.getCTM&&ky(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(n[et]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[et]!=="none"?l[et]:"")),n.scale=n.rotate=n.translate="none"),T=md(e,i.svg),i.svg&&(i.uncache?(q=e.getBBox(),c=i.xOrigin-q.x+"px "+(i.yOrigin-q.y)+"px",L=""):L=!r&&e.getAttribute("data-svg-origin"),jf(e,L||c,!!L||i.originIsAbsolute,i.smooth!==!1,T)),b=i.xOrigin||0,E=i.yOrigin||0,T!==ha&&(B=T[0],I=T[1],D=T[2],F=T[3],h=G=T[4],f=V=T[5],T.length===6?(d=Math.sqrt(B*B+I*I),p=Math.sqrt(F*F+D*D),m=B||I?ss(I,B)*bn:0,_=D||F?ss(D,F)*bn+m:0,_&&(p*=Math.abs(Math.cos(_*Ds))),i.svg&&(h-=b-(b*B+E*D),f-=E-(b*I+E*F))):(fe=T[6],H=T[7],z=T[8],M=T[9],k=T[10],U=T[11],h=T[12],f=T[13],u=T[14],A=ss(fe,k),x=A*bn,A&&(R=Math.cos(-A),w=Math.sin(-A),L=G*R+z*w,q=V*R+M*w,ne=fe*R+k*w,z=G*-w+z*R,M=V*-w+M*R,k=fe*-w+k*R,U=H*-w+U*R,G=L,V=q,fe=ne),A=ss(-D,k),y=A*bn,A&&(R=Math.cos(-A),w=Math.sin(-A),L=B*R-z*w,q=I*R-M*w,ne=D*R-k*w,U=F*w+U*R,B=L,I=q,D=ne),A=ss(I,B),m=A*bn,A&&(R=Math.cos(A),w=Math.sin(A),L=B*R+I*w,q=G*R+V*w,I=I*R-B*w,V=V*R-G*w,B=L,G=q),x&&Math.abs(x)+Math.abs(m)>359.9&&(x=m=0,y=180-y),d=ot(Math.sqrt(B*B+I*I+D*D)),p=ot(Math.sqrt(V*V+fe*fe)),A=ss(G,V),_=Math.abs(A)>2e-4?A*bn:0,v=U?1/(U<0?-U:U):0),i.svg&&(L=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!Ly(Zr(e,et)),L&&e.setAttribute("transform",L))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(d*=-1,_+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,_+=_<=0?180:-180)),r=r||i.uncache,i.x=h-((i.xPercent=h&&(!r&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=f-((i.yPercent=f&&(!r&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=u+o,i.scaleX=ot(d),i.scaleY=ot(p),i.rotation=ot(m)+a,i.rotationX=ot(x)+a,i.rotationY=ot(y)+a,i.skewX=_+a,i.skewY=g+a,i.transformPerspective=v+o,(i.zOrigin=parseFloat(c.split(" ")[2])||!r&&i.zOrigin||0)&&(n[jt]=Zl(c)),i.xOffset=i.yOffset=0,i.force3D=nr.force3D,i.renderTransform=i.svg?AM:My?Uy:TM,i.uncache=0,i},Zl=function(e){return(e=e.split(" "))[0]+" "+e[1]},Hh=function(e,r,i){var n=Ct(r);return ot(parseFloat(r)+parseFloat(rn(e,"x",i+"px",n)))+n},TM=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,Uy(e,r)},fn="0deg",go="0px",dn=") ",Uy=function(e,r){var i=r||this,n=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,h=i.rotationY,f=i.rotationX,u=i.skewX,d=i.skewY,p=i.scaleX,m=i.scaleY,x=i.transformPerspective,y=i.force3D,_=i.target,g=i.zOrigin,v="",b=y==="auto"&&e&&e!==1||y===!0;if(g&&(f!==fn||h!==fn)){var E=parseFloat(h)*Ds,T=Math.sin(E),A=Math.cos(E),R;E=parseFloat(f)*Ds,R=Math.cos(E),o=Hh(_,o,T*R*-g),a=Hh(_,a,-Math.sin(E)*-g),l=Hh(_,l,A*R*-g+g)}x!==go&&(v+="perspective("+x+dn),(n||s)&&(v+="translate("+n+"%, "+s+"%) "),(b||o!==go||a!==go||l!==go)&&(v+=l!==go||b?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+dn),c!==fn&&(v+="rotate("+c+dn),h!==fn&&(v+="rotateY("+h+dn),f!==fn&&(v+="rotateX("+f+dn),(u!==fn||d!==fn)&&(v+="skew("+u+", "+d+dn),(p!==1||m!==1)&&(v+="scale("+p+", "+m+dn),_.style[et]=v||"translate(0, 0)"},AM=function(e,r){var i=r||this,n=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,h=i.skewY,f=i.scaleX,u=i.scaleY,d=i.target,p=i.xOrigin,m=i.yOrigin,x=i.xOffset,y=i.yOffset,_=i.forceCSS,g=parseFloat(o),v=parseFloat(a),b,E,T,A,R;l=parseFloat(l),c=parseFloat(c),h=parseFloat(h),h&&(h=parseFloat(h),c+=h,l+=h),l||c?(l*=Ds,c*=Ds,b=Math.cos(l)*f,E=Math.sin(l)*f,T=Math.sin(l-c)*-u,A=Math.cos(l-c)*u,c&&(h*=Ds,R=Math.tan(c-h),R=Math.sqrt(1+R*R),T*=R,A*=R,h&&(R=Math.tan(h),R=Math.sqrt(1+R*R),b*=R,E*=R)),b=ot(b),E=ot(E),T=ot(T),A=ot(A)):(b=f,A=u,E=T=0),(g&&!~(o+"").indexOf("px")||v&&!~(a+"").indexOf("px"))&&(g=rn(d,"x",o,"px"),v=rn(d,"y",a,"px")),(p||m||x||y)&&(g=ot(g+p-(p*b+m*T)+x),v=ot(v+m-(p*E+m*A)+y)),(n||s)&&(R=d.getBBox(),g=ot(g+n/100*R.width),v=ot(v+s/100*R.height)),R="matrix("+b+","+E+","+T+","+A+","+g+","+v+")",d.setAttribute("transform",R),_&&(d.style[et]=R)},SM=function(e,r,i,n,s){var o=360,a=xt(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?bn:1),c=l-n,h=n+c+"deg",f,u;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*xx)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*xx)%o-~~(c/o)*o)),e._pt=u=new Vt(e._pt,r,i,n,c,lM),u.e=h,u.u="deg",e._props.push(i),u},Ex=function(e,r){for(var i in r)e[i]=r[i];return e},wM=function(e,r,i){var n=Ex({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,c,h,f,u,d,p;n.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[et]=r,a=ua(i,1),Vn(i,et),i.setAttribute("transform",c)):(c=getComputedStyle(i)[et],o[et]=r,a=ua(i,1),o[et]=c);for(l in vi)c=n[l],h=a[l],c!==h&&s.indexOf(l)<0&&(d=Ct(c),p=Ct(h),f=d!==p?rn(i,l,c,p):parseFloat(c),u=parseFloat(h),e._pt=new Vt(e._pt,a,l,f,u-f,$f),e._pt.u=p||0,e._props.push(l));Ex(a,n)};Wt("padding,margin,Width,Radius",function(t,e){var r="Top",i="Right",n="Bottom",s="Left",o=(e<3?[r,i,n,s]:[r+s,r+i,n+i,n+s]).map(function(a){return e<2?t+a:"border"+a+t});Kl[e>1?"border"+t:t]=function(a,l,c,h,f){var u,d;if(arguments.length<4)return u=o.map(function(p){return hi(a,p,c)}),d=u.join(" "),d.split(u[0]).length===5?u[0]:d;u=(h+"").split(" "),d={},o.forEach(function(p,m){return d[p]=u[m]=u[m]||u[(m-1)/2|0]}),a.init(l,d,f)}});var zy={name:"css",register:Vf,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,i,n,s){var o=this._props,a=e.style,l=i.vars.startAt,c,h,f,u,d,p,m,x,y,_,g,v,b,E,T,A;fd||Vf(),this.styles=this.styles||Fy(e),A=this.styles.props,this.tween=i;for(m in r)if(m!=="autoRound"&&(h=r[m],!(Jt[m]&&Ey(m,r,i,n,e,s)))){if(d=typeof h,p=Kl[m],d==="function"&&(h=h.call(i,n,e,s),d=typeof h),d==="string"&&~h.indexOf("random(")&&(h=aa(h)),p)p(this,e,m,h,i)&&(T=1);else if(m.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(m)+"").trim(),h+="",qi.lastIndex=0,qi.test(c)||(x=Ct(c),y=Ct(h)),y?x!==y&&(c=rn(e,m,c,y)+y):x&&(h+=x),this.add(a,"setProperty",c,h,n,s,0,0,m),o.push(m),A.push(m,0,a[m]);else if(d!=="undefined"){if(l&&m in l?(c=typeof l[m]=="function"?l[m].call(i,n,e,s):l[m],xt(c)&&~c.indexOf("random(")&&(c=aa(c)),Ct(c+"")||c==="auto"||(c+=nr.units[m]||Ct(hi(e,m))||""),(c+"").charAt(1)==="="&&(c=hi(e,m))):c=hi(e,m),u=parseFloat(c),_=d==="string"&&h.charAt(1)==="="&&h.substr(0,2),_&&(h=h.substr(2)),f=parseFloat(h),m in qr&&(m==="autoAlpha"&&(u===1&&hi(e,"visibility")==="hidden"&&f&&(u=0),A.push("visibility",0,a.visibility),Hi(this,a,"visibility",u?"inherit":"hidden",f?"inherit":"hidden",!f)),m!=="scale"&&m!=="transform"&&(m=qr[m],~m.indexOf(",")&&(m=m.split(",")[0]))),g=m in vi,g){if(this.styles.save(m),v||(b=e._gsap,b.renderTransform&&!r.parseTransform||ua(e,r.parseTransform),E=r.smoothOrigin!==!1&&b.smooth,v=this._pt=new Vt(this._pt,a,et,0,1,b.renderTransform,b,0,-1),v.dep=1),m==="scale")this._pt=new Vt(this._pt,b,"scaleY",b.scaleY,(_?Ps(b.scaleY,_+f):f)-b.scaleY||0,$f),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){A.push(jt,0,a[jt]),h=bM(h),b.svg?jf(e,h,0,E,0,this):(y=parseFloat(h.split(" ")[2])||0,y!==b.zOrigin&&Hi(this,b,"zOrigin",b.zOrigin,y),Hi(this,a,m,Zl(c),Zl(h)));continue}else if(m==="svgOrigin"){jf(e,h,1,E,0,this);continue}else if(m in Ny){SM(this,b,m,u,_?Ps(u,_+h):h);continue}else if(m==="smoothOrigin"){Hi(this,b,"smooth",b.smooth,h);continue}else if(m==="force3D"){b[m]=h;continue}else if(m==="transform"){wM(this,h,e);continue}}else m in a||(m=qs(m)||m);if(g||(f||f===0)&&(u||u===0)&&!aM.test(h)&&m in a)x=(c+"").substr((u+"").length),f||(f=0),y=Ct(h)||(m in nr.units?nr.units[m]:x),x!==y&&(u=rn(e,m,c,y)),this._pt=new Vt(this._pt,g?b:a,m,u,(_?Ps(u,_+f):f)-u,!g&&(y==="px"||m==="zIndex")&&r.autoRound!==!1?hM:$f),this._pt.u=y||0,x!==y&&y!=="%"&&(this._pt.b=c,this._pt.r=cM);else if(m in a)yM.call(this,e,m,c,_?_+h:h);else if(m in e)this.add(e,m,c||e[m],_?_+h:h,n,s);else if(m!=="parseTransform"){id(m,h);continue}g||(m in a?A.push(m,0,a[m]):A.push(m,1,c||e[m])),o.push(m)}}T&&By(this)},render:function(e,r){if(r.tween._time||!dd())for(var i=r._pt;i;)i.r(e,i.d),i=i._next;else r.styles.revert()},get:hi,aliases:qr,getSetter:function(e,r,i){var n=qr[r];return n&&n.indexOf(",")<0&&(r=n),r in vi&&r!==jt&&(e._gsap.x||hi(e,"x"))?i&&mx===i?r==="scale"?pM:dM:(mx=i||{})&&(r==="scale"?mM:xM):e.style&&!ed(e.style[r])?uM:~r.indexOf("-")?fM:hd(e,r)},core:{_removeProperty:Vn,_getMatrix:md}};Yt.utils.checkPrefix=qs;Yt.core.getStyleSaver=Fy;(function(t,e,r,i){var n=Wt(t+","+e+","+r,function(s){vi[s]=1});Wt(e,function(s){nr.units[s]="deg",Ny[s]=1}),qr[n[13]]=t+","+e,Wt(i,function(s){var o=s.split(":");qr[o[1]]=n[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Wt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){nr.units[t]="px"});Yt.registerPlugin(zy);var je=Yt.registerPlugin(zy)||Yt;je.core.Tween;class CM extends ze{constructor(r,i,n){super();pe(this,"mInfo");pe(this,"mEventManager");this.mEventManager=n,this.mInfo={sceneId:r,name:i}}get info(){return this.mInfo}get evtManager(){return this.mEventManager}async init(){}async startGame(){}usePointerEvent(){this.on("pointermove",i=>{i.preventDefault(),i.stopPropagation(),i.defaultPrevented=!0,this.onPointerMove(i)}),this.on("pointerdown",i=>{i.preventDefault(),i.stopPropagation(),i.defaultPrevented=!0,this.onPointerDown(i)});const r=["up","cancel","leave"];for(let i=0;i<r.length;i++){const n=`pointer${r[i]}`;this.on(n,s=>{s.preventDefault(),s.stopPropagation(),s.defaultPrevented=!0,this.disablePointerEvt(s)})}}onPointerMove(r){}onPointerDown(r){}disablePointerEvt(r){}async endGame(){je.globalTimeline.clear(),this.removeChildren()}}function pn(t){t.sort(()=>Math.random()-.5)}var We=(t=>(t[t._first=0]="_first",t[t.eBar1=1]="eBar1",t[t.eBar2=2]="eBar2",t[t.eBar3=3]="eBar3",t[t.eCherry=4]="eCherry",t[t.eJoker=5]="eJoker",t[t.eBell=6]="eBell",t[t.eWaterMelon=7]="eWaterMelon",t[t.eOrange=8]="eOrange",t[t.eSeven=9]="eSeven",t[t.eStar=10]="eStar",t[t.eTarget=11]="eTarget",t[t._last=12]="_last",t))(We||{});function _t(t){switch(t){case 1:return"bar1";case 2:return"bar2";case 3:return"bar3";case 4:return"cherry";case 5:return"joker";case 6:return"bell";case 7:return"watermelon";case 8:return"orange";case 9:return"seven";case 10:return"star";case 11:return"target";default:return"undefined"}}class BM{checkReelIconCount(e,r){let i=0;for(const n of r)i+=e.includes(n)?1:0;return i}getRandomIcon(e){let r=1+Math.floor(Math.random()*10);do r=0+1+Math.floor(Math.random()*(12-2));while(e.includes(r));return r}_makerZeroProc4Joker(e,r){return[5].includes(e[0])&&[5].includes(e[1])&&[5].includes(e[2])&&[5].includes(e[3])?(e[0]=this.getRandomIcon(r?[5,r[0]]:[5]),e[1]=this.getRandomIcon(r?[5,r[1]]:[5]),e[2]=this.getRandomIcon(r?[5,r[2]]:[5]),e[3]=this.getRandomIcon(r?[5,r[3]]:[5]),!0):!1}_makerZeroProc3Joker(e,r){return[5].includes(e[0])&&[5].includes(e[1])&&[5].includes(e[2])?(e[0]=this.getRandomIcon(r?[5,r[0]]:[5]),e[1]=this.getRandomIcon(r?[5,r[1]]:[5]),e[2]=this.getRandomIcon(r?[5,r[2]]:[5]),!0):[5].includes(e[1])&&[5].includes(e[2])&&[5].includes(e[3])?(e[1]=this.getRandomIcon(r?[5,r[1]]:[5]),e[2]=this.getRandomIcon(r?[5,r[2]]:[5]),e[3]=this.getRandomIcon(r?[5,r[3]]:[5]),!0):!1}_makerZeroProc37st(e,r){return[3,5].includes(e[0])&&[9,5].includes(e[1])&&[10,5].includes(e[2])&&[11,5].includes(e[3])?(e[0]=this.getRandomIcon(r?[3,r[0]]:[3]),e[1]=this.getRandomIcon(r?[9,r[1]]:[9]),e[2]=this.getRandomIcon(r?[10,r[2]]:[10]),e[3]=this.getRandomIcon(r?[11,r[3]]:[11]),!0):!1}_makerZeroProc4bars(e,r){return this.checkReelIconCount([5,3,2,1],e)==4?(e[0]=this.getRandomIcon(r?[5,3,2,1,r[0]]:[5,3,2,1]),e[1]=this.getRandomIcon(r?[5,3,2,1,r[1]]:[5,3,2,1]),e[2]=this.getRandomIcon(r?[5,3,2,1,r[2]]:[5,3,2,1]),e[3]=this.getRandomIcon(r?[5,3,2,1,r[3]]:[5,3,2,1]),!0):!1}_makerZeroProc3bars(e,r){return this.checkReelIconCount([5,3,2,1],e.slice(0,3))==3?(e[0]=this.getRandomIcon(r?[5,3,2,1,r[0]]:[5,3,2,1]),e[1]=this.getRandomIcon(r?[5,3,2,1,r[1]]:[5,3,2,1]),e[2]=this.getRandomIcon(r?[5,3,2,1,r[2]]:[5,3,2,1]),!0):this.checkReelIconCount([5,3,2,1],e.slice(1,4))==3?(e[1]=this.getRandomIcon(r?[5,3,2,1,r[1]]:[5,3,2,1]),e[2]=this.getRandomIcon(r?[5,3,2,1,r[2]]:[5,3,2,1]),e[3]=this.getRandomIcon(r?[5,3,2,1,r[3]]:[5,3,2,1]),!0):!1}_makeZeroProc4Prize(e,r,i){return this.checkReelIconCount([5,e],r)==4?(r[0]=this.getRandomIcon(i?[5,e,i[0]]:[5,e]),r[1]=this.getRandomIcon(i?[5,e,i[1]]:[5,e]),r[2]=this.getRandomIcon(i?[5,e,i[2]]:[5,e]),r[3]=this.getRandomIcon(i?[5,e,i[3]]:[5,e]),!0):!1}_makeZeroProc3Prize(e,r,i){return this.checkReelIconCount([5,e],r.slice(0,3))==3?(r[0]=this.getRandomIcon(i?[5,e,i[0]]:[5,e]),r[1]=this.getRandomIcon(i?[5,e,i[1]]:[5,e]),r[2]=this.getRandomIcon(i?[5,e,i[2]]:[5,e]),!0):this.checkReelIconCount([5,e],r.slice(1,4))==3?(r[1]=this.getRandomIcon(i?[5,e,i[1]]:[5,e]),r[2]=this.getRandomIcon(i?[5,e,i[2]]:[5,e]),r[3]=this.getRandomIcon(i?[5,e,i[3]]:[5,e]),!0):!1}_makeZeroProc2Prize(e,r,i){return this.checkReelIconCount([5,e],r.slice(0,2))==2?(r[0]=this.getRandomIcon(i?[5,e,i[0]]:[5,e]),r[1]=this.getRandomIcon(i?[5,e,i[1]]:[5,e]),!0):this.checkReelIconCount([5,e],r.slice(2,4))==2?(r[2]=this.getRandomIcon(i?[5,e,i[2]]:[5,e]),r[3]=this.getRandomIcon(i?[5,e,i[3]]:[5,e]),!0):!1}_makeZeroProcCherry(e,r){return this.checkReelIconCount([5,4],e.slice(0,2))==2?(e[0]=this.getRandomIcon(r?[5,4,r[0]]:[5,4]),e[1]=this.getRandomIcon(r?[5,4,r[1]]:[5,4]),!0):this.checkReelIconCount([5,4],e.slice(2,4))==2?(e[2]=this.getRandomIcon(r?[5,4,r[2]]:[5,4]),e[3]=this.getRandomIcon(r?[5,4,r[3]]:[5,4]),!0):e[0]==4?(e[0]=this.getRandomIcon(r?[5,4,r[0]]:[5,4]),!0):e[3]==4?(e[3]=this.getRandomIcon(r?[5,4,r[3]]:[5,4]),!0):!1}_makeAvoidTarget(e,r){if(r!=null){if(e[0]==r[0])return e[0]=this.getRandomIcon([r[0]]),!0;if(e[1]==r[1])return e[1]=this.getRandomIcon([r[1]]),!0;if(e[2]==r[2])return e[2]=this.getRandomIcon([r[2]]),!0;if(e[3]==r[3])return e[3]=this.getRandomIcon([r[3]]),!0}return!1}makePrizeLine0(e){const r=[this.getRandomIcon(e?[e[0]]:[]),this.getRandomIcon(e?[e[1]]:[]),this.getRandomIcon(e?[e[2]]:[]),this.getRandomIcon(e?[e[3]]:[])];for(;;)if(!this._makerZeroProc4Joker(r,e)&&!this._makerZeroProc3Joker(r,e)&&!this._makerZeroProc37st(r,e)&&!this._makerZeroProc4bars(r,e)&&!this._makerZeroProc3bars(r,e)&&!this._makeZeroProc4Prize(6,r,e)&&!this._makeZeroProc4Prize(4,r,e)&&!this._makeZeroProc4Prize(5,r,e)&&!this._makeZeroProc4Prize(8,r,e)&&!this._makeZeroProc4Prize(9,r,e)&&!this._makeZeroProc4Prize(10,r,e)&&!this._makeZeroProc4Prize(11,r,e)&&!this._makeZeroProc4Prize(7,r,e)&&!this._makeZeroProc3Prize(6,r,e)&&!this._makeZeroProc3Prize(4,r,e)&&!this._makeZeroProc3Prize(5,r,e)&&!this._makeZeroProc3Prize(8,r,e)&&!this._makeZeroProc3Prize(9,r,e)&&!this._makeZeroProc3Prize(10,r,e)&&!this._makeZeroProc3Prize(11,r,e)&&!this._makeZeroProc3Prize(7,r,e)&&!this._makeZeroProc2Prize(9,r,e)&&!this._makeZeroProc2Prize(10,r,e)&&!this._makeZeroProc2Prize(11,r,e)&&!this._makeZeroProcCherry(r,e)&&!this._makeAvoidTarget(r,e))return{iconTable:r,displayIconTable:r,iconAniFlag:[!1,!1,!1,!1]}}make1CherryLine(e){const r=Math.round(Math.random())==1,i=this.makePrizeLine0(e);return r?(i.iconAniFlag=[!0,!1,!1,!1],i.iconTable[0]=4,[4,5].includes(i.iconTable[1])&&(i.iconTable[1]=this.getRandomIcon(e==null?[4,5]:[4,5,e[1]]))):(i.iconAniFlag=[!1,!1,!1,!0],i.iconTable[3]=4,[4,5].includes(i.iconTable[2])&&(i.iconTable[2]=this.getRandomIcon(e==null?[4,5]:[4,5,e[2]]))),i.displayIconTable={...i.iconTable},i}make2CherryLine(e){const r=Math.round(Math.random())==1,i=this.makePrizeLine0(e);return r?(i.iconAniFlag=[!0,!0,!1,!1],i.iconTable[0]=4,i.iconTable[1]=4,[4,5].includes(i.iconTable[2])&&(i.iconTable[2]=this.getRandomIcon(e==null?[4,5]:[4,5,e[2]]))):(i.iconAniFlag=[!1,!1,!0,!0],i.iconTable[2]=4,i.iconTable[3]=4,[4,5].includes(i.iconTable[1])&&(i.iconTable[1]=this.getRandomIcon(e==null?[4,5]:[4,5,e[1]]))),i.displayIconTable={...i.iconTable},i}make3BarNLine(e){const r=Math.round(Math.random())==1,i=this.makePrizeLine0(e);if(r){const n=[1,1,2,2,3,3];pn(n),i.iconAniFlag=[!0,!0,!0,!1],i.iconTable[0]=n[0],i.iconTable[1]=n[1],i.iconTable[2]=n[2],[1,2,3,5].includes(i.iconTable[3])&&(i.iconTable[3]=this.getRandomIcon(e==null?[1,2,3,5,4]:[1,2,3,5,4,e[3]]))}else{const n=[1,1,2,2,3,3];pn(n),i.iconAniFlag=[!1,!0,!0,!0],i.iconTable[1]=n[0],i.iconTable[2]=n[1],i.iconTable[3]=n[2],[1,2,3,5].includes(i.iconTable[0])&&(i.iconTable[0]=this.getRandomIcon(e==null?[1,2,3,4,5]:[1,2,3,4,5,e[0]]))}return i.displayIconTable={...i.iconTable},i}make4BarNLine(e=0){const r=[1,1,1,2,2,2,3,3,3];pn(r);const i={iconAniFlag:[!0,!0,!0,!0],iconTable:[r[0],r[1],r[2],r[3]],displayIconTable:[r[0],r[1],r[2],r[3]]};if(e>0){e>2&&(e=2);const n=[0,1,2,3];pn(n);for(let s=0;s<e;s++)i.displayIconTable[n[s]]=5}return i}make2PrizeLine(e,r){const i=Math.round(Math.random())==1,n=this.makePrizeLine0(r);return i?(n.iconAniFlag=[!0,!0,!1,!1],n.iconTable[0]=e,n.iconTable[1]=e,[e,5].includes(n.iconTable[2])&&(n.iconTable[2]=this.getRandomIcon(r==null?[e,5]:[e,5,r[2]]))):(n.iconAniFlag=[!1,!1,!0,!0],n.iconTable[2]=e,n.iconTable[3]=e,[e,5].includes(n.iconTable[1])&&(n.iconTable[1]=this.getRandomIcon(r==null?[e,5]:[e,5,r[1]]))),n.displayIconTable={...n.iconTable},n}make3PrizeLine(e,r,i=0){const n=Math.round(Math.random())==1,s=this.makePrizeLine0(r);let o=[];if(i>0&&i>1&&(i=1),n?(i>0&&(o=[0,1,2]),s.iconAniFlag=[!0,!0,!0,!1],s.iconTable[0]=e,s.iconTable[1]=e,s.iconTable[2]=e,[1,2,3].includes(e)?[1,2,3,5].includes(s.iconTable[3])&&(s.iconTable[3]=this.getRandomIcon(r==null?[1,2,3,5,4]:[1,2,3,5,4,r[3]])):[e,5].includes(s.iconTable[3])&&(s.iconTable[3]=this.getRandomIcon(r==null?[e,5,4]:[e,5,4,r[3]]))):(i>0&&(o=[1,2,3]),s.iconAniFlag=[!1,!0,!0,!0],s.iconTable[1]=e,s.iconTable[2]=e,s.iconTable[3]=e,[1,2,3].includes(e)?[1,2,3,5].includes(s.iconTable[0])&&(s.iconTable[0]=this.getRandomIcon(r==null?[1,2,3,4,5]:[1,2,3,4,5,r[0]])):[e,5].includes(s.iconTable[0])&&(s.iconTable[0]=this.getRandomIcon(r==null?[e,4,5]:[e,4,5,r[0]]))),s.displayIconTable={...s.iconTable},i>0){pn(o);for(let a=0;a<i;a++)s.displayIconTable[o[a]]=5}return s}make4PrizeLine(e,r=0){const i={iconAniFlag:[!0,!0,!0,!0],iconTable:[e,e,e,e],displayIconTable:[e,e,e,e]};if(r>0){r>3&&(r=3);const n=[0,1,2,3];pn(n);for(let s=0;s<r;s++)i.displayIconTable[n[s]]=5}return i}make37stPrizeLine(e=0){const r={iconAniFlag:[!0,!0,!0,!0],iconTable:[3,9,10,11],displayIconTable:[3,9,10,11]};if(e>0){e>3&&(e=3);const i=[0,1,2,3];pn(i);for(let n=0;n<e;n++)r.displayIconTable[i[n]]=5}return r}printLine(e){console.log(`${_t(e[0])}	${_t(e[1])}	${_t(e[2])}	${_t(e[3])}`)}printPattern(e){console.log(`${_t(e[0][0])}	${_t(e[1][0])}	${_t(e[2][0])}	${_t(e[3][0])}`),console.log(`${_t(e[0][1])}	${_t(e[1][1])}	${_t(e[2][1])}	${_t(e[3][1])}`),console.log(`${_t(e[0][2])}	${_t(e[1][2])}	${_t(e[2][2])}	${_t(e[3][2])}`),console.log("")}}const Gi=[1,2,4,5,7,8,10,14,20,35,40,50,70,80,100,120,160,200,240,250,320,400,480,500,600,640,800,960,1e3,1200,1250,1600,2e3,2400,2500,3200,4e3,4800,5e3],PM=()=>({1:[{prize:C.e1Cherry,center:!0,dividend:1,baseScore:1},{prize:C.e1Cherry,center:!1,dividend:1,baseScore:1},{prize:C.e2Target,center:!0,dividend:1,baseScore:1},{prize:C.e2Target,center:!1,dividend:1,baseScore:1},{prize:C.e2Star,center:!0,dividend:1,baseScore:1},{prize:C.e2Star,center:!1,dividend:1,baseScore:1},{prize:C.e2Seven,center:!0,dividend:1,baseScore:1},{prize:C.e2Seven,center:!1,dividend:1,baseScore:1}],2:[{prize:C.e1Cherry,center:!0,dividend:2,baseScore:1},{prize:C.e1Cherry,center:!1,dividend:2,baseScore:1},{prize:C.e2Cherry,center:!0,dividend:1,baseScore:2},{prize:C.e2Cherry,center:!1,dividend:1,baseScore:2},{prize:C.e2Target,center:!0,dividend:2,baseScore:1},{prize:C.e2Target,center:!1,dividend:2,baseScore:1},{prize:C.e2Star,center:!0,dividend:2,baseScore:1},{prize:C.e2Star,center:!1,dividend:2,baseScore:1},{prize:C.e2Seven,center:!0,dividend:2,baseScore:1},{prize:C.e2Seven,center:!1,dividend:2,baseScore:1}],4:[{prize:C.e2Cherry,center:!0,dividend:2,baseScore:2},{prize:C.e2Cherry,center:!1,dividend:2,baseScore:2},{prize:C.e3Cherry,center:!0,dividend:1,baseScore:4},{prize:C.e3Cherry,center:!1,dividend:1,baseScore:4},{prize:C.e3Orange,center:!0,dividend:1,baseScore:4},{prize:C.e3Orange,center:!1,dividend:1,baseScore:4},{prize:C.e3WaterMelon,center:!0,dividend:1,baseScore:4},{prize:C.e3WaterMelon,center:!1,dividend:1,baseScore:4}],5:[{prize:C.e1Cherry,center:!0,dividend:5,baseScore:1},{prize:C.e1Cherry,center:!1,dividend:5,baseScore:1},{prize:C.e2Target,center:!0,dividend:5,baseScore:1},{prize:C.e2Target,center:!1,dividend:5,baseScore:1},{prize:C.e2Star,center:!0,dividend:5,baseScore:1},{prize:C.e2Star,center:!1,dividend:5,baseScore:1},{prize:C.e2Seven,center:!0,dividend:5,baseScore:1},{prize:C.e2Seven,center:!1,dividend:5,baseScore:1}],7:[{prize:C.e4Cherry,center:!0,dividend:1,baseScore:7},{prize:C.e4Cherry,center:!1,dividend:1,baseScore:7},{prize:C.e4Orange,center:!0,dividend:1,baseScore:7},{prize:C.e4Orange,center:!1,dividend:1,baseScore:7},{prize:C.e4WaterMelon,center:!0,dividend:1,baseScore:7},{prize:C.e4WaterMelon,center:!1,dividend:1,baseScore:7},{prize:C.e3Bell,center:!0,dividend:1,baseScore:7},{prize:C.e3Bell,center:!1,dividend:1,baseScore:7},{prize:C.e3Target,center:!0,dividend:1,baseScore:7},{prize:C.e3Target,center:!1,dividend:1,baseScore:7},{prize:C.e3Star,center:!0,dividend:1,baseScore:7},{prize:C.e3Star,center:!1,dividend:1,baseScore:7},{prize:C.e3Seven,center:!0,dividend:1,baseScore:7},{prize:C.e3Seven,center:!1,dividend:1,baseScore:7},{prize:C.e3BarN,center:!0,dividend:1,baseScore:7},{prize:C.e3BarN,center:!1,dividend:1,baseScore:7}],8:[{prize:C.e3Cherry,center:!0,dividend:2,baseScore:4},{prize:C.e3Cherry,center:!1,dividend:2,baseScore:4},{prize:C.e3Orange,center:!0,dividend:2,baseScore:4},{prize:C.e3Orange,center:!1,dividend:2,baseScore:4},{prize:C.e3WaterMelon,center:!0,dividend:2,baseScore:4},{prize:C.e3WaterMelon,center:!1,dividend:2,baseScore:4}],10:[{prize:C.e1Cherry,center:!0,dividend:10,baseScore:1},{prize:C.e1Cherry,center:!1,dividend:10,baseScore:1},{prize:C.e2Cherry,center:!0,dividend:5,baseScore:2},{prize:C.e2Cherry,center:!1,dividend:5,baseScore:2},{prize:C.e2Target,center:!0,dividend:10,baseScore:1},{prize:C.e2Target,center:!1,dividend:10,baseScore:1},{prize:C.e2Star,center:!0,dividend:10,baseScore:1},{prize:C.e2Star,center:!1,dividend:10,baseScore:1},{prize:C.e2Seven,center:!0,dividend:10,baseScore:1},{prize:C.e2Seven,center:!1,dividend:10,baseScore:1},{prize:C.e4BarN,center:!0,dividend:1,baseScore:10},{prize:C.e4BarN,center:!1,dividend:1,baseScore:10}],14:[{prize:C.e4Cherry,center:!0,dividend:2,baseScore:7},{prize:C.e4Cherry,center:!1,dividend:2,baseScore:7},{prize:C.e4Orange,center:!0,dividend:2,baseScore:7},{prize:C.e4Orange,center:!1,dividend:2,baseScore:7},{prize:C.e4WaterMelon,center:!0,dividend:2,baseScore:7},{prize:C.e4WaterMelon,center:!1,dividend:2,baseScore:7},{prize:C.e3Bell,center:!0,dividend:2,baseScore:7},{prize:C.e3Bell,center:!1,dividend:2,baseScore:7},{prize:C.e3Target,center:!0,dividend:2,baseScore:7},{prize:C.e3Target,center:!1,dividend:2,baseScore:7},{prize:C.e3Star,center:!0,dividend:2,baseScore:7},{prize:C.e3Star,center:!1,dividend:2,baseScore:7},{prize:C.e3Seven,center:!0,dividend:2,baseScore:7},{prize:C.e3Seven,center:!1,dividend:2,baseScore:7},{prize:C.e3BarN,center:!0,dividend:2,baseScore:7},{prize:C.e3BarN,center:!1,dividend:2,baseScore:7}],20:[{prize:C.e2Cherry,center:!0,dividend:10,baseScore:2},{prize:C.e2Cherry,center:!1,dividend:10,baseScore:2},{prize:C.e3Cherry,center:!0,dividend:5,baseScore:4},{prize:C.e3Cherry,center:!1,dividend:5,baseScore:4},{prize:C.e3Orange,center:!0,dividend:5,baseScore:4},{prize:C.e3Orange,center:!1,dividend:5,baseScore:4},{prize:C.e3WaterMelon,center:!0,dividend:5,baseScore:4},{prize:C.e3WaterMelon,center:!1,dividend:5,baseScore:4},{prize:C.e4Bell,center:!1,dividend:1,baseScore:20},{prize:C.e3Bar1,center:!1,dividend:1,baseScore:20},{prize:C.e4BarN,center:!0,dividend:2,baseScore:10},{prize:C.e4BarN,center:!1,dividend:2,baseScore:10}],35:[{prize:C.e4Cherry,center:!0,dividend:5,baseScore:7},{prize:C.e4Cherry,center:!1,dividend:5,baseScore:7},{prize:C.e4Orange,center:!0,dividend:5,baseScore:7},{prize:C.e4Orange,center:!1,dividend:5,baseScore:7},{prize:C.e4WaterMelon,center:!0,dividend:5,baseScore:7},{prize:C.e4WaterMelon,center:!1,dividend:5,baseScore:7},{prize:C.e3Bell,center:!0,dividend:5,baseScore:7},{prize:C.e3Bell,center:!1,dividend:5,baseScore:7},{prize:C.e3Target,center:!0,dividend:5,baseScore:7},{prize:C.e3Target,center:!1,dividend:5,baseScore:7},{prize:C.e3Star,center:!0,dividend:5,baseScore:7},{prize:C.e3Star,center:!1,dividend:5,baseScore:7},{prize:C.e3Seven,center:!0,dividend:5,baseScore:7},{prize:C.e3Seven,center:!1,dividend:5,baseScore:7},{prize:C.e3BarN,center:!0,dividend:5,baseScore:7},{prize:C.e3BarN,center:!1,dividend:5,baseScore:7}],40:[{prize:C.e3Cherry,center:!0,dividend:10,baseScore:4},{prize:C.e3Cherry,center:!1,dividend:10,baseScore:4},{prize:C.e3Orange,center:!0,dividend:10,baseScore:4},{prize:C.e3Orange,center:!1,dividend:10,baseScore:4},{prize:C.e3WaterMelon,center:!0,dividend:10,baseScore:4},{prize:C.e3WaterMelon,center:!1,dividend:10,baseScore:4},{prize:C.e4Bell,center:!0,dividend:1,baseScore:40},{prize:C.e4Bell,center:!1,dividend:2,baseScore:20},{prize:C.e3Bar1,center:!0,dividend:1,baseScore:40},{prize:C.e3Bar1,center:!1,dividend:2,baseScore:20}],50:[{prize:C.e3Bar2,center:!1,dividend:1,baseScore:50},{prize:C.e4BarN,center:!0,dividend:5,baseScore:10},{prize:C.e4BarN,center:!1,dividend:5,baseScore:10}],70:[{prize:C.e4Cherry,center:!0,dividend:10,baseScore:7},{prize:C.e4Cherry,center:!1,dividend:10,baseScore:7},{prize:C.e4Orange,center:!0,dividend:10,baseScore:7},{prize:C.e4Orange,center:!1,dividend:10,baseScore:7},{prize:C.e4WaterMelon,center:!0,dividend:10,baseScore:7},{prize:C.e4WaterMelon,center:!1,dividend:10,baseScore:7},{prize:C.e3Bell,center:!0,dividend:10,baseScore:7},{prize:C.e3Bell,center:!1,dividend:10,baseScore:7},{prize:C.e3Target,center:!0,dividend:10,baseScore:7},{prize:C.e3Target,center:!1,dividend:10,baseScore:7},{prize:C.e3Star,center:!0,dividend:10,baseScore:7},{prize:C.e3Star,center:!1,dividend:10,baseScore:7},{prize:C.e3Seven,center:!0,dividend:10,baseScore:7},{prize:C.e3Seven,center:!1,dividend:10,baseScore:7},{prize:C.e3BarN,center:!0,dividend:10,baseScore:7},{prize:C.e3BarN,center:!1,dividend:10,baseScore:7}],80:[{prize:C.e4Bell,center:!0,dividend:2,baseScore:40},{prize:C.e3Bar1,center:!0,dividend:2,baseScore:40}],100:[{prize:C.e4Bell,center:!1,dividend:5,baseScore:20},{prize:C.e3Bar1,center:!1,dividend:5,baseScore:20},{prize:C.e3Bar2,center:!0,dividend:1,baseScore:100},{prize:C.e3Bar2,center:!1,dividend:2,baseScore:50},{prize:C.e3Bar3,center:!1,dividend:1,baseScore:100},{prize:C.e4BarN,center:!0,dividend:10,baseScore:10},{prize:C.e4BarN,center:!1,dividend:10,baseScore:10}],120:[{prize:C.e4Target,center:!1,dividend:1,baseScore:120},{prize:C.e4Star,center:!1,dividend:1,baseScore:120},{prize:C.e4Seven,center:!1,dividend:1,baseScore:120},{prize:C.e4Joker,center:!1,dividend:1,baseScore:120}],160:[{prize:C.e4Bar1,center:!1,dividend:1,baseScore:160}],200:[{prize:C.e4Bell,center:!0,dividend:5,baseScore:40},{prize:C.e4Bell,center:!1,dividend:10,baseScore:20},{prize:C.e3Bar1,center:!0,dividend:5,baseScore:40},{prize:C.e3Bar1,center:!1,dividend:10,baseScore:20},{prize:C.e3Bar2,center:!0,dividend:2,baseScore:100},{prize:C.e4Bar2,center:!1,dividend:1,baseScore:200},{prize:C.e3Bar3,center:!0,dividend:1,baseScore:200},{prize:C.e3Bar3,center:!1,dividend:2,baseScore:100}],240:[{prize:C.e4Target,center:!0,dividend:1,baseScore:240},{prize:C.e4Target,center:!1,dividend:2,baseScore:120},{prize:C.e4Star,center:!0,dividend:1,baseScore:240},{prize:C.e4Star,center:!1,dividend:2,baseScore:120},{prize:C.e4Seven,center:!0,dividend:1,baseScore:240},{prize:C.e4Seven,center:!1,dividend:2,baseScore:120},{prize:C.e4Bar3,center:!1,dividend:1,baseScore:240},{prize:C.e4Joker,center:!0,dividend:1,baseScore:240},{prize:C.e4Joker,center:!1,dividend:2,baseScore:120}],250:[{prize:C.e3Bar2,center:!1,dividend:5,baseScore:50},{prize:C.e37ST,center:!1,dividend:1,baseScore:250}],320:[{prize:C.e4Bar1,center:!0,dividend:1,baseScore:320},{prize:C.e4Bar1,center:!1,dividend:2,baseScore:160}],400:[{prize:C.e4Bell,center:!0,dividend:10,baseScore:40},{prize:C.e3Bar1,center:!0,dividend:10,baseScore:40},{prize:C.e4Bar2,center:!0,dividend:1,baseScore:400},{prize:C.e4Bar2,center:!1,dividend:2,baseScore:200},{prize:C.e3Bar3,center:!0,dividend:2,baseScore:200}],480:[{prize:C.e4Target,center:!0,dividend:2,baseScore:240},{prize:C.e4Star,center:!0,dividend:2,baseScore:240},{prize:C.e4Seven,center:!0,dividend:2,baseScore:240},{prize:C.e4Bar3,center:!0,dividend:1,baseScore:480},{prize:C.e4Bar3,center:!1,dividend:2,baseScore:240},{prize:C.e4Joker,center:!0,dividend:2,baseScore:240}],500:[{prize:C.e3Bar2,center:!0,dividend:5,baseScore:100},{prize:C.e3Bar2,center:!1,dividend:10,baseScore:50},{prize:C.e3Bar3,center:!1,dividend:5,baseScore:100},{prize:C.e37ST,center:!0,dividend:1,baseScore:500},{prize:C.e37ST,center:!1,dividend:2,baseScore:250}],600:[{prize:C.e4Target,center:!1,dividend:5,baseScore:120},{prize:C.e4Star,center:!1,dividend:5,baseScore:120},{prize:C.e4Seven,center:!1,dividend:5,baseScore:120},{prize:C.e4Joker,center:!1,dividend:5,baseScore:120}],640:[{prize:C.e4Bar1,center:!0,dividend:2,baseScore:320}],800:[{prize:C.e4Bar1,center:!1,dividend:5,baseScore:160},{prize:C.e4Bar2,center:!0,dividend:2,baseScore:400}],960:[{prize:C.e4Bar3,center:!0,dividend:2,baseScore:480}],1e3:[{prize:C.e3Bar2,center:!0,dividend:10,baseScore:100},{prize:C.e4Bar2,center:!1,dividend:5,baseScore:200},{prize:C.e3Bar3,center:!0,dividend:5,baseScore:200},{prize:C.e3Bar3,center:!1,dividend:10,baseScore:100},{prize:C.e37ST,center:!0,dividend:2,baseScore:500}],1200:[{prize:C.e4Target,center:!0,dividend:5,baseScore:240},{prize:C.e4Target,center:!1,dividend:10,baseScore:120},{prize:C.e4Star,center:!0,dividend:5,baseScore:240},{prize:C.e4Star,center:!1,dividend:10,baseScore:120},{prize:C.e4Seven,center:!0,dividend:5,baseScore:240},{prize:C.e4Seven,center:!1,dividend:10,baseScore:120},{prize:C.e4Bar3,center:!1,dividend:5,baseScore:240},{prize:C.e4Joker,center:!0,dividend:5,baseScore:240},{prize:C.e4Joker,center:!1,dividend:10,baseScore:120}],1250:[{prize:C.e37ST,center:!1,dividend:5,baseScore:250}],1600:[{prize:C.e4Bar1,center:!0,dividend:5,baseScore:320},{prize:C.e4Bar1,center:!1,dividend:10,baseScore:160}],2e3:[{prize:C.e4Bar2,center:!0,dividend:5,baseScore:400},{prize:C.e4Bar2,center:!1,dividend:10,baseScore:200},{prize:C.e3Bar3,center:!0,dividend:10,baseScore:200}],2400:[{prize:C.e4Target,center:!0,dividend:10,baseScore:240},{prize:C.e4Star,center:!0,dividend:10,baseScore:240},{prize:C.e4Seven,center:!0,dividend:10,baseScore:240},{prize:C.e4Bar3,center:!0,dividend:5,baseScore:480},{prize:C.e4Bar3,center:!1,dividend:10,baseScore:240},{prize:C.e4Joker,center:!0,dividend:10,baseScore:240}],2500:[{prize:C.e37ST,center:!0,dividend:5,baseScore:500},{prize:C.e37ST,center:!1,dividend:10,baseScore:250}],3200:[{prize:C.e4Bar1,center:!0,dividend:10,baseScore:320}],4e3:[{prize:C.e4Bar2,center:!0,dividend:10,baseScore:400}],4800:[{prize:C.e4Bar3,center:!0,dividend:10,baseScore:480}],5e3:[{prize:C.e37ST,center:!0,dividend:10,baseScore:500}]});var C=(t=>(t[t._first=0]="_first",t[t.eZeroScore=1]="eZeroScore",t[t.e1Cherry=2]="e1Cherry",t[t.e2Cherry=3]="e2Cherry",t[t.e3Cherry=4]="e3Cherry",t[t.e4Cherry=5]="e4Cherry",t[t.e3Orange=6]="e3Orange",t[t.e4Orange=7]="e4Orange",t[t.e3WaterMelon=8]="e3WaterMelon",t[t.e4WaterMelon=9]="e4WaterMelon",t[t.e3Bell=10]="e3Bell",t[t.e4Bell=11]="e4Bell",t[t.e2Target=12]="e2Target",t[t.e3Target=13]="e3Target",t[t.e4Target=14]="e4Target",t[t.e2Star=15]="e2Star",t[t.e3Star=16]="e3Star",t[t.e4Star=17]="e4Star",t[t.e2Seven=18]="e2Seven",t[t.e3Seven=19]="e3Seven",t[t.e4Seven=20]="e4Seven",t[t.e3Bar1=21]="e3Bar1",t[t.e4Bar1=22]="e4Bar1",t[t.e3Bar2=23]="e3Bar2",t[t.e4Bar2=24]="e4Bar2",t[t.e3Bar3=25]="e3Bar3",t[t.e4Bar3=26]="e4Bar3",t[t.e3BarN=27]="e3BarN",t[t.e4BarN=28]="e4BarN",t[t.e4Joker=29]="e4Joker",t[t.e37ST=30]="e37ST",t[t._last=31]="_last",t))(C||{});const RM=[1,2,5,10];class DM{getPrizeSet(e){const r=PM(),i=Gi.findIndex((a,l)=>a===e),n=Gi.findIndex((a,l)=>a>e),s=i?Gi[i]:Gi[n-1],o=Math.floor(Math.random()*r[s].length);return console.log({score:e,idx:i,scoreValue:s,randIDX:o,result:r[s][o]}),r[s][o]}}const IM=new DM,we=new BM;function FM(t){t.sort(()=>Math.random()-.5)}async function MM(){const t=[...RM];FM(t);const e=we.makePrizeLine0(null),r=we.makePrizeLine0(e.iconTable),i=we.makePrizeLine0(r.iconTable);return{prize:C.eZeroScore,score:0,baseScore:0,dividend:t[0],priceLineIDX:0,useJoker:!1,iconTable:[[e.iconTable[0],r.iconTable[0],i.iconTable[0]],[e.iconTable[1],r.iconTable[1],i.iconTable[1]],[e.iconTable[2],r.iconTable[2],i.iconTable[2]],[e.iconTable[3],r.iconTable[3],i.iconTable[3]]],displayIconTable:Hy([[e.displayIconTable[0],r.displayIconTable[0],i.displayIconTable[0]],[e.displayIconTable[1],r.displayIconTable[1],i.displayIconTable[1]],[e.displayIconTable[2],r.displayIconTable[2],i.displayIconTable[2]],[e.displayIconTable[3],r.displayIconTable[3],i.displayIconTable[3]]]),iconAniFlag:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]]}}async function Tx(t){if(t==0)return await MM();{let e=Math.random()>.7;const r=IM.getPrizeSet(t);let i={};switch(r.prize){case C.e1Cherry:i=we.make1CherryLine(null);break;case C.e2Cherry:i=we.make2CherryLine(null);break;case C.e3Cherry:i=we.make3PrizeLine(We.eCherry,null,e?1:0);break;case C.e4Cherry:i=we.make4PrizeLine(We.eCherry,e?Math.floor(Math.random()*3):0);break;case C.e3Orange:i=we.make3PrizeLine(We.eOrange,null,e?1:0);break;case C.e4Orange:i=we.make4PrizeLine(We.eOrange,e?Math.floor(Math.random()*3):0);break;case C.e3WaterMelon:i=we.make3PrizeLine(We.eWaterMelon,null,e?1:0);break;case C.e4WaterMelon:i=we.make4PrizeLine(We.eWaterMelon,e?Math.floor(Math.random()*3):0);break;case C.e3Bell:i=we.make3PrizeLine(We.eBell,null,e?1:0);break;case C.e4Bell:i=we.make4PrizeLine(We.eBell,e?Math.floor(Math.random()*3):0);break;case C.e2Target:i=we.make2PrizeLine(We.eTarget,null);break;case C.e3Target:i=we.make3PrizeLine(We.eTarget,null,e?1:0);break;case C.e4Target:i=we.make4PrizeLine(We.eTarget,e?Math.floor(Math.random()*3):0);break;case C.e2Star:i=we.make2PrizeLine(We.eStar,null);break;case C.e3Star:i=we.make3PrizeLine(We.eStar,null,e?1:0);break;case C.e4Star:i=we.make4PrizeLine(We.eStar,e?Math.floor(Math.random()*3):0);break;case C.e2Seven:i=we.make2PrizeLine(We.eSeven,null);break;case C.e3Seven:i=we.make3PrizeLine(We.eSeven,null,e?1:0);break;case C.e4Seven:i=we.make4PrizeLine(We.eSeven,e?Math.floor(Math.random()*3):0);break;case C.e3Bar1:i=we.make3PrizeLine(We.eBar1,null,e?1:0);break;case C.e4Bar1:i=we.make4PrizeLine(We.eBar1,e?Math.floor(Math.random()*3):0);break;case C.e3Bar2:i=we.make3PrizeLine(We.eBar2,null,e?1:0);break;case C.e4Bar2:i=we.make4PrizeLine(We.eBar2,e?Math.floor(Math.random()*3):0);break;case C.e3Bar3:i=we.make3PrizeLine(We.eBar3,null,e?1:0);break;case C.e4Bar3:i=we.make4PrizeLine(We.eBar3,e?Math.floor(Math.random()*3):0);break;case C.e3BarN:e=!1,i=we.make3BarNLine(null);break;case C.e4BarN:i=we.make4BarNLine(e?Math.floor(Math.random()*2):0);break;case C.e4Joker:e=!1,i=we.make4PrizeLine(We.eJoker,0);break;case C.e37ST:i=we.make37stPrizeLine(e?1+Math.floor(Math.random()*2):0);break}let n=0;r.center?n=2:n=Math.round(Math.random())<.5?1:3;let s,o,a;return n==1?(s=i,o=we.makePrizeLine0(i.iconTable),a=we.makePrizeLine0(o.iconTable)):n==2?(s=we.makePrizeLine0(i.iconTable),o=i,a=we.makePrizeLine0(i.iconTable)):n==3&&(o=we.makePrizeLine0(i.iconTable),s=we.makePrizeLine0(o.iconTable),a=i),{prize:r.prize,score:r.dividend*r.baseScore,baseScore:r.baseScore,dividend:r.dividend,priceLineIDX:n,useJoker:e,iconTable:[[s.iconTable[0],o.iconTable[0],a.iconTable[0]],[s.iconTable[1],o.iconTable[1],a.iconTable[1]],[s.iconTable[2],o.iconTable[2],a.iconTable[2]],[s.iconTable[3],o.iconTable[3],a.iconTable[3]]],displayIconTable:Hy([[s.displayIconTable[0],o.displayIconTable[0],a.displayIconTable[0]],[s.displayIconTable[1],o.displayIconTable[1],a.displayIconTable[1]],[s.displayIconTable[2],o.displayIconTable[2],a.displayIconTable[2]],[s.displayIconTable[3],o.displayIconTable[3],a.displayIconTable[3]]]),iconAniFlag:[[s.iconAniFlag[0],o.iconAniFlag[0],a.iconAniFlag[0]],[s.iconAniFlag[1],o.iconAniFlag[1],a.iconAniFlag[1]],[s.iconAniFlag[2],o.iconAniFlag[2],a.iconAniFlag[2]],[s.iconAniFlag[3],o.iconAniFlag[3],a.iconAniFlag[3]]]}}}function Hy(t){const e=[[],[],[],[]];for(let r=0;r<t.length;r++)for(let i=0;i<t[r].length;i++)e[r].push(_t(t[r][i]));return e}const Aa={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ys={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Ot={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},OM={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom"},Gy={dangerouslyHTMLString:!1,multiple:!0,position:Aa.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},kM={rtl:!1,newestOnTop:!1,toastClassName:""},$y={...Gy,...kM};({...Gy,type:Ot.DEFAULT});var ke=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(ke||{}),Xf=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(Xf||{});const NM={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},LM={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},UM={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},zM={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"};function Wy(t){let e=NM;if(!t||typeof t=="string")switch(t){case"flip":e=zM;break;case"zoom":e=UM;break;case"slide":e=LM;break}else e=t;return e}function HM(t){return t.containerId||String(t.position)}const Ic="will-unmount";function GM(t=Aa.TOP_RIGHT){return!!document.querySelector(".".concat(ke.CSS_NAMESPACE,"__toast-container--").concat(t))}function $M(t=Aa.TOP_RIGHT){return"".concat(ke.CSS_NAMESPACE,"__toast-container--").concat(t)}function WM(t,e,r=!1){const i=["".concat(ke.CSS_NAMESPACE,"__toast-container"),"".concat(ke.CSS_NAMESPACE,"__toast-container--").concat(t),r?"".concat(ke.CSS_NAMESPACE,"__toast-container--rtl"):null].filter(Boolean).join(" ");return Is(e)?e({position:t,rtl:r,defaultClassName:i}):"".concat(i," ").concat(e||"")}function VM(t){var e;const{position:r,containerClassName:i,rtl:n=!1,style:s={}}=t,o=ke.CSS_NAMESPACE,a=$M(r),l=document.querySelector(".".concat(o)),c=document.querySelector(".".concat(a)),h=!!c&&!((e=c.className)!=null&&e.includes(Ic)),f=l||document.createElement("div"),u=document.createElement("div");u.className=WM(r,i,n),u.dataset.testid="".concat(ke.CSS_NAMESPACE,"__toast-container--").concat(r),u.id=HM(t);for(const d in s)if(Object.prototype.hasOwnProperty.call(s,d)){const p=s[d];u.style[d]=p}return l||(f.className=ke.CSS_NAMESPACE,document.body.appendChild(f)),h||f.appendChild(u),u}function qf(t){var e,r,i;const n=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((r=t.target)==null?void 0:r.id),s=document.getElementById(n);s&&s.removeEventListener("animationend",qf,!1);try{fa[n].unmount(),(i=document.getElementById(n))==null||i.remove(),delete fa[n],delete vt[n]}catch{}}const fa=kt({});function jM(t,e){const r=document.getElementById(String(e));r&&(fa[r.id]=t)}function Yf(t,e=!0){const r=String(t);if(!fa[r])return;const i=document.getElementById(r);i&&i.classList.add(Ic),e?(qM(t),i&&i.addEventListener("animationend",qf,!1)):qf(r),ii.items=ii.items.filter(n=>n.containerId!==t)}function XM(t){for(const e in fa)Yf(e,t);ii.items=[]}function Vy(t,e){const r=document.getElementById(t.toastId);if(r){let i=t;i={...i,...Wy(i.transition)};const n=i.appendPosition?"".concat(i.exit,"--").concat(i.position):i.exit;r.className+=" ".concat(n),e&&e(r)}}function qM(t){for(const e in vt)if(e===t)for(const r of vt[e]||[])Vy(r)}function YM(t){const e=Sa().find(r=>r.toastId===t);return e==null?void 0:e.containerId}function xd(t){return document.getElementById(t)}function KM(t){const e=xd(t.containerId);return e&&e.classList.contains(Ic)}function Ax(t){var e;const r=Os(t.content)?Ae(t.content.props):null;return r??Ae((e=t.data)!=null?e:{})}function ZM(t){return t?ii.items.filter(e=>e.containerId===t).length>0:ii.items.length>0}function QM(){if(ii.items.length>0){const t=ii.items.shift();_l(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const vt=kt({}),ii=kt({items:[]});function Sa(){const t=Ae(vt);return Object.values(t).reduce((e,r)=>[...e,...r],[])}function JM(t){return Sa().find(e=>e.toastId===t)}function _l(t,e={}){if(KM(e)){const r=xd(e.containerId);r&&r.addEventListener("animationend",Kf.bind(null,t,e),!1)}else Kf(t,e)}function Kf(t,e={}){const r=xd(e.containerId);r&&r.removeEventListener("animationend",Kf.bind(null,t,e),!1);const i=vt[e.containerId]||[],n=i.length>0;if(!n&&!GM(e.position)){const s=VM(e),o=F_(_6,e);o.mount(s),jM(o,s.id)}n&&(e.position=i[0].position),ma(()=>{e.updateId?Qr.update(e):Qr.add(t,e)})}const Qr={add(t,e){const{containerId:r=""}=e;r&&(vt[r]=vt[r]||[],vt[r].find(i=>i.toastId===e.toastId)||setTimeout(()=>{var i,n;e.newestOnTop?(i=vt[r])==null||i.unshift(e):(n=vt[r])==null||n.push(e),e.onOpen&&e.onOpen(Ax(e))},e.delay||0))},remove(t){if(t){const e=YM(t);if(e){const r=vt[e];let i=r.find(n=>n.toastId===t);vt[e]=r.filter(n=>n.toastId!==t),!vt[e].length&&!ZM(e)&&Yf(e,!1),QM(),ma(()=>{i!=null&&i.onClose&&(i.onClose(Ax(i)),i=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){vt[e]=vt[e]||[];const r=vt[e].find(i=>i.toastId===t.toastId);r&&setTimeout(()=>{for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const n=t[i];r[i]=n}},t.delay||0)}},clear(t,e=!0){t?Yf(t,e):XM(e)},dismissCallback(t){var e;const r=(e=t.currentTarget)==null?void 0:e.id,i=document.getElementById(r);i&&(i.removeEventListener("animationend",Qr.dismissCallback,!1),setTimeout(()=>{Qr.remove(r)}))},dismiss(t){if(t){const e=Sa();for(const r of e)if(r.toastId===t){Vy(r,i=>{i.addEventListener("animationend",Qr.dismissCallback,!1)});break}}}},jy=kt({}),Ql=kt({});function Xy(){return Math.random().toString(36).substring(2,9)}function e6(t){return typeof t=="number"&&!isNaN(t)}function Zf(t){return typeof t=="string"}function Is(t){return typeof t=="function"}function Fc(...t){return bi(...t)}function vl(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function t6(t={}){jy["".concat(ke.CSS_NAMESPACE,"-default-options")]=t}function r6(){return jy["".concat(ke.CSS_NAMESPACE,"-default-options")]||$y}function i6(){return document.documentElement.classList.contains("dark")?"dark":"light"}var yl=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(yl||{});const qy={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Aa.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Ys.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Ot.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""}},n6={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Ot.DEFAULT},theme:{type:String,required:!1,default:Ys.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},s6=gr({name:"ProgressBar",props:n6,setup(t,{attrs:e}){const r=ui(),i=Le(()=>t.hide?"true":"false"),n=Le(()=>({...e.style||{},animationDuration:"".concat(t.autoClose===!0?5e3:t.autoClose,"ms"),animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?"scaleX(".concat(t.progress,")"):"none"})),s=Le(()=>["".concat(ke.CSS_NAMESPACE,"__progress-bar"),t.controlledProgress?"".concat(ke.CSS_NAMESPACE,"__progress-bar--controlled"):"".concat(ke.CSS_NAMESPACE,"__progress-bar--animated"),"".concat(ke.CSS_NAMESPACE,"__progress-bar-theme--").concat(t.theme),"".concat(ke.CSS_NAMESPACE,"__progress-bar--").concat(t.type),t.rtl?"".concat(ke.CSS_NAMESPACE,"__progress-bar--rtl"):null].filter(Boolean).join(" ")),o=Le(()=>"".concat(s.value," ").concat((e==null?void 0:e.class)||"")),a=()=>{r.value&&(r.value.onanimationend=null,r.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),a())},c=Le(()=>t.controlledProgress?null:l),h=Le(()=>t.controlledProgress?l:null);return Bo(()=>{r.value&&(a(),r.value.onanimationend=c.value,r.value.ontransitionend=h.value)}),()=>Ce("div",{ref:r,role:"progressbar","aria-hidden":i.value,"aria-label":"notification timer",class:o.value,style:n.value},null)}}),o6=gr({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Ys.AUTO},type:{type:String,required:!1,default:Ys.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>Ce("button",{class:"".concat(ke.CSS_NAMESPACE,"__close-button ").concat(ke.CSS_NAMESPACE,"__close-button--").concat(t.theme),type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[Ce("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[Ce("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),Mc=({theme:t,type:e,path:r,...i})=>Ce("svg",bi({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":"var(--toastify-icon-color-".concat(e,")")},i),[Ce("path",{d:r},null)]);function a6(t){return Ce(Mc,bi(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function l6(t){return Ce(Mc,bi(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function c6(t){return Ce(Mc,bi(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function h6(t){return Ce(Mc,bi(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function u6(){return Ce("div",{class:"".concat(ke.CSS_NAMESPACE,"__spinner")},null)}const Qf={info:l6,warning:a6,success:c6,error:h6,spinner:u6},f6=t=>t in Qf;function d6({theme:t,type:e,isLoading:r,icon:i}){let n;const s={theme:t,type:e};return r?n=Qf.spinner():i===!1?n=void 0:vl(i)?n=Ae(i):Is(i)?n=i(s):Os(i)?n=Ln(i,s):Zf(i)||e6(i)?n=i:f6(e)&&(n=Qf[e](s)),n}const p6=()=>{};function m6(t,e,r=ke.COLLAPSE_DURATION){const{scrollHeight:i,style:n}=t,s=r;requestAnimationFrame(()=>{n.minHeight="initial",n.height=i+"px",n.transition="all ".concat(s,"ms"),requestAnimationFrame(()=>{n.height="0",n.padding="0",n.margin="0",setTimeout(e,s)})})}function x6(t){const e=ui(!1),r=ui(!1),i=ui(!1),n=ui(yl.Enter),s=kt({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||ke.COLLAPSE_DURATION}),o=s.done||p6,a=Le(()=>s.appendPosition?"".concat(s.enter,"--").concat(s.position):s.enter),l=Le(()=>s.appendPosition?"".concat(s.exit,"--").concat(s.position):s.exit),c=Le(()=>t.pauseOnHover?{onMouseenter:x,onMouseleave:m}:{});function h(){const _=a.value.split(" ");u().addEventListener(Xf.ENTRANCE_ANIMATION_END,m,{once:!0});const g=b=>{const E=u();b.target===E&&(E.dispatchEvent(new Event(Xf.ENTRANCE_ANIMATION_END)),E.removeEventListener("animationend",g),E.removeEventListener("animationcancel",g),n.value===yl.Enter&&b.type!=="animationcancel"&&E.classList.remove(..._))},v=()=>{const b=u();b.classList.add(..._),b.addEventListener("animationend",g),b.addEventListener("animationcancel",g)};t.pauseOnFocusLoss&&d(),v()}function f(){if(!u())return;const _=()=>{const v=u();v.removeEventListener("animationend",_),s.collapse?m6(v,o,s.collapseDuration):o()},g=()=>{const v=u();n.value=yl.Exit,v&&(v.className+=" ".concat(l.value),v.addEventListener("animationend",_))};r.value||(i.value?_():setTimeout(g))}function u(){return t.toastRef.value}function d(){document.hasFocus()||x(),window.addEventListener("focus",m),window.addEventListener("blur",x)}function p(){window.removeEventListener("focus",m),window.removeEventListener("blur",x)}function m(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function x(){e.value=!1}function y(_){_&&(_.stopPropagation(),_.preventDefault()),r.value=!1}return Bo(f),Bo(()=>{const _=Sa();r.value=_.findIndex(g=>g.toastId===s.toastId)>-1}),Bo(()=>{t.isLoading!==void 0&&(t.loading.value?x():m())}),v0(h),hc(()=>{t.pauseOnFocusLoss&&p()}),{isIn:r,isRunning:e,hideToast:y,eventHandlers:c}}const g6=gr({name:"ToastItem",inheritAttrs:!1,props:qy,setup(t){const e=ui(),r=Le(()=>!!t.isLoading),i=Le(()=>t.progress!==void 0&&t.progress!==null),n=Le(()=>d6(t)),s=Le(()=>["".concat(ke.CSS_NAMESPACE,"__toast"),"".concat(ke.CSS_NAMESPACE,"__toast-theme--").concat(t.theme),"".concat(ke.CSS_NAMESPACE,"__toast--").concat(t.type),t.rtl?"".concat(ke.CSS_NAMESPACE,"__toast--rtl"):void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:o,isIn:a,hideToast:l,eventHandlers:c}=x6({toastRef:e,loading:r,done:()=>{Qr.remove(t.toastId)},...Wy(t.transition),...t});return()=>Ce("div",bi({id:t.toastId,class:s.value,style:t.toastStyle||{},ref:e,"data-testid":"toast-item-".concat(t.toastId),onClick:h=>{t.closeOnClick&&l(),t.onClick&&t.onClick(h)}},c.value),[Ce("div",{role:t.role,"data-testid":"toast-body",class:"".concat(ke.CSS_NAMESPACE,"__toast-body ").concat(t.bodyClassName||"")},[n.value!=null&&Ce("div",{"data-testid":"toast-icon-".concat(t.type),class:["".concat(ke.CSS_NAMESPACE,"__toast-icon"),t.isLoading?"":"".concat(ke.CSS_NAMESPACE,"--animate-icon ").concat(ke.CSS_NAMESPACE,"__zoom-enter")].join(" ")},[vl(n.value)?ds(Ae(n.value),{theme:t.theme,type:t.type}):Is(n.value)?n.value({theme:t.theme,type:t.type}):n.value]),Ce("div",{"data-testid":"toast-content"},[vl(t.content)?ds(Ae(t.content),{toastProps:Ae(t),closeToast:l,data:t.data}):Is(t.content)?t.content({toastProps:Ae(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?ds("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&Ce(o6,{theme:t.theme,closeToast:h=>{h.stopPropagation(),h.preventDefault(),l()}},null),vl(t.closeButton)?ds(Ae(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):Is(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,Ce(s6,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:a.value,type:t.type,hide:t.hideProgressBar,isRunning:o.value,autoClose:t.autoClose,controlledProgress:i.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let Go=0;function Yy(){typeof window>"u"||(Go&&window.cancelAnimationFrame(Go),Go=window.requestAnimationFrame(Yy),Ql.lastUrl!==window.location.href&&(Ql.lastUrl=window.location.href,Qr.clear()))}const _6=gr({name:"ToastifyContainer",inheritAttrs:!1,props:qy,setup(t){const e=Le(()=>t.containerId),r=Le(()=>vt[e.value]||[]),i=Le(()=>r.value.filter(n=>n.position===t.position));return v0(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(Yy)}),hc(()=>{typeof window<"u"&&Go&&(window.cancelAnimationFrame(Go),Ql.lastUrl="")}),()=>Ce(er,null,[i.value.map(n=>{const{toastId:s=""}=n;return Ce(g6,bi({key:s},n),null)})])}});let Gh=!1;function Ky(){const t=[];return Sa().forEach(e=>{const r=document.getElementById(e.containerId);r&&!r.classList.contains(Ic)&&t.push(e)}),t}function v6(t){const e=Ky().length,r=t??0;return r>0&&e+ii.items.length>=r}function y6(t){v6(t.limit)&&!t.updateId&&ii.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function on(t,e,r={}){if(Gh)return;r=Fc(r6(),{type:e},Ae(r)),(!r.toastId||typeof r.toastId!="string"&&typeof r.toastId!="number")&&(r.toastId=Xy()),r={...r,content:t,containerId:r.containerId||String(r.position)};const i=Number(r==null?void 0:r.progress);return i<0&&(r.progress=0),i>1&&(r.progress=1),r.theme==="auto"&&(r.theme=i6()),y6(r),Ql.lastUrl=window.location.href,r.multiple?ii.items.length?r.updateId&&_l(t,r):_l(t,r):(Gh=!0,Ue.clearAll(void 0,!1),setTimeout(()=>{_l(t,r)},0),setTimeout(()=>{Gh=!1},390)),r.toastId}const Ue=(t,e)=>on(t,Ot.DEFAULT,e);Ue.info=(t,e)=>on(t,Ot.DEFAULT,{...e,type:Ot.INFO});Ue.error=(t,e)=>on(t,Ot.DEFAULT,{...e,type:Ot.ERROR});Ue.warning=(t,e)=>on(t,Ot.DEFAULT,{...e,type:Ot.WARNING});Ue.warn=Ue.warning;Ue.success=(t,e)=>on(t,Ot.DEFAULT,{...e,type:Ot.SUCCESS});Ue.loading=(t,e)=>on(t,Ot.DEFAULT,Fc(e,{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1}));Ue.dark=(t,e)=>on(t,Ot.DEFAULT,Fc(e,{theme:Ys.DARK}));Ue.remove=t=>{t?Qr.dismiss(t):Qr.clear()};Ue.clearAll=(t,e)=>{Qr.clear(t,e)};Ue.isActive=t=>{let e=!1;return e=Ky().findIndex(r=>r.toastId===t)>-1,e};Ue.update=(t,e={})=>{setTimeout(()=>{const r=JM(t);if(r){const i=Ae(r),{content:n}=i,s={...i,...e,toastId:e.toastId||t,updateId:Xy()},o=s.render||n;delete s.render,on(o,s.type,s)}},0)};Ue.done=t=>{Ue.update(t,{isLoading:!1,progress:1})};Ue.promise=b6;function b6(t,{pending:e,error:r,success:i},n){var s,o,a;let l;const c={...n||{},autoClose:!1};e&&(l=Zf(e)?Ue.loading(e,c):Ue.loading(e.render,{...c,...e}));const h={autoClose:(s=n==null?void 0:n.autoClose)!=null?s:!0,closeOnClick:(o=n==null?void 0:n.closeOnClick)!=null?o:!0,closeButton:(a=n==null?void 0:n.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},f=(d,p,m)=>{if(p==null){Ue.remove(l);return}const x={type:d,...h,...n,data:m},y=Zf(p)?{render:p}:p;return l?Ue.update(l,{...x,...y,isLoading:!1}):Ue(y.render,{...x,...y,isLoading:!1}),m},u=Is(t)?t():t;return u.then(d=>{f("success",i,d)}).catch(d=>{f("error",r,d)}),u}Ue.POSITION=Aa;Ue.THEME=Ys;Ue.TYPE=Ot;Ue.TRANSITIONS=OM;const Zy={install(t,e={}){E6(e)}};typeof window<"u"&&(window.Vue3Toastify=Zy);function E6(t={}){const e=Fc($y,t);t6(e)}const{width:$h,height:Wh,emoji:cr}=eo;class T6 extends ze{constructor(){super();pe(this,"mDimmed");pe(this,"mStartReel");pe(this,"mReel");pe(this,"mReelAni");pe(this,"mDividend");pe(this,"mText");pe(this,"mBusy");pe(this,"mSlot");this.mBusy=!1,this.mStartReel=0,this.mReel=[["","","",""],["","","",""],["","","",""]],this.mReelAni=[[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1]]}set busy(r){this.mBusy=r,Lt.busy=r}set setText(r){this.mText.text=r,this.mText.anchor.set(.5),this.mDimmed.visible=r!=""}async init(){this.mSlot=this.parent,await this.createDimmed(),await this.createText(),this.cursor="pointer",this.interactive=!0,this.hitArea=new Be(0,0,$h,Wh),this.mStartReel=0,this.on("pointerdown",U5(async r=>{if(r.bubbles=!1,r.defaultPrevented=!0,ve.credit<100){Ue.error(" ");return}try{if(this.mBusy)return;this.busy=!0,await this.clickOnStartReel()}catch(i){console.error(i),this.busy=!1}},500,{trailing:!1,leading:!0}))}async clickOnStartReel(){try{if(ve.credit<100){Ue.error(" ");return}await this.getTurnData(),await this.getPattern(),await this.mSlot.startReel(),this.mSlot.onSetDisplayEvent(),this.mSlot.onSetDividend(this.mDividend),setTimeout(async()=>this.clickOnStopReel(),2e3)}catch(r){console.error(r)}}async clickOnStopReel(){try{await this.mSlot.stopReel(this.mReel),Lo(x8(this.mReelAni),r=>r)[0]?(setTimeout(async()=>await this.mSlot.completeAni(this.mReelAni),1e3),setTimeout(async()=>{this.mSlot.endVideo(),this.busy=!1},3e3)):this.busy=!1}catch(r){console.error(r)}}async getTurnData(){try{const r=Gi[Math.floor(Math.random()*Gi.length)],{ok:i,data:n}={ok:!0,data:[{turnCount:1,Ycode:Math.round(Math.random())?"Y1":"Y2",Pcode:Math.round(Math.random())?"P1":"P2",score:r}]};i?(this.setText="",Lt.gameData=n[0]):(Lt.gameData={},this.setText="  .")}catch(r){Lt.gameData={},this.setText=r}}async createDimmed(){this.mDimmed=new Yn,this.mDimmed.beginFill(0,.8),this.mDimmed.drawRect(0,0,$h,Wh),this.mDimmed.endFill(),this.mDimmed.cursor="wait",this.addChild(this.mDimmed),this.mDimmed.visible=!1}async createText(){this.mText=new Ec("",{fill:16777215,fontSize:48}),this.mText.anchor.set(.5),this.mText.position.set($h/2,Wh/2),this.mDimmed.addChild(this.mText)}async getPattern(){try{const r=Gi[Math.floor(Math.random()*Gi.length)];Lt.gameData={turnCount:1,Ycode:Math.round(Math.random())?"Y1":"Y2",Pcode:Math.round(Math.random())?"P1":"P2",score:r};const i=await Tx(Lt.gameData.score);this.mDividend=i.dividend,this.mReel=i.displayIconTable,this.mReelAni=i.iconAniFlag,await this.showReelTableLog(i)}catch(r){console.error(r)}}async showReelTableLog(r){const i=[[cr[this.mReel[0][0]],cr[this.mReel[1][0]],cr[this.mReel[2][0]],cr[this.mReel[3][0]]],[cr[this.mReel[0][1]],cr[this.mReel[1][1]],cr[this.mReel[2][1]],cr[this.mReel[3][1]]],[cr[this.mReel[0][2]],cr[this.mReel[1][2]],cr[this.mReel[2][2]],cr[this.mReel[3][2]]]];for(let n=0;n<3;n++){const s=i[n],o=[this.mReelAni[0][n]?"ani":"not",this.mReelAni[1][n]?"ani":"not",this.mReelAni[2][n]?"ani":"not",this.mReelAni[3][n]?"ani":"not"],a=[this.mReelAni[0][n]?"red":"black",this.mReelAni[1][n]?"red":"black",this.mReelAni[2][n]?"red":"black",this.mReelAni[3][n]?"red":"black"];console.log(`%c ${s[0]} - ${o[0]} %c ${s[1]} - ${o[1]}  %c ${s[2]} - ${o[2]}  %c ${s[3]} - ${o[3]} `,`padding:10px 0; margin:10px 0; border:2px ${a[0]} solid;`,`padding:10px 0; margin:10px 0; border:2px ${a[1]} solid;`,`padding:10px 0; margin:10px 0; border:2px ${a[2]} solid;`,`padding:10px 0; margin:10px 0; border:2px ${a[3]} solid; `)}console.log({turnCount:Lt.gameData.turnCount,turnInPrize:ve.turnInPrize,prizeTurn:ve.prizeTurn,currentGroupIndex:ve.currentGroupIndex,Pcode:Lt.gameData.Pcode,Ycode:Lt.gameData.Ycode,score:r.score})}async clickScore(r){if(ve.credit<100){Ue.error(" ");return}this.busy=!0,Lt.gameData={Pcode:`P${Math.round(Math.random())+1}`,Ycode:`Y${Math.round(Math.random())+1}`,score:r,turnCount:1};const i=await Tx(Lt.gameData.score);this.mDividend=i.dividend,this.mReel=i.displayIconTable,this.mReelAni=i.iconAniFlag,await this.showReelTableLog(i),await this.mSlot.startReel(),this.mSlot.onSetDisplayEvent(),this.mSlot.onSetDividend(this.mDividend),setTimeout(async()=>this.clickOnStopReel(),2e3)}}const{atlasData:A6,slotIconScale:Bi,gapIconInReel:S6,slotScaleAry:En,centerSlotIndex:os,stopCount:Sx}=eo,mn=En.length;class w6 extends ze{constructor(){super();pe(this,"mSpriteAry");pe(this,"mIconList");pe(this,"mYPos");this.mIconList=[],this.mYPos=[]}get stopNameAry(){return[this.mIconList[os-1],this.mIconList[os],this.mIconList[os+1]]}async init(){this.mIconList=eF(A6),this.mSpriteAry=[],await this.makeIcon()}async makeIcon(){let r=-(Bi*En[0])*2;for(let i=0;i<mn;i++){const n=new C6;await n.init(),n.setTexture(this.mIconList[i]),n.position.set(0,r),n.width=Bi,n.height=En[i]*Bi,n.zIndex=1,this.mSpriteAry.push(n),this.addChild(n),this.mYPos.push(r),r+=Bi*En[i]+S6}}reelAni(r,i){if(i!=1)for(let n=0;n<mn;n++){const s=n+1>=mn?0:En[n+1]*Bi,o=n+1>=mn?this.mYPos[n]+Bi:this.mYPos[(n+1)%mn];je.to(this.mSpriteAry[n],{height:s,y:o,duration:r}).timeScale(i)}}async next(){return new Promise((r,i)=>{const n=this.mIconList.length-1;this.mIconList=[...this.mIconList.slice(n),...this.mIconList.slice(0,n)];for(let s=0;s<mn;s++)je.killTweensOf(this.mSpriteAry[s]),this.mSpriteAry[s].setTexture(this.mIconList[s]),this.mSpriteAry[s].height=En[s]*Bi,this.mSpriteAry[s].y=this.mYPos[s];r(1)})}async setStopIconIndex(r){return new Promise((i,n)=>{const s=Lo(this.mIconList,o=>!r.includes(o));this.mIconList=[...s.slice(s.length-Sx),...r,...s.slice(0,s.length-Sx)];for(let o=0;o<mn;o++)je.killTweensOf(this.mSpriteAry[o]),this.mSpriteAry[o].setTexture(this.mIconList[o]),this.mSpriteAry[o].height=En[o]*Bi,this.mSpriteAry[o].y=this.mYPos[o];i(1)})}async completeAni(r){const i=[this.mSpriteAry[os-1],this.mSpriteAry[os],this.mSpriteAry[os+1]];zv(r,(n,s)=>n?i[s].completeAni():null)}}class C6 extends ze{constructor(){super();pe(this,"mSprite");pe(this,"mSheet");pe(this,"mIconName")}get name(){return this.mIconName}async init(){this.mSheet=gi.getHandle.getScene.sheet.icon,this.mSprite=new ft,this.mIconName="",this.addChild(this.mSprite)}async setTexture(r){this.mIconName=r,this.mSprite.texture=this.mSheet.textures[r],this.mSprite.anchor.set(.5),this.mSprite.position.set(this.mSprite.width/2,this.mSprite.height/2)}completeAni(){return new Promise((r,i)=>{const n="bounce",o=je.timeline();o.to(this.mSprite.scale,{x:1.2,y:1.2,ease:n,duration:.5}),o.to(this.mSprite.scale,{x:-1.2,y:1.2,duration:.25}),o.to(this.mSprite.scale,{x:1.2,y:1.2,duration:.25}),o.to(this.mSprite.scale,{x:-1.2,y:1.2,duration:.25}),o.to(this.mSprite.scale,{x:1.2,y:1.2,duration:.25}),o.to(this.mSprite.scale,{x:1,y:1,ease:n,duration:.5,onComplete:()=>r(1)})})}}const{startDelay:B6,stopCount:SN}=eo;class P6 extends ze{constructor(r){super();pe(this,"mSheet");pe(this,"mDividend");pe(this,"mDividendSprite");pe(this,"mSpinAni");pe(this,"mIconReel");this.mDividend=r}get dividend(){return this.mDividend}set dividend(r){this.mDividend=r,this.mDividendSprite.texture=this.mSheet.textures[`x${r}`]}async init(){this.mSheet=gi.getHandle.getScene.sheet.reel,this.removeChildren(),await this.makeIcon()}async makeIcon(){const r=new ft(this.mSheet.textures.x1);r.zIndex=0,this.mDividendSprite=new ft,this.mDividendSprite.texture=this.mSheet.textures.x1,this.mDividendSprite.zIndex=1,this.mIconReel=new w6,await this.mIconReel.init(),this.mIconReel.x=(154-140)/2,this.mIconReel.position.set((154-140)/2,0),this.mDividendSprite.zIndex=2,this.addChild(r,this.mDividendSprite,this.mIconReel)}async changeDividend(r){this.mDividend!==r&&(r==1?je.to(this.mDividendSprite,{alpha:0,duration:.5}):je.to(this.mDividendSprite,{alpha:0,duration:.5,onComplete:()=>{this.mDividendSprite.texture=this.mSheet.textures[`x${r}`],je.to(this.mDividendSprite,{alpha:1,duration:1})}}),this.mDividend=r)}start(){return new Promise((r,i)=>{var o;(o=this.mSpinAni)==null||o.kill();const n=.01,s="circ.out";this.mSpinAni=je.timeline({repeat:-1}),this.mSpinAni.timeScale(.005),this.mSpinAni.to(this.mIconReel,{duration:n,ease:s,onStart:()=>{const a=this.mSpinAni.timeScale()+.04>1?1:this.mSpinAni.timeScale()+.04;this.mSpinAni.timeScale(a),a<1&&this.mIconReel.reelAni(n,a)},onComplete:async()=>await this.mIconReel.next()}),setTimeout(()=>r(1),B6*1e3)})}stop(r){return new Promise((i,n)=>{const o="circ.out";this.mIconReel.setStopIconIndex(r),this.mSpinAni.kill(),this.mSpinAni=je.timeline({repeat:-1}),this.mSpinAni.timeScale(1);let a=1;this.mSpinAni.to(this.mIconReel,{duration:.05,ease:o,onStart:async()=>{a=a-.05<.05?.05:a-.05,this.mSpinAni.timeScale(a),this.mIconReel.reelAni(.05,a)},onComplete:async()=>{if(await this.mIconReel.next(),this.mIconReel.stopNameAry[0]==r[0]&&this.mIconReel.stopNameAry[1]==r[1]&&this.mIconReel.stopNameAry[2]==r[2])return await this.mSpinAni.kill(),this.mSpinAni=null,i(1)}})})}async completeAni(r){await this.mIconReel.completeAni(r)}}const{width:_o,debug:R6}=eo;class D6 extends ze{constructor(r){super();pe(this,"mReelContainer");pe(this,"mScoreObj");pe(this,"mSheet");pe(this,"mReelAry");pe(this,"mRazer");this.mSheet=r,this.mReelAry=[]}get sheet(){return this.mSheet}async init(){this.mScoreObj={score:null,credit:null,win:null},this.removeChildren(),await this.makeBg(),await this.makeScoreBoard(),await this.makeReelMask(),await this.makeReel(),await this.makeRazer()}async makeBg(){const r=new ft;r.texture=this.mSheet.textures.mainframe;const i=this.mSheet.data.frames.mainframe.anchor;r.anchor.set(i.x,i.y),r.y=r.height*i.y,this.addChild(r)}async makeScoreBoard(){const r=["score","credit","win"],i=[_o/2-220,_o/2,_o/2+230],n=r.length;for(let s=0;s<n;s++){const o=r[s],a=new I6(o,ve[o]);this.addChild(a),await a.init(),a.position.set(i[s],814),this.mScoreObj[r[s]]=a}}async makeReelMask(){this.mReelContainer=new ze,this.mReelContainer.position.set(50,312);const r=cO(16777215,616,420);r.position.set(this.mReelContainer.x,this.mReelContainer.y),R6?r.visible=!1:this.mReelContainer.mask=r,this.addChild(this.mReelContainer,r)}async makeReel(){for(let r=0;r<4;r++)this.mReelAry[r]=new P6(1),await this.mReelAry[r].init(),this.mReelAry[r].position.set(154*r,0),this.mReelContainer.addChild(this.mReelAry[r])}async makeRazer(){this.mRazer=[];const r=[374,520,650];for(let i=0;i<3;i++){const n=new ft;n.texture=this.mSheet.textures.prizeLine;const s=this.mSheet.data.frames.prizeLine.anchor;n.anchor.set(s.x,s.y),n.position.set(34,r[i]),n.alpha=0,this.mRazer.push(n),this.addChild(n)}}async completeAni(r){const{length:i}=this.mReelAry,n=[r[0][0]&&r[1][0]&&r[2][0]&&r[3][0],r[0][1]&&r[1][1]&&r[2][1]&&r[3][1],r[0][2]&&r[1][2]&&r[2][2]&&r[3][2]];for(let s=0;s<i;s++)n[s]&&je.to(this.mRazer[s],{alpha:1,duration:.25,onComplete:()=>this.mRazer[s].alpha=0}).repeat(4).yoyo(!0),await this.mReelAry[s].completeAni(r[s]);await this.creditAni()}async stopReel(r){const i=[0,3,1,2],{length:n}=this.mReelAry;for(let s=0;s<n;s++){const o=i[s];await this.mReelAry[o].stop(r[o])}}creditAni(){return new Promise((r,i)=>{const n=`${Lt.gameData.score}`,s=new ze;let o=0;for(let a=0;a<n.length;a++){const l=new ft;l.texture=this.sheet.textures[n[a]],l.x=o,o+=l.width;const{anchor:c}=this.sheet.data.frames[n[a]];l.anchor.set(c.x,c.y),s.addChild(l)}s.pivot.set(s.width/2,s.height/2),s.position.set(_o/2,-s.height/2),s.scale.set(4),s.alpha=0,this.addChild(s),je.to(s,{alpha:1,duration:1,ease:"bounce",onComplete:()=>{setTimeout(()=>{je.to(s.scale,{x:1,y:1,duration:1}),je.to(s,{x:_o/2-220,y:814,duration:1,onComplete:()=>{this.mScoreObj.score.calcValue(+n),this.mScoreObj.win.calcValue(1),this.removeChild(s),r(!0)}})},1e3)}})})}async startReel(){if(this.mScoreObj.credit.info.value<100)return;this.mScoreObj.credit.calcValue(-100);const{length:r}=this.mReelAry;for(let i=0;i<r;i++)await this.mReelAry[i].start()}changeDividend(r){for(let i=0;i<4;i++)this.mReelAry[i].changeDividend(r)}}class I6 extends ze{constructor(r,i){super();pe(this,"mRole");pe(this,"mValue");pe(this,"mValueTextContainer");this.mRole=r,this.mValue=i}get info(){return{role:this.mRole,value:this.mValue}}get sheet(){return this.parent.sheet}async init(){this.removeChildren(),this.mValueTextContainer=new ze,this.addChild(this.mValueTextContainer),await this.setValueSprite(this.mValue)}async calcValue(r){await this.setValueSprite(this.mValue+r)}async setValueSprite(r){this.mValue=r,this.mValueTextContainer.removeChildren(),this.mValueTextContainer.position.set(0,0);const i=dO(this.mValue);let n=0;for(let a=0;a<i.length;a++){const l=new ft;l.texture=this.sheet.textures[i[a]],l.x=n,n+=l.width;const{anchor:c}=this.sheet.data.frames[i[a]];l.anchor.set(c.x,c.y),this.mValueTextContainer.addChild(l)}this.mValueTextContainer.x=-this.mValueTextContainer.width/2,ve[this.mRole]=this.mValue;const s=`${this.mRole.slice(0,1)}1`,o=hO(`${this.mValue}`,this.mRole);localStorage.setItem(s,o)}}const{width:wx,height:Cx}=eo;class F6 extends CM{constructor(){super(0,"slot",new T6);pe(this,"mSheet");pe(this,"mDirectionWrap");pe(this,"mDirectionSprite");pe(this,"mWebmWrap");pe(this,"mWebmSprite");pe(this,"mVideo");pe(this,"mReelDisplay");pe(this,"mReelWrap");pe(this,"mDimmed");pe(this,"mCurrentReel");this.mCurrentReel=0,this.mVideo=null}get sheet(){return this.mSheet}get currentReel(){return this.mCurrentReel}async init(){console.log("%c slot init","padding:6px; border:2px purple solid;"),this.removeChildren(),this.sortableChildren=!0,await this.createDimmed(),await this.loadingSpriteSheet(),await this.createVideoWrap(),await this.createReelWrap(),this.mDimmed.on("pointerdown",()=>this.offDimmed())}offDimmed(){this.mDimmed&&this.removeChild(this.mDimmed),this.mDimmed=null}async createDimmed(){this.mDimmed=new Yn,this.mDimmed.beginFill(0,.6),this.mDimmed.drawRect(0,0,wx,Cx),this.mDimmed.endFill(),this.mDimmed.zIndex=6,this.mDimmed.interactive=!0,this.mDimmed.cursor="pointer",this.addChild(this.mDimmed)}async loadingSpriteSheet(){await Xr.load("/rsc/slot/json/icon.json"),await Xr.load("/rsc/slot/json/big_number.json"),await Xr.load("/rsc/slot/json/mainframe.json"),await Xr.load("/rsc/slot/json/reel.json"),J4(),this.mSheet={icon:new Cn(Ht.getHandle.getRsc("icon.png"),oF),number:new Cn(Ht.getHandle.getRsc("big_number.png"),iF),mainframe:new Cn(Ht.getHandle.getRsc("main_frame.png"),cF),reel:new Cn(Ht.getHandle.getRsc("reel.png"),fF)},await this.mSheet.icon.parse(),await this.mSheet.number.parse(),await this.mSheet.mainframe.parse(),await this.mSheet.reel.parse()}async createVideoWrap(){this.mDirectionSprite=new M6,this.mDirectionWrap=new ze,this.mDirectionWrap.zIndex=1,this.mDirectionWrap.addChild(this.mDirectionSprite),this.mWebmSprite=new ft,this.mWebmSprite.alpha=0,this.mWebmSprite.width=wx,this.mWebmSprite.height=Cx,this.mWebmWrap=new ze,this.mWebmWrap.zIndex=3,this.mWebmWrap.addChild(this.mWebmSprite),this.addChild(this.mDirectionWrap,this.mWebmWrap)}async createReelWrap(){this.mReelWrap=new ze,this.mReelWrap.zIndex=2,this.mReelWrap.y=450,this.mReelWrap.sortableChildren=!0,this.addChild(this.mReelWrap),this.mReelDisplay=new D6(this.mSheet.mainframe),this.mReelDisplay.position.set(0,0),await this.mReelDisplay.init(),this.mReelWrap.addChild(this.mReelDisplay)}changeVideo(r){return new Promise((i,n)=>{this.mVideo?(this.mVideo.pause(),this.mVideo.src="",this.mWebmSprite.alpha=0):this.mVideo=document.createElement("video"),this.mVideo.loop=!0,this.mVideo.autoplay=!1,this.mVideo.src=r,this.mVideo.oncanplay=()=>{je.killTweensOf(this.mWebmSprite),this.mWebmSprite.alpha=0,this.mWebmSprite.texture=ce.from(this.mVideo),this.mVideo.play(),je.to(this.mWebmSprite,{alpha:.8,duration:.5,onComplete:()=>i(1)})},je.to(this.mWebmSprite,{alpha:0,duration:.5})})}endVideo(){je.to(this.mWebmSprite,{alpha:0,duration:.15,onComplete:()=>{this.mVideo&&(this.mVideo.pause(),this.mVideo.src="",this.mWebmSprite.alpha=0)}})}async startGame(){this.addChild(this.evtManager),this.evtManager.zIndex=3,await this.evtManager.init()}async startReel(){this.mReelDisplay.startReel()}async stopReel(r){await this.mReelDisplay.stopReel(r)}async completeAni(r){await this.mReelDisplay.completeAni(r)}onSetDisplayEvent(){const r=Lt.gameData.Pcode.toUpperCase(),i=Lt.gameData.Ycode.toUpperCase();switch(r){case"P1":this.changeVideo("/rsc/slot/video/P1.webm");break;case"P2":this.changeVideo("/rsc/slot/video/P2.webm");break}switch(i){case"Y1":this.mDirectionSprite.hidden();break;case"Y2":this.mDirectionSprite.show();break;default:this.changeVideo("/rsc/slot/video/test1.webm"),this.mDirectionSprite.show();break}}onSetDividend(r){this.mReelDisplay.changeDividend(r)}}class M6 extends ze{constructor(){super();pe(this,"mDay");pe(this,"mNight");pe(this,"mDayTree");pe(this,"mDayTreeList");pe(this,"mNightTree");pe(this,"mNightTreeList");this.mDay=new ft(Ht.getHandle.getRsc("bg_day.png")),this.mNight=new ft(Ht.getHandle.getRsc("bg_night.png")),this.mDayTree=new ze,this.mDayTreeList=[new ft(Ht.getHandle.getRsc("bg_day_tree.png")),new ft(Ht.getHandle.getRsc("bg_day_tree.png"))],this.mDayTreeList[1].x=this.mDayTreeList[1].width,this.mDayTree.addChild(this.mDayTreeList[0],this.mDayTreeList[1]),this.mDayTree.position.set(0,this.mDay.height-this.mDayTree.height),this.mNightTree=new ze,this.mNightTreeList=[new ft(Ht.getHandle.getRsc("bg_night_tree.png")),new ft(Ht.getHandle.getRsc("bg_night_tree.png"))],this.mNightTreeList[1].x=this.mNightTreeList[1].width,this.mNightTree.addChild(this.mNightTreeList[0],this.mNightTreeList[1]),this.mNightTree.position.set(0,this.mNight.height-this.mNightTree.height),this.mDay.addChild(this.mDayTree),this.mNight.addChild(this.mNightTree),this.addChild(this.mNight,this.mDay)}hidden(){const r=this.mNightTree.width/2;je.to(this.mNightTree,{x:-r,duration:40,ease:"none",onComplete:()=>this.mNightTree.x=0}).repeat(-1),je.to(this.mDay,{alpha:0,duration:2,onComplete:()=>je.killTweensOf(this.mDayTree)})}show(){je.killTweensOf(this.mNightTree);const r=this.mDayTree.width/2;je.to(this.mDayTree,{x:-r,duration:40,ease:"none",onComplete:()=>this.mDayTree.x=0}).repeat(-1),je.to(this.mDay,{alpha:1,duration:2})}}class O6 extends ze{constructor(){super();pe(this,"mSceneAry");pe(this,"mCurrentSceneIdx");this.mSceneAry=[],this.mCurrentSceneIdx=0}get currentScene(){return this.mSceneAry[this.mCurrentSceneIdx]}get currentSceneInfo(){return this.mSceneAry[this.mCurrentSceneIdx].info}async init(){this.mCurrentSceneIdx=0,this.mSceneAry=[new F6]}async start(){try{Un.isLoading=!0;const{name:r}=this.mSceneAry[0].info;await Ht.getHandle.loadAllRsc(cp[r]),await this.changeScene(r)}catch(r){console.error(r)}finally{Un.isLoading=!1}}async changeScene(r){var n;await Ht.getHandle.loadAllRsc(cp[r]),this.removeChildren(),await((n=this.mSceneAry[this.mCurrentSceneIdx])==null?void 0:n.endGame());const i=V5(this.mSceneAry,s=>r===s.info.name);await i.init(),this.addChild(i),await i.startGame()}}const Vo=class Vo extends $0{constructor({backgroundColor:r,width:i,height:n,view:s}){super({backgroundColor:r,width:i,height:n,view:s});pe(this,"mSceneManager");this.renderer.options.antialias=!0,Vo.handle=this}static get getHandle(){return Vo.handle}get getScene(){return this.mSceneManager.currentScene}async init(){this.stage.removeChildren(),this.mSceneManager=new O6,this.stage.addChild(this.mSceneManager),this.stage.sortableChildren=!0,this.mSceneManager.zIndex=1,fO(),await this.mSceneManager.init(),await this.mSceneManager.start()}onHiddenTab(){console.log("  ")}onViewTab(){console.log("  ")}async clickScore(r){var i;this.getScene.offDimmed(),await((i=this.getScene.evtManager)==null?void 0:i.clickScore(r))}};pe(Vo,"handle");let gi=Vo;var Qy={exports:{}};function k6(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Vh={exports:{}},Bx;function De(){return Bx||(Bx=1,function(t,e){(function(r,i){t.exports=i()})(Ee,function(){var r=r||function(i,n){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Ee<"u"&&Ee.crypto&&(s=Ee.crypto),!s&&typeof k6=="function")try{s=j_}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function _(){}return function(g){var v;return _.prototype=g,v=new _,_.prototype=null,v}}(),l={},c=l.lib={},h=c.Base=function(){return{extend:function(_){var g=a(this);return _&&g.mixIn(_),(!g.hasOwnProperty("init")||this.init===g.init)&&(g.init=function(){g.$super.init.apply(this,arguments)}),g.init.prototype=g,g.$super=this,g},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var g in _)_.hasOwnProperty(g)&&(this[g]=_[g]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=c.WordArray=h.extend({init:function(_,g){_=this.words=_||[],g!=n?this.sigBytes=g:this.sigBytes=_.length*4},toString:function(_){return(_||d).stringify(this)},concat:function(_){var g=this.words,v=_.words,b=this.sigBytes,E=_.sigBytes;if(this.clamp(),b%4)for(var T=0;T<E;T++){var A=v[T>>>2]>>>24-T%4*8&255;g[b+T>>>2]|=A<<24-(b+T)%4*8}else for(var R=0;R<E;R+=4)g[b+R>>>2]=v[R>>>2];return this.sigBytes+=E,this},clamp:function(){var _=this.words,g=this.sigBytes;_[g>>>2]&=4294967295<<32-g%4*8,_.length=i.ceil(g/4)},clone:function(){var _=h.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var g=[],v=0;v<_;v+=4)g.push(o());return new f.init(g,_)}}),u=l.enc={},d=u.Hex={stringify:function(_){for(var g=_.words,v=_.sigBytes,b=[],E=0;E<v;E++){var T=g[E>>>2]>>>24-E%4*8&255;b.push((T>>>4).toString(16)),b.push((T&15).toString(16))}return b.join("")},parse:function(_){for(var g=_.length,v=[],b=0;b<g;b+=2)v[b>>>3]|=parseInt(_.substr(b,2),16)<<24-b%8*4;return new f.init(v,g/2)}},p=u.Latin1={stringify:function(_){for(var g=_.words,v=_.sigBytes,b=[],E=0;E<v;E++){var T=g[E>>>2]>>>24-E%4*8&255;b.push(String.fromCharCode(T))}return b.join("")},parse:function(_){for(var g=_.length,v=[],b=0;b<g;b++)v[b>>>2]|=(_.charCodeAt(b)&255)<<24-b%4*8;return new f.init(v,g)}},m=u.Utf8={stringify:function(_){try{return decodeURIComponent(escape(p.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return p.parse(unescape(encodeURIComponent(_)))}},x=c.BufferedBlockAlgorithm=h.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=m.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var g,v=this._data,b=v.words,E=v.sigBytes,T=this.blockSize,A=T*4,R=E/A;_?R=i.ceil(R):R=i.max((R|0)-this._minBufferSize,0);var w=R*T,B=i.min(w*4,E);if(w){for(var I=0;I<w;I+=T)this._doProcessBlock(b,I);g=b.splice(0,w),v.sigBytes-=B}return new f.init(g,B)},clone:function(){var _=h.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});c.Hasher=x.extend({cfg:h.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var g=this._doFinalize();return g},blockSize:16,_createHelper:function(_){return function(g,v){return new _.init(v).finalize(g)}},_createHmacHelper:function(_){return function(g,v){return new y.HMAC.init(_,v).finalize(g)}}});var y=l.algo={};return l}(Math);return r})}(Vh)),Vh.exports}var jh={exports:{}},Px;function Oc(){return Px||(Px=1,function(t,e){(function(r,i){t.exports=i(De())})(Ee,function(r){return function(i){var n=r,s=n.lib,o=s.Base,a=s.WordArray,l=n.x64={};l.Word=o.extend({init:function(c,h){this.high=c,this.low=h}}),l.WordArray=o.extend({init:function(c,h){c=this.words=c||[],h!=i?this.sigBytes=h:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,h=c.length,f=[],u=0;u<h;u++){var d=c[u];f.push(d.high),f.push(d.low)}return a.create(f,this.sigBytes)},clone:function(){for(var c=o.clone.call(this),h=c.words=this.words.slice(0),f=h.length,u=0;u<f;u++)h[u]=h[u].clone();return c}})}(),r})}(jh)),jh.exports}var Xh={exports:{}},Rx;function N6(){return Rx||(Rx=1,function(t,e){(function(r,i){t.exports=i(De())})(Ee,function(r){return function(){if(typeof ArrayBuffer=="function"){var i=r,n=i.lib,s=n.WordArray,o=s.init,a=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,h=[],f=0;f<c;f++)h[f>>>2]|=l[f]<<24-f%4*8;o.call(this,h,c)}else o.apply(this,arguments)};a.prototype=s}}(),r.lib.WordArray})}(Xh)),Xh.exports}var qh={exports:{}},Dx;function L6(){return Dx||(Dx=1,function(t,e){(function(r,i){t.exports=i(De())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=i.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var c=l.words,h=l.sigBytes,f=[],u=0;u<h;u+=2){var d=c[u>>>2]>>>16-u%4*8&65535;f.push(String.fromCharCode(d))}return f.join("")},parse:function(l){for(var c=l.length,h=[],f=0;f<c;f++)h[f>>>1]|=l.charCodeAt(f)<<16-f%2*16;return s.create(h,c*2)}},o.Utf16LE={stringify:function(l){for(var c=l.words,h=l.sigBytes,f=[],u=0;u<h;u+=2){var d=a(c[u>>>2]>>>16-u%4*8&65535);f.push(String.fromCharCode(d))}return f.join("")},parse:function(l){for(var c=l.length,h=[],f=0;f<c;f++)h[f>>>1]|=a(l.charCodeAt(f)<<16-f%2*16);return s.create(h,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),r.enc.Utf16})}(qh)),qh.exports}var Yh={exports:{}},Ix;function Qn(){return Ix||(Ix=1,function(t,e){(function(r,i){t.exports=i(De())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=i.enc;o.Base64={stringify:function(l){var c=l.words,h=l.sigBytes,f=this._map;l.clamp();for(var u=[],d=0;d<h;d+=3)for(var p=c[d>>>2]>>>24-d%4*8&255,m=c[d+1>>>2]>>>24-(d+1)%4*8&255,x=c[d+2>>>2]>>>24-(d+2)%4*8&255,y=p<<16|m<<8|x,_=0;_<4&&d+_*.75<h;_++)u.push(f.charAt(y>>>6*(3-_)&63));var g=f.charAt(64);if(g)for(;u.length%4;)u.push(g);return u.join("")},parse:function(l){var c=l.length,h=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var u=0;u<h.length;u++)f[h.charCodeAt(u)]=u}var d=h.charAt(64);if(d){var p=l.indexOf(d);p!==-1&&(c=p)}return a(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,h){for(var f=[],u=0,d=0;d<c;d++)if(d%4){var p=h[l.charCodeAt(d-1)]<<d%4*2,m=h[l.charCodeAt(d)]>>>6-d%4*2,x=p|m;f[u>>>2]|=x<<24-u%4*8,u++}return s.create(f,u)}}(),r.enc.Base64})}(Yh)),Yh.exports}var Kh={exports:{}},Fx;function U6(){return Fx||(Fx=1,function(t,e){(function(r,i){t.exports=i(De())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=i.enc;o.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var h=l.words,f=l.sigBytes,u=c?this._safe_map:this._map;l.clamp();for(var d=[],p=0;p<f;p+=3)for(var m=h[p>>>2]>>>24-p%4*8&255,x=h[p+1>>>2]>>>24-(p+1)%4*8&255,y=h[p+2>>>2]>>>24-(p+2)%4*8&255,_=m<<16|x<<8|y,g=0;g<4&&p+g*.75<f;g++)d.push(u.charAt(_>>>6*(3-g)&63));var v=u.charAt(64);if(v)for(;d.length%4;)d.push(v);return d.join("")},parse:function(l,c){c===void 0&&(c=!0);var h=l.length,f=c?this._safe_map:this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var d=0;d<f.length;d++)u[f.charCodeAt(d)]=d}var p=f.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(h=m)}return a(l,h,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,h){for(var f=[],u=0,d=0;d<c;d++)if(d%4){var p=h[l.charCodeAt(d-1)]<<d%4*2,m=h[l.charCodeAt(d)]>>>6-d%4*2,x=p|m;f[u>>>2]|=x<<24-u%4*8,u++}return s.create(f,u)}}(),r.enc.Base64url})}(Kh)),Kh.exports}var Zh={exports:{}},Mx;function Jn(){return Mx||(Mx=1,function(t,e){(function(r,i){t.exports=i(De())})(Ee,function(r){return function(i){var n=r,s=n.lib,o=s.WordArray,a=s.Hasher,l=n.algo,c=[];(function(){for(var m=0;m<64;m++)c[m]=i.abs(i.sin(m+1))*4294967296|0})();var h=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,x){for(var y=0;y<16;y++){var _=x+y,g=m[_];m[_]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360}var v=this._hash.words,b=m[x+0],E=m[x+1],T=m[x+2],A=m[x+3],R=m[x+4],w=m[x+5],B=m[x+6],I=m[x+7],D=m[x+8],F=m[x+9],G=m[x+10],V=m[x+11],L=m[x+12],q=m[x+13],ne=m[x+14],z=m[x+15],M=v[0],k=v[1],H=v[2],U=v[3];M=f(M,k,H,U,b,7,c[0]),U=f(U,M,k,H,E,12,c[1]),H=f(H,U,M,k,T,17,c[2]),k=f(k,H,U,M,A,22,c[3]),M=f(M,k,H,U,R,7,c[4]),U=f(U,M,k,H,w,12,c[5]),H=f(H,U,M,k,B,17,c[6]),k=f(k,H,U,M,I,22,c[7]),M=f(M,k,H,U,D,7,c[8]),U=f(U,M,k,H,F,12,c[9]),H=f(H,U,M,k,G,17,c[10]),k=f(k,H,U,M,V,22,c[11]),M=f(M,k,H,U,L,7,c[12]),U=f(U,M,k,H,q,12,c[13]),H=f(H,U,M,k,ne,17,c[14]),k=f(k,H,U,M,z,22,c[15]),M=u(M,k,H,U,E,5,c[16]),U=u(U,M,k,H,B,9,c[17]),H=u(H,U,M,k,V,14,c[18]),k=u(k,H,U,M,b,20,c[19]),M=u(M,k,H,U,w,5,c[20]),U=u(U,M,k,H,G,9,c[21]),H=u(H,U,M,k,z,14,c[22]),k=u(k,H,U,M,R,20,c[23]),M=u(M,k,H,U,F,5,c[24]),U=u(U,M,k,H,ne,9,c[25]),H=u(H,U,M,k,A,14,c[26]),k=u(k,H,U,M,D,20,c[27]),M=u(M,k,H,U,q,5,c[28]),U=u(U,M,k,H,T,9,c[29]),H=u(H,U,M,k,I,14,c[30]),k=u(k,H,U,M,L,20,c[31]),M=d(M,k,H,U,w,4,c[32]),U=d(U,M,k,H,D,11,c[33]),H=d(H,U,M,k,V,16,c[34]),k=d(k,H,U,M,ne,23,c[35]),M=d(M,k,H,U,E,4,c[36]),U=d(U,M,k,H,R,11,c[37]),H=d(H,U,M,k,I,16,c[38]),k=d(k,H,U,M,G,23,c[39]),M=d(M,k,H,U,q,4,c[40]),U=d(U,M,k,H,b,11,c[41]),H=d(H,U,M,k,A,16,c[42]),k=d(k,H,U,M,B,23,c[43]),M=d(M,k,H,U,F,4,c[44]),U=d(U,M,k,H,L,11,c[45]),H=d(H,U,M,k,z,16,c[46]),k=d(k,H,U,M,T,23,c[47]),M=p(M,k,H,U,b,6,c[48]),U=p(U,M,k,H,I,10,c[49]),H=p(H,U,M,k,ne,15,c[50]),k=p(k,H,U,M,w,21,c[51]),M=p(M,k,H,U,L,6,c[52]),U=p(U,M,k,H,A,10,c[53]),H=p(H,U,M,k,G,15,c[54]),k=p(k,H,U,M,E,21,c[55]),M=p(M,k,H,U,D,6,c[56]),U=p(U,M,k,H,z,10,c[57]),H=p(H,U,M,k,B,15,c[58]),k=p(k,H,U,M,q,21,c[59]),M=p(M,k,H,U,R,6,c[60]),U=p(U,M,k,H,V,10,c[61]),H=p(H,U,M,k,T,15,c[62]),k=p(k,H,U,M,F,21,c[63]),v[0]=v[0]+M|0,v[1]=v[1]+k|0,v[2]=v[2]+H|0,v[3]=v[3]+U|0},_doFinalize:function(){var m=this._data,x=m.words,y=this._nDataBytes*8,_=m.sigBytes*8;x[_>>>5]|=128<<24-_%32;var g=i.floor(y/4294967296),v=y;x[(_+64>>>9<<4)+15]=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,x[(_+64>>>9<<4)+14]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,m.sigBytes=(x.length+1)*4,this._process();for(var b=this._hash,E=b.words,T=0;T<4;T++){var A=E[T];E[T]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return b},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function f(m,x,y,_,g,v,b){var E=m+(x&y|~x&_)+g+b;return(E<<v|E>>>32-v)+x}function u(m,x,y,_,g,v,b){var E=m+(x&_|y&~_)+g+b;return(E<<v|E>>>32-v)+x}function d(m,x,y,_,g,v,b){var E=m+(x^y^_)+g+b;return(E<<v|E>>>32-v)+x}function p(m,x,y,_,g,v,b){var E=m+(y^(x|~_))+g+b;return(E<<v|E>>>32-v)+x}n.MD5=a._createHelper(h),n.HmacMD5=a._createHmacHelper(h)}(Math),r.MD5})}(Zh)),Zh.exports}var Qh={exports:{}},Ox;function Jy(){return Ox||(Ox=1,function(t,e){(function(r,i){t.exports=i(De())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=n.Hasher,a=i.algo,l=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(h,f){for(var u=this._hash.words,d=u[0],p=u[1],m=u[2],x=u[3],y=u[4],_=0;_<80;_++){if(_<16)l[_]=h[f+_]|0;else{var g=l[_-3]^l[_-8]^l[_-14]^l[_-16];l[_]=g<<1|g>>>31}var v=(d<<5|d>>>27)+y+l[_];_<20?v+=(p&m|~p&x)+1518500249:_<40?v+=(p^m^x)+1859775393:_<60?v+=(p&m|p&x|m&x)-1894007588:v+=(p^m^x)-899497514,y=x,x=m,m=p<<30|p>>>2,p=d,d=v}u[0]=u[0]+d|0,u[1]=u[1]+p|0,u[2]=u[2]+m|0,u[3]=u[3]+x|0,u[4]=u[4]+y|0},_doFinalize:function(){var h=this._data,f=h.words,u=this._nDataBytes*8,d=h.sigBytes*8;return f[d>>>5]|=128<<24-d%32,f[(d+64>>>9<<4)+14]=Math.floor(u/4294967296),f[(d+64>>>9<<4)+15]=u,h.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var h=o.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA1=o._createHelper(c),i.HmacSHA1=o._createHmacHelper(c)}(),r.SHA1})}(Qh)),Qh.exports}var Jh={exports:{}},kx;function gd(){return kx||(kx=1,function(t,e){(function(r,i){t.exports=i(De())})(Ee,function(r){return function(i){var n=r,s=n.lib,o=s.WordArray,a=s.Hasher,l=n.algo,c=[],h=[];(function(){function d(y){for(var _=i.sqrt(y),g=2;g<=_;g++)if(!(y%g))return!1;return!0}function p(y){return(y-(y|0))*4294967296|0}for(var m=2,x=0;x<64;)d(m)&&(x<8&&(c[x]=p(i.pow(m,1/2))),h[x]=p(i.pow(m,1/3)),x++),m++})();var f=[],u=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(d,p){for(var m=this._hash.words,x=m[0],y=m[1],_=m[2],g=m[3],v=m[4],b=m[5],E=m[6],T=m[7],A=0;A<64;A++){if(A<16)f[A]=d[p+A]|0;else{var R=f[A-15],w=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,B=f[A-2],I=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;f[A]=w+f[A-7]+I+f[A-16]}var D=v&b^~v&E,F=x&y^x&_^y&_,G=(x<<30|x>>>2)^(x<<19|x>>>13)^(x<<10|x>>>22),V=(v<<26|v>>>6)^(v<<21|v>>>11)^(v<<7|v>>>25),L=T+V+D+h[A]+f[A],q=G+F;T=E,E=b,b=v,v=g+L|0,g=_,_=y,y=x,x=L+q|0}m[0]=m[0]+x|0,m[1]=m[1]+y|0,m[2]=m[2]+_|0,m[3]=m[3]+g|0,m[4]=m[4]+v|0,m[5]=m[5]+b|0,m[6]=m[6]+E|0,m[7]=m[7]+T|0},_doFinalize:function(){var d=this._data,p=d.words,m=this._nDataBytes*8,x=d.sigBytes*8;return p[x>>>5]|=128<<24-x%32,p[(x+64>>>9<<4)+14]=i.floor(m/4294967296),p[(x+64>>>9<<4)+15]=m,d.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA256=a._createHelper(u),n.HmacSHA256=a._createHmacHelper(u)}(Math),r.SHA256})}(Jh)),Jh.exports}var eu={exports:{}},Nx;function z6(){return Nx||(Nx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gd())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=i.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});i.SHA224=a._createHelper(l),i.HmacSHA224=a._createHmacHelper(l)}(),r.SHA224})}(eu)),eu.exports}var tu={exports:{}},Lx;function eb(){return Lx||(Lx=1,function(t,e){(function(r,i,n){t.exports=i(De(),Oc())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.Hasher,o=i.x64,a=o.Word,l=o.WordArray,c=i.algo;function h(){return a.create.apply(a,arguments)}var f=[h(1116352408,3609767458),h(1899447441,602891725),h(3049323471,3964484399),h(3921009573,2173295548),h(961987163,4081628472),h(1508970993,3053834265),h(2453635748,2937671579),h(2870763221,3664609560),h(3624381080,2734883394),h(310598401,1164996542),h(607225278,1323610764),h(1426881987,3590304994),h(1925078388,4068182383),h(2162078206,991336113),h(2614888103,633803317),h(3248222580,3479774868),h(3835390401,2666613458),h(4022224774,944711139),h(264347078,2341262773),h(604807628,2007800933),h(770255983,1495990901),h(1249150122,1856431235),h(1555081692,3175218132),h(1996064986,2198950837),h(2554220882,3999719339),h(2821834349,766784016),h(2952996808,2566594879),h(3210313671,3203337956),h(3336571891,1034457026),h(3584528711,2466948901),h(113926993,3758326383),h(338241895,168717936),h(666307205,1188179964),h(773529912,1546045734),h(1294757372,1522805485),h(1396182291,2643833823),h(1695183700,2343527390),h(1986661051,1014477480),h(2177026350,1206759142),h(2456956037,344077627),h(2730485921,1290863460),h(2820302411,3158454273),h(3259730800,3505952657),h(3345764771,106217008),h(3516065817,3606008344),h(3600352804,1432725776),h(4094571909,1467031594),h(275423344,851169720),h(430227734,3100823752),h(506948616,1363258195),h(659060556,3750685593),h(883997877,3785050280),h(958139571,3318307427),h(1322822218,3812723403),h(1537002063,2003034995),h(1747873779,3602036899),h(1955562222,1575990012),h(2024104815,1125592928),h(2227730452,2716904306),h(2361852424,442776044),h(2428436474,593698344),h(2756734187,3733110249),h(3204031479,2999351573),h(3329325298,3815920427),h(3391569614,3928383900),h(3515267271,566280711),h(3940187606,3454069534),h(4118630271,4000239992),h(116418474,1914138554),h(174292421,2731055270),h(289380356,3203993006),h(460393269,320620315),h(685471733,587496836),h(852142971,1086792851),h(1017036298,365543100),h(1126000580,2618297676),h(1288033470,3409855158),h(1501505948,4234509866),h(1607167915,987167468),h(1816402316,1246189591)],u=[];(function(){for(var p=0;p<80;p++)u[p]=h()})();var d=c.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var x=this._hash.words,y=x[0],_=x[1],g=x[2],v=x[3],b=x[4],E=x[5],T=x[6],A=x[7],R=y.high,w=y.low,B=_.high,I=_.low,D=g.high,F=g.low,G=v.high,V=v.low,L=b.high,q=b.low,ne=E.high,z=E.low,M=T.high,k=T.low,H=A.high,U=A.low,fe=R,oe=w,N=B,$=I,K=D,J=F,le=G,xe=V,S=L,P=q,O=ne,j=z,W=M,Y=k,te=H,Z=U,Q=0;Q<80;Q++){var X,re,de=u[Q];if(Q<16)re=de.high=p[m+Q*2]|0,X=de.low=p[m+Q*2+1]|0;else{var he=u[Q-15],ge=he.high,Te=he.low,Oe=(ge>>>1|Te<<31)^(ge>>>8|Te<<24)^ge>>>7,He=(Te>>>1|ge<<31)^(Te>>>8|ge<<24)^(Te>>>7|ge<<25),nt=u[Q-2],dt=nt.high,ar=nt.low,wa=(dt>>>19|ar<<13)^(dt<<3|ar>>>29)^dt>>>6,Si=(ar>>>19|dt<<13)^(ar<<3|dt>>>29)^(ar>>>6|dt<<26),oo=u[Q-7],It=oo.high,lr=oo.low,ao=u[Q-16],Eb=ao.high,Td=ao.low;X=He+lr,re=Oe+It+(X>>>0<He>>>0?1:0),X=X+Si,re=re+wa+(X>>>0<Si>>>0?1:0),X=X+Td,re=re+Eb+(X>>>0<Td>>>0?1:0),de.high=re,de.low=X}var Tb=S&O^~S&W,Ad=P&j^~P&Y,Ab=fe&N^fe&K^N&K,Sb=oe&$^oe&J^$&J,wb=(fe>>>28|oe<<4)^(fe<<30|oe>>>2)^(fe<<25|oe>>>7),Sd=(oe>>>28|fe<<4)^(oe<<30|fe>>>2)^(oe<<25|fe>>>7),Cb=(S>>>14|P<<18)^(S>>>18|P<<14)^(S<<23|P>>>9),Bb=(P>>>14|S<<18)^(P>>>18|S<<14)^(P<<23|S>>>9),wd=f[Q],Pb=wd.high,Cd=wd.low,Kt=Z+Bb,wi=te+Cb+(Kt>>>0<Z>>>0?1:0),Kt=Kt+Ad,wi=wi+Tb+(Kt>>>0<Ad>>>0?1:0),Kt=Kt+Cd,wi=wi+Pb+(Kt>>>0<Cd>>>0?1:0),Kt=Kt+X,wi=wi+re+(Kt>>>0<X>>>0?1:0),Bd=Sd+Sb,Rb=wb+Ab+(Bd>>>0<Sd>>>0?1:0);te=W,Z=Y,W=O,Y=j,O=S,j=P,P=xe+Kt|0,S=le+wi+(P>>>0<xe>>>0?1:0)|0,le=K,xe=J,K=N,J=$,N=fe,$=oe,oe=Kt+Bd|0,fe=wi+Rb+(oe>>>0<Kt>>>0?1:0)|0}w=y.low=w+oe,y.high=R+fe+(w>>>0<oe>>>0?1:0),I=_.low=I+$,_.high=B+N+(I>>>0<$>>>0?1:0),F=g.low=F+J,g.high=D+K+(F>>>0<J>>>0?1:0),V=v.low=V+xe,v.high=G+le+(V>>>0<xe>>>0?1:0),q=b.low=q+P,b.high=L+S+(q>>>0<P>>>0?1:0),z=E.low=z+j,E.high=ne+O+(z>>>0<j>>>0?1:0),k=T.low=k+Y,T.high=M+W+(k>>>0<Y>>>0?1:0),U=A.low=U+Z,A.high=H+te+(U>>>0<Z>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,x=this._nDataBytes*8,y=p.sigBytes*8;m[y>>>5]|=128<<24-y%32,m[(y+128>>>10<<5)+30]=Math.floor(x/4294967296),m[(y+128>>>10<<5)+31]=x,p.sigBytes=m.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});i.SHA512=s._createHelper(d),i.HmacSHA512=s._createHmacHelper(d)}(),r.SHA512})}(tu)),tu.exports}var ru={exports:{}},Ux;function H6(){return Ux||(Ux=1,function(t,e){(function(r,i,n){t.exports=i(De(),Oc(),eb())})(Ee,function(r){return function(){var i=r,n=i.x64,s=n.Word,o=n.WordArray,a=i.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var h=l._doFinalize.call(this);return h.sigBytes-=16,h}});i.SHA384=l._createHelper(c),i.HmacSHA384=l._createHmacHelper(c)}(),r.SHA384})}(ru)),ru.exports}var iu={exports:{}},zx;function G6(){return zx||(zx=1,function(t,e){(function(r,i,n){t.exports=i(De(),Oc())})(Ee,function(r){return function(i){var n=r,s=n.lib,o=s.WordArray,a=s.Hasher,l=n.x64,c=l.Word,h=n.algo,f=[],u=[],d=[];(function(){for(var x=1,y=0,_=0;_<24;_++){f[x+5*y]=(_+1)*(_+2)/2%64;var g=y%5,v=(2*x+3*y)%5;x=g,y=v}for(var x=0;x<5;x++)for(var y=0;y<5;y++)u[x+5*y]=y+(2*x+3*y)%5*5;for(var b=1,E=0;E<24;E++){for(var T=0,A=0,R=0;R<7;R++){if(b&1){var w=(1<<R)-1;w<32?A^=1<<w:T^=1<<w-32}b&128?b=b<<1^113:b<<=1}d[E]=c.create(T,A)}})();var p=[];(function(){for(var x=0;x<25;x++)p[x]=c.create()})();var m=h.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var x=this._state=[],y=0;y<25;y++)x[y]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(x,y){for(var _=this._state,g=this.blockSize/2,v=0;v<g;v++){var b=x[y+2*v],E=x[y+2*v+1];b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var T=_[v];T.high^=E,T.low^=b}for(var A=0;A<24;A++){for(var R=0;R<5;R++){for(var w=0,B=0,I=0;I<5;I++){var T=_[R+5*I];w^=T.high,B^=T.low}var D=p[R];D.high=w,D.low=B}for(var R=0;R<5;R++)for(var F=p[(R+4)%5],G=p[(R+1)%5],V=G.high,L=G.low,w=F.high^(V<<1|L>>>31),B=F.low^(L<<1|V>>>31),I=0;I<5;I++){var T=_[R+5*I];T.high^=w,T.low^=B}for(var q=1;q<25;q++){var w,B,T=_[q],ne=T.high,z=T.low,M=f[q];M<32?(w=ne<<M|z>>>32-M,B=z<<M|ne>>>32-M):(w=z<<M-32|ne>>>64-M,B=ne<<M-32|z>>>64-M);var k=p[u[q]];k.high=w,k.low=B}var H=p[0],U=_[0];H.high=U.high,H.low=U.low;for(var R=0;R<5;R++)for(var I=0;I<5;I++){var q=R+5*I,T=_[q],fe=p[q],oe=p[(R+1)%5+5*I],N=p[(R+2)%5+5*I];T.high=fe.high^~oe.high&N.high,T.low=fe.low^~oe.low&N.low}var T=_[0],$=d[A];T.high^=$.high,T.low^=$.low}},_doFinalize:function(){var x=this._data,y=x.words;this._nDataBytes*8;var _=x.sigBytes*8,g=this.blockSize*32;y[_>>>5]|=1<<24-_%32,y[(i.ceil((_+1)/g)*g>>>5)-1]|=128,x.sigBytes=y.length*4,this._process();for(var v=this._state,b=this.cfg.outputLength/8,E=b/8,T=[],A=0;A<E;A++){var R=v[A],w=R.high,B=R.low;w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,T.push(B),T.push(w)}return new o.init(T,b)},clone:function(){for(var x=a.clone.call(this),y=x._state=this._state.slice(0),_=0;_<25;_++)y[_]=y[_].clone();return x}});n.SHA3=a._createHelper(m),n.HmacSHA3=a._createHmacHelper(m)}(Math),r.SHA3})}(iu)),iu.exports}var nu={exports:{}},Hx;function $6(){return Hx||(Hx=1,function(t,e){(function(r,i){t.exports=i(De())})(Ee,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(i){var n=r,s=n.lib,o=s.WordArray,a=s.Hasher,l=n.algo,c=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),h=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),p=o.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,T){for(var A=0;A<16;A++){var R=T+A,w=E[R];E[R]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var B=this._hash.words,I=d.words,D=p.words,F=c.words,G=h.words,V=f.words,L=u.words,q,ne,z,M,k,H,U,fe,oe,N;H=q=B[0],U=ne=B[1],fe=z=B[2],oe=M=B[3],N=k=B[4];for(var $,A=0;A<80;A+=1)$=q+E[T+F[A]]|0,A<16?$+=x(ne,z,M)+I[0]:A<32?$+=y(ne,z,M)+I[1]:A<48?$+=_(ne,z,M)+I[2]:A<64?$+=g(ne,z,M)+I[3]:$+=v(ne,z,M)+I[4],$=$|0,$=b($,V[A]),$=$+k|0,q=k,k=M,M=b(z,10),z=ne,ne=$,$=H+E[T+G[A]]|0,A<16?$+=v(U,fe,oe)+D[0]:A<32?$+=g(U,fe,oe)+D[1]:A<48?$+=_(U,fe,oe)+D[2]:A<64?$+=y(U,fe,oe)+D[3]:$+=x(U,fe,oe)+D[4],$=$|0,$=b($,L[A]),$=$+N|0,H=N,N=oe,oe=b(fe,10),fe=U,U=$;$=B[1]+z+oe|0,B[1]=B[2]+M+N|0,B[2]=B[3]+k+H|0,B[3]=B[4]+q+U|0,B[4]=B[0]+ne+fe|0,B[0]=$},_doFinalize:function(){var E=this._data,T=E.words,A=this._nDataBytes*8,R=E.sigBytes*8;T[R>>>5]|=128<<24-R%32,T[(R+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,E.sigBytes=(T.length+1)*4,this._process();for(var w=this._hash,B=w.words,I=0;I<5;I++){var D=B[I];B[I]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return w},clone:function(){var E=a.clone.call(this);return E._hash=this._hash.clone(),E}});function x(E,T,A){return E^T^A}function y(E,T,A){return E&T|~E&A}function _(E,T,A){return(E|~T)^A}function g(E,T,A){return E&A|T&~A}function v(E,T,A){return E^(T|~A)}function b(E,T){return E<<T|E>>>32-T}n.RIPEMD160=a._createHelper(m),n.HmacRIPEMD160=a._createHmacHelper(m)}(),r.RIPEMD160})}(nu)),nu.exports}var su={exports:{}},Gx;function _d(){return Gx||(Gx=1,function(t,e){(function(r,i){t.exports=i(De())})(Ee,function(r){(function(){var i=r,n=i.lib,s=n.Base,o=i.enc,a=o.Utf8,l=i.algo;l.HMAC=s.extend({init:function(c,h){c=this._hasher=new c.init,typeof h=="string"&&(h=a.parse(h));var f=c.blockSize,u=f*4;h.sigBytes>u&&(h=c.finalize(h)),h.clamp();for(var d=this._oKey=h.clone(),p=this._iKey=h.clone(),m=d.words,x=p.words,y=0;y<f;y++)m[y]^=1549556828,x[y]^=909522486;d.sigBytes=p.sigBytes=u,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var h=this._hasher,f=h.finalize(c);h.reset();var u=h.finalize(this._oKey.clone().concat(f));return u}})})()})}(su)),su.exports}var ou={exports:{}},$x;function W6(){return $x||($x=1,function(t,e){(function(r,i,n){t.exports=i(De(),gd(),_d())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.Base,o=n.WordArray,a=i.algo,l=a.SHA256,c=a.HMAC,h=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,u){for(var d=this.cfg,p=c.create(d.hasher,f),m=o.create(),x=o.create([1]),y=m.words,_=x.words,g=d.keySize,v=d.iterations;y.length<g;){var b=p.update(u).finalize(x);p.reset();for(var E=b.words,T=E.length,A=b,R=1;R<v;R++){A=p.finalize(A),p.reset();for(var w=A.words,B=0;B<T;B++)E[B]^=w[B]}m.concat(b),_[0]++}return m.sigBytes=g*4,m}});i.PBKDF2=function(f,u,d){return h.create(d).compute(f,u)}}(),r.PBKDF2})}(ou)),ou.exports}var au={exports:{}},Wx;function an(){return Wx||(Wx=1,function(t,e){(function(r,i,n){t.exports=i(De(),Jy(),_d())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.Base,o=n.WordArray,a=i.algo,l=a.MD5,c=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var u,d=this.cfg,p=d.hasher.create(),m=o.create(),x=m.words,y=d.keySize,_=d.iterations;x.length<y;){u&&p.update(u),u=p.update(h).finalize(f),p.reset();for(var g=1;g<_;g++)u=p.finalize(u),p.reset();m.concat(u)}return m.sigBytes=y*4,m}});i.EvpKDF=function(h,f,u){return c.create(u).compute(h,f)}}(),r.EvpKDF})}(au)),au.exports}var lu={exports:{}},Vx;function gt(){return Vx||(Vx=1,function(t,e){(function(r,i,n){t.exports=i(De(),an())})(Ee,function(r){r.lib.Cipher||function(i){var n=r,s=n.lib,o=s.Base,a=s.WordArray,l=s.BufferedBlockAlgorithm,c=n.enc;c.Utf8;var h=c.Base64,f=n.algo,u=f.EvpKDF,d=s.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(w,B){return this.create(this._ENC_XFORM_MODE,w,B)},createDecryptor:function(w,B){return this.create(this._DEC_XFORM_MODE,w,B)},init:function(w,B,I){this.cfg=this.cfg.extend(I),this._xformMode=w,this._key=B,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(w){return this._append(w),this._process()},finalize:function(w){w&&this._append(w);var B=this._doFinalize();return B},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function w(B){return typeof B=="string"?R:E}return function(B){return{encrypt:function(I,D,F){return w(D).encrypt(B,I,D,F)},decrypt:function(I,D,F){return w(D).decrypt(B,I,D,F)}}}}()});s.StreamCipher=d.extend({_doFinalize:function(){var w=this._process(!0);return w},blockSize:1});var p=n.mode={},m=s.BlockCipherMode=o.extend({createEncryptor:function(w,B){return this.Encryptor.create(w,B)},createDecryptor:function(w,B){return this.Decryptor.create(w,B)},init:function(w,B){this._cipher=w,this._iv=B}}),x=p.CBC=function(){var w=m.extend();w.Encryptor=w.extend({processBlock:function(I,D){var F=this._cipher,G=F.blockSize;B.call(this,I,D,G),F.encryptBlock(I,D),this._prevBlock=I.slice(D,D+G)}}),w.Decryptor=w.extend({processBlock:function(I,D){var F=this._cipher,G=F.blockSize,V=I.slice(D,D+G);F.decryptBlock(I,D),B.call(this,I,D,G),this._prevBlock=V}});function B(I,D,F){var G,V=this._iv;V?(G=V,this._iv=i):G=this._prevBlock;for(var L=0;L<F;L++)I[D+L]^=G[L]}return w}(),y=n.pad={},_=y.Pkcs7={pad:function(w,B){for(var I=B*4,D=I-w.sigBytes%I,F=D<<24|D<<16|D<<8|D,G=[],V=0;V<D;V+=4)G.push(F);var L=a.create(G,D);w.concat(L)},unpad:function(w){var B=w.words[w.sigBytes-1>>>2]&255;w.sigBytes-=B}};s.BlockCipher=d.extend({cfg:d.cfg.extend({mode:x,padding:_}),reset:function(){var w;d.reset.call(this);var B=this.cfg,I=B.iv,D=B.mode;this._xformMode==this._ENC_XFORM_MODE?w=D.createEncryptor:(w=D.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==w?this._mode.init(this,I&&I.words):(this._mode=w.call(D,this,I&&I.words),this._mode.__creator=w)},_doProcessBlock:function(w,B){this._mode.processBlock(w,B)},_doFinalize:function(){var w,B=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(B.pad(this._data,this.blockSize),w=this._process(!0)):(w=this._process(!0),B.unpad(w)),w},blockSize:128/32});var g=s.CipherParams=o.extend({init:function(w){this.mixIn(w)},toString:function(w){return(w||this.formatter).stringify(this)}}),v=n.format={},b=v.OpenSSL={stringify:function(w){var B,I=w.ciphertext,D=w.salt;return D?B=a.create([1398893684,1701076831]).concat(D).concat(I):B=I,B.toString(h)},parse:function(w){var B,I=h.parse(w),D=I.words;return D[0]==1398893684&&D[1]==1701076831&&(B=a.create(D.slice(2,4)),D.splice(0,4),I.sigBytes-=16),g.create({ciphertext:I,salt:B})}},E=s.SerializableCipher=o.extend({cfg:o.extend({format:b}),encrypt:function(w,B,I,D){D=this.cfg.extend(D);var F=w.createEncryptor(I,D),G=F.finalize(B),V=F.cfg;return g.create({ciphertext:G,key:I,iv:V.iv,algorithm:w,mode:V.mode,padding:V.padding,blockSize:w.blockSize,formatter:D.format})},decrypt:function(w,B,I,D){D=this.cfg.extend(D),B=this._parse(B,D.format);var F=w.createDecryptor(I,D).finalize(B.ciphertext);return F},_parse:function(w,B){return typeof w=="string"?B.parse(w,this):w}}),T=n.kdf={},A=T.OpenSSL={execute:function(w,B,I,D,F){if(D||(D=a.random(64/8)),F)var G=u.create({keySize:B+I,hasher:F}).compute(w,D);else var G=u.create({keySize:B+I}).compute(w,D);var V=a.create(G.words.slice(B),I*4);return G.sigBytes=B*4,g.create({key:G,iv:V,salt:D})}},R=s.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:A}),encrypt:function(w,B,I,D){D=this.cfg.extend(D);var F=D.kdf.execute(I,w.keySize,w.ivSize,D.salt,D.hasher);D.iv=F.iv;var G=E.encrypt.call(this,w,B,F.key,D);return G.mixIn(F),G},decrypt:function(w,B,I,D){D=this.cfg.extend(D),B=this._parse(B,D.format);var F=D.kdf.execute(I,w.keySize,w.ivSize,B.salt,D.hasher);D.iv=F.iv;var G=E.decrypt.call(this,w,B,F.key,D);return G}})}()})}(lu)),lu.exports}var cu={exports:{}},jx;function V6(){return jx||(jx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(Ee,function(r){return r.mode.CFB=function(){var i=r.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize;n.call(this,s,o,l,a),this._prevBlock=s.slice(o,o+l)}}),i.Decryptor=i.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=s.slice(o,o+l);n.call(this,s,o,l,a),this._prevBlock=c}});function n(s,o,a,l){var c,h=this._iv;h?(c=h.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var f=0;f<a;f++)s[o+f]^=c[f]}return i}(),r.mode.CFB})}(cu)),cu.exports}var hu={exports:{}},Xx;function j6(){return Xx||(Xx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(Ee,function(r){return r.mode.CTR=function(){var i=r.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,h=this._counter;c&&(h=this._counter=c.slice(0),this._iv=void 0);var f=h.slice(0);a.encryptBlock(f,0),h[l-1]=h[l-1]+1|0;for(var u=0;u<l;u++)s[o+u]^=f[u]}});return i.Decryptor=n,i}(),r.mode.CTR})}(hu)),hu.exports}var uu={exports:{}},qx;function X6(){return qx||(qx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(Ee,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var i=r.lib.BlockCipherMode.extend();function n(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,h=a&255;l===255?(l=0,c===255?(c=0,h===255?h=0:++h):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=h}else a+=1<<24;return a}function s(a){return(a[0]=n(a[0]))===0&&(a[1]=n(a[1])),a}var o=i.Encryptor=i.extend({processBlock:function(a,l){var c=this._cipher,h=c.blockSize,f=this._iv,u=this._counter;f&&(u=this._counter=f.slice(0),this._iv=void 0),s(u);var d=u.slice(0);c.encryptBlock(d,0);for(var p=0;p<h;p++)a[l+p]^=d[p]}});return i.Decryptor=o,i}(),r.mode.CTRGladman})}(uu)),uu.exports}var fu={exports:{}},Yx;function q6(){return Yx||(Yx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(Ee,function(r){return r.mode.OFB=function(){var i=r.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(s,o){var a=this._cipher,l=a.blockSize,c=this._iv,h=this._keystream;c&&(h=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(h,0);for(var f=0;f<l;f++)s[o+f]^=h[f]}});return i.Decryptor=n,i}(),r.mode.OFB})}(fu)),fu.exports}var du={exports:{}},Kx;function Y6(){return Kx||(Kx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(Ee,function(r){return r.mode.ECB=function(){var i=r.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(n,s){this._cipher.encryptBlock(n,s)}}),i.Decryptor=i.extend({processBlock:function(n,s){this._cipher.decryptBlock(n,s)}}),i}(),r.mode.ECB})}(du)),du.exports}var pu={exports:{}},Zx;function K6(){return Zx||(Zx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(Ee,function(r){return r.pad.AnsiX923={pad:function(i,n){var s=i.sigBytes,o=n*4,a=o-s%o,l=s+a-1;i.clamp(),i.words[l>>>2]|=a<<24-l%4*8,i.sigBytes+=a},unpad:function(i){var n=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=n}},r.pad.Ansix923})}(pu)),pu.exports}var mu={exports:{}},Qx;function Z6(){return Qx||(Qx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(Ee,function(r){return r.pad.Iso10126={pad:function(i,n){var s=n*4,o=s-i.sigBytes%s;i.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(i){var n=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=n}},r.pad.Iso10126})}(mu)),mu.exports}var xu={exports:{}},Jx;function Q6(){return Jx||(Jx=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(Ee,function(r){return r.pad.Iso97971={pad:function(i,n){i.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(i,n)},unpad:function(i){r.pad.ZeroPadding.unpad(i),i.sigBytes--}},r.pad.Iso97971})}(xu)),xu.exports}var gu={exports:{}},eg;function J6(){return eg||(eg=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(Ee,function(r){return r.pad.ZeroPadding={pad:function(i,n){var s=n*4;i.clamp(),i.sigBytes+=s-(i.sigBytes%s||s)},unpad:function(i){for(var n=i.words,s=i.sigBytes-1,s=i.sigBytes-1;s>=0;s--)if(n[s>>>2]>>>24-s%4*8&255){i.sigBytes=s+1;break}}},r.pad.ZeroPadding})}(gu)),gu.exports}var _u={exports:{}},tg;function eO(){return tg||(tg=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(Ee,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(_u)),_u.exports}var vu={exports:{}},rg;function tO(){return rg||(rg=1,function(t,e){(function(r,i,n){t.exports=i(De(),gt())})(Ee,function(r){return function(i){var n=r,s=n.lib,o=s.CipherParams,a=n.enc,l=a.Hex,c=n.format;c.Hex={stringify:function(h){return h.ciphertext.toString(l)},parse:function(h){var f=l.parse(h);return o.create({ciphertext:f})}}}(),r.format.Hex})}(vu)),vu.exports}var yu={exports:{}},ig;function rO(){return ig||(ig=1,function(t,e){(function(r,i,n){t.exports=i(De(),Qn(),Jn(),an(),gt())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.BlockCipher,o=i.algo,a=[],l=[],c=[],h=[],f=[],u=[],d=[],p=[],m=[],x=[];(function(){for(var g=[],v=0;v<256;v++)v<128?g[v]=v<<1:g[v]=v<<1^283;for(var b=0,E=0,v=0;v<256;v++){var T=E^E<<1^E<<2^E<<3^E<<4;T=T>>>8^T&255^99,a[b]=T,l[T]=b;var A=g[b],R=g[A],w=g[R],B=g[T]*257^T*16843008;c[b]=B<<24|B>>>8,h[b]=B<<16|B>>>16,f[b]=B<<8|B>>>24,u[b]=B;var B=w*16843009^R*65537^A*257^b*16843008;d[T]=B<<24|B>>>8,p[T]=B<<16|B>>>16,m[T]=B<<8|B>>>24,x[T]=B,b?(b=A^g[g[g[w^A]]],E^=g[g[E]]):b=E=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=s.extend({_doReset:function(){var g;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var v=this._keyPriorReset=this._key,b=v.words,E=v.sigBytes/4,T=this._nRounds=E+6,A=(T+1)*4,R=this._keySchedule=[],w=0;w<A;w++)w<E?R[w]=b[w]:(g=R[w-1],w%E?E>6&&w%E==4&&(g=a[g>>>24]<<24|a[g>>>16&255]<<16|a[g>>>8&255]<<8|a[g&255]):(g=g<<8|g>>>24,g=a[g>>>24]<<24|a[g>>>16&255]<<16|a[g>>>8&255]<<8|a[g&255],g^=y[w/E|0]<<24),R[w]=R[w-E]^g);for(var B=this._invKeySchedule=[],I=0;I<A;I++){var w=A-I;if(I%4)var g=R[w];else var g=R[w-4];I<4||w<=4?B[I]=g:B[I]=d[a[g>>>24]]^p[a[g>>>16&255]]^m[a[g>>>8&255]]^x[a[g&255]]}}},encryptBlock:function(g,v){this._doCryptBlock(g,v,this._keySchedule,c,h,f,u,a)},decryptBlock:function(g,v){var b=g[v+1];g[v+1]=g[v+3],g[v+3]=b,this._doCryptBlock(g,v,this._invKeySchedule,d,p,m,x,l);var b=g[v+1];g[v+1]=g[v+3],g[v+3]=b},_doCryptBlock:function(g,v,b,E,T,A,R,w){for(var B=this._nRounds,I=g[v]^b[0],D=g[v+1]^b[1],F=g[v+2]^b[2],G=g[v+3]^b[3],V=4,L=1;L<B;L++){var q=E[I>>>24]^T[D>>>16&255]^A[F>>>8&255]^R[G&255]^b[V++],ne=E[D>>>24]^T[F>>>16&255]^A[G>>>8&255]^R[I&255]^b[V++],z=E[F>>>24]^T[G>>>16&255]^A[I>>>8&255]^R[D&255]^b[V++],M=E[G>>>24]^T[I>>>16&255]^A[D>>>8&255]^R[F&255]^b[V++];I=q,D=ne,F=z,G=M}var q=(w[I>>>24]<<24|w[D>>>16&255]<<16|w[F>>>8&255]<<8|w[G&255])^b[V++],ne=(w[D>>>24]<<24|w[F>>>16&255]<<16|w[G>>>8&255]<<8|w[I&255])^b[V++],z=(w[F>>>24]<<24|w[G>>>16&255]<<16|w[I>>>8&255]<<8|w[D&255])^b[V++],M=(w[G>>>24]<<24|w[I>>>16&255]<<16|w[D>>>8&255]<<8|w[F&255])^b[V++];g[v]=q,g[v+1]=ne,g[v+2]=z,g[v+3]=M},keySize:256/32});i.AES=s._createHelper(_)}(),r.AES})}(yu)),yu.exports}var bu={exports:{}},ng;function iO(){return ng||(ng=1,function(t,e){(function(r,i,n){t.exports=i(De(),Qn(),Jn(),an(),gt())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.WordArray,o=n.BlockCipher,a=i.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],h=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=a.DES=o.extend({_doReset:function(){for(var y=this._key,_=y.words,g=[],v=0;v<56;v++){var b=l[v]-1;g[v]=_[b>>>5]>>>31-b%32&1}for(var E=this._subKeys=[],T=0;T<16;T++){for(var A=E[T]=[],R=h[T],v=0;v<24;v++)A[v/6|0]|=g[(c[v]-1+R)%28]<<31-v%6,A[4+(v/6|0)]|=g[28+(c[v+24]-1+R)%28]<<31-v%6;A[0]=A[0]<<1|A[0]>>>31;for(var v=1;v<7;v++)A[v]=A[v]>>>(v-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var w=this._invSubKeys=[],v=0;v<16;v++)w[v]=E[15-v]},encryptBlock:function(y,_){this._doCryptBlock(y,_,this._subKeys)},decryptBlock:function(y,_){this._doCryptBlock(y,_,this._invSubKeys)},_doCryptBlock:function(y,_,g){this._lBlock=y[_],this._rBlock=y[_+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var v=0;v<16;v++){for(var b=g[v],E=this._lBlock,T=this._rBlock,A=0,R=0;R<8;R++)A|=f[R][((T^b[R])&u[R])>>>0];this._lBlock=T,this._rBlock=E^A}var w=this._lBlock;this._lBlock=this._rBlock,this._rBlock=w,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),y[_]=this._lBlock,y[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(y,_){var g=(this._lBlock>>>y^this._rBlock)&_;this._rBlock^=g,this._lBlock^=g<<y}function m(y,_){var g=(this._rBlock>>>y^this._lBlock)&_;this._lBlock^=g,this._rBlock^=g<<y}i.DES=o._createHelper(d);var x=a.TripleDES=o.extend({_doReset:function(){var y=this._key,_=y.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var g=_.slice(0,2),v=_.length<4?_.slice(0,2):_.slice(2,4),b=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=d.createEncryptor(s.create(g)),this._des2=d.createEncryptor(s.create(v)),this._des3=d.createEncryptor(s.create(b))},encryptBlock:function(y,_){this._des1.encryptBlock(y,_),this._des2.decryptBlock(y,_),this._des3.encryptBlock(y,_)},decryptBlock:function(y,_){this._des3.decryptBlock(y,_),this._des2.encryptBlock(y,_),this._des1.decryptBlock(y,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=o._createHelper(x)}(),r.TripleDES})}(bu)),bu.exports}var Eu={exports:{}},sg;function nO(){return sg||(sg=1,function(t,e){(function(r,i,n){t.exports=i(De(),Qn(),Jn(),an(),gt())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.StreamCipher,o=i.algo,a=o.RC4=s.extend({_doReset:function(){for(var h=this._key,f=h.words,u=h.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,m=0;p<256;p++){var x=p%u,y=f[x>>>2]>>>24-x%4*8&255;m=(m+d[p]+y)%256;var _=d[p];d[p]=d[m],d[m]=_}this._i=this._j=0},_doProcessBlock:function(h,f){h[f]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var h=this._S,f=this._i,u=this._j,d=0,p=0;p<4;p++){f=(f+1)%256,u=(u+h[f])%256;var m=h[f];h[f]=h[u],h[u]=m,d|=h[(h[f]+h[u])%256]<<24-p*8}return this._i=f,this._j=u,d}i.RC4=s._createHelper(a);var c=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var h=this.cfg.drop;h>0;h--)l.call(this)}});i.RC4Drop=s._createHelper(c)}(),r.RC4})}(Eu)),Eu.exports}var Tu={exports:{}},og;function sO(){return og||(og=1,function(t,e){(function(r,i,n){t.exports=i(De(),Qn(),Jn(),an(),gt())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.StreamCipher,o=i.algo,a=[],l=[],c=[],h=o.Rabbit=s.extend({_doReset:function(){for(var u=this._key.words,d=this.cfg.iv,p=0;p<4;p++)u[p]=(u[p]<<8|u[p]>>>24)&16711935|(u[p]<<24|u[p]>>>8)&4278255360;var m=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],x=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var p=0;p<4;p++)f.call(this);for(var p=0;p<8;p++)x[p]^=m[p+4&7];if(d){var y=d.words,_=y[0],g=y[1],v=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,b=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,E=v>>>16|b&4294901760,T=b<<16|v&65535;x[0]^=v,x[1]^=E,x[2]^=b,x[3]^=T,x[4]^=v,x[5]^=E,x[6]^=b,x[7]^=T;for(var p=0;p<4;p++)f.call(this)}},_doProcessBlock:function(u,d){var p=this._X;f.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,u[d+m]^=a[m]},blockSize:128/32,ivSize:64/32});function f(){for(var u=this._X,d=this._C,p=0;p<8;p++)l[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=u[p]+d[p],x=m&65535,y=m>>>16,_=((x*x>>>17)+x*y>>>15)+y*y,g=((m&4294901760)*m|0)+((m&65535)*m|0);c[p]=_^g}u[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,u[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,u[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,u[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,u[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,u[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,u[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,u[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}i.Rabbit=s._createHelper(h)}(),r.Rabbit})}(Tu)),Tu.exports}var Au={exports:{}},ag;function oO(){return ag||(ag=1,function(t,e){(function(r,i,n){t.exports=i(De(),Qn(),Jn(),an(),gt())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.StreamCipher,o=i.algo,a=[],l=[],c=[],h=o.RabbitLegacy=s.extend({_doReset:function(){var u=this._key.words,d=this.cfg.iv,p=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],m=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var x=0;x<4;x++)f.call(this);for(var x=0;x<8;x++)m[x]^=p[x+4&7];if(d){var y=d.words,_=y[0],g=y[1],v=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,b=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,E=v>>>16|b&4294901760,T=b<<16|v&65535;m[0]^=v,m[1]^=E,m[2]^=b,m[3]^=T,m[4]^=v,m[5]^=E,m[6]^=b,m[7]^=T;for(var x=0;x<4;x++)f.call(this)}},_doProcessBlock:function(u,d){var p=this._X;f.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,u[d+m]^=a[m]},blockSize:128/32,ivSize:64/32});function f(){for(var u=this._X,d=this._C,p=0;p<8;p++)l[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=u[p]+d[p],x=m&65535,y=m>>>16,_=((x*x>>>17)+x*y>>>15)+y*y,g=((m&4294901760)*m|0)+((m&65535)*m|0);c[p]=_^g}u[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,u[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,u[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,u[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,u[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,u[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,u[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,u[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}i.RabbitLegacy=s._createHelper(h)}(),r.RabbitLegacy})}(Au)),Au.exports}var Su={exports:{}},lg;function aO(){return lg||(lg=1,function(t,e){(function(r,i,n){t.exports=i(De(),Qn(),Jn(),an(),gt())})(Ee,function(r){return function(){var i=r,n=i.lib,s=n.BlockCipher,o=i.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var h={pbox:[],sbox:[]};function f(x,y){let _=y>>24&255,g=y>>16&255,v=y>>8&255,b=y&255,E=x.sbox[0][_]+x.sbox[1][g];return E=E^x.sbox[2][v],E=E+x.sbox[3][b],E}function u(x,y,_){let g=y,v=_,b;for(let E=0;E<a;++E)g=g^x.pbox[E],v=f(x,g)^v,b=g,g=v,v=b;return b=g,g=v,v=b,v=v^x.pbox[a],g=g^x.pbox[a+1],{left:g,right:v}}function d(x,y,_){let g=y,v=_,b;for(let E=a+1;E>1;--E)g=g^x.pbox[E],v=f(x,g)^v,b=g,g=v,v=b;return b=g,g=v,v=b,v=v^x.pbox[1],g=g^x.pbox[0],{left:g,right:v}}function p(x,y,_){for(let T=0;T<4;T++){x.sbox[T]=[];for(let A=0;A<256;A++)x.sbox[T][A]=c[T][A]}let g=0;for(let T=0;T<a+2;T++)x.pbox[T]=l[T]^y[g],g++,g>=_&&(g=0);let v=0,b=0,E=0;for(let T=0;T<a+2;T+=2)E=u(x,v,b),v=E.left,b=E.right,x.pbox[T]=v,x.pbox[T+1]=b;for(let T=0;T<4;T++)for(let A=0;A<256;A+=2)E=u(x,v,b),v=E.left,b=E.right,x.sbox[T][A]=v,x.sbox[T][A+1]=b;return!0}var m=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var x=this._keyPriorReset=this._key,y=x.words,_=x.sigBytes/4;p(h,y,_)}},encryptBlock:function(x,y){var _=u(h,x[y],x[y+1]);x[y]=_.left,x[y+1]=_.right},decryptBlock:function(x,y){var _=d(h,x[y],x[y+1]);x[y]=_.left,x[y+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=s._createHelper(m)}(),r.Blowfish})}(Su)),Su.exports}(function(t,e){(function(r,i,n){t.exports=i(De(),Oc(),N6(),L6(),Qn(),U6(),Jn(),Jy(),gd(),z6(),eb(),H6(),G6(),$6(),_d(),W6(),an(),gt(),V6(),j6(),X6(),q6(),Y6(),K6(),Z6(),Q6(),J6(),eO(),tO(),rO(),iO(),nO(),sO(),oO(),aO())})(Ee,function(r){return r})})(Qy);var lO=Qy.exports;const Jf=C0(lO),cO=(t,e,r,i)=>{const n=new Yn;return n.beginFill(t,i),n.drawRect(0,0,e,r),n.endFill(),n},wN=t=>{if(!t)return;const{innerWidth:e,innerHeight:r}=window;if(r>e/.5625&&e<eo.width){const i=Math.round(e/.5625);t.style.width=`${e}px`,t.style.height=`${i}px`}else{const i=Math.round(r/1.777);t.style.width=`${i}px`,t.style.height=`${r}px`}},hO=(t,e)=>t?Jf.AES.encrypt(JSON.stringify(t),e).toString():null,uO=(t,e)=>{if(!t)return null;const i=Jf.AES.decrypt(t,e).toString(Jf.enc.Utf8);return JSON.parse(i)},fO=()=>{document.addEventListener("visibilitychange",()=>{const t=document.hidden;t&&gi.getHandle.onHiddenTab(),t||gi.getHandle.onViewTab()})},dO=t=>{const e=`${t}`.replaceAll(",","");return+e>-1?e.replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"};function e0(t,e={},r){for(const i in t){const n=t[i],s=r?`${r}:${i}`:i;typeof n=="object"&&n!==null?e0(n,e,s):typeof n=="function"&&(e[s]=n)}return e}const pO={run:t=>t()},mO=()=>pO,tb=typeof console.createTask<"u"?console.createTask:mO;function xO(t,e){const r=e.shift(),i=tb(r);return t.reduce((n,s)=>n.then(()=>i.run(()=>s(...e))),Promise.resolve())}function gO(t,e){const r=e.shift(),i=tb(r);return Promise.all(t.map(n=>i.run(()=>n(...e))))}function wu(t,e){for(const r of[...t])r(e)}class _O{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,r,i={}){if(!e||typeof r!="function")return()=>{};const n=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!i.allowDeprecated){let o=s.message;o||(o=`${n} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!r.name)try{Object.defineProperty(r,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(r),()=>{r&&(this.removeHook(e,r),r=void 0)}}hookOnce(e,r){let i,n=(...s)=>(typeof i=="function"&&i(),i=void 0,n=void 0,r(...s));return i=this.hook(e,n),i}removeHook(e,r){if(this._hooks[e]){const i=this._hooks[e].indexOf(r);i!==-1&&this._hooks[e].splice(i,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,r){this._deprecatedHooks[e]=typeof r=="string"?{to:r}:r;const i=this._hooks[e]||[];delete this._hooks[e];for(const n of i)this.hook(e,n)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const r in e)this.deprecateHook(r,e[r])}addHooks(e){const r=e0(e),i=Object.keys(r).map(n=>this.hook(n,r[n]));return()=>{for(const n of i.splice(0,i.length))n()}}removeHooks(e){const r=e0(e);for(const i in r)this.removeHook(i,r[i])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...r){return r.unshift(e),this.callHookWith(xO,e,...r)}callHookParallel(e,...r){return r.unshift(e),this.callHookWith(gO,e,...r)}callHookWith(e,r,...i){const n=this._before||this._after?{name:r,args:i,context:{}}:void 0;this._before&&wu(this._before,n);const s=e(r in this._hooks?[...this._hooks[r]]:[],i);return s instanceof Promise?s.finally(()=>{this._after&&n&&wu(this._after,n)}):(this._after&&n&&wu(this._after,n),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const r=this._before.indexOf(e);r!==-1&&this._before.splice(r,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const r=this._after.indexOf(e);r!==-1&&this._after.splice(r,1)}}}}function vO(){return new _O}function yO(t){return Array.isArray(t)?t:[t]}const bO=["title","titleTemplate","script","style","noscript"],bl=["base","meta","link","style","script","noscript"],EO=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],TO=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],rb=["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"],AO=typeof window<"u";function vd(t){let e=9;for(let r=0;r<t.length;)e=Math.imul(e^t.charCodeAt(r++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function cg(t){return t._h||vd(t._d?t._d:`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([e,r])=>`${e}:${String(r)}`).join(",")}`)}function ib(t,e){const{props:r,tag:i}=t;if(TO.includes(i))return i;if(i==="link"&&r.rel==="canonical")return"canonical";if(r.charset)return"charset";const n=["id"];i==="meta"&&n.push("name","property","http-equiv");for(const s of n)if(typeof r[s]<"u"){const o=String(r[s]);return e&&!e(o)?!1:`${i}:${s}:${o}`}return!1}function hg(t,e){return t==null?e||null:typeof t=="function"?t(e):t}async function SO(t,e,r){const i={tag:t,props:await nb(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[["script","noscript","style"].includes(t)?"innerHTML":"textContent"]:e},["templateParams","titleTemplate"].includes(t))};return rb.forEach(n=>{const s=typeof i.props[n]<"u"?i.props[n]:r[n];typeof s<"u"&&((!["innerHTML","textContent","children"].includes(n)||bO.includes(i.tag))&&(i[n==="children"?"innerHTML":n]=s),delete i.props[n])}),i.props.body&&(i.tagPosition="bodyClose",delete i.props.body),i.tag==="script"&&typeof i.innerHTML=="object"&&(i.innerHTML=JSON.stringify(i.innerHTML),i.props.type=i.props.type||"application/json"),Array.isArray(i.props.content)?i.props.content.map(n=>({...i,props:{...i.props,content:n}})):i}function wO(t,e){const r=t==="class"?" ":";";return typeof e=="object"&&!Array.isArray(e)&&(e=Object.entries(e).filter(([,i])=>i).map(([i,n])=>t==="style"?`${i}:${n}`:i)),(Array.isArray(e)?e.join(r):e).split(r).filter(i=>i.trim()).filter(Boolean).join(r)}async function nb(t,e){for(const r of Object.keys(t)){if(["class","style"].includes(r)){t[r]=wO(r,t[r]);continue}if(t[r]instanceof Promise&&(t[r]=await t[r]),!e&&!rb.includes(r)){const i=String(t[r]),n=r.startsWith("data-");i==="true"||i===""?t[r]=n?"true":!0:t[r]||(n&&i==="false"?t[r]="false":delete t[r])}}return t}const CO=10;async function BO(t){const e=[];return Object.entries(t.resolvedInput).filter(([r,i])=>typeof i<"u"&&EO.includes(r)).forEach(([r,i])=>{const n=yO(i);e.push(...n.map(s=>SO(r,s,t)).flat())}),(await Promise.all(e)).flat().filter(Boolean).map((r,i)=>(r._e=t._i,t.mode&&(r._m=t.mode),r._p=(t._i<<CO)+i,r))}const ug={base:-10,title:10},fg={critical:-80,high:-10,low:20};function Jl(t){let e=100;const r=t.tagPriority;return typeof r=="number"?r:(t.tag==="meta"?(t.props["http-equiv"]==="content-security-policy"&&(e=-30),t.props.charset&&(e=-20),t.props.name==="viewport"&&(e=-15)):t.tag==="link"&&t.props.rel==="preconnect"?e=20:t.tag in ug&&(e=ug[t.tag]),typeof r=="string"&&r in fg?e+fg[r]:e)}const PO=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],dg=["onload","onerror","onabort","onprogress","onloadstart"],Pi="%separator";function El(t,e,r){if(typeof t!="string"||!t.includes("%"))return t;function i(o){let a;return["s","pageTitle"].includes(o)?a=e.pageTitle:o.includes(".")?a=o.split(".").reduce((l,c)=>l&&l[c]||void 0,e):a=e[o],typeof a<"u"?(a||"").replace(/"/g,'\\"'):!1}let n=t;try{n=decodeURI(t)}catch{}return(n.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(o=>{const a=i(o.slice(1));typeof a=="string"&&(t=t.replace(new RegExp(`\\${o}(\\W|$)`,"g"),(l,c)=>`${a}${c}`).trim())}),t.includes(Pi)&&(t.endsWith(Pi)&&(t=t.slice(0,-Pi.length).trim()),t.startsWith(Pi)&&(t=t.slice(Pi.length).trim()),t=t.replace(new RegExp(`\\${Pi}\\s*\\${Pi}`,"g"),Pi),t=El(t,{separator:r},r)),t}async function sb(t,e={}){var h;const r=e.document||t.resolvedOptions.document;if(!r||!t.dirty)return;const i={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",i),!i.shouldRender)return;const n=(await t.resolveTags()).map(f=>({tag:f,id:bl.includes(f.tag)?cg(f):f.tag,shouldRender:!0}));let s=t._dom;if(!s){s={elMap:{htmlAttrs:r.documentElement,bodyAttrs:r.body}};for(const f of["body","head"]){const u=(h=r[f])==null?void 0:h.children,d=[];for(const p of[...u].filter(m=>bl.includes(m.tagName.toLowerCase()))){const m={tag:p.tagName.toLowerCase(),props:await nb(p.getAttributeNames().reduce((_,g)=>({..._,[g]:p.getAttribute(g)}),{})),innerHTML:p.innerHTML};let x=1,y=ib(m);for(;y&&d.find(_=>_._d===y);)y=`${y}:${x++}`;m._d=y||void 0,d.push(m),s.elMap[p.getAttribute("data-hid")||cg(m)]=p}}}s.pendingSideEffects={...s.sideEffects||{}},s.sideEffects={};function o(f,u,d){const p=`${f}:${u}`;s.sideEffects[p]=d,delete s.pendingSideEffects[p]}function a({id:f,$el:u,tag:d}){const p=d.tag.endsWith("Attrs");s.elMap[f]=u,p||(["textContent","innerHTML"].forEach(m=>{d[m]&&d[m]!==u[m]&&(u[m]=d[m])}),o(f,"el",()=>{var m;(m=s.elMap[f])==null||m.remove(),delete s.elMap[f]}));for(const[m,x]of Object.entries(d._eventHandlers||{}))u.getAttribute(`data-${m}`)!==""&&((d.tag==="bodyAttrs"?r.defaultView:u).addEventListener(m.replace("on",""),x.bind(u)),u.setAttribute(`data-${m}`,""));Object.entries(d.props).forEach(([m,x])=>{const y=`attr:${m}`;if(m==="class")for(const _ of(x||"").split(" ").filter(Boolean))p&&o(f,`${y}:${_}`,()=>u.classList.remove(_)),!u.classList.contains(_)&&u.classList.add(_);else if(m==="style")for(const _ of(x||"").split(";").filter(Boolean)){const[g,...v]=_.split(":").map(b=>b.trim());o(f,`${y}:${_}:${g}`,()=>{u.style.removeProperty(g)}),u.style.setProperty(g,v.join(":"))}else u.getAttribute(m)!==x&&u.setAttribute(m,x===!0?"":String(x)),p&&o(f,y,()=>u.removeAttribute(m))})}const l=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const f of n){const{tag:u,shouldRender:d,id:p}=f;if(d){if(u.tag==="title"){r.title=u.textContent;continue}f.$el=f.$el||s.elMap[p],f.$el?a(f):bl.includes(u.tag)&&l.push(f)}}for(const f of l){const u=f.tag.tagPosition||"head";f.$el=r.createElement(f.tag.tag),a(f),c[u]=c[u]||r.createDocumentFragment(),c[u].appendChild(f.$el)}for(const f of n)await t.hooks.callHook("dom:renderTag",f,r,o);c.head&&r.head.appendChild(c.head),c.bodyOpen&&r.body.insertBefore(c.bodyOpen,r.body.firstChild),c.bodyClose&&r.body.appendChild(c.bodyClose),Object.values(s.pendingSideEffects).forEach(f=>f()),t._dom=s,t.dirty=!1,await t.hooks.callHook("dom:rendered",{renders:n})}async function ob(t,e={}){const r=e.delayFn||(i=>setTimeout(i,10));return t._domUpdatePromise=t._domUpdatePromise||new Promise(i=>r(async()=>{await sb(t,e),delete t._domUpdatePromise,i()}))}function RO(t){return e=>{var i,n;const r=((n=(i=e.resolvedOptions.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:n.innerHTML)||!1;return r&&e.push(JSON.parse(r)),{mode:"client",hooks:{"entries:updated":function(s){ob(s,t)}}}}}const DO=["templateParams","htmlAttrs","bodyAttrs"],IO={hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(i=>{t.props[i]&&(t.key=t.props[i],delete t.props[i])});const r=ib(t)||(t.key?`${t.tag}:${t.key}`:!1);r&&(t._d=r)},"tags:resolve":function(t){const e={};t.tags.forEach(i=>{const n=(i.key?`${i.tag}:${i.key}`:i._d)||i._p,s=e[n];if(s){let a=i==null?void 0:i.tagDuplicateStrategy;if(!a&&DO.includes(i.tag)&&(a="merge"),a==="merge"){const l=s.props;["class","style"].forEach(c=>{l[c]&&(i.props[c]?(c==="style"&&!l[c].endsWith(";")&&(l[c]+=";"),i.props[c]=`${l[c]} ${i.props[c]}`):i.props[c]=l[c])}),e[n].props={...l,...i.props};return}else if(i._e===s._e){s._duped=s._duped||[],i._d=`${s._d}:${s._duped.length+1}`,s._duped.push(i);return}else if(Jl(i)>Jl(s))return}const o=Object.keys(i.props).length+(i.innerHTML?1:0)+(i.textContent?1:0);if(bl.includes(i.tag)&&o===0){delete e[n];return}e[n]=i});const r=[];Object.values(e).forEach(i=>{const n=i._duped;delete i._duped,r.push(i),n&&r.push(...n)}),t.tags=r,t.tags=t.tags.filter(i=>!(i.tag==="meta"&&(i.props.name||i.props.property)&&!i.props.content))}}},FO={mode:"server",hooks:{"tags:resolve":function(t){const e={};t.tags.filter(r=>["titleTemplate","templateParams","title"].includes(r.tag)&&r._m==="server").forEach(r=>{e[r.tag]=r.tag.startsWith("title")?r.textContent:r.props}),Object.keys(e).length&&t.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},MO=["script","link","bodyAttrs"],OO=t=>({hooks:{"tags:resolve":function(e){for(const r of e.tags.filter(i=>MO.includes(i.tag)))Object.entries(r.props).forEach(([i,n])=>{i.startsWith("on")&&typeof n=="function"&&(t.ssr&&dg.includes(i)?r.props[i]=`this.dataset.${i}fired = true`:delete r.props[i],r._eventHandlers=r._eventHandlers||{},r._eventHandlers[i]=n)}),t.ssr&&r._eventHandlers&&(r.props.src||r.props.href)&&(r.key=r.key||vd(r.props.src||r.props.href))},"dom:renderTag":function({$el:e,tag:r}){var i,n;for(const s of Object.keys((e==null?void 0:e.dataset)||{}).filter(o=>dg.some(a=>`${a}fired`===o))){const o=s.replace("fired","");(n=(i=r._eventHandlers)==null?void 0:i[o])==null||n.call(e,new Event(o.replace("on","")))}}}}),kO=["link","style","script","noscript"],NO={hooks:{"tag:normalise":({tag:t})=>{t.key&&kO.includes(t.tag)&&(t.props["data-hid"]=t._h=vd(t.key))}}},LO={hooks:{"tags:resolve":t=>{const e=r=>{var i;return(i=t.tags.find(n=>n._d===r))==null?void 0:i._p};for(const{prefix:r,offset:i}of PO)for(const n of t.tags.filter(s=>typeof s.tagPriority=="string"&&s.tagPriority.startsWith(r))){const s=e(n.tagPriority.replace(r,""));typeof s<"u"&&(n._p=s+i)}t.tags.sort((r,i)=>r._p-i._p).sort((r,i)=>Jl(r)-Jl(i))}}},UO={meta:"content",link:"href",htmlAttrs:"lang"},zO=t=>({hooks:{"tags:resolve":e=>{var a;const{tags:r}=e,i=(a=r.find(l=>l.tag==="title"))==null?void 0:a.textContent,n=r.findIndex(l=>l.tag==="templateParams"),s=n!==-1?r[n].props:{},o=s.separator||"|";delete s.separator,s.pageTitle=El(s.pageTitle||i||"",s,o);for(const l of r.filter(c=>c.processTemplateParams!==!1)){const c=UO[l.tag];c&&typeof l.props[c]=="string"?l.props[c]=El(l.props[c],s,o):(l.processTemplateParams===!0||["titleTemplate","title"].includes(l.tag))&&["innerHTML","textContent"].forEach(h=>{typeof l[h]=="string"&&(l[h]=El(l[h],s,o))})}t._templateParams=s,t._separator=o,e.tags=r.filter(l=>l.tag!=="templateParams")}}}),HO={hooks:{"tags:resolve":t=>{const{tags:e}=t;let r=e.findIndex(n=>n.tag==="titleTemplate");const i=e.findIndex(n=>n.tag==="title");if(i!==-1&&r!==-1){const n=hg(e[r].textContent,e[i].textContent);n!==null?e[i].textContent=n||e[i].textContent:delete e[i]}else if(r!==-1){const n=hg(e[r].textContent);n!==null&&(e[r].textContent=n,e[r].tag="title",r=-1)}r!==-1&&delete e[r],t.tags=e.filter(Boolean)}}},GO={hooks:{"tags:afterResolve":function(t){for(const e of t.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&["application/ld+json","application/json"].includes(e.props.type)?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let ab;function $O(t={}){const e=WO(t);return e.use(RO()),ab=e}function pg(t,e){return!t||t==="server"&&e||t==="client"&&!e}function WO(t={}){const e=vO();e.addHooks(t.hooks||{}),t.document=t.document||(AO?document:void 0);const r=!t.document,i=()=>{a.dirty=!0,e.callHook("entries:updated",a)};let n=0,s=[];const o=[],a={plugins:o,dirty:!1,resolvedOptions:t,hooks:e,headEntries(){return s},use(l){const c=typeof l=="function"?l(a):l;(!c.key||!o.some(h=>h.key===c.key))&&(o.push(c),pg(c.mode,r)&&e.addHooks(c.hooks||{}))},push(l,c){c==null||delete c.head;const h={_i:n++,input:l,...c};return pg(h.mode,r)&&(s.push(h),i()),{dispose(){s=s.filter(f=>f._i!==h._i),e.callHook("entries:updated",a),i()},patch(f){s=s.map(u=>(u._i===h._i&&(u.input=h.input=f),u)),i()}}},async resolveTags(){const l={tags:[],entries:[...s]};await e.callHook("entries:resolve",l);for(const c of l.entries){const h=c.resolvedInput||c.input;if(c.resolvedInput=await(c.transform?c.transform(h):h),c.resolvedInput)for(const f of await BO(c)){const u={tag:f,entry:c,resolvedOptions:a.resolvedOptions};await e.callHook("tag:normalise",u),l.tags.push(u.tag)}}return await e.callHook("tags:beforeResolve",l),await e.callHook("tags:resolve",l),await e.callHook("tags:afterResolve",l),l.tags},ssr:r};return[IO,FO,OO,NO,LO,zO,HO,GO,...(t==null?void 0:t.plugins)||[]].forEach(l=>a.use(l)),a.hooks.callHook("init",a),a}function VO(){return ab}const jO=S0.startsWith("3");function XO(t){return typeof t=="function"?t():Gt(t)}function ec(t,e=""){if(t instanceof Promise)return t;const r=XO(t);return!t||!r?r:Array.isArray(r)?r.map(i=>ec(i,e)):typeof r=="object"?Object.fromEntries(Object.entries(r).map(([i,n])=>i==="titleTemplate"||i.startsWith("on")?[i,Gt(n)]:[i,ec(n,i)])):r}const qO={hooks:{"entries:resolve":function(t){for(const e of t.entries)e.resolvedInput=ec(e.input)}}},lb="usehead";function YO(t){return{install(r){jO&&(r.config.globalProperties.$unhead=t,r.config.globalProperties.$head=t,r.provide(lb,t))}}.install}function KO(t={}){t.domDelayFn=t.domDelayFn||(r=>ma(()=>setTimeout(()=>r(),0)));const e=$O(t);return e.use(qO),e.install=YO(e),e}const mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xg="__unhead_injection_handler__";function ZO(){if(xg in mg)return mg[xg]();const t=mr(lb);return t||VO()}function cb(t,e={}){const r=e.head||ZO();if(r)return r.ssr?r.push(t,e):QO(r,t,e)}function QO(t,e,r={}){const i=ui(!1),n=ui({});Bo(()=>{n.value=i.value?{}:ec(e)});const s=t.push(n.value,r);return Po(n,a=>{s.patch(a)}),_2()&&(__(()=>{s.dispose()}),x_(()=>{i.value=!0}),m_(()=>{i.value=!1})),s}function JO(t,e){const r=KO(e||{}),i={unhead:r,install(n){S0.startsWith("3")&&(n.config.globalProperties.$head=r,n.provide("usehead",r))},use(n){r.use(n)},resolveTags(){return r.resolveTags()},headEntries(){return r.headEntries()},headTags(){return r.resolveTags()},push(n,s){return r.push(n,s)},addEntry(n,s){return r.push(n,s)},addHeadObjs(n,s){return r.push(n,s)},addReactiveEntry(n,s){const o=cb(n,s);return typeof o<"u"?o.dispose:()=>{}},removeHeadObjs(){},updateDOM(n,s){s?sb(r,{document:n}):ob(r,{delayFn:o=>setTimeout(()=>o(),50),document:n})},internalHooks:r.hooks,hooks:{"before:dom":[],"resolved:tags":[],"resolved:entries":[]}};return r.addHeadObjs=i.addHeadObjs,r.updateDOM=i.updateDOM,r.hooks.hook("dom:beforeRender",n=>{for(const s of i.hooks["before:dom"])s()===!1&&(n.shouldRender=!1)}),t&&i.addHeadObjs(t),i}/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const us=typeof document<"u";function ek(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ne=Object.assign;function Cu(t,e){const r={};for(const i in e){const n=e[i];r[i]=Mr(n)?n.map(t):t(n)}return r}const $o=()=>{},Mr=Array.isArray,hb=/#/g,tk=/&/g,rk=/\//g,ik=/=/g,nk=/\?/g,ub=/\+/g,sk=/%5B/g,ok=/%5D/g,fb=/%5E/g,ak=/%60/g,db=/%7B/g,lk=/%7C/g,pb=/%7D/g,ck=/%20/g;function yd(t){return encodeURI(""+t).replace(lk,"|").replace(sk,"[").replace(ok,"]")}function hk(t){return yd(t).replace(db,"{").replace(pb,"}").replace(fb,"^")}function t0(t){return yd(t).replace(ub,"%2B").replace(ck,"+").replace(hb,"%23").replace(tk,"%26").replace(ak,"`").replace(db,"{").replace(pb,"}").replace(fb,"^")}function uk(t){return t0(t).replace(ik,"%3D")}function fk(t){return yd(t).replace(hb,"%23").replace(nk,"%3F")}function dk(t){return t==null?"":fk(t).replace(rk,"%2F")}function da(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const pk=/\/$/,mk=t=>t.replace(pk,"");function Bu(t,e,r="/"){let i,n={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),n=t(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=vk(i??e,r),{fullPath:i+(s&&"?")+s+o,path:i,query:n,hash:da(o)}}function xk(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function gg(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function gk(t,e,r){const i=e.matched.length-1,n=r.matched.length-1;return i>-1&&i===n&&Ks(e.matched[i],r.matched[n])&&mb(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Ks(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function mb(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!_k(t[r],e[r]))return!1;return!0}function _k(t,e){return Mr(t)?_g(t,e):Mr(e)?_g(e,t):t===e}function _g(t,e){return Mr(e)?t.length===e.length&&t.every((r,i)=>r===e[i]):t.length===1&&t[0]===e}function vk(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),i=t.split("/"),n=i[i.length-1];(n===".."||n===".")&&i.push("");let s=r.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+i.slice(o).join("/")}var pa;(function(t){t.pop="pop",t.push="push"})(pa||(pa={}));var Wo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Wo||(Wo={}));function yk(t){if(!t)if(us){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),mk(t)}const bk=/^[^#]+#/;function Ek(t,e){return t.replace(bk,"#")+e}function Tk(t,e){const r=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-r.left-(e.left||0),top:i.top-r.top-(e.top||0)}}const kc=()=>({left:window.scrollX,top:window.scrollY});function Ak(t){let e;if("el"in t){const r=t.el,i=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=Tk(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function vg(t,e){return(history.state?history.state.position-e:-1)+t}const r0=new Map;function Sk(t,e){r0.set(t,e)}function wk(t){const e=r0.get(t);return r0.delete(t),e}let Ck=()=>location.protocol+"//"+location.host;function xb(t,e){const{pathname:r,search:i,hash:n}=e,s=t.indexOf("#");if(s>-1){let a=n.includes(t.slice(s))?t.slice(s).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),gg(l,"")}return gg(r,t)+i+n}function Bk(t,e,r,i){let n=[],s=[],o=null;const a=({state:u})=>{const d=xb(t,location),p=r.value,m=e.value;let x=0;if(u){if(r.value=d,e.value=u,o&&o===p){o=null;return}x=m?u.position-m.position:0}else i(d);n.forEach(y=>{y(r.value,p,{delta:x,type:pa.pop,direction:x?x>0?Wo.forward:Wo.back:Wo.unknown})})};function l(){o=r.value}function c(u){n.push(u);const d=()=>{const p=n.indexOf(u);p>-1&&n.splice(p,1)};return s.push(d),d}function h(){const{history:u}=window;u.state&&u.replaceState(Ne({},u.state,{scroll:kc()}),"")}function f(){for(const u of s)u();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function yg(t,e,r,i=!1,n=!1){return{back:t,current:e,forward:r,replaced:i,position:window.history.length,scroll:n?kc():null}}function Pk(t){const{history:e,location:r}=window,i={value:xb(t,r)},n={value:e.state};n.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,h){const f=t.indexOf("#"),u=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+l:Ck()+t+l;try{e[h?"replaceState":"pushState"](c,"",u),n.value=c}catch(d){console.error(d),r[h?"replace":"assign"](u)}}function o(l,c){const h=Ne({},e.state,yg(n.value.back,l,n.value.forward,!0),c,{position:n.value.position});s(l,h,!0),i.value=l}function a(l,c){const h=Ne({},n.value,e.state,{forward:l,scroll:kc()});s(h.current,h,!0);const f=Ne({},yg(i.value,l,null),{position:h.position+1},c);s(l,f,!1),i.value=l}return{location:i,state:n,push:a,replace:o}}function Rk(t){t=yk(t);const e=Pk(t),r=Bk(t,e.state,e.location,e.replace);function i(s,o=!0){o||r.pauseListeners(),history.go(s)}const n=Ne({location:"",base:t,go:i,createHref:Ek.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function Dk(t){return typeof t=="string"||t&&typeof t=="object"}function gb(t){return typeof t=="string"||typeof t=="symbol"}const Ri={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},_b=Symbol("");var bg;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(bg||(bg={}));function Zs(t,e){return Ne(new Error,{type:t,[_b]:!0},e)}function ai(t,e){return t instanceof Error&&_b in t&&(e==null||!!(t.type&e))}const Eg="[^/]+?",Ik={sensitive:!1,strict:!1,start:!0,end:!0},Fk=/[.+*?^${}()[\]/\\]/g;function Mk(t,e){const r=Ne({},Ik,e),i=[];let n=r.start?"^":"";const s=[];for(const c of t){const h=c.length?[]:[90];r.strict&&!c.length&&(n+="/");for(let f=0;f<c.length;f++){const u=c[f];let d=40+(r.sensitive?.25:0);if(u.type===0)f||(n+="/"),n+=u.value.replace(Fk,"\\$&"),d+=40;else if(u.type===1){const{value:p,repeatable:m,optional:x,regexp:y}=u;s.push({name:p,repeatable:m,optional:x});const _=y||Eg;if(_!==Eg){d+=10;try{new RegExp(`(${_})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${p}" (${_}): `+v.message)}}let g=m?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;f||(g=x&&c.length<2?`(?:/${g})`:"/"+g),x&&(g+="?"),n+=g,d+=20,x&&(d+=-8),m&&(d+=-20),_===".*"&&(d+=-50)}h.push(d)}i.push(h)}if(r.strict&&r.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&(n+="(?:/|$)");const o=new RegExp(n,r.sensitive?"":"i");function a(c){const h=c.match(o),f={};if(!h)return null;for(let u=1;u<h.length;u++){const d=h[u]||"",p=s[u-1];f[p.name]=d&&p.repeatable?d.split("/"):d}return f}function l(c){let h="",f=!1;for(const u of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const d of u)if(d.type===0)h+=d.value;else if(d.type===1){const{value:p,repeatable:m,optional:x}=d,y=p in c?c[p]:"";if(Mr(y)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const _=Mr(y)?y.join("/"):y;if(!_)if(x)u.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${p}"`);h+=_}}return h||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function Ok(t,e){let r=0;for(;r<t.length&&r<e.length;){const i=e[r]-t[r];if(i)return i;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function kk(t,e){let r=0;const i=t.score,n=e.score;for(;r<i.length&&r<n.length;){const s=Ok(i[r],n[r]);if(s)return s;r++}if(Math.abs(n.length-i.length)===1){if(Tg(i))return 1;if(Tg(n))return-1}return n.length-i.length}function Tg(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Nk={type:0,value:""},Lk=/[a-zA-Z0-9_]/;function Uk(t){if(!t)return[[]];if(t==="/")return[[Nk]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${r})/"${c}": ${d}`)}let r=0,i=r;const n=[];let s;function o(){s&&n.push(s),s=[]}let a=0,l,c="",h="";function f(){c&&(r===0?s.push({type:0,value:c}):r===1||r===2||r===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function u(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),r=1):u();break;case 4:u(),r=i;break;case 1:l==="("?r=2:Lk.test(l)?u():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:r=3:h+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),n}function zk(t,e,r){const i=Mk(Uk(t.path),r),n=Ne(i,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Hk(t,e){const r=[],i=new Map;e=wg({strict:!1,end:!0,sensitive:!1},e);function n(h){return i.get(h)}function s(h,f,u){const d=!u,p=Gk(h);p.aliasOf=u&&u.record;const m=wg(e,h),x=[p];if("alias"in h){const g=typeof h.alias=="string"?[h.alias]:h.alias;for(const v of g)x.push(Ne({},p,{components:u?u.record.components:p.components,path:v,aliasOf:u?u.record:p}))}let y,_;for(const g of x){const{path:v}=g;if(f&&v[0]!=="/"){const b=f.record.path,E=b[b.length-1]==="/"?"":"/";g.path=f.record.path+(v&&E+v)}if(y=zk(g,f,m),u?u.alias.push(y):(_=_||y,_!==y&&_.alias.push(y),d&&h.name&&!Sg(y)&&o(h.name)),p.children){const b=p.children;for(let E=0;E<b.length;E++)s(b[E],y,u&&u.children[E])}u=u||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&l(y)}return _?()=>{o(_)}:$o}function o(h){if(gb(h)){const f=i.get(h);f&&(i.delete(h),r.splice(r.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=r.indexOf(h);f>-1&&(r.splice(f,1),h.record.name&&i.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return r}function l(h){let f=0;for(;f<r.length&&kk(h,r[f])>=0&&(h.record.path!==r[f].record.path||!vb(h,r[f]));)f++;r.splice(f,0,h),h.record.name&&!Sg(h)&&i.set(h.record.name,h)}function c(h,f){let u,d={},p,m;if("name"in h&&h.name){if(u=i.get(h.name),!u)throw Zs(1,{location:h});m=u.record.name,d=Ne(Ag(f.params,u.keys.filter(_=>!_.optional).concat(u.parent?u.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),h.params&&Ag(h.params,u.keys.map(_=>_.name))),p=u.stringify(d)}else if(h.path!=null)p=h.path,u=r.find(_=>_.re.test(p)),u&&(d=u.parse(p),m=u.record.name);else{if(u=f.name?i.get(f.name):r.find(_=>_.re.test(f.path)),!u)throw Zs(1,{location:h,currentLocation:f});m=u.record.name,d=Ne({},f.params,h.params),p=u.stringify(d)}const x=[];let y=u;for(;y;)x.unshift(y.record),y=y.parent;return{name:m,path:p,params:d,matched:x,meta:Wk(x)}}return t.forEach(h=>s(h)),{addRoute:s,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:n}}function Ag(t,e){const r={};for(const i of e)i in t&&(r[i]=t[i]);return r}function Gk(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:$k(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function $k(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const i in t.components)e[i]=typeof r=="object"?r[i]:r;return e}function Sg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Wk(t){return t.reduce((e,r)=>Ne(e,r.meta),{})}function wg(t,e){const r={};for(const i in t)r[i]=i in e?e[i]:t[i];return r}function vb(t,e){return e.children.some(r=>r===t||vb(t,r))}function Vk(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<i.length;++n){const s=i[n].replace(ub," "),o=s.indexOf("="),a=da(o<0?s:s.slice(0,o)),l=o<0?null:da(s.slice(o+1));if(a in e){let c=e[a];Mr(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Cg(t){let e="";for(let r in t){const i=t[r];if(r=uk(r),i==null){i!==void 0&&(e+=(e.length?"&":"")+r);continue}(Mr(i)?i.map(s=>s&&t0(s)):[i&&t0(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function jk(t){const e={};for(const r in t){const i=t[r];i!==void 0&&(e[r]=Mr(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return e}const Xk=Symbol(""),Bg=Symbol(""),Nc=Symbol(""),bd=Symbol(""),i0=Symbol("");function vo(){let t=[];function e(i){return t.push(i),()=>{const n=t.indexOf(i);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Oi(t,e,r,i,n,s=o=>o()){const o=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=u=>{u===!1?l(Zs(4,{from:r,to:e})):u instanceof Error?l(u):Dk(u)?l(Zs(2,{from:e,to:u})):(o&&i.enterCallbacks[n]===o&&typeof u=="function"&&o.push(u),a())},h=s(()=>t.call(i&&i.instances[n],e,r,c));let f=Promise.resolve(h);t.length<3&&(f=f.then(c)),f.catch(u=>l(u))})}function Pu(t,e,r,i,n=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(qk(l)){const h=(l.__vccOpts||l)[e];h&&s.push(Oi(h,r,i,o,a,n))}else{let c=l();s.push(()=>c.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const f=ek(h)?h.default:h;o.components[a]=f;const d=(f.__vccOpts||f)[e];return d&&Oi(d,r,i,o,a,n)()}))}}return s}function qk(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Pg(t){const e=mr(Nc),r=mr(bd),i=Le(()=>e.resolve(Gt(t.to))),n=Le(()=>{const{matched:l}=i.value,{length:c}=l,h=l[c-1],f=r.matched;if(!h||!f.length)return-1;const u=f.findIndex(Ks.bind(null,h));if(u>-1)return u;const d=Rg(l[c-2]);return c>1&&Rg(h)===d&&f[f.length-1].path!==d?f.findIndex(Ks.bind(null,l[c-2])):u}),s=Le(()=>n.value>-1&&Qk(r.params,i.value.params)),o=Le(()=>n.value>-1&&n.value===r.matched.length-1&&mb(r.params,i.value.params));function a(l={}){return Zk(l)?e[Gt(t.replace)?"replace":"push"](Gt(t.to)).catch($o):Promise.resolve()}return{route:i,href:Le(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const Yk=gr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Pg,setup(t,{slots:e}){const r=kt(Pg(t)),{options:i}=mr(Nc),n=Le(()=>({[Dg(t.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[Dg(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&e.default(r);return t.custom?s:ds("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},s)}}}),Kk=Yk;function Zk(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Qk(t,e){for(const r in e){const i=e[r],n=t[r];if(typeof i=="string"){if(i!==n)return!1}else if(!Mr(n)||n.length!==i.length||i.some((s,o)=>s!==n[o]))return!1}return!0}function Rg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Dg=(t,e,r)=>t??e??r,Jk=gr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const i=mr(i0),n=Le(()=>t.route||i.value),s=mr(Bg,0),o=Le(()=>{let c=Gt(s);const{matched:h}=n.value;let f;for(;(f=h[c])&&!f.components;)c++;return c}),a=Le(()=>n.value.matched[o.value]);nl(Bg,Le(()=>o.value+1)),nl(Xk,a),nl(i0,n);const l=ui();return Po(()=>[l.value,a.value,t.name],([c,h,f],[u,d,p])=>{h&&(h.instances[f]=c,d&&d!==h&&c&&c===u&&(h.leaveGuards.size||(h.leaveGuards=d.leaveGuards),h.updateGuards.size||(h.updateGuards=d.updateGuards))),c&&h&&(!d||!Ks(h,d)||!u)&&(h.enterCallbacks[f]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=n.value,h=t.name,f=a.value,u=f&&f.components[h];if(!u)return Ig(r.default,{Component:u,route:c});const d=f.props[h],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,x=ds(u,Ne({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[h]=null)},ref:l}));return Ig(r.default,{Component:x,route:c})||x}}});function Ig(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Ed=Jk;function eN(t){const e=Hk(t.routes,t),r=t.parseQuery||Vk,i=t.stringifyQuery||Cg,n=t.history,s=vo(),o=vo(),a=vo(),l=mE(Ri);let c=Ri;us&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Cu.bind(null,N=>""+N),f=Cu.bind(null,dk),u=Cu.bind(null,da);function d(N,$){let K,J;return gb(N)?(K=e.getRecordMatcher(N),J=$):J=N,e.addRoute(J,K)}function p(N){const $=e.getRecordMatcher(N);$&&e.removeRoute($)}function m(){return e.getRoutes().map(N=>N.record)}function x(N){return!!e.getRecordMatcher(N)}function y(N,$){if($=Ne({},$||l.value),typeof N=="string"){const P=Bu(r,N,$.path),O=e.resolve({path:P.path},$),j=n.createHref(P.fullPath);return Ne(P,O,{params:u(O.params),hash:da(P.hash),redirectedFrom:void 0,href:j})}let K;if(N.path!=null)K=Ne({},N,{path:Bu(r,N.path,$.path).path});else{const P=Ne({},N.params);for(const O in P)P[O]==null&&delete P[O];K=Ne({},N,{params:f(P)}),$.params=f($.params)}const J=e.resolve(K,$),le=N.hash||"";J.params=h(u(J.params));const xe=xk(i,Ne({},N,{hash:hk(le),path:J.path})),S=n.createHref(xe);return Ne({fullPath:xe,hash:le,query:i===Cg?jk(N.query):N.query||{}},J,{redirectedFrom:void 0,href:S})}function _(N){return typeof N=="string"?Bu(r,N,l.value.path):Ne({},N)}function g(N,$){if(c!==N)return Zs(8,{from:$,to:N})}function v(N){return T(N)}function b(N){return v(Ne(_(N),{replace:!0}))}function E(N){const $=N.matched[N.matched.length-1];if($&&$.redirect){const{redirect:K}=$;let J=typeof K=="function"?K(N):K;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=_(J):{path:J},J.params={}),Ne({query:N.query,hash:N.hash,params:J.path!=null?{}:N.params},J)}}function T(N,$){const K=c=y(N),J=l.value,le=N.state,xe=N.force,S=N.replace===!0,P=E(K);if(P)return T(Ne(_(P),{state:typeof P=="object"?Ne({},le,P.state):le,force:xe,replace:S}),$||K);const O=K;O.redirectedFrom=$;let j;return!xe&&gk(i,J,K)&&(j=Zs(16,{to:O,from:J}),M(J,J,!0,!1)),(j?Promise.resolve(j):w(O,J)).catch(W=>ai(W)?ai(W,2)?W:z(W):q(W,O,J)).then(W=>{if(W){if(ai(W,2))return T(Ne({replace:S},_(W.to),{state:typeof W.to=="object"?Ne({},le,W.to.state):le,force:xe}),$||O)}else W=I(O,J,!0,S,le);return B(O,J,W),W})}function A(N,$){const K=g(N,$);return K?Promise.reject(K):Promise.resolve()}function R(N){const $=U.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(N):N()}function w(N,$){let K;const[J,le,xe]=tN(N,$);K=Pu(J.reverse(),"beforeRouteLeave",N,$);for(const P of J)P.leaveGuards.forEach(O=>{K.push(Oi(O,N,$))});const S=A.bind(null,N,$);return K.push(S),oe(K).then(()=>{K=[];for(const P of s.list())K.push(Oi(P,N,$));return K.push(S),oe(K)}).then(()=>{K=Pu(le,"beforeRouteUpdate",N,$);for(const P of le)P.updateGuards.forEach(O=>{K.push(Oi(O,N,$))});return K.push(S),oe(K)}).then(()=>{K=[];for(const P of xe)if(P.beforeEnter)if(Mr(P.beforeEnter))for(const O of P.beforeEnter)K.push(Oi(O,N,$));else K.push(Oi(P.beforeEnter,N,$));return K.push(S),oe(K)}).then(()=>(N.matched.forEach(P=>P.enterCallbacks={}),K=Pu(xe,"beforeRouteEnter",N,$,R),K.push(S),oe(K))).then(()=>{K=[];for(const P of o.list())K.push(Oi(P,N,$));return K.push(S),oe(K)}).catch(P=>ai(P,8)?P:Promise.reject(P))}function B(N,$,K){a.list().forEach(J=>R(()=>J(N,$,K)))}function I(N,$,K,J,le){const xe=g(N,$);if(xe)return xe;const S=$===Ri,P=us?history.state:{};K&&(J||S?n.replace(N.fullPath,Ne({scroll:S&&P&&P.scroll},le)):n.push(N.fullPath,le)),l.value=N,M(N,$,K,S),z()}let D;function F(){D||(D=n.listen((N,$,K)=>{if(!fe.listening)return;const J=y(N),le=E(J);if(le){T(Ne(le,{replace:!0}),J).catch($o);return}c=J;const xe=l.value;us&&Sk(vg(xe.fullPath,K.delta),kc()),w(J,xe).catch(S=>ai(S,12)?S:ai(S,2)?(T(S.to,J).then(P=>{ai(P,20)&&!K.delta&&K.type===pa.pop&&n.go(-1,!1)}).catch($o),Promise.reject()):(K.delta&&n.go(-K.delta,!1),q(S,J,xe))).then(S=>{S=S||I(J,xe,!1),S&&(K.delta&&!ai(S,8)?n.go(-K.delta,!1):K.type===pa.pop&&ai(S,20)&&n.go(-1,!1)),B(J,xe,S)}).catch($o)}))}let G=vo(),V=vo(),L;function q(N,$,K){z(N);const J=V.list();return J.length?J.forEach(le=>le(N,$,K)):console.error(N),Promise.reject(N)}function ne(){return L&&l.value!==Ri?Promise.resolve():new Promise((N,$)=>{G.add([N,$])})}function z(N){return L||(L=!N,F(),G.list().forEach(([$,K])=>N?K(N):$()),G.reset()),N}function M(N,$,K,J){const{scrollBehavior:le}=t;if(!us||!le)return Promise.resolve();const xe=!K&&wk(vg(N.fullPath,0))||(J||!K)&&history.state&&history.state.scroll||null;return ma().then(()=>le(N,$,xe)).then(S=>S&&Ak(S)).catch(S=>q(S,N,$))}const k=N=>n.go(N);let H;const U=new Set,fe={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:x,getRoutes:m,resolve:y,options:t,push:v,replace:b,go:k,back:()=>k(-1),forward:()=>k(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:V.add,isReady:ne,install(N){const $=this;N.component("RouterLink",Kk),N.component("RouterView",Ed),N.config.globalProperties.$router=$,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>Gt(l)}),us&&!H&&l.value===Ri&&(H=!0,v(n.location).catch(le=>{}));const K={};for(const le in Ri)Object.defineProperty(K,le,{get:()=>l.value[le],enumerable:!0});N.provide(Nc,$),N.provide(bd,Zg(K)),N.provide(i0,l);const J=N.unmount;U.add(N),N.unmount=function(){U.delete(N),U.size<1&&(c=Ri,D&&D(),D=null,l.value=Ri,H=!1,L=!1),J()}}};function oe(N){return N.reduce(($,K)=>$.then(()=>R(K)),Promise.resolve())}return fe}function tN(t,e){const r=[],i=[],n=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ks(c,a))?i.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ks(c,l))||n.push(l))}return[r,i,n]}function rN(){return mr(Nc)}function iN(){return mr(bd)}const yb=eN({history:Rk(),routes:[{path:"/",name:"home",component:()=>lp(()=>import("./home-cba08e8e.js"),[]),meta:{authRequired:!1,layout:"clearLayout",nav:!0}},{path:"/:pathMatch(.*)*",redirect:"/404"},{path:"/:catchAll(.*)*",redirect:"/404"},{path:"/404",name:"404",component:()=>lp(()=>import("./404-a110e8b8.js"),[]),meta:{layout:"hasLayout",authRequired:!0}}]});yb.beforeEach(async(t,e,r)=>{const i=localStorage.getItem("k"),n=ve.userID&&ve.accessToken&&ve.refreshToken&&ve.gameName&&ve.turnInPrize&&ve.currentGroupIndex;if(i&&!n)try{const a=JSON.parse(uO(i,"login-info"));ve.userID=a.userID,ve.accessToken=a.accessToken,ve.refreshToken=a.refreshToken,ve.gameName=a.gameTable,ve.turnInPrize=a.turnInPrize,ve.currentGroupIndex=a.currentGroupIndex,ve.signedIn=!0}catch(a){console.log(a),localStorage.clear(),ve.userID="",ve.accessToken="",ve.refreshToken="",ve.currentGroupIndex=0,ve.turnInPrize=0,ve.gameName="",ve.signedIn=!1}if(i||(localStorage.clear(),ve.userID="",ve.accessToken="",ve.refreshToken="",ve.currentGroupIndex=0,ve.turnInPrize=0,ve.gameName="",ve.signedIn=!1),t.meta.authRequired&&!ve.signedIn){r({name:"login"}),Un.currentNav="login",setTimeout(()=>Ue.error(" ."),500);return}(t.path==="/login"||t.path==="/sign-up")&&(localStorage.clear(),ve.userID="",ve.accessToken="",ve.refreshToken="",ve.currentGroupIndex=0,ve.turnInPrize=0,ve.gameName="",ve.signedIn=!1);const s=t.name.toString().split(""),o=zv(s,a=>a=isNaN(+a)&&a===a.toUpperCase()?`-${a.toUpperCase()}`:a.toUpperCase());cb({title:o.join("")}),Un.currentNav=t.name.toString(),r()});const nN={class:"relative min-h-screen w-full"},sN=gr({__name:"clearLayout",setup(t){return(e,r)=>(Br(),ki("div",nN,[Ce(Gt(Ed),{class:"z-[1] h-full w-full overflow-y-auto"})]))}}),oN={class:"flex h-[40px] w-full flex-wrap justify-center border-b-2 border-black bg-white"},aN={class:"flex h-full flex-wrap duration-300 mobile:gap-0 tablet:gap-[30px] desktop:gap-[60px]"},lN=["onClick"],cN=gr({__name:"tNav",setup(t){const e=rN(),r=kt({pageList:Le(()=>ve.signedIn?Lo(i,o=>o.meta.nav&&o.meta.authRequired&&o.name!=="logout"):Lo(i,o=>o.meta.nav&&!o.meta.authRequired))}),i=Lo(e.getRoutes(),s=>s.redirect!="/404"&&s.name!="404"),n=s=>{s==="logout"?(localStorage.clear(),ve.signedIn=!1,e.push({name:"login"})):e.push({name:s})};return(s,o)=>(Br(),ki("div",oN,[Vi("div",aN,[(Br(!0),ki(er,null,VE(r.pageList,(a,l)=>(Br(),ki("button",{key:l,class:"nav-btn group",onClick:c=>n(a.name.toString())},[zu(Vb(a.name)+" ",1),Vi("hr",{class:Fs([Gt(Un).currentNav===a.name?"!w-[80px] !bg-main-2":"","group-hover:w-[80px] group-hover:bg-main-3"])},null,2)],8,lN))),128))]),Gt(ve).signedIn?(Br(),ki("button",{key:0,class:"nav-btn group !absolute right-0 top-0",onClick:o[0]||(o[0]=a=>n("logout"))},[zu(" logout "),Vi("hr",{class:Fs([Gt(Un).currentNav==="logout"?"!w-[80px] !bg-main-2":"","group-hover:w-[80px] group-hover:bg-main-3"])},null,2)])):p2("",!0)]))}});const bb=(t,e)=>{const r=t.__vccOpts||t;for(const[i,n]of e)r[i]=n;return r},hN=bb(cN,[["__scopeId","data-v-6a89fc8b"]]),uN={class:"relative flex h-screen w-full flex-col items-center"},fN={class:"sticky top-0 z-[3] flex w-full max-w-[1300px] flex-col items-center gap-[1px]"},dN=gr({__name:"hasLayout",setup(t){return(e,r)=>(Br(),ki("div",uN,[Vi("div",fN,[Ce(hN)]),Ce(Gt(Ed),{class:"flex h-full w-full max-w-[1300px] flex-1 flex-col overflow-y-auto"})]))}}),pN=gr({__name:"defaultLayout",setup(t){const e=iN(),r={clearLayout:sN,hasLayout:dN},i=kt({layout:Le(()=>{var n;switch((n=e==null?void 0:e.meta)==null?void 0:n.layout){case"hasLayout":return"hasLayout";case"clearLayout":return"clearLayout";default:return e.meta.layout}})});return(n,s)=>(Br(),E0(RE(r[i.layout]),null,{default:h_(()=>[jE(n.$slots,"default")]),_:3}))}}),mN=t=>(AE("data-v-299d0564"),t=t(),SE(),t),xN=mN(()=>Vi("div",{class:"h-full w-full bg-black opacity-50"},[Vi("div",{class:"circle animate-[spin_2s_linear_infinite]"})],-1)),gN=[xN],_N=gr({__name:"tLoading",setup(t){return(e,r)=>(Br(),ki("div",{class:Fs(["loading-wrap",Gt(Un).isLoading?"animate-fadeIn":"animate-fadeOut"])},gN,2))}});const vN=bb(_N,[["__scopeId","data-v-299d0564"]]),yN={class:"relative flex h-screen w-full items-center justify-center"},bN=gr({__name:"App",setup(t){return(e,r)=>(Br(),ki("div",yN,[Ce(vN,{class:"z-[3]"}),Ce(pN,{class:"z-[2]"})]))}});const Lc=F_(bN),EN=JO();Lc.use(Zy,{position:"top-center",autoClose:500,pauseOnHover:!0,hideProgressBar:!0,transition:"flip",closeOnClick:!0,theme:"colored"});Lc.use(yb);Lc.use(EN);Lc.mount("#app");export{gi as A,er as F,bb as _,ve as a,wN as b,Br as c,gr as d,ki as e,Vi as f,Gt as g,VE as h,eo as i,Lt as j,zu as k,Fs as n,v0 as o,kt as r,uO as s,Vb as t,Un as u,AN as w};
